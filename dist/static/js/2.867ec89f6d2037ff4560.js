webpackJsonp([2],{387:function(t,e,n){var r=n(137)(n(466),n(519),null,null,null);t.exports=r.exports},393:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._disposables=[],this._isDisposed=!1}return t.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach(function(t){return t.dispose()}),this._disposables.length=0},t.prototype.register=function(t){this._disposables.push(t)},t.prototype.unregister=function(t){var e=this._disposables.indexOf(t);-1!==e&&this._disposables.splice(e,1)},t}();e.Disposable=r},394:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(409),o=n(399);e.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,e.CHAR_DATA_ATTR_INDEX=0,e.CHAR_DATA_CHAR_INDEX=1,e.CHAR_DATA_WIDTH_INDEX=2,e.CHAR_DATA_CODE_INDEX=3,e.NULL_CELL_CHAR="",e.NULL_CELL_WIDTH=1,e.NULL_CELL_CODE=0,e.WHITESPACE_CELL_CHAR=" ",e.WHITESPACE_CELL_WIDTH=1,e.WHITESPACE_CELL_CODE=32;var s=3,a=function(){function t(){this.fg=0,this.bg=0}return t.toColorRGB=function(t){return[t>>>16&255,t>>>8&255,255&t]},t.fromColorRGB=function(t){return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},t.prototype.clone=function(){var e=new t;return e.fg=this.fg,e.bg=this.bg,e},t.prototype.isInverse=function(){return 67108864&this.fg},t.prototype.isBold=function(){return 134217728&this.fg},t.prototype.isUnderline=function(){return 268435456&this.fg},t.prototype.isBlink=function(){return 536870912&this.fg},t.prototype.isInvisible=function(){return 1073741824&this.fg},t.prototype.isItalic=function(){return 67108864&this.bg},t.prototype.isDim=function(){return 134217728&this.bg},t.prototype.getFgColorMode=function(){return 50331648&this.fg},t.prototype.getBgColorMode=function(){return 50331648&this.bg},t.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},t.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},t.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},t.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},t.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},t.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},t.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},t.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},t}();e.AttributeData=a,e.DEFAULT_ATTR_DATA=Object.freeze(new a);var l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=0,e.fg=0,e.bg=0,e.combinedData="",e}return r(n,t),n.fromCharData=function(t){var e=new n;return e.setFromCharData(t),e},n.prototype.isCombined=function(){return 2097152&this.content},n.prototype.getWidth=function(){return this.content>>22},n.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?i.stringFromCodePoint(2097151&this.content):""},n.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},n.prototype.setFromCharData=function(t){this.fg=t[e.CHAR_DATA_ATTR_INDEX],this.bg=0;var n=!1;if(t[e.CHAR_DATA_CHAR_INDEX].length>2)n=!0;else if(2===t[e.CHAR_DATA_CHAR_INDEX].length){var r=t[e.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){var i=t[e.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=i&&i<=57343?this.content=1024*(r-55296)+i-56320+65536|t[e.CHAR_DATA_WIDTH_INDEX]<<22:n=!0}else n=!0}else this.content=t[e.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[e.CHAR_DATA_WIDTH_INDEX]<<22;n&&(this.combinedData=t[e.CHAR_DATA_CHAR_INDEX],this.content=2097152|t[e.CHAR_DATA_WIDTH_INDEX]<<22)},n.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},n}(a);e.CellData=l;var c=function(){function t(t,n,r){void 0===r&&(r=!1),this.isWrapped=r,this._combined={},this._data=new Uint32Array(t*s);for(var i=n||l.fromCharData([0,e.NULL_CELL_CHAR,e.NULL_CELL_WIDTH,e.NULL_CELL_CODE]),o=0;o<t;++o)this.setCell(o,i);this.length=t}return t.prototype.get=function(t){var e=this._data[t*s+0],n=2097151&e;return[this._data[t*s+1],2097152&e?this._combined[t]:n?i.stringFromCodePoint(n):"",e>>22,2097152&e?this._combined[t].charCodeAt(this._combined[t].length-1):n]},t.prototype.set=function(t,n){this._data[t*s+1]=n[e.CHAR_DATA_ATTR_INDEX],n[e.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[t]=n[1],this._data[t*s+0]=2097152|t|n[e.CHAR_DATA_WIDTH_INDEX]<<22):this._data[t*s+0]=n[e.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|n[e.CHAR_DATA_WIDTH_INDEX]<<22},t.prototype.getWidth=function(t){return this._data[t*s+0]>>22},t.prototype.hasWidth=function(t){return 12582912&this._data[t*s+0]},t.prototype.getFg=function(t){return this._data[t*s+1]},t.prototype.getBg=function(t){return this._data[t*s+2]},t.prototype.hasContent=function(t){return 4194303&this._data[t*s+0]},t.prototype.getCodePoint=function(t){var e=this._data[t*s+0];return 2097152&e?this._combined[t].charCodeAt(this._combined[t].length-1):2097151&e},t.prototype.isCombined=function(t){return 2097152&this._data[t*s+0]},t.prototype.getString=function(t){var e=this._data[t*s+0];return 2097152&e?this._combined[t]:2097151&e?i.stringFromCodePoint(2097151&e):""},t.prototype.loadCell=function(t,e){var n=t*s;return e.content=this._data[n+0],e.fg=this._data[n+1],e.bg=this._data[n+2],2097152&e.content&&(e.combinedData=this._combined[t]),e},t.prototype.setCell=function(t,e){2097152&e.content&&(this._combined[t]=e.combinedData),this._data[t*s+0]=e.content,this._data[t*s+1]=e.fg,this._data[t*s+2]=e.bg},t.prototype.setCellFromCodePoint=function(t,e,n,r,i){this._data[t*s+0]=e|n<<22,this._data[t*s+1]=r,this._data[t*s+2]=i},t.prototype.addCodepointToCell=function(t,e){var n=this._data[t*s+0];2097152&n?this._combined[t]+=i.stringFromCodePoint(e):(2097151&n?(this._combined[t]=i.stringFromCodePoint(2097151&n)+i.stringFromCodePoint(e),n&=-2097152,n|=2097152):n=e|1<<22,this._data[t*s+0]=n)},t.prototype.insertCells=function(t,e,n){if(t%=this.length,e<this.length-t){for(var r=new l,i=this.length-t-e-1;i>=0;--i)this.setCell(t+e+i,this.loadCell(t+i,r));for(var i=0;i<e;++i)this.setCell(t+i,n)}else for(var i=t;i<this.length;++i)this.setCell(i,n)},t.prototype.deleteCells=function(t,e,n){if(t%=this.length,e<this.length-t){for(var r=new l,i=0;i<this.length-t-e;++i)this.setCell(t+i,this.loadCell(t+e+i,r));for(var i=this.length-e;i<this.length;++i)this.setCell(i,n)}else for(var i=t;i<this.length;++i)this.setCell(i,n)},t.prototype.replaceCells=function(t,e,n){for(;t<e&&t<this.length;)this.setCell(t++,n)},t.prototype.resize=function(t,e){if(t!==this.length){if(t>this.length){var n=new Uint32Array(t*s);this.length&&(t*s<this._data.length?n.set(this._data.subarray(0,t*s)):n.set(this._data)),this._data=n;for(var r=this.length;r<t;++r)this.setCell(r,e)}else if(t){var n=new Uint32Array(t*s);n.set(this._data.subarray(0,t*s)),this._data=n;for(var i=Object.keys(this._combined),r=0;r<i.length;r++){var o=parseInt(i[r],10);o>=t&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=t}},t.prototype.fill=function(t){this._combined={};for(var e=0;e<this.length;++e)this.setCell(e,t)},t.prototype.copyFrom=function(t){this.length!==t.length?this._data=new Uint32Array(t._data):this._data.set(t._data),this.length=t.length,this._combined={};for(var e in t._combined)this._combined[e]=t._combined[e];this.isWrapped=t.isWrapped},t.prototype.clone=function(){var e=new t(0);e._data=new Uint32Array(this._data),e.length=this.length;for(var n in this._combined)e._combined[n]=this._combined[n];return e.isWrapped=this.isWrapped,e},t.prototype.getTrimmedLength=function(){for(var t=this.length-1;t>=0;--t)if(4194303&this._data[t*s+0])return t+(this._data[t*s+0]>>22);return 0},t.prototype.copyCellsFrom=function(t,e,n,r,i){var o=t._data;if(i)for(var a=r-1;a>=0;a--)for(var l=0;l<s;l++)this._data[(n+a)*s+l]=o[(e+a)*s+l];else for(var a=0;a<r;a++)for(var l=0;l<s;l++)this._data[(n+a)*s+l]=o[(e+a)*s+l];for(var c=Object.keys(t._combined),l=0;l<c.length;l++){var u=parseInt(c[l],10);u>=e&&(this._combined[u-e+n]=t._combined[u])}},t.prototype.translateToString=function(t,n,r){void 0===t&&(t=!1),void 0===n&&(n=0),void 0===r&&(r=this.length),t&&(r=Math.min(r,this.getTrimmedLength()));for(var o="";n<r;){var a=this._data[n*s+0],l=2097151&a;o+=2097152&a?this._combined[n]:l?i.stringFromCodePoint(l):e.WHITESPACE_CELL_CHAR,n+=a>>22||1}return o},t}();e.BufferLine=c},395:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._listeners=[]}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(e){return t._listeners.push(e),{dispose:function(){for(var n=0;n<t._listeners.length;n++)if(t._listeners[n]===e)return void t._listeners.splice(n,1)}}}),this._event},enumerable:!0,configurable:!0}),t.prototype.fire=function(t){for(var e=[],n=0;n<this._listeners.length;n++)e.push(this._listeners[n]);for(var n=0;n<e.length;n++)e[n].call(void 0,t)},t}();e.EventEmitter2=r},396:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVERTED_DEFAULT_COLOR=257,e.DIM_OPACITY=.5,e.CHAR_ATLAS_CELL_SPACING=1},397:function(t,e,n){"use strict";function r(t,e){return t.indexOf(e)>=0}Object.defineProperty(e,"__esModule",{value:!0});var i="undefined"==typeof navigator,o=i?"node":navigator.userAgent,s=i?"node":navigator.platform;e.isFirefox=!!~o.indexOf("Firefox"),e.isSafari=/^((?!chrome|android).)*safari/i.test(o),e.isMSIE=!!~o.indexOf("MSIE")||!!~o.indexOf("Trident"),e.isMac=r(["Macintosh","MacIntel","MacPPC","Mac68K"],s),e.isIpad="iPad"===s,e.isIphone="iPhone"===s,e.isMSWindows=r(["Windows","Win16","Win32","WinCE"],s),e.isLinux=s.indexOf("Linux")>=0},398:function(t,e,n){"use strict";function r(t,e,n,r){return t.addEventListener(e,n,r),{dispose:function(){n&&t.removeEventListener(e,n,r)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.addDisposableDomListener=r},399:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_COLOR=256},400:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t.NUL="\0",t.SOH="",t.STX="",t.ETX="",t.EOT="",t.ENQ="",t.ACK="",t.BEL="",t.BS="\b",t.HT="\t",t.LF="\n",t.VT="\v",t.FF="\f",t.CR="\r",t.SO="",t.SI="",t.DLE="",t.DC1="",t.DC2="",t.DC3="",t.DC4="",t.NAK="",t.SYN="",t.ETB="",t.CAN="",t.EM="",t.SUB="",t.ESC="",t.FS="",t.GS="",t.RS="",t.US="",t.SP=" ",t.DEL=""}(e.C0||(e.C0={}));!function(t){t.PAD="",t.HOP="",t.BPH="",t.NBH="",t.IND="",t.NEL="",t.SSA="",t.ESA="",t.HTS="",t.HTJ="",t.VTS="",t.PLD="",t.PLU="",t.RI="",t.SS2="",t.SS3="",t.DCS="",t.PU1="",t.PU2="",t.STS="",t.CCH="",t.MW="",t.SPA="",t.EPA="",t.SOS="",t.SGCI="",t.SCI="",t.CSI="",t.ST="",t.OSC="",t.PM="",t.APC=""}(e.C1||(e.C1={}))},401:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(399),i=n(396),o=n(419),s=n(394),a=function(){function t(t,e,n,r,i){this._container=t,this._alpha=r,this._colors=i,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=n.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return t.prototype.dispose=function(){this._container.removeChild(this._canvas),this._charAtlas&&this._charAtlas.dispose()},t.prototype._initCanvas=function(){this._ctx=this._canvas.getContext("2d",{alpha:this._alpha}),this._alpha||this.clearAll()},t.prototype.onOptionsChanged=function(t){},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){},t.prototype.onCursorMove=function(t){},t.prototype.onGridChanged=function(t,e,n){},t.prototype.onSelectionChanged=function(t,e,n,r){void 0===r&&(r=!1)},t.prototype.setColors=function(t,e){this._refreshCharAtlas(t,e)},t.prototype.setTransparency=function(t,e){if(e!==this._alpha){var n=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,n),this._refreshCharAtlas(t,this._colors),this.onGridChanged(t,0,t.rows-1)}},t.prototype._refreshCharAtlas=function(t,e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(t,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},t.prototype.resize=function(t,e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this.clearAll(),this._refreshCharAtlas(t,this._colors)},t.prototype.fillCells=function(t,e,n,r){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,n*this._scaledCellWidth,r*this._scaledCellHeight)},t.prototype.fillBottomLineAtCells=function(t,e,n){void 0===n&&(n=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,n*this._scaledCellWidth,window.devicePixelRatio)},t.prototype.fillLeftLineAtCell=function(t,e){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},t.prototype.strokeRectAtCell=function(t,e,n,r){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,n*this._scaledCellWidth-window.devicePixelRatio,r*this._scaledCellHeight-window.devicePixelRatio)},t.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},t.prototype.clearCells=function(t,e,n,r){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,n*this._scaledCellWidth,r*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,n*this._scaledCellWidth,r*this._scaledCellHeight))},t.prototype.fillCharTrueColor=function(t,e,n,r){this._ctx.font=this._getFont(t,!1,!1),this._ctx.textBaseline="middle",this._clipRow(t,r),this._ctx.fillText(e.getChars(),n*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},t.prototype.drawChars=function(t,e,n,o){if(e.isFgRGB()||e.isBgRGB())return void this._drawUncachedChars(t,e,n,o);var a,l;e.isInverse()?(a=e.isBgDefault()?i.INVERTED_DEFAULT_COLOR:e.getBgColor(),l=e.isFgDefault()?i.INVERTED_DEFAULT_COLOR:e.getFgColor()):(l=e.isBgDefault()?r.DEFAULT_COLOR:e.getBgColor(),a=e.isFgDefault()?r.DEFAULT_COLOR:e.getFgColor()),a+=t.options.drawBoldTextInBrightColors&&e.isBold()&&a<8&&a!==i.INVERTED_DEFAULT_COLOR?8:0,this._currentGlyphIdentifier.chars=e.getChars()||s.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||s.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=l,this._currentGlyphIdentifier.fg=a,this._currentGlyphIdentifier.bold=e.isBold()&&t.options.enableBold,this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,n*this._scaledCellWidth+this._scaledCharLeft,o*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(t,e,n,o)},t.prototype._drawUncachedChars=function(t,e,n,r){if(this._ctx.save(),this._ctx.font=this._getFont(t,e.isBold()&&t.options.enableBold,!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())e.isBgDefault()?this._ctx.fillStyle=this._colors.background.css:e.isBgRGB()?this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":this._ctx.fillStyle=this._colors.ansi[e.getBgColor()].css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();t.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}this._clipRow(t,r),e.isDim()&&(this._ctx.globalAlpha=i.DIM_OPACITY),this._ctx.fillText(e.getChars(),n*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},t.prototype._clipRow=function(t,e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,t.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},t.prototype._getFont=function(t,e,n){var r=e?t.options.fontWeightBold:t.options.fontWeight;return(n?"italic":"")+" "+r+" "+t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily},t}();e.BaseRenderLayer=a},408:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.blankLine="Blank line",e.promptLabel="Terminal input",e.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},409:function(t,e,n){"use strict";function r(t){return t>65535?(t-=65536,String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):String.fromCharCode(t)}function i(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);for(var r="",i=e;i<n;++i){var o=t[i];o>65535?(o-=65536,r+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):r+=String.fromCharCode(o)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.stringFromCodePoint=r,e.utf32ToString=i;var o=function(){function t(){this._interim=0}return t.prototype.clear=function(){this._interim=0},t.prototype.decode=function(t,e){var n=t.length;if(!n)return 0;var r=0,i=0;if(this._interim){var o=t.charCodeAt(i++);56320<=o&&o<=57343?e[r++]=1024*(this._interim-55296)+o-56320+65536:(e[r++]=this._interim,e[r++]=o),this._interim=0}for(var s=i;s<n;++s){var a=t.charCodeAt(s);if(55296<=a&&a<=56319){if(++s>=n)return this._interim=a,r;var o=t.charCodeAt(s);56320<=o&&o<=57343?e[r++]=1024*(a-55296)+o-56320+65536:(e[r++]=a,e[r++]=o)}else e[r++]=a}return r},t}();e.StringToUtf32=o;var s=function(){function t(){this.interim=new Uint8Array(3)}return t.prototype.clear=function(){this.interim.fill(0)},t.prototype.decode=function(t,e){var n=t.length;if(!n)return 0;var r,i,o,s,a=0,l=0,c=0;if(this.interim[0]){var u=!1,h=this.interim[0];h&=192==(224&h)?31:224==(240&h)?15:7;for(var f=0,_=void 0;(_=63&this.interim[++f])&&f<4;)h<<=6,h|=_;for(var d=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,p=d-f;c<p;){if(c>=n)return 0;if(128!=(192&(_=t[c++]))){c--,u=!0;break}this.interim[f++]=_,h<<=6,h|=63&_}u||(2===d?h<128?c--:e[a++]=h:3===d?h<2048||h>=55296&&h<=57343||(e[a++]=h):l<65536||l>1114111||(e[a++]=h)),this.interim.fill(0)}for(var m=n-4,g=c;g<n;){for(;!(!(g<m)||128&(r=t[g])||128&(i=t[g+1])||128&(o=t[g+2])||128&(s=t[g+3]));)e[a++]=r,e[a++]=i,e[a++]=o,e[a++]=s,g+=4;if((r=t[g++])<128)e[a++]=r;else if(192==(224&r)){if(g>=n)return this.interim[0]=r,a;if(128!=(192&(i=t[g++]))){g--;continue}if((l=(31&r)<<6|63&i)<128){g--;continue}e[a++]=l}else if(224==(240&r)){if(g>=n)return this.interim[0]=r,a;if(128!=(192&(i=t[g++]))){g--;continue}if(g>=n)return this.interim[0]=r,this.interim[1]=i,a;if(128!=(192&(o=t[g++]))){g--;continue}if((l=(15&r)<<12|(63&i)<<6|63&o)<2048||l>=55296&&l<=57343)continue;e[a++]=l}else if(240==(248&r)){if(g>=n)return this.interim[0]=r,a;if(128!=(192&(i=t[g++]))){g--;continue}if(g>=n)return this.interim[0]=r,this.interim[1]=i,a;if(128!=(192&(o=t[g++]))){g--;continue}if(g>=n)return this.interim[0]=r,this.interim[1]=i,this.interim[2]=o,a;if(128!=(192&(s=t[g++]))){g--;continue}if((l=(7&r)<<18|(63&i)<<12|(63&o)<<6|63&s)<65536||l>1114111)continue;e[a++]=l}}return a},t}();e.Utf8ToUtf32=s},410:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._didWarmUp=!1}return t.prototype.dispose=function(){},t.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},t.prototype._doWarmUp=function(){},t.prototype.beginFrame=function(){},t}();e.default=r},411:function(t,e,n){"use strict";function r(t,e,n,r){var i={foreground:r.foreground,background:r.background,cursor:null,cursorAccent:null,selection:null,ansi:r.ansi.slice(0,16)};return{type:n.options.experimentalCharAtlas,devicePixelRatio:window.devicePixelRatio,scaledCharWidth:t,scaledCharHeight:e,fontFamily:n.options.fontFamily,fontSize:n.options.fontSize,fontWeight:n.options.fontWeight,fontWeightBold:n.options.fontWeightBold,allowTransparency:n.options.allowTransparency,colors:i}}function i(t,e){for(var n=0;n<t.colors.ansi.length;n++)if(t.colors.ansi[n].rgba!==e.colors.ansi[n].rgba)return!1;return t.type===e.type&&t.devicePixelRatio===e.devicePixelRatio&&t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.fontWeight===e.fontWeight&&t.fontWeightBold===e.fontWeightBold&&t.allowTransparency===e.allowTransparency&&t.scaledCharWidth===e.scaledCharWidth&&t.scaledCharHeight===e.scaledCharHeight&&t.colors.foreground===e.colors.foreground&&t.colors.background===e.colors.background}function o(t){return t<s.DEFAULT_COLOR}Object.defineProperty(e,"__esModule",{value:!0});var s=n(399);e.generateConfig=r,e.configEquals=i,e.is256Color=o},413:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(574),i=n(394),o=n(577),s=n(578);e.MAX_BUFFER_SIZE=4294967295;var a=function(){function t(t,e){this._terminal=t,this._hasScrollback=e,this.savedCurAttrData=i.DEFAULT_ATTR_DATA.clone(),this.markers=[],this._nullCell=i.CellData.fromCharData([0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]),this._whitespaceCell=i.CellData.fromCharData([0,i.WHITESPACE_CELL_CHAR,i.WHITESPACE_CELL_WIDTH,i.WHITESPACE_CELL_CODE]),this._cols=this._terminal.cols,this._rows=this._terminal.rows,this.clear()}return t.prototype.getNullCell=function(t){return t?(this._nullCell.fg=t.fg,this._nullCell.bg=t.bg):(this._nullCell.fg=0,this._nullCell.bg=0),this._nullCell},t.prototype.getWhitespaceCell=function(t){return t?(this._whitespaceCell.fg=t.fg,this._whitespaceCell.bg=t.bg):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0),this._whitespaceCell},t.prototype.getBlankLine=function(t,e){return new i.BufferLine(this._terminal.cols,this.getNullCell(t),e)},Object.defineProperty(t.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCursorInViewport",{get:function(){var t=this.ybase+this.y,e=t-this.ydisp;return e>=0&&e<this._rows},enumerable:!0,configurable:!0}),t.prototype._getCorrectBufferLength=function(t){if(!this._hasScrollback)return t;var n=t+this._terminal.options.scrollback;return n>e.MAX_BUFFER_SIZE?e.MAX_BUFFER_SIZE:n},t.prototype.fillViewportRows=function(t){if(0===this.lines.length){void 0===t&&(t=i.DEFAULT_ATTR_DATA);for(var e=this._rows;e--;)this.lines.push(this.getBlankLine(t))}},t.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new r.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},t.prototype.resize=function(t,e){var n=this.getNullCell(i.DEFAULT_ATTR_DATA),r=this._getCorrectBufferLength(e);if(r>this.lines.maxLength&&(this.lines.maxLength=r),this.lines.length>0){if(this._cols<t)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(t,n);var s=0;if(this._rows<e)for(var a=this._rows;a<e;a++)this.lines.length<e+this.ybase&&(this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new i.BufferLine(t,n)));else for(var a=this._rows;a>e;a--)this.lines.length>e+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(r<this.lines.maxLength){var l=this.lines.length-r;l>0&&(this.lines.trimStart(l),this.ybase=Math.max(this.ybase-l,0),this.ydisp=Math.max(this.ydisp-l,0)),this.lines.maxLength=r}this.x=Math.min(this.x,t-1),this.y=Math.min(this.y,e-1),s&&(this.y+=s),this.savedY=Math.min(this.savedY,e-1),this.savedX=Math.min(this.savedX,t-1),this.scrollTop=0}if(this.scrollBottom=e-1,this._isReflowEnabled&&(this._reflow(t,e),this._cols>t))for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(t,n);this._cols=t,this._rows=e},Object.defineProperty(t.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._terminal.options.windowsMode},enumerable:!0,configurable:!0}),t.prototype._reflow=function(t,e){this._cols!==t&&(t>this._cols?this._reflowLarger(t,e):this._reflowSmaller(t,e))},t.prototype._reflowLarger=function(t,e){var n=o.reflowLargerGetLinesToRemove(this.lines,this._cols,t,this.ybase+this.y,this.getNullCell(i.DEFAULT_ATTR_DATA));if(n.length>0){var r=o.reflowLargerCreateNewLayout(this.lines,n);o.reflowLargerApplyNewLayout(this.lines,r.layout),this._reflowLargerAdjustViewport(t,e,r.countRemoved)}},t.prototype._reflowLargerAdjustViewport=function(t,e,n){for(var r=this.getNullCell(i.DEFAULT_ATTR_DATA),o=n;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<e&&this.lines.push(new i.BufferLine(t,r))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--)},t.prototype._reflowSmaller=function(t,e){for(var n=this.getNullCell(i.DEFAULT_ATTR_DATA),r=[],s=0,a=this.lines.length-1;a>=0;a--){var l=this.lines.get(a);if(!(!l||!l.isWrapped&&l.getTrimmedLength()<=t)){for(var c=[l];l.isWrapped&&a>0;)l=this.lines.get(--a),c.unshift(l);var u=this.ybase+this.y;if(!(u>=a&&u<a+c.length)){var h=c[c.length-1].getTrimmedLength(),f=o.reflowSmallerGetNewLineLengths(c,this._cols,t),_=f.length-c.length,d=void 0;d=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+_):Math.max(0,this.lines.length-this.lines.maxLength+_);for(var p=[],m=0;m<_;m++){var g=this.getBlankLine(i.DEFAULT_ATTR_DATA,!0);p.push(g)}p.length>0&&(r.push({start:a+c.length+s,newLines:p}),s+=p.length),c.push.apply(c,p);var v=f.length-1,y=f[v];0===y&&(v--,y=f[v]);for(var b=c.length-_-1,C=h;b>=0;){var w=Math.min(C,y);if(c[v].copyCellsFrom(c[b],C-w,y-w,w,!0),y-=w,0===y&&(v--,y=f[v]),0===(C-=w)){b--;var A=Math.max(b,0);C=o.getWrappedLineTrimmedLength(c,A,this._cols)}}for(var m=0;m<c.length;m++)f[m]<t&&c[m].setCell(f[m],n);for(var x=_-d;x-- >0;)0===this.ybase?this.y<e-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-e&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++)}}}if(r.length>0){for(var S=[],E=[],m=0;m<this.lines.length;m++)E.push(this.lines.get(m));var L=this.lines.length,k=L-1,T=0,R=r[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);for(var M=0,m=Math.min(this.lines.maxLength-1,L+s-1);m>=0;m--)if(R&&R.start>k+M){for(var D=R.newLines.length-1;D>=0;D--)this.lines.set(m--,R.newLines[D]);m++,S.push({index:k+1,amount:R.newLines.length}),M+=R.newLines.length,R=r[++T]}else this.lines.set(m,E[k--]);for(var O=0,m=S.length-1;m>=0;m--)S[m].index+=O,this.lines.onInsertEmitter.fire(S[m]),O+=S[m].amount;var B=Math.max(0,L+s-this.lines.maxLength);B>0&&this.lines.onTrimEmitter.fire(B)}},t.prototype.stringIndexToBufferIndex=function(t,e,n){for(void 0===n&&(n=!1);e;){var r=this.lines.get(t);if(!r)return[-1,-1];for(var o=n?r.getTrimmedLength():r.length,s=0;s<o;++s)if(r.get(s)[i.CHAR_DATA_WIDTH_INDEX]&&(e-=r.get(s)[i.CHAR_DATA_CHAR_INDEX].length||1),e<0)return[t,s];t++}return[t,0]},t.prototype.translateBufferLineToString=function(t,e,n,r){void 0===n&&(n=0);var i=this.lines.get(t);return i?i.translateToString(e,n,r):""},t.prototype.getWrappedRangeForLine=function(t){for(var e=t,n=t;e>0&&this.lines.get(e).isWrapped;)e--;for(;n+1<this.lines.length&&this.lines.get(n+1).isWrapped;)n++;return{first:e,last:n}},t.prototype.setupTabStops=function(t){for(null!==t&&void 0!==t?this.tabs[t]||(t=this.prevStop(t)):(this.tabs={},t=0);t<this._cols;t+=this._terminal.options.tabStopWidth)this.tabs[t]=!0},t.prototype.prevStop=function(t){for(null!==t&&void 0!==t||(t=this.x);!this.tabs[--t]&&t>0;);return t>=this._cols?this._cols-1:t<0?0:t},t.prototype.nextStop=function(t){for(null!==t&&void 0!==t||(t=this.x);!this.tabs[++t]&&t<this._cols;);return t>=this._cols?this._cols-1:t<0?0:t},t.prototype.addMarker=function(t){var e=this,n=new s.Marker(t);return this.markers.push(n),n.register(this.lines.onTrim(function(t){n.line-=t,n.line<0&&n.dispose()})),n.register(this.lines.onInsert(function(t){n.line>=t.index&&(n.line+=t.amount)})),n.register(this.lines.onDelete(function(t){n.line>=t.index&&n.line<t.index+t.amount&&n.dispose(),n.line>t.index&&(n.line-=t.amount)})),n.register(n.onDispose(function(){return e._removeMarker(n)})),n},t.prototype._removeMarker=function(t){this.markers.splice(this.markers.indexOf(t),1)},t.prototype.iterator=function(t,e,n,r,i){return new l(this,t,e,n,r,i)},t}();e.Buffer=a;var l=function(){function t(t,e,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=t.lines.length),void 0===i&&(i=0),void 0===o&&(o=0),this._buffer=t,this._trimRight=e,this._startIndex=n,this._endIndex=r,this._startOverscan=i,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return t.prototype.hasNext=function(){return this._current<this._endIndex},t.prototype.next=function(){var t=this._buffer.getWrappedRangeForLine(this._current);t.first<this._startIndex-this._startOverscan&&(t.first=this._startIndex-this._startOverscan),t.last>this._endIndex+this._endOverscan&&(t.last=this._endIndex+this._endOverscan),t.first=Math.max(t.first,0),t.last=Math.min(t.last,this._buffer.lines.length);for(var e="",n=t.first;n<=t.last;++n)e+=this._buffer.translateBufferLineToString(n,this._trimRight);return this._current=t.last+1,{range:t,content:e}},t}();e.BufferStringIterator=l},414:function(t,e,n){"use strict";function r(t){for(var n=0,r=t.length,i=0;i<r;++i){var o=t.charCodeAt(i);if(55296<=o&&o<=56319){if(++i>=r)return n+e.wcwidth(o);var s=t.charCodeAt(i);56320<=s&&s<=57343?o=1024*(o-55296)+s-56320+65536:n+=e.wcwidth(s)}n+=e.wcwidth(o)}return n}Object.defineProperty(e,"__esModule",{value:!0});var i=n(417);e.wcwidth=function(t){function e(t,e){var n,r=0,i=e.length-1;if(t<e[0][0]||t>e[i][1])return!1;for(;i>=r;)if(n=r+i>>1,t>e[n][1])r=n+1;else{if(!(t<e[n][0]))return!0;i=n-1}return!1}function n(t){return e(t,o)?0:t>=131072&&t<=196605||t>=196608&&t<=262141?2:1}var r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],o=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],s=0|t.control,a=new Uint8Array(65536);i.fill(a,1),a[0]=t.nul,i.fill(a,t.control,1,32),i.fill(a,t.control,127,160),i.fill(a,2,4352,4448),a[9001]=2,a[9002]=2,i.fill(a,2,11904,42192),a[12351]=1,i.fill(a,2,44032,55204),i.fill(a,2,63744,64256),i.fill(a,2,65040,65050),i.fill(a,2,65072,65136),i.fill(a,2,65280,65377),i.fill(a,2,65504,65511);for(var l=0;l<r.length;++l)i.fill(a,0,r[l][0],r[l][1]+1);return function(t){return t<32?0|s:t<127?1:t<65536?a[t]:n(t)}}({nul:0,control:0}),e.getStringCellWidth=r},415:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._renderCoordinator=t}return t.getCoordsRelativeToElement=function(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left,t.clientY-n.top]},t.prototype.getCoords=function(e,n,r,i,o,s){if(!r.width||!r.height)return null;var a=t.getCoordsRelativeToElement(e,n);return a?(a[0]=Math.ceil((a[0]+(s?this._renderCoordinator.dimensions.actualCellWidth/2:0))/this._renderCoordinator.dimensions.actualCellWidth),a[1]=Math.ceil(a[1]/this._renderCoordinator.dimensions.actualCellHeight),a[0]=Math.min(Math.max(a[0],1),i+(s?1:0)),a[1]=Math.min(Math.max(a[1],1),o),a):null},t.prototype.getRawByteCoords=function(t,e,n,r,i){var o=this.getCoords(t,e,n,r,i),s=o[0],a=o[1];return s+=32,a+=32,{x:s,y:a}},t}();e.MouseHelper=r},416:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(393),o=n(398),s=function(t){function e(e){var n=t.call(this)||this;return n._terminal=e,n._zones=[],n._areZonesActive=!1,n._tooltipTimeout=null,n._currentZone=null,n._lastHoverCoords=[null,null],n.register(o.addDisposableDomListener(n._terminal.element,"mousedown",function(t){return n._onMouseDown(t)})),n._mouseMoveListener=function(t){return n._onMouseMove(t)},n._mouseLeaveListener=function(t){return n._onMouseLeave(t)},n._clickListener=function(t){return n._onClick(t)},n}return r(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._deactivate()},e.prototype.add=function(t){this._zones.push(t),1===this._zones.length&&this._activate()},e.prototype.clearAll=function(t,e){if(0!==this._zones.length){e||(t=0,e=this._terminal.rows-1);for(var n=0;n<this._zones.length;n++){var r=this._zones[n];(r.y1>t&&r.y1<=e+1||r.y2>t&&r.y2<=e+1||r.y1<t&&r.y2>e+1)&&(this._currentZone&&this._currentZone===r&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(n--,1))}0===this._zones.length&&this._deactivate()}},e.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("mouseleave",this._mouseLeaveListener),this._terminal.element.addEventListener("click",this._clickListener))},e.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("mouseleave",this._mouseLeaveListener),this._terminal.element.removeEventListener("click",this._clickListener))},e.prototype._onMouseMove=function(t){this._lastHoverCoords[0]===t.pageX&&this._lastHoverCoords[1]===t.pageY||(this._onHover(t),this._lastHoverCoords=[t.pageX,t.pageY])},e.prototype._onHover=function(t){var e=this,n=this._findZoneEventAt(t);n!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),n&&(this._currentZone=n,n.hoverCallback&&n.hoverCallback(t),this._tooltipTimeout=setTimeout(function(){return e._onTooltip(t)},500)))},e.prototype._onTooltip=function(t){this._tooltipTimeout=null;var e=this._findZoneEventAt(t);e&&e.tooltipCallback&&e.tooltipCallback(t)},e.prototype._onMouseDown=function(t){if(this._initialSelectionLength=this._terminal.getSelection().length,this._areZonesActive){var e=this._findZoneEventAt(t);e&&e.willLinkActivate(t)&&(t.preventDefault(),t.stopImmediatePropagation())}},e.prototype._onMouseLeave=function(t){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},e.prototype._onClick=function(t){var e=this._findZoneEventAt(t),n=this._terminal.getSelection().length;e&&n===this._initialSelectionLength&&(e.clickCallback(t),t.preventDefault(),t.stopImmediatePropagation())},e.prototype._findZoneEventAt=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.screenElement,this._terminal.charMeasure,this._terminal.cols,this._terminal.rows);if(!e)return null;for(var n=e[0],r=e[1],i=0;i<this._zones.length;i++){var o=this._zones[i];if(o.y1===o.y2){if(r===o.y1&&n>=o.x1&&n<o.x2)return o}else if(r===o.y1&&n>=o.x1||r===o.y2&&n<o.x2||r>o.y1&&r<o.y2)return o}return null},e}(i.Disposable);e.MouseZoneManager=s;var a=function(){function t(t,e,n,r,i,o,s,a,l){this.x1=t,this.y1=e,this.x2=n,this.y2=r,this.clickCallback=i,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=l}return t}();e.MouseZone=a},417:function(t,e,n){"use strict";function r(t,e,n,r){return t.fill?t.fill(e,n,r):i(t,e,n,r)}function i(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),n>=t.length)return t;n=(t.length+n)%t.length,r=r>=t.length?t.length:(t.length+r)%t.length;for(var i=n;i<r;++i)t[i]=e;return t}function o(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}Object.defineProperty(e,"__esModule",{value:!0}),e.fill=r,e.fillFallback=i,e.concat=o},418:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(394),o=function(t){function e(e,n,r){var i=t.call(this)||this;return i.content=0,i.combinedData="",i.fg=e.fg,i.bg=e.bg,i.combinedData=n,i._width=r,i}return r(e,t),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(t){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(i.AttributeData);e.JoinedCellData=o;var s=function(){function t(t){this._terminal=t,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new i.CellData}return t.prototype.registerCharacterJoiner=function(t){var e={id:this._nextCharacterJoinerId++,handler:t};return this._characterJoiners.push(e),e.id},t.prototype.deregisterCharacterJoiner=function(t){for(var e=0;e<this._characterJoiners.length;e++)if(this._characterJoiners[e].id===t)return this._characterJoiners.splice(e,1),!0;return!1},t.prototype.getJoinedCharacters=function(t){if(0===this._characterJoiners.length)return[];var e=this._terminal.buffer.lines.get(t);if(0===e.length)return[];for(var n=[],r=e.translateToString(!0),o=0,s=0,a=0,l=e.getFg(0),c=e.getBg(0),u=0;u<e.getTrimmedLength();u++)if(e.loadCell(u,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(u-o>1)for(var h=this._getJoinedRanges(r,a,s,e,o),f=0;f<h.length;f++)n.push(h[f]);o=u,a=s,l=this._workCell.fg,c=this._workCell.bg}s+=this._workCell.getChars().length||i.WHITESPACE_CELL_CHAR.length}if(this._terminal.cols-o>1)for(var h=this._getJoinedRanges(r,a,s,e,o),f=0;f<h.length;f++)n.push(h[f]);return n},t.prototype._getJoinedRanges=function(e,n,r,i,o){for(var s=e.substring(n,r),a=this._characterJoiners[0].handler(s),l=1;l<this._characterJoiners.length;l++)for(var c=this._characterJoiners[l].handler(s),u=0;u<c.length;u++)t._mergeRanges(a,c[u]);return this._stringRangesToCellRanges(a,i,o),a},t.prototype._stringRangesToCellRanges=function(t,e,n){var r=0,o=!1,s=0,a=t[r];if(a){for(var l=n;l<this._terminal.cols;l++){var c=e.getWidth(l),u=e.getString(l).length||i.WHITESPACE_CELL_CHAR.length;if(0!==c){if(!o&&a[0]<=s&&(a[0]=l,o=!0),a[1]<=s){if(a[1]=l,!(a=t[++r]))break;a[0]<=s?(a[0]=l,o=!0):o=!1}s+=u}}a&&(a[1]=this._terminal.cols)}},t._mergeRanges=function(t,e){for(var n=!1,r=0;r<t.length;r++){var i=t[r];if(n){if(e[1]<=i[0])return t[r-1][1]=e[1],t;if(e[1]<=i[1])return t[r-1][1]=Math.max(e[1],i[1]),t.splice(r,1),n=!1,t;t.splice(r,1),r--}else{if(e[1]<=i[0])return t.splice(r,0,e),t;if(e[1]<=i[1])return i[0]=Math.min(e[0],i[0]),t;e[0]<i[1]&&(i[0]=Math.min(e[0],i[0]),n=!0)}}return n?t[t.length-1][1]=e[1]:t.push(e),t},t}();e.CharacterJoinerRegistry=s},419:function(t,e,n){"use strict";function r(t,e,n,r){for(var i=o.generateConfig(n,r,t,e),s=0;s<u.length;s++){var a=u[s],l=a.ownedBy.indexOf(t);if(l>=0){if(o.configEquals(a.config,i))return a.atlas;1===a.ownedBy.length?(a.atlas.dispose(),u.splice(s,1)):a.ownedBy.splice(l,1);break}}for(var s=0;s<u.length;s++){var a=u[s];if(o.configEquals(a.config,i))return a.ownedBy.push(t),a.atlas}var h={atlas:new c[t.options.experimentalCharAtlas](document,i),config:i,ownedBy:[t]};return u.push(h),h.atlas}function i(t){for(var e=0;e<u.length;e++){var n=u[e].ownedBy.indexOf(t);if(-1!==n){1===u[e].ownedBy.length?(u[e].atlas.dispose(),u.splice(e,1)):u[e].ownedBy.splice(n,1);break}}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(411),s=n(591),a=n(593),l=n(594),c={none:a.default,static:l.default,dynamic:s.default},u=[];e.acquireCharAtlas=r,e.removeTerminalFromCache=i},420:function(t,e,n){"use strict";function r(t,e,n){var r=n.scaledCharWidth+a.CHAR_ATLAS_CELL_SPACING,l=n.scaledCharHeight+a.CHAR_ATLAS_CELL_SPACING,c=e(255*r,34*l),u=c.getContext("2d",{alpha:n.allowTransparency});u.fillStyle=n.colors.background.css,u.fillRect(0,0,c.width,c.height),u.save(),u.fillStyle=n.colors.foreground.css,u.font=o(n.fontWeight,n),u.textBaseline="middle";for(var h=0;h<256;h++)u.save(),u.beginPath(),u.rect(h*r,0,r,l),u.clip(),u.fillText(String.fromCharCode(h),h*r,l/2),u.restore();u.save(),u.font=o(n.fontWeightBold,n);for(var h=0;h<256;h++)u.save(),u.beginPath(),u.rect(h*r,l,r,l),u.clip(),u.fillText(String.fromCharCode(h),h*r,1.5*l),u.restore();u.restore(),u.font=o(n.fontWeight,n);for(var f=0;f<16;f++)for(var _=(f+2)*l,h=0;h<256;h++)u.save(),u.beginPath(),u.rect(h*r,_,r,l),u.clip(),u.fillStyle=n.colors.ansi[f].css,u.fillText(String.fromCharCode(h),h*r,_+l/2),u.restore();u.font=o(n.fontWeightBold,n);for(var f=0;f<16;f++)for(var _=(f+2+16)*l,h=0;h<256;h++)u.save(),u.beginPath(),u.rect(h*r,_,r,l),u.clip(),u.fillStyle=n.colors.ansi[f].css,u.fillText(String.fromCharCode(h),h*r,_+l/2),u.restore();if(u.restore(),!("createImageBitmap"in t)||s.isFirefox||s.isSafari)return c;var d=u.getImageData(0,0,c.width,c.height);return i(d,n.colors.background),t.createImageBitmap(d)}function i(t,e){for(var n=!0,r=e.rgba>>>24,i=e.rgba>>>16&255,o=e.rgba>>>8&255,s=0;s<t.data.length;s+=4)t.data[s]===r&&t.data[s+1]===i&&t.data[s+2]===o?t.data[s+3]=0:n=!1;return n}function o(t,e){return t+" "+e.fontSize*e.devicePixelRatio+"px "+e.fontFamily}Object.defineProperty(e,"__esModule",{value:!0});var s=n(397),a=n(396);e.generateStaticCharAtlasTexture=r,e.clearColor=i},421:function(t,e,n){"use strict";function r(t){return{css:t,rgba:parseInt(t.slice(1),16)<<8|255}}function i(t){var e=t.toString(16);return e.length<2?"0"+e:e}Object.defineProperty(e,"__esModule",{value:!0});var o=r("#ffffff"),s=r("#000000"),a=r("#ffffff"),l=r("#000000"),c={css:"rgba(255, 255, 255, 0.3)",rgba:4294967159};e.DEFAULT_ANSI_COLORS=function(){for(var t=[r("#2e3436"),r("#cc0000"),r("#4e9a06"),r("#c4a000"),r("#3465a4"),r("#75507b"),r("#06989a"),r("#d3d7cf"),r("#555753"),r("#ef2929"),r("#8ae234"),r("#fce94f"),r("#729fcf"),r("#ad7fa8"),r("#34e2e2"),r("#eeeeec")],e=[0,95,135,175,215,255],n=0;n<216;n++){var o=e[n/36%6|0],s=e[n/6%6|0],a=e[n%6];t.push({css:"#"+i(o)+i(s)+i(a),rgba:(o<<24|s<<16|a<<8|255)>>>0})}for(var n=0;n<24;n++){var l=8+10*n,c=i(l);t.push({css:"#"+c+c+c,rgba:(l<<24|l<<16|l<<8|255)>>>0})}return t}();var u=function(){function t(t,n){this.allowTransparency=n;var r=t.createElement("canvas");r.width=1,r.height=1;var i=r.getContext("2d");if(!i)throw new Error("Could not get rendering context");this._ctx=i,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this.colors={foreground:o,background:s,cursor:a,cursorAccent:l,selection:c,ansi:e.DEFAULT_ANSI_COLORS.slice()}}return t.prototype.setTheme=function(t){void 0===t&&(t={}),this.colors.foreground=this._parseColor(t.foreground,o),this.colors.background=this._parseColor(t.background,s),this.colors.cursor=this._parseColor(t.cursor,a,!0),this.colors.cursorAccent=this._parseColor(t.cursorAccent,l,!0),this.colors.selection=this._parseColor(t.selection,c,!0),this.colors.ansi[0]=this._parseColor(t.black,e.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(t.red,e.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(t.green,e.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(t.yellow,e.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(t.blue,e.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(t.magenta,e.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(t.cyan,e.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(t.white,e.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(t.brightBlack,e.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(t.brightRed,e.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(t.brightGreen,e.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(t.brightYellow,e.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(t.brightBlue,e.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(t.brightMagenta,e.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(t.brightCyan,e.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(t.brightWhite,e.DEFAULT_ANSI_COLORS[15])},t.prototype._parseColor=function(t,e,n){if(void 0===n&&(n=this.allowTransparency),void 0===t)return e;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=t,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+t+" is invalid using fallback "+e.css),e;this._ctx.fillRect(0,0,1,1);var r=this._ctx.getImageData(0,0,1,1).data;return n||255===r[3]?{css:t,rgba:(r[0]<<24|r[1]<<16|r[2]<<8|r[3])>>>0}:(console.warn("Color: "+t+" is using transparency, but allowTransparency is false. Using fallback "+e.css+"."),e)},t}();e.ColorManager=u},422:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._renderCallback=t}return t.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},t.prototype.refresh=function(t,e,n){var r=this;this._rowCount=n,t=void 0!==t?t:0,e=void 0!==e?e:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,t):t,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,e):e,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return r._innerRefresh()}))},t.prototype._innerRefresh=function(){void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount&&(this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._rowCount-1),this._renderCallback(this._rowStart,this._rowEnd),this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0)},t}();e.RenderDebouncer=r},423:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(393),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentDevicePixelRatio=window.devicePixelRatio,e}return r(e,t),e.prototype.setListener=function(t){var e=this;this._listener&&this.clearListener(),this._listener=t,this._outerListener=function(){e._listener&&(e._listener(window.devicePixelRatio,e._currentDevicePixelRatio),e._updateDpr())},this._updateDpr()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.clearListener()},e.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},e.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},e}(i.Disposable);e.ScreenDprMonitor=o},437:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(475),i=n.n(r),o=n(583),s=(n.n(o),n(573)),a=(n.n(s),n(473)),l=(n.n(a),n(36));e.default={components:{},data:function(){return{loading:!1,disableButton:!0,openedTerminal:!1,wsocked:null,xTerm:null}},computed:{id:function(){return Number(this.$route.params.id)},instance:function(){return this.$store.getters.instanceDataId(this.id)},status:function(){return this.instance.status},isRunning:function(){return"RUNNING"!==this.instance.status},getButtonState:function(){return!(!this.disableButton&&!this.openedTerminal)}},beforeUpdate:function(){"RUNNING"===this.status?this.disableButton=!1:this.disableButton=!0},mounted:function(){"RUNNING"===this.status&&(this.disableButton=!1)},methods:{OpenTerminal:function(){var t=this;this.openedTerminal?(this.wsocked.close(),this.xTerm.destroy(),this.openedTerminal=!1):(this.$store.dispatch("openInstanceTerminal",this.id),this.openedTerminal=!0,this.loading=!0,setTimeout(function(){var e=t.$store.state.instances.terminal;t.WebSocketTest(e),t.loading=!1},2e3))},WebSocketTest:function(t){var e=this,n=t.metadata.id,r=t.metadata.metadata.fds[0],a=l.a.get("API_BASE_WS_URL"),c=Math.max(Math.round(window.innerHeight/39),15);o.Terminal.applyAddon(s);var u=new o.Terminal({useStyle:!1,screenKeys:!1,cursorBlink:!0});if("WebSocket"in window){console.log("WebSocket is supported by your Browser!");var h=a+"/1.0/operations/"+n+"/websocket?secret="+r,f=new WebSocket(h);this.wsocked=f,this.xTerm=u,console.log(h),f.binaryType="Blob",f.onopen=function(){console.log("Open xterm ..."),u.open(document.getElementById("terminal")),u.resize(0,c),u.fit(),u.focus(),window.addEventListener("resize",i.a.debounce(function(){var t=Math.max(Math.round(window.innerHeight/39),15);u.resize(0,t),u.fit()},300)),u.on("data",function(t){f.send(new Blob([t]))}),f.onmessage=function(t){if(t.data instanceof Blob){var e=new FileReader;e.addEventListener("loadend",function(){u.write(e.result)}),e.readAsBinaryString(t.data)}else u.write(t.data)},f.onclose=function(){u.destroy(),e.openedTerminal=!1}},f.onerror=function(){u.writeln("An error occured, press enter to close window."),u.destroy(),e.openedTerminal=!1}}else console.log("WebSocket NOT supported by your Browser!")}}}},438:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n.n(r),o=n(140),s=n(139);e.default={name:"tab-info",props:["id"],data:function(){return{buttons:[{name:this.$t("instances.actions.start"),icon:"play_arrow",action:this.startInstance,showWhen:[s.a],color:"green",disable:!0},{name:this.$t("instances.actions.unfreeze"),icon:"play_circle_outline",action:this.unfreezeInstance,showWhen:[s.b],color:"blue",disable:!0},{name:this.$t("instances.actions.freeze"),icon:"pause_circle_outline",action:this.freezeInstance,showWhen:[s.c],color:"blue-grey",disable:!0},{name:this.$t("instances.actions.stop"),icon:"stop",action:this.stopInstance,showWhen:[s.c,s.b],color:"red",disable:!0},{name:this.$t("instances.actions.stopforce"),icon:"power_settings_new",action:this.stopforceInstance,showWhen:[s.c,s.b],color:"red",disable:!0},{name:this.$t("instances.actions.restart"),icon:"replay",action:this.restartInstance,showWhen:[s.c,s.b],color:"orange",disable:!0}]}},computed:{active:{get:function(){return null!==this.$store.state.instances.dialogs.info},set:function(t){t||this.$store.dispatch("closeInstanceInfoDialog")}},availableButtons:function(){var t=this;return this.buttons.filter(function(e){return t.disableButton(e)}),this.buttons},id:function(){return Number(this.$props.id)},instance:function(){return this.id?(console.log(this.id),this.$store.getters.instanceDataId(this.id)):null},config:function(){return this.instance.config?this.instance.config:""},ips:function(){return this.instance.ips?this.instance.ips:""},status:function(){return this.instance.status},loading:function(){return this.$store.getters.instanceIsLoading(this.id)},showPrice:function(){return"True"===this.$store.getters.appconfig.price.enabled},showDisk:function(){return"True"===this.$store.getters.appconfig.storage.enabled}},methods:i()({},n.i(o.a)(["startInstance","stopInstance","freezeInstance","stopforceInstance","restartInstance","unfreezeInstance","fetchInstance"]),{disableButton:function(t){var e=this.buttons.indexOf(t);return t.showWhen.includes(this.status)?this.buttons[e].disable=!1:this.buttons[e].disable=!0,t},refreshData:function(){this.$store.dispatch("fetchInstance",this.id)},formatDate:function(t){return new Date(t).toDateString()}})}},439:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"tab-info",data:function(){return{dialog_clone:!1,dialog_destroy:!1,dialog_upgrade:!1,period:1,name:"",cpu:"",memory:"",disk:"",instanceClone:"",cperiod:"",periodes:[{text:"1 Month",value:1},{text:"3 Months",value:1},{text:"6 Months",value:.95},{text:"12 Months",value:.9},{text:"24 Months",value:.8}]}},computed:{id:function(){return Number(this.$route.params.id)},instance:function(){return this.$store.getters.instanceDataId(this.id)},instanceName:function(){return this.instance.name},instanceNameClone:function(){return this.instance.name.concat("-clone")},me:function(){return this.$store.getters["auth/me"]},showPrice:function(){return"True"===this.$store.getters.appconfig.price.enabled},getPrice:function(){return this.$store.getters.appconfig.price},getStorage:function(){return this.$store.getters.appconfig.storage},diskEnabled:function(){return"True"===this.$store.getters.appconfig.storage.enabled},canDelete:function(){return this.me.abilities.includes("instances_delete")},canClone:function(){return this.me.abilities.includes("instances_create")},canUpdate:function(){return this.me.abilities.includes("instances_update")},price:function(){return((this.getPrice.cpu*this.cpu+this.getPrice.memory*this.memory+this.getPrice.disk*this.disk)*this.period).toFixed(2)}},methods:{getInstanceConfig:function(){var t=this.instance.config;this.name=this.instanceName,this.cpu=t.limits_cpu>1?t.limits_cpu:1,this.memory=t.limits_memory_mb>512?t.limits_memory_mb:512,this.disk=t.limits_disk_gb>10?t.limits_disk_gb:10},sendRequestUpgrade:function(){if(this.canUpdate)this.$store.dispatch("upgradeInstance",{id:this.id,name:this.instanceName,cpu:this.cpu,memory:this.memory,disk:this.disk}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.instance_upgraded"),color:""});else{var t={id:this.id,os:this.os,cpu:this.cpu,memory:this.memory+"MB",disk:this.disk+"GB",period:this.period,price:this.price};this.$store.dispatch("createRequests",{action:"upgrade",message:"Upgrade instance "+this.name,status:"waiting",meta_data:t}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.instance_created"),color:""}),this.active=!1}},sendRequestClone:function(){var t={instanceName:this.instanceName,instanceClone:this.instanceClone,cpu:this.instance.config.limits_cpu,memory:this.instance.config.limits_memory,disk:this.instance.config.limits_disk?this.instance.config.limits_disk+"GB":"0GB"};this.canClone?(this.$store.dispatch("cloneInstance",t),this.$store.dispatch("notify",{id:0,message:"Your instance was cloned",color:""})):(this.$store.dispatch("createRequests",{action:"clone",message:"Clone instance "+this.name,status:"waiting",meta_data:t}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.request_created"),color:""}),this.active=!1)},sendRequestDestroy:function(){if(this.canDelete)"STOPPED"===this.instance.status?(this.$store.dispatch("deleteInstance",this.id),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.instance_deleted"),color:""})):this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.instance_is_running"),color:"red"});else{var t={id:this.id,name:this.instanceName};this.$store.dispatch("createRequests",{action:"delete",message:"Delete instance "+this.name,status:"waiting",meta_data:t}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.request_created"),color:""}),this.active=!1}}},mounted:function(){this.getInstanceConfig(),this.instanceClone=this.instanceNameClone}}},440:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n.n(r);e.default={name:"snapshots",data:function(){return{dialog_destroy:!1,action_item:"",dialog_restore:!1,snapshot_name:"",search:"",headers:[{text:this.$t("instances.snapshots.name"),align:"left",value:"name"},{text:this.$t("instances.snapshots.date"),align:"left",value:"created_at"},{text:this.$t("actions.name"),align:"right",value:"actions"}],items:[]}},computed:{id:function(){return Number(this.$route.params.id)},instance:function(){return this.$store.getters.instanceDataId(this.id)}},watch:{dialog:function(t){return t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.items=this.$store.getters.snapshotsTableData},formatDate:function(t){return new Date(t).toDateString()},deleteAction:function(t){this.dialog_destroy=!0,this.action_item=t},deleteItem:function(t){var e=this.items.indexOf(t);this.items.splice(e,1),this.$store.dispatch("deleteSnapshot",{id:this.id,name:t.name}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.snapshot_deleted"),color:""})},restoreAction:function(t){this.dialog_restore=!0,this.action_item=t},restoreItem:function(t){this.$store.dispatch("restoreSnapshot",{id:this.id,name:t.name}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.snapshot_restored"),color:""})},createItem:function(){if(""!==this.snapshot_name){var t={value:!1,name:this.snapshot_name,created_at:new Date,action:"Restore, Delete",stateful:"false"};this.items.push(t),this.$store.dispatch("createSnapshot",{id:this.id,data:t}),this.$store.dispatch("notify",{id:0,message:""+this.$i18n.t("notifications.snapshot_created"),color:""})}},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=i()({},t.defaultItem),t.editedIndex=-1},300)},refreshData:function(){var t=this;this.$store.dispatch("fetchSnapshots",this.id),setTimeout(function(){t.initialize()},1500)}},mounted:function(){var t=this;this.$store.dispatch("fetchSnapshots",this.id),setTimeout(function(){t.initialize()},1500)}}},441:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(492),i=n.n(r),o=n(491),s=n.n(o),a=n(494),l=n.n(a),c=n(493),u=n.n(c);e.default={name:"tabs",props:["id"],data:function(){return{}},components:{"tab-info":i.a,"tab-console":s.a,"tab-snapshots":l.a,"tab-settings":u.a},computed:{tabsLength:function(){return this.showSnapshots?4:3},showSnapshots:function(){return"True"===this.$store.getters.appconfig.storage.enabled}},mounted:function(){}}},466:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(495),i=n.n(r);e.default={name:"instances",components:{tabs:i.a},props:["id"],data:function(){return{}}}},472:function(t,e,n){e=t.exports=n(377)(!0),e.push([t.i,'.xterm{font-feature-settings:"liga" 0;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:10}.xterm .xterm-helper-textarea{position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-10;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm{cursor:text}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:100;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}',"",{version:3,sources:["/home/michal/Codes/vue-dashboard/node_modules/xterm/dist/xterm.css"],names:[],mappings:"AAqCA,OACI,+BAAgC,AAChC,kBAAmB,AACnB,iBAAkB,AAClB,qBAAsB,AACtB,wBAA0B,CAC7B,AAED,0BAEI,YAAc,CACjB,AAED,sBACI,kBAAmB,AACnB,MAAO,AAKP,UAAY,CACf,AAED,8BAKI,kBAAmB,AACnB,UAAW,AACX,aAAc,AACd,MAAO,AACP,QAAS,AACT,SAAU,AACV,YAAa,AAEb,mBAAoB,AACpB,gBAAiB,AACjB,WAAa,CAChB,AAED,yBAEI,gBAAiB,AACjB,WAAY,AACZ,aAAc,AACd,kBAAmB,AACnB,mBAAoB,AACpB,SAAW,CACd,AAED,gCACI,aAAe,CAClB,AAED,uBAEI,sBAAuB,AACvB,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,QAAS,AACT,OAAQ,AACR,MAAO,AACP,QAAU,CACb,AAED,qBACI,iBAAmB,CACtB,AAED,4BACI,kBAAmB,AACnB,OAAQ,AACR,KAAO,CACV,AAED,0BACI,iBAAmB,CACtB,AAED,4BACI,qBAAsB,AACtB,kBAAmB,AACnB,kBAAmB,AACnB,MAAO,AACP,aAAc,AACd,kBAAoB,CACvB,AAED,OACI,WAAa,CAChB,AAED,2BAEI,cAAgB,CACnB,AAED,4BACI,cAAgB,CACnB,AAED,2BAEI,gBAAkB,CACrB,AAED,kDAEI,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,SAAU,AACV,QAAS,AACT,YAAa,AACb,iBAAmB,CACtB,AAED,oBACI,kBAAmB,AACnB,aAAc,AACd,UAAW,AACX,WAAY,AACZ,eAAiB,CACpB,AAED,WACI,UAAa,CAChB,AAED,iBACI,yBAA2B,CAC9B",file:"xterm.css",sourcesContent:['/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n/**\n *  Default styles for xterm.js\n */\n\n.xterm {\n    font-feature-settings: "liga" 0;\n    position: relative;\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n}\n\n.xterm.focus,\n.xterm:focus {\n    outline: none;\n}\n\n.xterm .xterm-helpers {\n    position: absolute;\n    top: 0;\n    /**\n     * The z-index of the helpers must be higher than the canvases in order for\n     * IMEs to appear on top.\n     */\n    z-index: 10;\n}\n\n.xterm .xterm-helper-textarea {\n    /*\n     * HACK: to fix IE\'s blinking cursor\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\n     */\n    position: absolute;\n    opacity: 0;\n    left: -9999em;\n    top: 0;\n    width: 0;\n    height: 0;\n    z-index: -10;\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\n    white-space: nowrap;\n    overflow: hidden;\n    resize: none;\n}\n\n.xterm .composition-view {\n    /* TODO: Composition position got messed up somewhere */\n    background: #000;\n    color: #FFF;\n    display: none;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 1;\n}\n\n.xterm .composition-view.active {\n    display: block;\n}\n\n.xterm .xterm-viewport {\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\n    background-color: #000;\n    overflow-y: scroll;\n    cursor: default;\n    position: absolute;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: 0;\n}\n\n.xterm .xterm-screen {\n    position: relative;\n}\n\n.xterm .xterm-screen canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.xterm .xterm-scroll-area {\n    visibility: hidden;\n}\n\n.xterm-char-measure-element {\n    display: inline-block;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: -9999em;\n    line-height: normal;\n}\n\n.xterm {\n    cursor: text;\n}\n\n.xterm.enable-mouse-events {\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\n    cursor: default;\n}\n\n.xterm.xterm-cursor-pointer {\n    cursor: pointer;\n}\n\n.xterm.column-select.focus {\n    /* Column selection mode */\n    cursor: crosshair;\n}\n\n.xterm .xterm-accessibility,\n.xterm .xterm-message {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 100;\n    color: transparent;\n}\n\n.xterm .live-region {\n    position: absolute;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n.xterm-dim {\n    opacity: 0.5;\n}\n\n.xterm-underline {\n    text-decoration: underline;\n}\n'],sourceRoot:""}])},473:function(t,e,n){var r=n(472);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(392)("5bb5dad9",r,!0)},475:function(t,e,n){(function(t,r){var i;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function a(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function u(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function h(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function _(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function p(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function v(t){return t.split("")}function y(t){return t.match(Pe)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function C(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?Y(t,e,n):C(t,x,n)}function A(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function x(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?R(t,e)/n:Ot}function E(t){return function(e){return null==e?nt:e[t]}}function L(t){return function(e){return null==t?nt:t[e]}}function k(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function T(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function R(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function M(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function D(t,e){return _(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function B(t,e){return _(e,function(e){return t[e]})}function H(t,e){return t.has(e)}function I(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function P(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function W(t){return"\\"+Sn[t]}function j(t,e){return null==t?nt:t[e]}function U(t){return mn.test(t)}function N(t){return gn.test(t)}function z(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function K(t,e){return function(n){return t(e(n))}}function G(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==lt||(t[n]=lt,o[i++]=n)}return o}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Y(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Z(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function J(t){return U(t)?Q(t):Nn(t)}function X(t){return U(t)?tt(t):v(t)}function Q(t){for(var e=dn.lastIndex=0;dn.test(t);)++e;return e}function tt(t){return t.match(dn)||[]}function et(t){return t.match(pn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",st="__lodash_hash_undefined__",at=500,lt="__lodash_placeholder__",ct=1,ut=2,ht=4,ft=1,_t=2,dt=1,pt=2,mt=4,gt=8,vt=16,yt=32,bt=64,Ct=128,wt=256,At=512,xt=30,St="...",Et=800,Lt=16,kt=1,Tt=2,Rt=1/0,Mt=9007199254740991,Dt=1.7976931348623157e308,Ot=NaN,Bt=4294967295,Ht=Bt-1,It=Bt>>>1,Pt=[["ary",Ct],["bind",dt],["bindKey",pt],["curry",gt],["curryRight",vt],["flip",At],["partial",yt],["partialRight",bt],["rearg",wt]],Ft="[object Arguments]",Wt="[object Array]",jt="[object AsyncFunction]",Ut="[object Boolean]",Nt="[object Date]",zt="[object DOMException]",$t="[object Error]",Kt="[object Function]",Gt="[object GeneratorFunction]",qt="[object Map]",Vt="[object Number]",Yt="[object Null]",Zt="[object Object]",Jt="[object Proxy]",Xt="[object RegExp]",Qt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",se="[object DataView]",ae="[object Float32Array]",le="[object Float64Array]",ce="[object Int8Array]",ue="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",_e="[object Uint8ClampedArray]",de="[object Uint16Array]",pe="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,Ce=RegExp(ye.source),we=RegExp(be.source),Ae=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Te=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Te.source),Me=/^\s+|\s+$/g,De=/^\s+/,Oe=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,Ie=/,? & /,Pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Ve=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+Ze+"]",Xe="["+Ye+"]",Qe="[a-z\\xdf-\\xf6\\xf8-\\xff]",tn="[^\\ud800-\\udfff"+Ze+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+Qe+"|"+tn+")",an="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ln="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+an+")*",cn="[\\ufe0e\\ufe0f]?"+an+ln,un="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+cn,hn="(?:"+["[^\\ud800-\\udfff]"+Xe+"?",Xe,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("['’]","g"),_n=RegExp(Xe,"g"),dn=RegExp(en+"(?="+en+")|"+hn+cn,"g"),pn=RegExp([on+"?"+Qe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Je,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Je,on+sn,"$"].join("|")+")",on+"?"+sn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",on+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",un].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),gn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yn=-1,bn={};bn[ae]=bn[le]=bn[ce]=bn[ue]=bn[he]=bn[fe]=bn[_e]=bn[de]=bn[pe]=!0,bn[Ft]=bn[Wt]=bn[oe]=bn[Ut]=bn[se]=bn[Nt]=bn[$t]=bn[Kt]=bn[qt]=bn[Vt]=bn[Zt]=bn[Xt]=bn[Qt]=bn[te]=bn[re]=!1;var Cn={};Cn[Ft]=Cn[Wt]=Cn[oe]=Cn[se]=Cn[Ut]=Cn[Nt]=Cn[ae]=Cn[le]=Cn[ce]=Cn[ue]=Cn[he]=Cn[qt]=Cn[Vt]=Cn[Zt]=Cn[Xt]=Cn[Qt]=Cn[te]=Cn[ee]=Cn[fe]=Cn[_e]=Cn[de]=Cn[pe]=!0,Cn[$t]=Cn[Kt]=Cn[re]=!1;var wn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},An={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},En=parseFloat,Ln=parseInt,kn="object"==typeof t&&t&&t.Object===Object&&t,Tn="object"==typeof self&&self&&self.Object===Object&&self,Rn=kn||Tn||Function("return this")(),Mn="object"==typeof e&&e&&!e.nodeType&&e,Dn=Mn&&"object"==typeof r&&r&&!r.nodeType&&r,On=Dn&&Dn.exports===Mn,Bn=On&&kn.process,Hn=function(){try{var t=Dn&&Dn.require&&Dn.require("util").types;return t||Bn&&Bn.binding&&Bn.binding("util")}catch(t){}}(),In=Hn&&Hn.isArrayBuffer,Pn=Hn&&Hn.isDate,Fn=Hn&&Hn.isMap,Wn=Hn&&Hn.isRegExp,jn=Hn&&Hn.isSet,Un=Hn&&Hn.isTypedArray,Nn=E("length"),zn=L(wn),$n=L(An),Kn=L(xn),Gn=function t(e){function n(t){if(el(t)&&!_f(t)&&!(t instanceof v)){if(t instanceof i)return t;if(fu.call(t,"__wrapped__"))return Xo(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function v(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bt,this.__views__=[]}function L(){var t=new v(this.__wrapped__);return t.__actions__=Di(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Di(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Di(this.__views__),t}function Y(){if(this.__filtered__){var t=new v(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Q(){var t=this.__wrapped__.value(),e=this.__dir__,n=_f(t),r=e<0,i=n?t.length:0,o=wo(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,h=u.length,f=0,_=Nu(l,this.__takeCount__);if(!n||!r&&i==l&&_==l)return pi(t,this.__actions__);var d=[];t:for(;l--&&f<_;){c+=e;for(var p=-1,m=t[c];++p<h;){var g=u[p],v=g.iteratee,y=g.type,b=v(m);if(y==Tt)m=b;else if(!b){if(y==kt)continue t;break t}}d[f++]=m}return d}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pe(){this.__data__=Xu?Xu(null):{},this.size=0}function Ye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ze(t){var e=this.__data__;if(Xu){var n=e[t];return n===st?nt:n}return fu.call(e,t)?e[t]:nt}function Je(t){var e=this.__data__;return Xu?e[t]!==nt:fu.call(e,t)}function Xe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Xu&&e===nt?st:e,this}function Qe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__=[],this.size=0}function en(t){var e=this.__data__,n=qn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Eu.call(e,n,1),--this.size,!0)}function nn(t){var e=this.__data__,n=qn(e,t);return n<0?nt:e[n][1]}function rn(t){return qn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,r=qn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function an(){this.size=0,this.__data__={hash:new tt,map:new(Vu||Qe),string:new tt}}function ln(t){var e=vo(this,t).delete(t);return this.size-=e?1:0,e}function cn(t){return vo(this,t).get(t)}function un(t){return vo(this,t).has(t)}function hn(t,e){var n=vo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new sn;++e<n;)this.add(t[e])}function pn(t){return this.__data__.set(t,st),this}function mn(t){return this.__data__.has(t)}function gn(t){var e=this.__data__=new Qe(t);this.size=e.size}function wn(){this.__data__=new Qe,this.size=0}function An(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xn(t){return this.__data__.get(t)}function Sn(t){return this.__data__.has(t)}function kn(t,e){var n=this.__data__;if(n instanceof Qe){var r=n.__data__;if(!Vu||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sn(r)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=_f(t),r=!n&&ff(t),i=!n&&!r&&pf(t),o=!n&&!r&&!i&&bf(t),s=n||r||i||o,a=s?M(t.length,ou):[],l=a.length;for(var c in t)!e&&!fu.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ro(c,l))||a.push(c);return a}function Mn(t){var e=t.length;return e?t[Zr(0,e-1)]:nt}function Dn(t,e){return Vo(Di(t),Qn(e,0,t.length))}function Bn(t){return Vo(Di(t))}function Hn(t,e,n){(n===nt||Ua(t[e],n))&&(n!==nt||e in t)||Jn(t,e,n)}function Nn(t,e,n){var r=t[e];fu.call(t,e)&&Ua(r,n)&&(n!==nt||e in t)||Jn(t,e,n)}function qn(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function Vn(t,e,n,r){return uh(t,function(t,i,o){e(r,t,n(t),o)}),r}function Yn(t,e){return t&&Oi(e,Il(e),t)}function Zn(t,e){return t&&Oi(e,Pl(e),t)}function Jn(t,e,n){"__proto__"==e&&Ru?Ru(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Xn(t,e){for(var n=-1,r=e.length,i=Xc(r),o=null==t;++n<r;)i[n]=o?nt:Ol(t,e[n]);return i}function Qn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function tr(t,e,n,r,i,o){var s,l=e&ct,c=e&ut,u=e&ht;if(n&&(s=i?n(t,r,i,o):n(t)),s!==nt)return s;if(!tl(t))return t;var h=_f(t);if(h){if(s=So(t),!l)return Di(t,s)}else{var f=wh(t),_=f==Kt||f==Gt;if(pf(t))return wi(t,l);if(f==Zt||f==Ft||_&&!i){if(s=c||_?{}:Eo(t),!l)return c?Hi(t,Zn(s,t)):Bi(t,Yn(s,t))}else{if(!Cn[f])return i?t:{};s=Lo(t,f,l)}}o||(o=new gn);var d=o.get(t);if(d)return d;o.set(t,s),yf(t)?t.forEach(function(r){s.add(tr(r,e,n,r,t,o))}):gf(t)&&t.forEach(function(r,i){s.set(i,tr(r,e,n,i,t,o))});var p=u?c?_o:fo:c?Pl:Il,m=h?nt:p(t);return a(m||t,function(r,i){m&&(i=r,r=t[i]),Nn(s,i,tr(r,e,n,i,t,o))}),s}function er(t){var e=Il(t);return function(n){return nr(n,t,e)}}function nr(t,e,n){var r=n.length;if(null==t)return!r;for(t=ru(t);r--;){var i=n[r],o=e[i],s=t[i];if(s===nt&&!(i in t)||!o(s))return!1}return!0}function rr(t,e,n){if("function"!=typeof t)throw new su(ot);return Sh(function(){t.apply(nt,n)},e)}function ir(t,e,n,r){var i=-1,o=h,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=_(e,O(n))),r?(o=f,s=!1):e.length>=rt&&(o=H,s=!1,e=new dn(e));t:for(;++i<a;){var u=t[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var p=c;p--;)if(e[p]===d)continue t;l.push(u)}else o(e,d,r)||l.push(u)}return l}function or(t,e){var n=!0;return uh(t,function(t,r,i){return n=!!e(t,r,i)}),n}function sr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(a===nt?s===s&&!fl(s):n(s,a)))var a=s,l=o}return l}function ar(t,e,n,r){var i=t.length;for(n=vl(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:vl(r),r<0&&(r+=i),r=n>r?0:yl(r);n<r;)t[n++]=e;return t}function lr(t,e){var n=[];return uh(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function cr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=To),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?cr(a,e-1,n,r,i):d(i,a):r||(i[i.length]=a)}return i}function ur(t,e){return t&&fh(t,e,Il)}function hr(t,e){return t&&_h(t,e,Il)}function fr(t,e){return u(e,function(e){return Ja(t[e])})}function _r(t,e){e=bi(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Yo(e[n++])];return n&&n==r?t:nt}function dr(t,e,n){var r=e(t);return _f(t)?r:d(r,n(t))}function pr(t){return null==t?t===nt?ne:Yt:Tu&&Tu in ru(t)?Co(t):Uo(t)}function mr(t,e){return t>e}function gr(t,e){return null!=t&&fu.call(t,e)}function vr(t,e){return null!=t&&e in ru(t)}function yr(t,e,n){return t>=Nu(e,n)&&t<Uu(e,n)}function br(t,e,n){for(var r=n?f:h,i=t[0].length,o=t.length,s=o,a=Xc(o),l=1/0,c=[];s--;){var u=t[s];s&&e&&(u=_(u,O(e))),l=Nu(u.length,l),a[s]=!n&&(e||i>=120&&u.length>=120)?new dn(s&&u):nt}u=t[0];var d=-1,p=a[0];t:for(;++d<i&&c.length<l;){var m=u[d],g=e?e(m):m;if(m=n||0!==m?m:0,!(p?H(p,g):r(c,g,n))){for(s=o;--s;){var v=a[s];if(!(v?H(v,g):r(t[s],g,n)))continue t}p&&p.push(g),c.push(m)}}return c}function Cr(t,e,n,r){return ur(t,function(t,i,o){e(r,n(t),i,o)}),r}function wr(t,e,n){e=bi(e,t),t=zo(t,e);var r=null==t?t:t[Yo(gs(e))];return null==r?nt:o(r,t,n)}function Ar(t){return el(t)&&pr(t)==Ft}function xr(t){return el(t)&&pr(t)==oe}function Sr(t){return el(t)&&pr(t)==Nt}function Er(t,e,n,r,i){return t===e||(null==t||null==e||!el(t)&&!el(e)?t!==t&&e!==e:Lr(t,e,n,r,Er,i))}function Lr(t,e,n,r,i,o){var s=_f(t),a=_f(e),l=s?Wt:wh(t),c=a?Wt:wh(e);l=l==Ft?Zt:l,c=c==Ft?Zt:c;var u=l==Zt,h=c==Zt,f=l==c;if(f&&pf(t)){if(!pf(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new gn),s||bf(t)?lo(t,e,n,r,i,o):co(t,e,l,n,r,i,o);if(!(n&ft)){var _=u&&fu.call(t,"__wrapped__"),d=h&&fu.call(e,"__wrapped__");if(_||d){var p=_?t.value():t,m=d?e.value():e;return o||(o=new gn),i(p,m,n,r,o)}}return!!f&&(o||(o=new gn),uo(t,e,n,r,i,o))}function kr(t){return el(t)&&wh(t)==qt}function Tr(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=ru(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===nt&&!(l in t))return!1}else{var h=new gn;if(r)var f=r(c,u,l,t,e,h);if(!(f===nt?Er(u,c,ft|_t,r,h):f))return!1}}return!0}function Rr(t){return!(!tl(t)||Ho(t))&&(Ja(t)?vu:ze).test(Zo(t))}function Mr(t){return el(t)&&pr(t)==Xt}function Dr(t){return el(t)&&wh(t)==Qt}function Or(t){return el(t)&&Qa(t.length)&&!!bn[pr(t)]}function Br(t){return"function"==typeof t?t:null==t?Ec:"object"==typeof t?_f(t)?jr(t[0],t[1]):Wr(t):Bc(t)}function Hr(t){if(!Io(t))return ju(t);var e=[];for(var n in ru(t))fu.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ir(t){if(!tl(t))return jo(t);var e=Io(t),n=[];for(var r in t)("constructor"!=r||!e&&fu.call(t,r))&&n.push(r);return n}function Pr(t,e){return t<e}function Fr(t,e){var n=-1,r=Na(t)?Xc(t.length):[];return uh(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Wr(t){var e=yo(t);return 1==e.length&&e[0][2]?Fo(e[0][0],e[0][1]):function(n){return n===t||Tr(n,t,e)}}function jr(t,e){return Do(t)&&Po(e)?Fo(Yo(t),e):function(n){var r=Ol(n,t);return r===nt&&r===e?Hl(n,t):Er(e,r,ft|_t)}}function Ur(t,e,n,r,i){t!==e&&fh(e,function(o,s){if(i||(i=new gn),tl(o))Nr(t,e,s,n,Ur,r,i);else{var a=r?r(Ko(t,s),o,s+"",t,e,i):nt;a===nt&&(a=o),Hn(t,s,a)}},Pl)}function Nr(t,e,n,r,i,o,s){var a=Ko(t,n),l=Ko(e,n),c=s.get(l);if(c)return void Hn(t,n,c);var u=o?o(a,l,n+"",t,e,s):nt,h=u===nt;if(h){var f=_f(l),_=!f&&pf(l),d=!f&&!_&&bf(l);u=l,f||_||d?_f(a)?u=a:za(a)?u=Di(a):_?(h=!1,u=wi(l,!0)):d?(h=!1,u=Li(l,!0)):u=[]:cl(l)||ff(l)?(u=a,ff(a)?u=Cl(a):tl(a)&&!Ja(a)||(u=Eo(l))):h=!1}h&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Hn(t,n,u)}function zr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ro(e,n)?t[e]:nt}function $r(t,e,n){var r=-1;return e=_(e.length?e:[Ec],O(go())),T(Fr(t,function(t,n,i){return{criteria:_(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ti(t,e,n)})}function Kr(t,e){return Gr(t,e,function(e,n){return Hl(t,n)})}function Gr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=_r(t,s);n(a,s)&&ni(o,bi(s,t),a)}return o}function qr(t){return function(e){return _r(e,t)}}function Vr(t,e,n,r){var i=r?A:w,o=-1,s=e.length,a=t;for(t===e&&(e=Di(e)),n&&(a=_(t,O(n)));++o<s;)for(var l=0,c=e[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==t&&Eu.call(a,l,1),Eu.call(t,l,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ro(i)?Eu.call(t,i,1):fi(t,i)}}return t}function Zr(t,e){return t+Hu(Ku()*(e-t+1))}function Jr(t,e,n,r){for(var i=-1,o=Uu(Bu((e-t)/(n||1)),0),s=Xc(o);o--;)s[r?o:++i]=t,t+=n;return s}function Xr(t,e){var n="";if(!t||e<1||e>Mt)return n;do{e%2&&(n+=t),(e=Hu(e/2))&&(t+=t)}while(e);return n}function Qr(t,e){return Eh(No(t,e,Ec),t+"")}function ti(t){return Mn(Yl(t))}function ei(t,e){var n=Yl(t);return Vo(n,Qn(e,0,n.length))}function ni(t,e,n,r){if(!tl(t))return t;e=bi(e,t);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var l=Yo(e[i]),c=n;if(i!=s){var u=a[l];c=r?r(u,l,a):nt,c===nt&&(c=tl(u)?u:Ro(e[i+1])?[]:{})}Nn(a,l,c),a=a[l]}return t}function ri(t){return Vo(Yl(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Xc(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return uh(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function si(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=It){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!fl(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ai(t,e,Ec,n)}function ai(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,s=e!==e,a=null===e,l=fl(e),c=e===nt;i<o;){var u=Hu((i+o)/2),h=n(t[u]),f=h!==nt,_=null===h,d=h===h,p=fl(h);if(s)var m=r||d;else m=c?d&&(r||f):a?d&&f&&(r||!_):l?d&&f&&!_&&(r||!p):!_&&!p&&(r?h<=e:h<e);m?i=u+1:o=u}return Nu(o,Ht)}function li(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Ua(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function ci(t){return"number"==typeof t?t:fl(t)?Ot:+t}function ui(t){if("string"==typeof t)return t;if(_f(t))return _(t,ui)+"";if(fl(t))return lh?lh.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function hi(t,e,n){var r=-1,i=h,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=f;else if(o>=rt){var c=e?null:vh(t);if(c)return q(c);s=!1,i=H,l=new dn}else l=e?[]:a;t:for(;++r<o;){var u=t[r],_=e?e(u):u;if(u=n||0!==u?u:0,s&&_===_){for(var d=l.length;d--;)if(l[d]===_)continue t;e&&l.push(_),a.push(u)}else i(l,_,n)||(l!==a&&l.push(_),a.push(u))}return a}function fi(t,e){return e=bi(e,t),null==(t=zo(t,e))||delete t[Yo(gs(e))]}function _i(t,e,n,r){return ni(t,e,n(_r(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function pi(t,e){var n=t;return n instanceof v&&(n=n.value()),p(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function mi(t,e,n){var r=t.length;if(r<2)return r?hi(t[0]):[];for(var i=-1,o=Xc(r);++i<r;)for(var s=t[i],a=-1;++a<r;)a!=i&&(o[i]=ir(o[i]||s,t[a],e,n));return hi(cr(o,1),e,n)}function gi(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;){var a=r<o?e[r]:nt;n(s,t[r],a)}return s}function vi(t){return za(t)?t:[]}function yi(t){return"function"==typeof t?t:Ec}function bi(t,e){return _f(t)?t:Do(t,e)?[t]:Lh(Al(t))}function Ci(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ii(t,e,n)}function wi(t,e){if(e)return t.slice();var n=t.length,r=wu?wu(n):new t.constructor(n);return t.copy(r),r}function Ai(t){var e=new t.constructor(t.byteLength);return new Cu(e).set(new Cu(t)),e}function xi(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Si(t){var e=new t.constructor(t.source,je.exec(t));return e.lastIndex=t.lastIndex,e}function Ei(t){return ah?ru(ah.call(t)):{}}function Li(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ki(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=fl(t),s=e!==nt,a=null===e,l=e===e,c=fl(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function Ti(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=ki(i[r],o[r]);if(l){if(r>=a)return l;return l*("desc"==n[r]?-1:1)}}return t.index-e.index}function Ri(t,e,n,r){for(var i=-1,o=t.length,s=n.length,a=-1,l=e.length,c=Uu(o-s,0),u=Xc(l+c),h=!r;++a<l;)u[a]=e[a];for(;++i<s;)(h||i<o)&&(u[n[i]]=t[i]);for(;c--;)u[a++]=t[i++];return u}function Mi(t,e,n,r){for(var i=-1,o=t.length,s=-1,a=n.length,l=-1,c=e.length,u=Uu(o-a,0),h=Xc(u+c),f=!r;++i<u;)h[i]=t[i];for(var _=i;++l<c;)h[_+l]=e[l];for(;++s<a;)(f||i<o)&&(h[_+n[s]]=t[i++]);return h}function Di(t,e){var n=-1,r=t.length;for(e||(e=Xc(r));++n<r;)e[n]=t[n];return e}function Oi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):nt;l===nt&&(l=t[a]),i?Jn(n,a,l):Nn(n,a,l)}return n}function Bi(t,e){return Oi(t,bh(t),e)}function Hi(t,e){return Oi(t,Ch(t),e)}function Ii(t,e){return function(n,r){var i=_f(n)?s:Vn,o=e?e():{};return i(n,t,go(r,2),o)}}function Pi(t){return Qr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,s=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,s&&Mo(n[0],n[1],s)&&(o=i<3?nt:o,i=1),e=ru(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}function Fi(t,e){return function(n,r){if(null==n)return n;if(!Na(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=ru(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Wi(t){return function(e,n,r){for(var i=-1,o=ru(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(o[l],l,o))break}return e}}function ji(t,e,n){function r(){return(this&&this!==Rn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&dt,o=zi(t);return r}function Ui(t){return function(e){e=Al(e);var n=U(e)?X(e):nt,r=n?n[0]:e.charAt(0),i=n?Ci(n,1).join(""):e.slice(1);return r[t]()+i}}function Ni(t){return function(e){return p(Cc(ec(e).replace(fn,"")),t,"")}}function zi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ch(t.prototype),r=t.apply(n,e);return tl(r)?r:n}}function $i(t,e,n){function r(){for(var s=arguments.length,a=Xc(s),l=s,c=mo(r);l--;)a[l]=arguments[l];var u=s<3&&a[0]!==c&&a[s-1]!==c?[]:G(a,c);return(s-=u.length)<n?eo(t,e,qi,r.placeholder,nt,a,u,nt,nt,n-s):o(this&&this!==Rn&&this instanceof r?i:t,this,a)}var i=zi(t);return r}function Ki(t){return function(e,n,r){var i=ru(e);if(!Na(e)){var o=go(n,3);e=Il(e),n=function(t){return o(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:nt}}function Gi(t){return ho(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new su(ot);if(o&&!a&&"wrapper"==po(s))var a=new i([],!0)}for(r=a?r:n;++r<n;){s=e[r];var l=po(s),c="wrapper"==l?yh(s):nt;a=c&&Bo(c[0])&&c[1]==(Ct|gt|yt|wt)&&!c[4].length&&1==c[9]?a[po(c[0])].apply(a,c[3]):1==s.length&&Bo(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&_f(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function qi(t,e,n,r,i,o,s,a,l,c){function u(){for(var g=arguments.length,v=Xc(g),y=g;y--;)v[y]=arguments[y];if(d)var b=mo(u),C=F(v,b);if(r&&(v=Ri(v,r,i,d)),o&&(v=Mi(v,o,s,d)),g-=C,d&&g<c){var w=G(v,b);return eo(t,e,qi,u.placeholder,n,v,w,a,l,c-g)}var A=f?n:this,x=_?A[t]:t;return g=v.length,a?v=$o(v,a):p&&g>1&&v.reverse(),h&&l<g&&(v.length=l),this&&this!==Rn&&this instanceof u&&(x=m||zi(x)),x.apply(A,v)}var h=e&Ct,f=e&dt,_=e&pt,d=e&(gt|vt),p=e&At,m=_?nt:zi(t);return u}function Vi(t,e){return function(n,r){return Cr(n,t,e(r),{})}}function Yi(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=ci(n),r=ci(r)),i=t(n,r)}return i}}function Zi(t){return ho(function(e){return e=_(e,O(go())),Qr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Ji(t,e){e=e===nt?" ":ui(e);var n=e.length;if(n<2)return n?Xr(e,t):e;var r=Xr(e,Bu(t/J(e)));return U(e)?Ci(X(r),0,t).join(""):r.slice(0,t)}function Xi(t,e,n,r){function i(){for(var e=-1,l=arguments.length,c=-1,u=r.length,h=Xc(u+l),f=this&&this!==Rn&&this instanceof i?a:t;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++e];return o(f,s?n:this,h)}var s=e&dt,a=zi(t);return i}function Qi(t){return function(e,n,r){return r&&"number"!=typeof r&&Mo(e,n,r)&&(n=r=nt),e=gl(e),n===nt?(n=e,e=0):n=gl(n),r=r===nt?e<n?1:-1:gl(r),Jr(e,n,r,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=bl(e),n=bl(n)),t(e,n)}}function eo(t,e,n,r,i,o,s,a,l,c){var u=e&gt,h=u?s:nt,f=u?nt:s,_=u?o:nt,d=u?nt:o;e|=u?yt:bt,(e&=~(u?bt:yt))&mt||(e&=~(dt|pt));var p=[t,e,i,_,h,d,f,a,l,c],m=n.apply(nt,p);return Bo(t)&&xh(m,p),m.placeholder=r,Go(m,t,e)}function no(t){var e=nu[t];return function(t,n){if(t=bl(t),(n=null==n?0:Nu(vl(n),292))&&Fu(t)){var r=(Al(t)+"e").split("e");return r=(Al(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ro(t){return function(e){var n=wh(e);return n==qt?$(e):n==Qt?V(e):D(e,t(e))}}function io(t,e,n,r,i,o,s,a){var l=e&pt;if(!l&&"function"!=typeof t)throw new su(ot);var c=r?r.length:0;if(c||(e&=~(yt|bt),r=i=nt),s=s===nt?s:Uu(vl(s),0),a=a===nt?a:vl(a),c-=i?i.length:0,e&bt){var u=r,h=i;r=i=nt}var f=l?nt:yh(t),_=[t,e,n,r,i,u,h,o,s,a];if(f&&Wo(_,f),t=_[0],e=_[1],n=_[2],r=_[3],i=_[4],a=_[9]=_[9]===nt?l?0:t.length:Uu(_[9]-c,0),!a&&e&(gt|vt)&&(e&=~(gt|vt)),e&&e!=dt)d=e==gt||e==vt?$i(t,e,a):e!=yt&&e!=(dt|yt)||i.length?qi.apply(nt,_):Xi(t,e,n,r);else var d=ji(t,e,n);return Go((f?dh:xh)(d,_),t,e)}function oo(t,e,n,r){return t===nt||Ua(t,cu[n])&&!fu.call(r,n)?e:t}function so(t,e,n,r,i,o){return tl(t)&&tl(e)&&(o.set(e,t),Ur(t,e,nt,so,o),o.delete(e)),t}function ao(t){return cl(t)?nt:t}function lo(t,e,n,r,i,o){var s=n&ft,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,f=n&_t?new dn:nt;for(o.set(t,e),o.set(e,t);++u<a;){var _=t[u],d=e[u];if(r)var p=s?r(d,_,u,e,t,o):r(_,d,u,t,e,o);if(p!==nt){if(p)continue;h=!1;break}if(f){if(!g(e,function(t,e){if(!H(f,e)&&(_===t||i(_,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(_!==d&&!i(_,d,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function co(t,e,n,r,i,o,s){switch(n){case se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new Cu(t),new Cu(e)));case Ut:case Nt:case Vt:return Ua(+t,+e);case $t:return t.name==e.name&&t.message==e.message;case Xt:case te:return t==e+"";case qt:var a=$;case Qt:var l=r&ft;if(a||(a=q),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=_t,s.set(t,e);var u=lo(a(t),a(e),r,i,o,s);return s.delete(t),u;case ee:if(ah)return ah.call(t)==ah.call(e)}return!1}function uo(t,e,n,r,i,o){var s=n&ft,a=fo(t),l=a.length;if(l!=fo(e).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in e:fu.call(e,u)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var _=s;++c<l;){u=a[c];var d=t[u],p=e[u];if(r)var m=s?r(p,d,u,e,t,o):r(d,p,u,t,e,o);if(!(m===nt?d===p||i(d,p,n,r,o):m)){f=!1;break}_||(_="constructor"==u)}if(f&&!_){var g=t.constructor,v=e.constructor;g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(f=!1)}return o.delete(t),o.delete(e),f}function ho(t){return Eh(No(t,nt,cs),t+"")}function fo(t){return dr(t,Il,bh)}function _o(t){return dr(t,Pl,Ch)}function po(t){for(var e=t.name+"",n=th[e],r=fu.call(th,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function mo(t){return(fu.call(n,"placeholder")?n:t).placeholder}function go(){var t=n.iteratee||Lc;return t=t===Lc?Br:t,arguments.length?t(arguments[0],arguments[1]):t}function vo(t,e){var n=t.__data__;return Oo(e)?n["string"==typeof e?"string":"hash"]:n.map}function yo(t){for(var e=Il(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Po(i)]}return e}function bo(t,e){var n=j(t,e);return Rr(n)?n:nt}function Co(t){var e=fu.call(t,Tu),n=t[Tu];try{t[Tu]=nt;var r=!0}catch(t){}var i=pu.call(t);return r&&(e?t[Tu]=n:delete t[Tu]),i}function wo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Nu(e,t+s);break;case"takeRight":t=Uu(t,e-s)}}return{start:t,end:e}}function Ao(t){var e=t.match(He);return e?e[1].split(Ie):[]}function xo(t,e,n){e=bi(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Yo(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Qa(i)&&Ro(s,i)&&(_f(t)||ff(t))}function So(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Eo(t){return"function"!=typeof t.constructor||Io(t)?{}:ch(Au(t))}function Lo(t,e,n){var r=t.constructor;switch(e){case oe:return Ai(t);case Ut:case Nt:return new r(+t);case se:return xi(t,n);case ae:case le:case ce:case ue:case he:case fe:case _e:case de:case pe:return Li(t,n);case qt:return new r;case Vt:case te:return new r(t);case Xt:return Si(t);case Qt:return new r;case ee:return Ei(t)}}function ko(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function To(t){return _f(t)||ff(t)||!!(Lu&&t&&t[Lu])}function Ro(t,e){var n=typeof t;return!!(e=null==e?Mt:e)&&("number"==n||"symbol"!=n&&Ke.test(t))&&t>-1&&t%1==0&&t<e}function Mo(t,e,n){if(!tl(n))return!1;var r=typeof e;return!!("number"==r?Na(n)&&Ro(e,n.length):"string"==r&&e in n)&&Ua(n[e],t)}function Do(t,e){if(_f(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!fl(t))||(Le.test(t)||!Ee.test(t)||null!=e&&t in ru(e))}function Oo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Bo(t){var e=po(t),r=n[e];if("function"!=typeof r||!(e in v.prototype))return!1;if(t===r)return!0;var i=yh(r);return!!i&&t===i[0]}function Ho(t){return!!du&&du in t}function Io(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||cu)}function Po(t){return t===t&&!tl(t)}function Fo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in ru(n)))}}function Wo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(dt|pt|Ct),s=r==Ct&&n==gt||r==Ct&&n==wt&&t[7].length<=e[8]||r==(Ct|wt)&&e[7].length<=e[8]&&n==gt;if(!o&&!s)return t;r&dt&&(t[2]=e[2],i|=n&dt?0:mt);var a=e[3];if(a){var l=t[3];t[3]=l?Ri(l,a,e[4]):a,t[4]=l?G(t[3],lt):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Mi(l,a,e[6]):a,t[6]=l?G(t[5],lt):e[6]),a=e[7],a&&(t[7]=a),r&Ct&&(t[8]=null==t[8]?e[8]:Nu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function jo(t){var e=[];if(null!=t)for(var n in ru(t))e.push(n);return e}function Uo(t){return pu.call(t)}function No(t,e,n){return e=Uu(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Uu(r.length-e,0),a=Xc(s);++i<s;)a[i]=r[e+i];i=-1;for(var l=Xc(e+1);++i<e;)l[i]=r[i];return l[e]=n(a),o(t,this,l)}}function zo(t,e){return e.length<2?t:_r(t,ii(e,0,-1))}function $o(t,e){for(var n=t.length,r=Nu(e.length,n),i=Di(t);r--;){var o=e[r];t[r]=Ro(o,n)?i[o]:nt}return t}function Ko(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function Go(t,e,n){var r=e+"";return Eh(t,ko(r,Jo(Ao(r),n)))}function qo(t){var e=0,n=0;return function(){var r=zu(),i=Lt-(r-n);if(n=r,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Vo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Zr(n,i),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Yo(t){if("string"==typeof t||fl(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function Zo(t){if(null!=t){try{return hu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jo(t,e){return a(Pt,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function Xo(t){if(t instanceof v)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Di(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Qo(t,e,n){e=(n?Mo(t,e,n):e===nt)?1:Uu(vl(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,s=Xc(Bu(r/e));i<r;)s[o++]=ii(t,i,i+=e);return s}function ts(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function es(){var t=arguments.length;if(!t)return[];for(var e=Xc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(_f(n)?Di(n):[n],cr(e,1))}function ns(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:vl(e),ii(t,e<0?0:e,r)):[]}function rs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:vl(e),e=r-e,ii(t,0,e<0?0:e)):[]}function is(t,e){return t&&t.length?di(t,go(e,3),!0,!0):[]}function os(t,e){return t&&t.length?di(t,go(e,3),!0):[]}function ss(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Mo(t,e,n)&&(n=0,r=i),ar(t,e,n,r)):[]}function as(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vl(n);return i<0&&(i=Uu(r+i,0)),C(t,go(e,3),i)}function ls(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=vl(n),i=n<0?Uu(r+i,0):Nu(i,r-1)),C(t,go(e,3),i,!0)}function cs(t){return(null==t?0:t.length)?cr(t,1):[]}function us(t){return(null==t?0:t.length)?cr(t,Rt):[]}function hs(t,e){return(null==t?0:t.length)?(e=e===nt?1:vl(e),cr(t,e)):[]}function fs(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function _s(t){return t&&t.length?t[0]:nt}function ds(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:vl(n);return i<0&&(i=Uu(r+i,0)),w(t,e,i)}function ps(t){return(null==t?0:t.length)?ii(t,0,-1):[]}function ms(t,e){return null==t?"":Wu.call(t,e)}function gs(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function vs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=vl(n),i=i<0?Uu(r+i,0):Nu(i,r-1)),e===e?Z(t,e,i):C(t,x,i,!0)}function ys(t,e){return t&&t.length?zr(t,vl(e)):nt}function bs(t,e){return t&&t.length&&e&&e.length?Vr(t,e):t}function Cs(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,go(n,2)):t}function ws(t,e,n){return t&&t.length&&e&&e.length?Vr(t,e,nt,n):t}function As(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=go(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Yr(t,i),n}function xs(t){return null==t?t:Gu.call(t)}function Ss(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Mo(t,e,n)?(e=0,n=r):(e=null==e?0:vl(e),n=n===nt?r:vl(n)),ii(t,e,n)):[]}function Es(t,e){return si(t,e)}function Ls(t,e,n){return ai(t,e,go(n,2))}function ks(t,e){var n=null==t?0:t.length;if(n){var r=si(t,e);if(r<n&&Ua(t[r],e))return r}return-1}function Ts(t,e){return si(t,e,!0)}function Rs(t,e,n){return ai(t,e,go(n,2),!0)}function Ms(t,e){if(null==t?0:t.length){var n=si(t,e,!0)-1;if(Ua(t[n],e))return n}return-1}function Ds(t){return t&&t.length?li(t):[]}function Os(t,e){return t&&t.length?li(t,go(e,2)):[]}function Bs(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]}function Hs(t,e,n){return t&&t.length?(e=n||e===nt?1:vl(e),ii(t,0,e<0?0:e)):[]}function Is(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:vl(e),e=r-e,ii(t,e<0?0:e,r)):[]}function Ps(t,e){return t&&t.length?di(t,go(e,3),!1,!0):[]}function Fs(t,e){return t&&t.length?di(t,go(e,3)):[]}function Ws(t){return t&&t.length?hi(t):[]}function js(t,e){return t&&t.length?hi(t,go(e,2)):[]}function Us(t,e){return e="function"==typeof e?e:nt,t&&t.length?hi(t,nt,e):[]}function Ns(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(za(t))return e=Uu(t.length,e),!0}),M(e,function(e){return _(t,E(e))})}function zs(t,e){if(!t||!t.length)return[];var n=Ns(t);return null==e?n:_(n,function(t){return o(e,nt,t)})}function $s(t,e){return gi(t||[],e||[],Nn)}function Ks(t,e){return gi(t||[],e||[],ni)}function Gs(t){var e=n(t);return e.__chain__=!0,e}function qs(t,e){return e(t),t}function Vs(t,e){return e(t)}function Ys(){return Gs(this)}function Zs(){return new i(this.value(),this.__chain__)}function Js(){this.__values__===nt&&(this.__values__=ml(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function Xs(){return this}function Qs(t){for(var e,n=this;n instanceof r;){var i=Xo(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ta(){var t=this.__wrapped__;if(t instanceof v){var e=t;return this.__actions__.length&&(e=new v(this)),e=e.reverse(),e.__actions__.push({func:Vs,args:[xs],thisArg:nt}),new i(e,this.__chain__)}return this.thru(xs)}function ea(){return pi(this.__wrapped__,this.__actions__)}function na(t,e,n){var r=_f(t)?c:or;return n&&Mo(t,e,n)&&(e=nt),r(t,go(e,3))}function ra(t,e){return(_f(t)?u:lr)(t,go(e,3))}function ia(t,e){return cr(ua(t,e),1)}function oa(t,e){return cr(ua(t,e),Rt)}function sa(t,e,n){return n=n===nt?1:vl(n),cr(ua(t,e),n)}function aa(t,e){return(_f(t)?a:uh)(t,go(e,3))}function la(t,e){return(_f(t)?l:hh)(t,go(e,3))}function ca(t,e,n,r){t=Na(t)?t:Yl(t),n=n&&!r?vl(n):0;var i=t.length;return n<0&&(n=Uu(i+n,0)),hl(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function ua(t,e){return(_f(t)?_:Fr)(t,go(e,3))}function ha(t,e,n,r){return null==t?[]:(_f(e)||(e=null==e?[]:[e]),n=r?nt:n,_f(n)||(n=null==n?[]:[n]),$r(t,e,n))}function fa(t,e,n){var r=_f(t)?p:k,i=arguments.length<3;return r(t,go(e,4),n,i,uh)}function _a(t,e,n){var r=_f(t)?m:k,i=arguments.length<3;return r(t,go(e,4),n,i,hh)}function da(t,e){return(_f(t)?u:lr)(t,ka(go(e,3)))}function pa(t){return(_f(t)?Mn:ti)(t)}function ma(t,e,n){return e=(n?Mo(t,e,n):e===nt)?1:vl(e),(_f(t)?Dn:ei)(t,e)}function ga(t){return(_f(t)?Bn:ri)(t)}function va(t){if(null==t)return 0;if(Na(t))return hl(t)?J(t):t.length;var e=wh(t);return e==qt||e==Qt?t.size:Hr(t).length}function ya(t,e,n){var r=_f(t)?g:oi;return n&&Mo(t,e,n)&&(e=nt),r(t,go(e,3))}function ba(t,e){if("function"!=typeof e)throw new su(ot);return t=vl(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ca(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,io(t,Ct,nt,nt,nt,nt,e)}function wa(t,e){var n;if("function"!=typeof e)throw new su(ot);return t=vl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Aa(t,e,n){e=n?nt:e;var r=io(t,gt,nt,nt,nt,nt,nt,e);return r.placeholder=Aa.placeholder,r}function xa(t,e,n){e=n?nt:e;var r=io(t,vt,nt,nt,nt,nt,nt,e);return r.placeholder=xa.placeholder,r}function Sa(t,e,n){function r(e){var n=f,r=_;return f=_=nt,v=e,p=t.apply(r,n)}function i(t){return v=t,m=Sh(a,e),y?r(t):p}function o(t){var n=t-g,r=t-v,i=e-n;return b?Nu(i,d-r):i}function s(t){var n=t-g,r=t-v;return g===nt||n>=e||n<0||b&&r>=d}function a(){var t=tf();if(s(t))return l(t);m=Sh(a,o(t))}function l(t){return m=nt,C&&f?r(t):(f=_=nt,p)}function c(){m!==nt&&gh(m),v=0,f=g=_=m=nt}function u(){return m===nt?p:l(tf())}function h(){var t=tf(),n=s(t);if(f=arguments,_=this,g=t,n){if(m===nt)return i(g);if(b)return gh(m),m=Sh(a,e),r(g)}return m===nt&&(m=Sh(a,e)),p}var f,_,d,p,m,g,v=0,y=!1,b=!1,C=!0;if("function"!=typeof t)throw new su(ot);return e=bl(e)||0,tl(n)&&(y=!!n.leading,b="maxWait"in n,d=b?Uu(bl(n.maxWait)||0,e):d,C="trailing"in n?!!n.trailing:C),h.cancel=c,h.flush=u,h}function Ea(t){return io(t,At)}function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new su(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(La.Cache||sn),n}function ka(t){if("function"!=typeof t)throw new su(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ta(t){return wa(2,t)}function Ra(t,e){if("function"!=typeof t)throw new su(ot);return e=e===nt?e:vl(e),Qr(t,e)}function Ma(t,e){if("function"!=typeof t)throw new su(ot);return e=null==e?0:Uu(vl(e),0),Qr(function(n){var r=n[e],i=Ci(n,0,e);return r&&d(i,r),o(t,this,i)})}function Da(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new su(ot);return tl(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Sa(t,e,{leading:r,maxWait:e,trailing:i})}function Oa(t){return Ca(t,1)}function Ba(t,e){return af(yi(e),t)}function Ha(){if(!arguments.length)return[];var t=arguments[0];return _f(t)?t:[t]}function Ia(t){return tr(t,ht)}function Pa(t,e){return e="function"==typeof e?e:nt,tr(t,ht,e)}function Fa(t){return tr(t,ct|ht)}function Wa(t,e){return e="function"==typeof e?e:nt,tr(t,ct|ht,e)}function ja(t,e){return null==e||nr(t,e,Il(e))}function Ua(t,e){return t===e||t!==t&&e!==e}function Na(t){return null!=t&&Qa(t.length)&&!Ja(t)}function za(t){return el(t)&&Na(t)}function $a(t){return!0===t||!1===t||el(t)&&pr(t)==Ut}function Ka(t){return el(t)&&1===t.nodeType&&!cl(t)}function Ga(t){if(null==t)return!0;if(Na(t)&&(_f(t)||"string"==typeof t||"function"==typeof t.splice||pf(t)||bf(t)||ff(t)))return!t.length;var e=wh(t);if(e==qt||e==Qt)return!t.size;if(Io(t))return!Hr(t).length;for(var n in t)if(fu.call(t,n))return!1;return!0}function qa(t,e){return Er(t,e)}function Va(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Er(t,e,nt,n):!!r}function Ya(t){if(!el(t))return!1;var e=pr(t);return e==$t||e==zt||"string"==typeof t.message&&"string"==typeof t.name&&!cl(t)}function Za(t){return"number"==typeof t&&Fu(t)}function Ja(t){if(!tl(t))return!1;var e=pr(t);return e==Kt||e==Gt||e==jt||e==Jt}function Xa(t){return"number"==typeof t&&t==vl(t)}function Qa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Mt}function tl(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function el(t){return null!=t&&"object"==typeof t}function nl(t,e){return t===e||Tr(t,e,yo(e))}function rl(t,e,n){return n="function"==typeof n?n:nt,Tr(t,e,yo(e),n)}function il(t){return ll(t)&&t!=+t}function ol(t){if(Ah(t))throw new tu(it);return Rr(t)}function sl(t){return null===t}function al(t){return null==t}function ll(t){return"number"==typeof t||el(t)&&pr(t)==Vt}function cl(t){if(!el(t)||pr(t)!=Zt)return!1;var e=Au(t);if(null===e)return!0;var n=fu.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&hu.call(n)==mu}function ul(t){return Xa(t)&&t>=-Mt&&t<=Mt}function hl(t){return"string"==typeof t||!_f(t)&&el(t)&&pr(t)==te}function fl(t){return"symbol"==typeof t||el(t)&&pr(t)==ee}function _l(t){return t===nt}function dl(t){return el(t)&&wh(t)==re}function pl(t){return el(t)&&pr(t)==ie}function ml(t){if(!t)return[];if(Na(t))return hl(t)?X(t):Di(t);if(ku&&t[ku])return z(t[ku]());var e=wh(t);return(e==qt?$:e==Qt?q:Yl)(t)}function gl(t){if(!t)return 0===t?t:0;if((t=bl(t))===Rt||t===-Rt){return(t<0?-1:1)*Dt}return t===t?t:0}function vl(t){var e=gl(t),n=e%1;return e===e?n?e-n:e:0}function yl(t){return t?Qn(vl(t),0,Bt):0}function bl(t){if("number"==typeof t)return t;if(fl(t))return Ot;if(tl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Me,"");var n=Ne.test(t);return n||$e.test(t)?Ln(t.slice(2),n?2:8):Ue.test(t)?Ot:+t}function Cl(t){return Oi(t,Pl(t))}function wl(t){return t?Qn(vl(t),-Mt,Mt):0===t?t:0}function Al(t){return null==t?"":ui(t)}function xl(t,e){var n=ch(t);return null==e?n:Yn(n,e)}function Sl(t,e){return b(t,go(e,3),ur)}function El(t,e){return b(t,go(e,3),hr)}function Ll(t,e){return null==t?t:fh(t,go(e,3),Pl)}function kl(t,e){return null==t?t:_h(t,go(e,3),Pl)}function Tl(t,e){return t&&ur(t,go(e,3))}function Rl(t,e){return t&&hr(t,go(e,3))}function Ml(t){return null==t?[]:fr(t,Il(t))}function Dl(t){return null==t?[]:fr(t,Pl(t))}function Ol(t,e,n){var r=null==t?nt:_r(t,e);return r===nt?n:r}function Bl(t,e){return null!=t&&xo(t,e,gr)}function Hl(t,e){return null!=t&&xo(t,e,vr)}function Il(t){return Na(t)?Tn(t):Hr(t)}function Pl(t){return Na(t)?Tn(t,!0):Ir(t)}function Fl(t,e){var n={};return e=go(e,3),ur(t,function(t,r,i){Jn(n,e(t,r,i),t)}),n}function Wl(t,e){var n={};return e=go(e,3),ur(t,function(t,r,i){Jn(n,r,e(t,r,i))}),n}function jl(t,e){return Ul(t,ka(go(e)))}function Ul(t,e){if(null==t)return{};var n=_(_o(t),function(t){return[t]});return e=go(e),Gr(t,n,function(t,n){return e(t,n[0])})}function Nl(t,e,n){e=bi(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[Yo(e[r])];o===nt&&(r=i,o=n),t=Ja(o)?o.call(t):o}return t}function zl(t,e,n){return null==t?t:ni(t,e,n)}function $l(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ni(t,e,n,r)}function Kl(t,e,n){var r=_f(t),i=r||pf(t)||bf(t);if(e=go(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:tl(t)&&Ja(o)?ch(Au(t)):{}}return(i?a:ur)(t,function(t,r,i){return e(n,t,r,i)}),n}function Gl(t,e){return null==t||fi(t,e)}function ql(t,e,n){return null==t?t:_i(t,e,yi(n))}function Vl(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:_i(t,e,yi(n),r)}function Yl(t){return null==t?[]:B(t,Il(t))}function Zl(t){return null==t?[]:B(t,Pl(t))}function Jl(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=bl(n),n=n===n?n:0),e!==nt&&(e=bl(e),e=e===e?e:0),Qn(bl(t),e,n)}function Xl(t,e,n){return e=gl(e),n===nt?(n=e,e=0):n=gl(n),t=bl(t),yr(t,e,n)}function Ql(t,e,n){if(n&&"boolean"!=typeof n&&Mo(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=gl(t),e===nt?(e=t,t=0):e=gl(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Ku();return Nu(t+i*(e-t+En("1e-"+((i+"").length-1))),e)}return Zr(t,e)}function tc(t){return Gf(Al(t).toLowerCase())}function ec(t){return(t=Al(t))&&t.replace(Ge,zn).replace(_n,"")}function nc(t,e,n){t=Al(t),e=ui(e);var r=t.length;n=n===nt?r:Qn(vl(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function rc(t){return t=Al(t),t&&we.test(t)?t.replace(be,$n):t}function ic(t){return t=Al(t),t&&Re.test(t)?t.replace(Te,"\\$&"):t}function oc(t,e,n){t=Al(t),e=vl(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ji(Hu(i),n)+t+Ji(Bu(i),n)}function sc(t,e,n){t=Al(t),e=vl(e);var r=e?J(t):0;return e&&r<e?t+Ji(e-r,n):t}function ac(t,e,n){t=Al(t),e=vl(e);var r=e?J(t):0;return e&&r<e?Ji(e-r,n)+t:t}function lc(t,e,n){return n||null==e?e=0:e&&(e=+e),$u(Al(t).replace(De,""),e||0)}function cc(t,e,n){return e=(n?Mo(t,e,n):e===nt)?1:vl(e),Xr(Al(t),e)}function uc(){var t=arguments,e=Al(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function hc(t,e,n){return n&&"number"!=typeof n&&Mo(t,e,n)&&(e=n=nt),(n=n===nt?Bt:n>>>0)?(t=Al(t),t&&("string"==typeof e||null!=e&&!vf(e))&&!(e=ui(e))&&U(t)?Ci(X(t),0,n):t.split(e,n)):[]}function fc(t,e,n){return t=Al(t),n=null==n?0:Qn(vl(n),0,t.length),e=ui(e),t.slice(n,n+e.length)==e}function _c(t,e,r){var i=n.templateSettings;r&&Mo(t,e,r)&&(e=nt),t=Al(t),e=Sf({},e,i,oo);var o,s,a=Sf({},e.imports,i.imports,oo),l=Il(a),c=B(a,l),u=0,h=e.interpolate||qe,f="__p += '",_=iu((e.escape||qe).source+"|"+h.source+"|"+(h===Se?We:qe).source+"|"+(e.evaluate||qe).source+"|$","g"),d="//# sourceURL="+(fu.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++yn+"]")+"\n";t.replace(_,function(e,n,r,i,a,l){return r||(r=i),f+=t.slice(u,l).replace(Ve,W),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),f+="';\n";var p=fu.call(e,"variable")&&e.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(me,""):f).replace(ge,"$1").replace(ve,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=qf(function(){return eu(l,d+"return "+f).apply(nt,c)});if(m.source=f,Ya(m))throw m;return m}function dc(t){return Al(t).toLowerCase()}function pc(t){return Al(t).toUpperCase()}function mc(t,e,n){if((t=Al(t))&&(n||e===nt))return t.replace(Me,"");if(!t||!(e=ui(e)))return t;var r=X(t),i=X(e);return Ci(r,I(r,i),P(r,i)+1).join("")}function gc(t,e,n){if((t=Al(t))&&(n||e===nt))return t.replace(Oe,"");if(!t||!(e=ui(e)))return t;var r=X(t);return Ci(r,0,P(r,X(e))+1).join("")}function vc(t,e,n){if((t=Al(t))&&(n||e===nt))return t.replace(De,"");if(!t||!(e=ui(e)))return t;var r=X(t);return Ci(r,I(r,X(e))).join("")}function yc(t,e){var n=xt,r=St;if(tl(e)){var i="separator"in e?e.separator:i;n="length"in e?vl(e.length):n,r="omission"in e?ui(e.omission):r}t=Al(t);var o=t.length;if(U(t)){var s=X(t);o=s.length}if(n>=o)return t;var a=n-J(r);if(a<1)return r;var l=s?Ci(s,0,a).join(""):t.slice(0,a);if(i===nt)return l+r;if(s&&(a+=l.length-a),vf(i)){if(t.slice(a).search(i)){var c,u=l;for(i.global||(i=iu(i.source,Al(je.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,h===nt?a:h)}}else if(t.indexOf(ui(i),a)!=a){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r}function bc(t){return t=Al(t),t&&Ce.test(t)?t.replace(ye,Kn):t}function Cc(t,e,n){return t=Al(t),e=n?nt:e,e===nt?N(t)?et(t):y(t):t.match(e)||[]}function wc(t){var e=null==t?0:t.length,n=go();return t=e?_(t,function(t){if("function"!=typeof t[1])throw new su(ot);return[n(t[0]),t[1]]}):[],Qr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Ac(t){return er(tr(t,ct))}function xc(t){return function(){return t}}function Sc(t,e){return null==t||t!==t?e:t}function Ec(t){return t}function Lc(t){return Br("function"==typeof t?t:tr(t,ct))}function kc(t){return Wr(tr(t,ct))}function Tc(t,e){return jr(t,tr(e,ct))}function Rc(t,e,n){var r=Il(e),i=fr(e,r);null!=n||tl(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=fr(e,Il(e)));var o=!(tl(n)&&"chain"in n&&!n.chain),s=Ja(t);return a(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Mc(){return Rn._===this&&(Rn._=gu),this}function Dc(){}function Oc(t){return t=vl(t),Qr(function(e){return zr(e,t)})}function Bc(t){return Do(t)?E(Yo(t)):qr(t)}function Hc(t){return function(e){return null==t?nt:_r(t,e)}}function Ic(){return[]}function Pc(){return!1}function Fc(){return{}}function Wc(){return""}function jc(){return!0}function Uc(t,e){if((t=vl(t))<1||t>Mt)return[];var n=Bt,r=Nu(t,Bt);e=go(e),t-=Bt;for(var i=M(r,e);++n<t;)e(n);return i}function Nc(t){return _f(t)?_(t,Yo):fl(t)?[t]:Di(Lh(Al(t)))}function zc(t){var e=++_u;return Al(t)+e}function $c(t){return t&&t.length?sr(t,Ec,mr):nt}function Kc(t,e){return t&&t.length?sr(t,go(e,2),mr):nt}function Gc(t){return S(t,Ec)}function qc(t,e){return S(t,go(e,2))}function Vc(t){return t&&t.length?sr(t,Ec,Pr):nt}function Yc(t,e){return t&&t.length?sr(t,go(e,2),Pr):nt}function Zc(t){return t&&t.length?R(t,Ec):0}function Jc(t,e){return t&&t.length?R(t,go(e,2)):0}e=null==e?Rn:Gn.defaults(Rn.Object(),e,Gn.pick(Rn,vn));var Xc=e.Array,Qc=e.Date,tu=e.Error,eu=e.Function,nu=e.Math,ru=e.Object,iu=e.RegExp,ou=e.String,su=e.TypeError,au=Xc.prototype,lu=eu.prototype,cu=ru.prototype,uu=e["__core-js_shared__"],hu=lu.toString,fu=cu.hasOwnProperty,_u=0,du=function(){var t=/[^.]+$/.exec(uu&&uu.keys&&uu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pu=cu.toString,mu=hu.call(ru),gu=Rn._,vu=iu("^"+hu.call(fu).replace(Te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yu=On?e.Buffer:nt,bu=e.Symbol,Cu=e.Uint8Array,wu=yu?yu.allocUnsafe:nt,Au=K(ru.getPrototypeOf,ru),xu=ru.create,Su=cu.propertyIsEnumerable,Eu=au.splice,Lu=bu?bu.isConcatSpreadable:nt,ku=bu?bu.iterator:nt,Tu=bu?bu.toStringTag:nt,Ru=function(){try{var t=bo(ru,"defineProperty");return t({},"",{}),t}catch(t){}}(),Mu=e.clearTimeout!==Rn.clearTimeout&&e.clearTimeout,Du=Qc&&Qc.now!==Rn.Date.now&&Qc.now,Ou=e.setTimeout!==Rn.setTimeout&&e.setTimeout,Bu=nu.ceil,Hu=nu.floor,Iu=ru.getOwnPropertySymbols,Pu=yu?yu.isBuffer:nt,Fu=e.isFinite,Wu=au.join,ju=K(ru.keys,ru),Uu=nu.max,Nu=nu.min,zu=Qc.now,$u=e.parseInt,Ku=nu.random,Gu=au.reverse,qu=bo(e,"DataView"),Vu=bo(e,"Map"),Yu=bo(e,"Promise"),Zu=bo(e,"Set"),Ju=bo(e,"WeakMap"),Xu=bo(ru,"create"),Qu=Ju&&new Ju,th={},eh=Zo(qu),nh=Zo(Vu),rh=Zo(Yu),ih=Zo(Zu),oh=Zo(Ju),sh=bu?bu.prototype:nt,ah=sh?sh.valueOf:nt,lh=sh?sh.toString:nt,ch=function(){function t(){}return function(e){if(!tl(e))return{};if(xu)return xu(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Ae,evaluate:xe,interpolate:Se,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=ch(r.prototype),i.prototype.constructor=i,v.prototype=ch(r.prototype),v.prototype.constructor=v,tt.prototype.clear=Pe,tt.prototype.delete=Ye,tt.prototype.get=Ze,tt.prototype.has=Je,tt.prototype.set=Xe,Qe.prototype.clear=tn,Qe.prototype.delete=en,Qe.prototype.get=nn,Qe.prototype.has=rn,Qe.prototype.set=on,sn.prototype.clear=an,sn.prototype.delete=ln,sn.prototype.get=cn,sn.prototype.has=un,sn.prototype.set=hn,dn.prototype.add=dn.prototype.push=pn,dn.prototype.has=mn,gn.prototype.clear=wn,gn.prototype.delete=An,gn.prototype.get=xn,gn.prototype.has=Sn,gn.prototype.set=kn;var uh=Fi(ur),hh=Fi(hr,!0),fh=Wi(),_h=Wi(!0),dh=Qu?function(t,e){return Qu.set(t,e),t}:Ec,ph=Ru?function(t,e){return Ru(t,"toString",{configurable:!0,enumerable:!1,value:xc(e),writable:!0})}:Ec,mh=Qr,gh=Mu||function(t){return Rn.clearTimeout(t)},vh=Zu&&1/q(new Zu([,-0]))[1]==Rt?function(t){return new Zu(t)}:Dc,yh=Qu?function(t){return Qu.get(t)}:Dc,bh=Iu?function(t){return null==t?[]:(t=ru(t),u(Iu(t),function(e){return Su.call(t,e)}))}:Ic,Ch=Iu?function(t){for(var e=[];t;)d(e,bh(t)),t=Au(t);return e}:Ic,wh=pr;(qu&&wh(new qu(new ArrayBuffer(1)))!=se||Vu&&wh(new Vu)!=qt||Yu&&"[object Promise]"!=wh(Yu.resolve())||Zu&&wh(new Zu)!=Qt||Ju&&wh(new Ju)!=re)&&(wh=function(t){var e=pr(t),n=e==Zt?t.constructor:nt,r=n?Zo(n):"";if(r)switch(r){case eh:return se;case nh:return qt;case rh:return"[object Promise]";case ih:return Qt;case oh:return re}return e});var Ah=uu?Ja:Pc,xh=qo(dh),Sh=Ou||function(t,e){return Rn.setTimeout(t,e)},Eh=qo(ph),Lh=function(t){var e=La(t,function(t){return n.size===at&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ke,function(t,n,r,i){e.push(r?i.replace(Fe,"$1"):n||t)}),e}),kh=Qr(function(t,e){return za(t)?ir(t,cr(e,1,za,!0)):[]}),Th=Qr(function(t,e){var n=gs(e);return za(n)&&(n=nt),za(t)?ir(t,cr(e,1,za,!0),go(n,2)):[]}),Rh=Qr(function(t,e){var n=gs(e);return za(n)&&(n=nt),za(t)?ir(t,cr(e,1,za,!0),nt,n):[]}),Mh=Qr(function(t){var e=_(t,vi);return e.length&&e[0]===t[0]?br(e):[]}),Dh=Qr(function(t){var e=gs(t),n=_(t,vi);return e===gs(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?br(n,go(e,2)):[]}),Oh=Qr(function(t){var e=gs(t),n=_(t,vi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?br(n,nt,e):[]}),Bh=Qr(bs),Hh=ho(function(t,e){var n=null==t?0:t.length,r=Xn(t,e);return Yr(t,_(e,function(t){return Ro(t,n)?+t:t}).sort(ki)),r}),Ih=Qr(function(t){return hi(cr(t,1,za,!0))}),Ph=Qr(function(t){var e=gs(t);return za(e)&&(e=nt),hi(cr(t,1,za,!0),go(e,2))}),Fh=Qr(function(t){var e=gs(t);return e="function"==typeof e?e:nt,hi(cr(t,1,za,!0),nt,e)}),Wh=Qr(function(t,e){return za(t)?ir(t,e):[]}),jh=Qr(function(t){return mi(u(t,za))}),Uh=Qr(function(t){var e=gs(t);return za(e)&&(e=nt),mi(u(t,za),go(e,2))}),Nh=Qr(function(t){var e=gs(t);return e="function"==typeof e?e:nt,mi(u(t,za),nt,e)}),zh=Qr(Ns),$h=Qr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,zs(t,n)}),Kh=ho(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Xn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof v&&Ro(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Vs,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Gh=Ii(function(t,e,n){fu.call(t,n)?++t[n]:Jn(t,n,1)}),qh=Ki(as),Vh=Ki(ls),Yh=Ii(function(t,e,n){fu.call(t,n)?t[n].push(e):Jn(t,n,[e])}),Zh=Qr(function(t,e,n){var r=-1,i="function"==typeof e,s=Na(t)?Xc(t.length):[];return uh(t,function(t){s[++r]=i?o(e,t,n):wr(t,e,n)}),s}),Jh=Ii(function(t,e,n){Jn(t,n,e)}),Xh=Ii(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Qh=Qr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Mo(t,e[0],e[1])?e=[]:n>2&&Mo(e[0],e[1],e[2])&&(e=[e[0]]),$r(t,cr(e,1),[])}),tf=Du||function(){return Rn.Date.now()},ef=Qr(function(t,e,n){var r=dt;if(n.length){var i=G(n,mo(ef));r|=yt}return io(t,r,e,n,i)}),nf=Qr(function(t,e,n){var r=dt|pt;if(n.length){var i=G(n,mo(nf));r|=yt}return io(e,r,t,n,i)}),rf=Qr(function(t,e){return rr(t,1,e)}),of=Qr(function(t,e,n){return rr(t,bl(e)||0,n)});La.Cache=sn;var sf=mh(function(t,e){e=1==e.length&&_f(e[0])?_(e[0],O(go())):_(cr(e,1),O(go()));var n=e.length;return Qr(function(r){for(var i=-1,s=Nu(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),af=Qr(function(t,e){var n=G(e,mo(af));return io(t,yt,nt,e,n)}),lf=Qr(function(t,e){var n=G(e,mo(lf));return io(t,bt,nt,e,n)}),cf=ho(function(t,e){return io(t,wt,nt,nt,nt,e)}),uf=to(mr),hf=to(function(t,e){return t>=e}),ff=Ar(function(){return arguments}())?Ar:function(t){return el(t)&&fu.call(t,"callee")&&!Su.call(t,"callee")},_f=Xc.isArray,df=In?O(In):xr,pf=Pu||Pc,mf=Pn?O(Pn):Sr,gf=Fn?O(Fn):kr,vf=Wn?O(Wn):Mr,yf=jn?O(jn):Dr,bf=Un?O(Un):Or,Cf=to(Pr),wf=to(function(t,e){return t<=e}),Af=Pi(function(t,e){if(Io(e)||Na(e))return void Oi(e,Il(e),t);for(var n in e)fu.call(e,n)&&Nn(t,n,e[n])}),xf=Pi(function(t,e){Oi(e,Pl(e),t)}),Sf=Pi(function(t,e,n,r){Oi(e,Pl(e),t,r)}),Ef=Pi(function(t,e,n,r){Oi(e,Il(e),t,r)}),Lf=ho(Xn),kf=Qr(function(t,e){t=ru(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&Mo(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=Pl(o),a=-1,l=s.length;++a<l;){var c=s[a],u=t[c];(u===nt||Ua(u,cu[c])&&!fu.call(t,c))&&(t[c]=o[c])}return t}),Tf=Qr(function(t){return t.push(nt,so),o(Bf,nt,t)}),Rf=Vi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pu.call(e)),t[e]=n},xc(Ec)),Mf=Vi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pu.call(e)),fu.call(t,e)?t[e].push(n):t[e]=[n]},go),Df=Qr(wr),Of=Pi(function(t,e,n){Ur(t,e,n)}),Bf=Pi(function(t,e,n,r){Ur(t,e,n,r)}),Hf=ho(function(t,e){var n={};if(null==t)return n;var r=!1;e=_(e,function(e){return e=bi(e,t),r||(r=e.length>1),e}),Oi(t,_o(t),n),r&&(n=tr(n,ct|ut|ht,ao));for(var i=e.length;i--;)fi(n,e[i]);return n}),If=ho(function(t,e){return null==t?{}:Kr(t,e)}),Pf=ro(Il),Ff=ro(Pl),Wf=Ni(function(t,e,n){return e=e.toLowerCase(),t+(n?tc(e):e)}),jf=Ni(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Uf=Ni(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Nf=Ui("toLowerCase"),zf=Ni(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),$f=Ni(function(t,e,n){return t+(n?" ":"")+Gf(e)}),Kf=Ni(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Gf=Ui("toUpperCase"),qf=Qr(function(t,e){try{return o(t,nt,e)}catch(t){return Ya(t)?t:new tu(t)}}),Vf=ho(function(t,e){return a(e,function(e){e=Yo(e),Jn(t,e,ef(t[e],t))}),t}),Yf=Gi(),Zf=Gi(!0),Jf=Qr(function(t,e){return function(n){return wr(n,t,e)}}),Xf=Qr(function(t,e){return function(n){return wr(t,n,e)}}),Qf=Zi(_),t_=Zi(c),e_=Zi(g),n_=Qi(),r_=Qi(!0),i_=Yi(function(t,e){return t+e},0),o_=no("ceil"),s_=Yi(function(t,e){return t/e},1),a_=no("floor"),l_=Yi(function(t,e){return t*e},1),c_=no("round"),u_=Yi(function(t,e){return t-e},0);return n.after=ba,n.ary=Ca,n.assign=Af,n.assignIn=xf,n.assignInWith=Sf,n.assignWith=Ef,n.at=Lf,n.before=wa,n.bind=ef,n.bindAll=Vf,n.bindKey=nf,n.castArray=Ha,n.chain=Gs,n.chunk=Qo,n.compact=ts,n.concat=es,n.cond=wc,n.conforms=Ac,n.constant=xc,n.countBy=Gh,n.create=xl,n.curry=Aa,n.curryRight=xa,n.debounce=Sa,n.defaults=kf,n.defaultsDeep=Tf,n.defer=rf,n.delay=of,n.difference=kh,n.differenceBy=Th,n.differenceWith=Rh,n.drop=ns,n.dropRight=rs,n.dropRightWhile=is,n.dropWhile=os,n.fill=ss,n.filter=ra,n.flatMap=ia,n.flatMapDeep=oa,n.flatMapDepth=sa,n.flatten=cs,n.flattenDeep=us,n.flattenDepth=hs,n.flip=Ea,n.flow=Yf,n.flowRight=Zf,n.fromPairs=fs,n.functions=Ml,n.functionsIn=Dl,n.groupBy=Yh,n.initial=ps,n.intersection=Mh,n.intersectionBy=Dh,n.intersectionWith=Oh,n.invert=Rf,n.invertBy=Mf,n.invokeMap=Zh,n.iteratee=Lc,n.keyBy=Jh,n.keys=Il,n.keysIn=Pl,n.map=ua,n.mapKeys=Fl,n.mapValues=Wl,n.matches=kc,n.matchesProperty=Tc,n.memoize=La,n.merge=Of,n.mergeWith=Bf,n.method=Jf,n.methodOf=Xf,n.mixin=Rc,n.negate=ka,n.nthArg=Oc,n.omit=Hf,n.omitBy=jl,n.once=Ta,n.orderBy=ha,n.over=Qf,n.overArgs=sf,n.overEvery=t_,n.overSome=e_,n.partial=af,n.partialRight=lf,n.partition=Xh,n.pick=If,n.pickBy=Ul,n.property=Bc,n.propertyOf=Hc,n.pull=Bh,n.pullAll=bs,n.pullAllBy=Cs,n.pullAllWith=ws,n.pullAt=Hh,n.range=n_,n.rangeRight=r_,n.rearg=cf,n.reject=da,n.remove=As,n.rest=Ra,n.reverse=xs,n.sampleSize=ma,n.set=zl,n.setWith=$l,n.shuffle=ga,n.slice=Ss,n.sortBy=Qh,n.sortedUniq=Ds,n.sortedUniqBy=Os,n.split=hc,n.spread=Ma,n.tail=Bs,n.take=Hs,n.takeRight=Is,n.takeRightWhile=Ps,n.takeWhile=Fs,n.tap=qs,n.throttle=Da,n.thru=Vs,n.toArray=ml,n.toPairs=Pf,n.toPairsIn=Ff,n.toPath=Nc,n.toPlainObject=Cl,n.transform=Kl,n.unary=Oa,n.union=Ih,n.unionBy=Ph,n.unionWith=Fh,n.uniq=Ws,n.uniqBy=js,n.uniqWith=Us,n.unset=Gl,n.unzip=Ns,n.unzipWith=zs,n.update=ql,n.updateWith=Vl,n.values=Yl,n.valuesIn=Zl,n.without=Wh,n.words=Cc,n.wrap=Ba,n.xor=jh,n.xorBy=Uh,n.xorWith=Nh,n.zip=zh,n.zipObject=$s,n.zipObjectDeep=Ks,n.zipWith=$h,n.entries=Pf,n.entriesIn=Ff,n.extend=xf,n.extendWith=Sf,Rc(n,n),n.add=i_,n.attempt=qf,n.camelCase=Wf,n.capitalize=tc,n.ceil=o_,n.clamp=Jl,n.clone=Ia,n.cloneDeep=Fa,n.cloneDeepWith=Wa,n.cloneWith=Pa,n.conformsTo=ja,n.deburr=ec,n.defaultTo=Sc,n.divide=s_,n.endsWith=nc,n.eq=Ua,n.escape=rc,n.escapeRegExp=ic,n.every=na,n.find=qh,n.findIndex=as,n.findKey=Sl,n.findLast=Vh,n.findLastIndex=ls,n.findLastKey=El,n.floor=a_,n.forEach=aa,n.forEachRight=la,n.forIn=Ll,n.forInRight=kl,n.forOwn=Tl,n.forOwnRight=Rl,n.get=Ol,n.gt=uf,n.gte=hf,n.has=Bl,n.hasIn=Hl,n.head=_s,n.identity=Ec,n.includes=ca,n.indexOf=ds,n.inRange=Xl,n.invoke=Df,n.isArguments=ff,n.isArray=_f,n.isArrayBuffer=df,n.isArrayLike=Na,n.isArrayLikeObject=za,n.isBoolean=$a,n.isBuffer=pf,n.isDate=mf,n.isElement=Ka,n.isEmpty=Ga,n.isEqual=qa,n.isEqualWith=Va,n.isError=Ya,n.isFinite=Za,n.isFunction=Ja,n.isInteger=Xa,n.isLength=Qa,n.isMap=gf,n.isMatch=nl,n.isMatchWith=rl,n.isNaN=il,n.isNative=ol,n.isNil=al,n.isNull=sl,n.isNumber=ll,n.isObject=tl,n.isObjectLike=el,n.isPlainObject=cl,n.isRegExp=vf,n.isSafeInteger=ul,n.isSet=yf,n.isString=hl,n.isSymbol=fl,n.isTypedArray=bf,n.isUndefined=_l,n.isWeakMap=dl,n.isWeakSet=pl,n.join=ms,n.kebabCase=jf,n.last=gs,n.lastIndexOf=vs,n.lowerCase=Uf,n.lowerFirst=Nf,n.lt=Cf,n.lte=wf,n.max=$c,n.maxBy=Kc,n.mean=Gc,n.meanBy=qc,n.min=Vc,n.minBy=Yc,n.stubArray=Ic,n.stubFalse=Pc,n.stubObject=Fc,n.stubString=Wc,n.stubTrue=jc,n.multiply=l_,n.nth=ys,n.noConflict=Mc,n.noop=Dc,n.now=tf,n.pad=oc,n.padEnd=sc,n.padStart=ac,n.parseInt=lc,n.random=Ql,n.reduce=fa,n.reduceRight=_a,n.repeat=cc,n.replace=uc,n.result=Nl,n.round=c_,n.runInContext=t,n.sample=pa,n.size=va,n.snakeCase=zf,n.some=ya,n.sortedIndex=Es,n.sortedIndexBy=Ls,n.sortedIndexOf=ks,n.sortedLastIndex=Ts,n.sortedLastIndexBy=Rs,n.sortedLastIndexOf=Ms,n.startCase=$f,n.startsWith=fc,n.subtract=u_,n.sum=Zc,n.sumBy=Jc,n.template=_c,n.times=Uc,n.toFinite=gl,n.toInteger=vl,n.toLength=yl,n.toLower=dc,n.toNumber=bl,n.toSafeInteger=wl,n.toString=Al,n.toUpper=pc,n.trim=mc,n.trimEnd=gc,n.trimStart=vc,n.truncate=yc,n.unescape=bc,n.uniqueId=zc,n.upperCase=Kf,n.upperFirst=Gf,n.each=aa,n.eachRight=la,n.first=_s,Rc(n,function(){var t={};return ur(n,function(e,r){fu.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.15",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),a(["drop","take"],function(t,e){v.prototype[t]=function(n){n=n===nt?1:Uu(vl(n),0);var r=this.__filtered__&&!e?new v(this):this.clone();return r.__filtered__?r.__takeCount__=Nu(n,r.__takeCount__):r.__views__.push({size:Nu(n,Bt),type:t+(r.__dir__<0?"Right":"")}),r},v.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==kt||3==n;v.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:go(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");v.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");v.prototype[t]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(Ec)},v.prototype.find=function(t){return this.filter(t).head()},v.prototype.findLast=function(t){return this.reverse().find(t)},v.prototype.invokeMap=Qr(function(t,e){return"function"==typeof t?new v(this):this.map(function(n){return wr(n,t,e)})}),v.prototype.reject=function(t){return this.filter(ka(go(t)))},v.prototype.slice=function(t,e){t=vl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new v(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=vl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},v.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},v.prototype.toArray=function(){return this.take(Bt)},ur(v.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),s=n[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);s&&(n.prototype[e]=function(){var e=this.__wrapped__,l=o?[1]:arguments,c=e instanceof v,u=l[0],h=c||_f(e),f=function(t){var e=s.apply(n,d([t],l));return o&&_?e[0]:e};h&&r&&"function"==typeof u&&1!=u.length&&(c=h=!1);var _=this.__chain__,p=!!this.__actions__.length,m=a&&!_,g=c&&!p;if(!a&&h){e=g?e:new v(this);var y=t.apply(e,l);return y.__actions__.push({func:Vs,args:[f],thisArg:nt}),new i(y,_)}return m&&g?t.apply(this,l):(y=this.thru(f),m?o?y.value()[0]:y.value():y)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=au[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(_f(n)?n:[],t)}return this[r](function(n){return e.apply(_f(n)?n:[],t)})}}),ur(v.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";fu.call(th,i)||(th[i]=[]),th[i].push({name:e,func:r})}}),th[qi(nt,pt).name]=[{name:"wrapper",func:nt}],v.prototype.clone=L,v.prototype.reverse=Y,v.prototype.value=Q,n.prototype.at=Kh,n.prototype.chain=Ys,n.prototype.commit=Zs,n.prototype.next=Js,n.prototype.plant=Qs,n.prototype.reverse=ta,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ea,n.prototype.first=n.prototype.head,ku&&(n.prototype[ku]=Xs),n}();Rn._=Gn,(i=function(){return Gn}.call(e,n,e,r))!==nt&&(r.exports=i)}).call(this)}).call(e,n(37),n(78)(t))},491:function(t,e,n){var r=n(137)(n(437),n(534),null,null,null);t.exports=r.exports},492:function(t,e,n){var r=n(137)(n(438),n(514),null,null,null);t.exports=r.exports},493:function(t,e,n){var r=n(137)(n(439),n(556),null,null,null);t.exports=r.exports},494:function(t,e,n){var r=n(137)(n(440),n(548),null,null,null);t.exports=r.exports},495:function(t,e,n){var r=n(137)(n(441),n(550),null,null,null);t.exports=r.exports},514:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","grid-list-xl":""}},[n("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",right:"",small:"",color:"blue"},on:{click:t.refreshData}},[n("v-icon",[t._v("refresh")])],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xl3:"",lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{"two-line":"",subheader:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.config.general")))]),t._v(" "),n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.name")))]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(t.instance.name))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.created")))]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(t.formatDate(t.instance.created_at)))])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.status")))]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(t.instance.status))])],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xl3:"",lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{"two-line":"",subheader:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.config.system")))]),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.os")))]),t._v(" "),t.config.image_os?n("v-list-item-subtitle",[t._v(t._s(t.config.image_os))]):n("v-list-item-subtitle",[t._v("-")])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.os_release")))]),t._v(" "),t.config.image_release?n("v-list-item-subtitle",[t._v(t._s(t.config.image_release))]):n("v-list-item-subtitle",[t._v("-")])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.os_version")))]),t._v(" "),t.config.image_version?n("v-list-item-subtitle",[t._v(t._s(t.config.image_version))]):n("v-list-item-subtitle",[t._v("-")])],1)],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xl3:"",lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{"two-line":"",subheader:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.config.limits")))]),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.cpu")))]),t._v(" "),t.config.limits_cpu?n("v-list-item-subtitle",[t._v(t._s(t.config.limits_cpu))]):n("v-list-item-subtitle",[t._v("No limit set")])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.memory")))]),t._v(" "),t.config.limits_memory?n("v-list-item-subtitle",[t._v(t._s(t.config.limits_memory))]):n("v-list-item-subtitle",[t._v("No limit set")])],1)],1),t._v(" "),t.showDisk?n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.disk")))]),t._v(" "),"0"!==t.config.limits_disk?n("v-list-item-subtitle",[t._v(t._s(t.config.limits_disk))]):n("v-list-item-subtitle",[t._v("No limit set")])],1)],1):t._e()],1)],1),t._v(" "),n("v-flex",{attrs:{xl3:"",lg3:"",md3:"",sm6:"",xs12:""}},[n("v-list",{attrs:{"two-line":"",subheader:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.config.network")))]),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("IPv4")]),t._v(" "),t.ips[0]?n("v-list-item-subtitle",[t._v(t._s(t.ips[0].address))]):n("v-list-item-subtitle",[t._v("-")])],1)],1),t._v(" "),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v("IPv6")]),t._v(" "),t.ips[1]?n("v-list-item-subtitle",[t._v(t._s(t.ips[1].address))]):n("v-list-item-subtitle",[t._v("-")])],1)],1),t._v(" "),t.showPrice?n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.$t("instances.config.price")))]),t._v(" "),t.config.user_price?n("v-list-item-subtitle",[t._v(t._s(t.config.user_price))]):n("v-list-item-subtitle",[t._v("-")])],1)],1):t._e()],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"","justify-center":"","align-bottom":""}},[t._l(t.availableButtons,function(e){return[n("v-btn",{staticClass:"white--text",attrs:{loading:t.loading,disabled:e.disable,color:e.color},on:{click:function(n){return n.preventDefault(),e.action(t.id)}}},[n("v-icon",{attrs:{dark:""}},[t._v(t._s(e.icon)+" ")]),t._v("\n     "+t._s(e.name)+"\n     ")],1)]})],2)],1)},staticRenderFns:[]}},519:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("tabs",t._b({},"tabs",t.$props,!1))],1)},staticRenderFns:[]}},534:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","grid-list-xl":""}},[n("v-layout",{attrs:{"justify-center":"",row:""}},[n("v-btn",{staticClass:"grey lighten-2 black--text",staticStyle:{bottom:"1px"},attrs:{disabled:t.isRunning,fab:"",loading:t.loading},nativeOn:{click:function(e){return t.OpenTerminal()}}},[t.getButtonState?n("div",[t._v("\n          Close console\n        ")]):n("div",[t._v("\n          Open console\n        ")])])],1),t._v(" "),n("v-layout",{attrs:{"justify-center":"",row:""}},[n("v-flex",{attrs:{xl10:"",lg10:"",md10:"",sm10:"",xs12:"","offset-(xl1|lg1|md1)":""}},[n("div",{attrs:{id:"terminal"}})])],1)],1)},staticRenderFns:[]}},548:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{attrs:{fluid:"","grid-list-xl":""}},[n("v-btn",{attrs:{absolute:"",dark:"",fab:"",top:"",right:"",small:"",color:"blue"},on:{click:t.refreshData}},[n("v-icon",[t._v("refresh")])],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md3:"","offset-md1":""}},[n("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.createItem()}}},[t._v(t._s(t.$t("instances.snapshots.create")))])],1),t._v(" "),n("v-flex",{attrs:{md8:""}},[n("v-text-field",{attrs:{name:"snapshot-name",label:t.$t("instances.snapshots.name"),id:"snapshot"},model:{value:t.snapshot_name,callback:function(e){t.snapshot_name=e},expression:"snapshot_name"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md12:"","offset-md0":""}},[t.items?n("v-data-table",{attrs:{headers:t.headers,items:t.items,search:t.search},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[n("v-btn",{attrs:{small:"",color:"info"},on:{click:function(e){return t.restoreAction(r)}}},[t._v(t._s(t.$t("instances.actions.restore")))]),t._v(" "),n("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteAction(r)}}},[t._v(t._s(t.$t("instances.actions.delete")))])]}},{key:"item.created_at",fn:function(e){var n=e.item;return[t._v("\n          "+t._s(t.formatDate(n.created_at))+"\n        ")]}}],null,!1,1392071794)}):t._e()],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog_destroy,callback:function(e){t.dialog_destroy=e},expression:"dialog_destroy"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("instances.order.delete_snapshot.title")))]),t._v(" "),n("v-card-text",[t._v("\n          "+t._s(t.$t("instances.order.delete_snapshot.text"))+"\n        ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog_destroy=!1}}},[t._v("\n            "+t._s(t.$t("actions.disagree"))+"\n          ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.deleteItem(t.action_item)}},nativeOn:{click:function(e){t.dialog_destroy=!1}}},[t._v("\n            "+t._s(t.$t("actions.agree"))+"\n          ")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog_restore,callback:function(e){t.dialog_restore=e},expression:"dialog_restore"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("instances.order.restore_snapshot.title")))]),t._v(" "),n("v-card-text",[t._v("\n          "+t._s(t.$t("instances.order.restore_snapshot.text"))+"\n        ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog_restore=!1}}},[t._v("\n            "+t._s(t.$t("actions.disagree"))+"\n          ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){return t.restoreItem(t.action_item)}},nativeOn:{click:function(e){t.dialog_restore=!1}}},[t._v("\n            "+t._s(t.$t("actions.agree"))+"\n          ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},550:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-tabs",{attrs:{"icons-and-text":"","fixed-tabs":""}},[n("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n    "+t._s(t.$t("instances.tabs.info"))+"\n    "),n("v-icon",[t._v("info")])],1),t._v(" "),n("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n    "+t._s(t.$t("instances.tabs.console"))+"\n    "),n("v-icon",[t._v("code")])],1),t._v(" "),n("v-tab",{attrs:{href:"#tab-3"}},[t._v("\n    "+t._s(t.$t("instances.tabs.settings"))+"\n    "),n("v-icon",[t._v("settings")])],1),t._v(" "),t.showSnapshots?n("v-tab",{attrs:{href:"#tab-4"}},[t._v("\n    "+t._s(t.$t("instances.tabs.snapshots"))+"\n    "),n("v-icon",[t._v("photo_camera")])],1):t._e(),t._v(" "),t._l(t.tabsLength,function(e){return n("v-tab-item",{key:e,attrs:{value:"tab-"+e}},[1===e?n("v-card",{attrs:{flat:""}},[n("tab-info",t._b({},"tab-info",t.$props,!1))],1):t._e(),t._v(" "),2===e?n("v-card",{attrs:{flat:""}},[n("tab-console",t._b({},"tab-console",t.$props,!1))],1):t._e(),t._v(" "),3===e?n("v-card",{attrs:{flat:""}},[n("tab-settings",t._b({},"tab-settings",t.$props,!1))],1):t._e(),t._v(" "),4===e?n("v-card",{attrs:{flat:""}},[n("tab-snapshots",t._b({},"tab-snapshots",t.$props,!1))],1):t._e()],1)})],2)],1)},staticRenderFns:[]}},556:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{staticClass:"text-md-center mt-3 mb-3"},[n("v-btn",{attrs:{color:"secondary",loading:t.loading,disabled:t.loading},on:{click:function(e){e.stopPropagation(),t.dialog_upgrade=!0}}},[t._v("\n    "+t._s(t.$t("instances.actions.upgrade"))+"\n  ")]),t._v(" "),n("v-btn",{staticClass:"white--text",attrs:{loading:t.loading3,disabled:t.loading3,color:"blue-grey"},on:{click:function(e){e.stopPropagation(),t.dialog_clone=!0}}},[t._v("\n    "+t._s(t.$t("instances.actions.clone"))+"\n    "),n("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1),t._v(" "),n("v-btn",{staticClass:"white--text",attrs:{loading:t.loading3,disabled:t.loading3,color:"red"},on:{click:function(e){e.stopPropagation(),t.dialog_destroy=!0}}},[t._v("\n    "+t._s(t.$t("instances.actions.destroy"))+"\n    "),n("v-icon",{attrs:{right:"",dark:""}},[t._v("delete")])],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog_destroy,callback:function(e){t.dialog_destroy=e},expression:"dialog_destroy"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("instances.actions.destroy")))]),t._v(" "),n("v-card-text",[t._v("\n        "+t._s(t.$t("instances.order.destroy_instance.label"))+"\n      ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog_destroy=!1}}},[t._v("\n          "+t._s(t.$t("actions.disagree"))+"\n        ")]),t._v(" "),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:t.sendRequestDestroy},nativeOn:{click:function(e){t.dialog_destroy=!1}}},[t._v("\n          "+t._s(t.$t("actions.agree"))+"\n        ")])],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_clone,callback:function(e){t.dialog_clone=e},expression:"dialog_clone"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.$t("instances.actions.clone")))])]),t._v(" "),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:t.$t("instances.order.instance_name.label"),disabled:"",value:t.instanceName}})],1),t._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:t.$t("instances.order.instance_clone_name.label")},model:{value:t.instanceClone,callback:function(e){t.instanceClone=e},expression:"instanceClone"}})],1)],1)],1),t._v(" "),n("small",[t._v("*indicates required field")])],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){t.dialog_clone=!1}}},[t._v(t._s(t.$t("actions.close")))]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.sendRequestClone},nativeOn:{click:function(e){t.dialog_clone=!1}}},[t._v(t._s(t.$t("actions.create")))])],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog_upgrade,callback:function(e){t.dialog_upgrade=e},expression:"dialog_upgrade"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.$t("instances.actions.upgrade")))])]),t._v(" "),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:t.$t("instances.order.instance_name.label"),disabled:"",value:t.instanceName}})],1),t._v(" "),n("v-flex",{attrs:{xs10:""}},[n("v-slider",{attrs:{min:"1",max:"4",step:"1",label:"CPUs"},model:{value:t.cpu,callback:function(e){t.cpu=e},expression:"cpu"}})],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-text-field",{attrs:{type:"CPUs",suffix:"CPUs"},model:{value:t.cpu,callback:function(e){t.cpu=e},expression:"cpu"}})],1),t._v(" "),n("v-flex",{attrs:{xs10:""}},[n("v-slider",{attrs:{min:"512",max:"8172",step:"512",label:"RAM"},model:{value:t.memory,callback:function(e){t.memory=e},expression:"memory"}})],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-text-field",{attrs:{type:"MB",suffix:"MB"},model:{value:t.memory,callback:function(e){t.memory=e},expression:"memory"}})],1),t._v(" "),n("v-flex",{attrs:{xs10:""}},[t.diskEnabled?n("v-slider",{attrs:{min:"10",max:"160",step:"10",label:"Disk"},model:{value:t.disk,callback:function(e){t.disk=e},expression:"disk"}}):t._e()],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[t.diskEnabled?n("v-text-field",{attrs:{type:"Disk",suffix:"GB"},model:{value:t.disk,callback:function(e){t.disk=e},expression:"disk"}}):t._e()],1),t._v(" "),t.showPrice?[n("v-flex",{attrs:{xs3:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.order.payment_period.label")))])],1),t._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-select",{attrs:{items:t.periodes,label:"Period"},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1),t._v(" "),n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v(t._s(t.$t("instances.order.calculated_price.label")))])],1),t._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-text-field",{attrs:{label:"Price",value:t.price,suffix:"€"}})],1)]:t._e()],2)],1)],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.getInstanceConfig}},[t._v("Reset")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){t.dialog_upgrade=!1}}},[t._v(t._s(t.$t("actions.close")))]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.sendRequestUpgrade},nativeOn:{click:function(e){t.dialog_upgrade=!1}}},[t._v(t._s(t.$t("actions.create")))])],1)],1)],1)],1)],1)},staticRenderFns:[]}},559:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(408),o=n(397),s=n(422),a=n(398),l=n(393),c=n(423),u=function(t){function e(e,n){var r=t.call(this)||this;r._terminal=e,r._dimensions=n,r._liveRegionLineCount=0,r._charsToConsume=[],r._charsToAnnounce="",r._accessibilityTreeRoot=document.createElement("div"),r._accessibilityTreeRoot.classList.add("xterm-accessibility"),r._rowContainer=document.createElement("div"),r._rowContainer.classList.add("xterm-accessibility-tree"),r._rowElements=[];for(var i=0;i<r._terminal.rows;i++)r._rowElements[i]=r._createAccessibilityTreeNode(),r._rowContainer.appendChild(r._rowElements[i]);return r._topBoundaryFocusListener=function(t){return r._onBoundaryFocus(t,0)},r._bottomBoundaryFocusListener=function(t){return r._onBoundaryFocus(t,1)},r._rowElements[0].addEventListener("focus",r._topBoundaryFocusListener),r._rowElements[r._rowElements.length-1].addEventListener("focus",r._bottomBoundaryFocusListener),r._refreshRowsDimensions(),r._accessibilityTreeRoot.appendChild(r._rowContainer),r._renderRowsDebouncer=new s.RenderDebouncer(r._renderRows.bind(r)),r._refreshRows(),r._liveRegion=document.createElement("div"),r._liveRegion.classList.add("live-region"),r._liveRegion.setAttribute("aria-live","assertive"),r._accessibilityTreeRoot.appendChild(r._liveRegion),r._terminal.element.insertAdjacentElement("afterbegin",r._accessibilityTreeRoot),r.register(r._renderRowsDebouncer),r.register(r._terminal.onResize(function(t){return r._onResize(t.rows)})),r.register(r._terminal.onRender(function(t){return r._refreshRows(t.start,t.end)})),r.register(r._terminal.onScroll(function(){return r._refreshRows()})),r.register(r._terminal.addDisposableListener("a11y.char",function(t){return r._onChar(t)})),r.register(r._terminal.onLineFeed(function(){return r._onChar("\n")})),r.register(r._terminal.addDisposableListener("a11y.tab",function(t){return r._onTab(t)})),r.register(r._terminal.onKey(function(t){return r._onKey(t.key)})),r.register(r._terminal.addDisposableListener("blur",function(){return r._clearLiveRegion()})),r._screenDprMonitor=new c.ScreenDprMonitor,r.register(r._screenDprMonitor),r._screenDprMonitor.setListener(function(){return r._refreshRowsDimensions()}),r.register(a.addDisposableDomListener(window,"resize",function(){return r._refreshRowsDimensions()})),r}return r(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(t,e){var n=t.target,r=this._rowElements[0===e?1:this._rowElements.length-2];if(n.getAttribute("aria-posinset")!==(0===e?"1":""+this._terminal.buffer.lines.length)&&t.relatedTarget===r){var i,o;if(0===e?(i=n,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(i=this._rowElements.shift(),o=n,this._rowContainer.removeChild(i)),i.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===e){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else{var s=this._createAccessibilityTreeNode();this._rowElements.push(s),this._rowContainer.appendChild(s)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===e?-1:1),this._rowElements[0===e?1:this._rowElements.length-2].focus(),t.preventDefault(),t.stopImmediatePropagation()}},e.prototype._onResize=function(t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var e=this._rowContainer.children.length;e<this._terminal.rows;e++)this._rowElements[e]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[e]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var t=document.createElement("div");return t.setAttribute("role","listitem"),t.tabIndex=-1,this._refreshRowDimensions(t),t},e.prototype._onTab=function(t){for(var e=0;e<t;e++)this._onChar(" ")},e.prototype._onChar=function(t){var e=this;if(this._liveRegionLineCount<21){if(this._charsToConsume.length>0){this._charsToConsume.shift()!==t&&(this._charsToAnnounce+=t)}else this._charsToAnnounce+=t;"\n"===t&&21===++this._liveRegionLineCount&&(this._liveRegion.textContent+=i.tooMuchOutput),o.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){e._accessibilityTreeRoot.appendChild(e._liveRegion)},0)}},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,o.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},e.prototype._onKey=function(t){this._clearLiveRegion(),this._charsToConsume.push(t)},e.prototype._refreshRows=function(t,e){this._renderRowsDebouncer.refresh(t,e,this._terminal.rows)},e.prototype._renderRows=function(t,e){for(var n=this._terminal.buffer,r=n.lines.length.toString(),o=t;o<=e;o++){var s=n.translateBufferLineToString(n.ydisp+o,!0),a=(n.ydisp+o+1).toString(),l=this._rowElements[o];l&&(l.textContent=0===s.length?i.blankLine:s,l.setAttribute("aria-posinset",a),l.setAttribute("aria-setsize",r))}this._announceCharacters()},e.prototype._refreshRowsDimensions=function(){if(this._dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var t=0;t<this._terminal.rows;t++)this._refreshRowDimensions(this._rowElements[t])}},e.prototype.setDimensions=function(t){this._dimensions=t,this._refreshRowsDimensions()},e.prototype._refreshRowDimensions=function(t){t.style.height=this._dimensions.actualCellHeight+"px"},e.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},e}(l.Disposable);e.AccessibilityManager=u},560:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(413),i=n(395),o=function(){function t(t){this._terminal=t,this._onBufferActivate=new i.EventEmitter2,this._normal=new r.Buffer(this._terminal,!0),this._normal.fillViewportRows(),this._alt=new r.Buffer(this._terminal,!1),this._activeBuffer=this._normal,this.setupTabStops()}return Object.defineProperty(t.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(t){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(t),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(t,e){this._normal.resize(t,e),this._alt.resize(t,e)},t.prototype.setupTabStops=function(t){this._normal.setupTabStops(t),this._alt.setupTabStops(t)},t}();e.BufferSet=o},561:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(395),i=function(){function t(t,e){this._onCharSizeChanged=new r.EventEmitter2,this._document=t,this._parentElement=e,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return Object.defineProperty(t.prototype,"onCharSizeChanged",{get:function(){return this._onCharSizeChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.measure=function(t){this._measureElement.style.fontFamily=t.fontFamily,this._measureElement.style.fontSize=t.fontSize+"px";var e=this._measureElement.getBoundingClientRect();if(0!==e.width&&0!==e.height){var n=Math.ceil(e.height);this._width===e.width&&this._height===n||(this._width=e.width,this._height=n,this._onCharSizeChanged.fire())}},t}();e.CharMeasure=i},562:function(t,e,n){"use strict";function r(t){return t.replace(/\r?\n/g,"\r")}function i(t,e){return e?"[200~"+t+"[201~":t}function o(t,e,n){e.browser.isMSIE?window.clipboardData.setData("Text",n.selectionText):t.clipboardData.setData("text/plain",n.selectionText),t.preventDefault()}function s(t,e){t.stopPropagation();var n,o=function(n){n=r(n),n=i(n,e.bracketedPasteMode),e.handler(n),e.textarea.value="",e.emit("paste",n),e.cancel(t)};e.browser.isMSIE?window.clipboardData&&(n=window.clipboardData.getData("Text"),o(n)):t.clipboardData&&(n=t.clipboardData.getData("text/plain"),o(n))}function a(t,e){var n=e.screenElement.getBoundingClientRect(),r=t.clientX-n.left-10,i=t.clientY-n.top-10;e.textarea.style.position="absolute",e.textarea.style.width="20px",e.textarea.style.height="20px",e.textarea.style.left=r+"px",e.textarea.style.top=i+"px",e.textarea.style.zIndex="1000",e.textarea.focus(),setTimeout(function(){e.textarea.style.position=null,e.textarea.style.width=null,e.textarea.style.height=null,e.textarea.style.left=null,e.textarea.style.top=null,e.textarea.style.zIndex=null},200)}function l(t,e,n,r){a(t,e),r&&!n.isClickInSelection(t)&&n.selectWordAtCursor(t),e.textarea.value=n.selectionText,e.textarea.select()}Object.defineProperty(e,"__esModule",{value:!0}),e.prepareTextForTerminal=r,e.bracketTextForPaste=i,e.copyHandler=o,e.pasteHandler=s,e.moveTextAreaUnderMouseCursor=a,e.rightClickHandler=l},563:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this._textarea=t,this._compositionView=e,this._terminal=n,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:null,end:null}}return t.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},t.prototype.compositionupdate=function(t){var e=this;this._compositionView.textContent=t.data,this.updateCompositionElements(),setTimeout(function(){e._compositionPosition.end=e._textarea.value.length},0)},t.prototype.compositionend=function(){this._finalizeComposition(!0)},t.prototype.keydown=function(t){if(this._isComposing||this._isSendingComposition){if(229===t.keyCode)return!1;if(16===t.keyCode||17===t.keyCode||18===t.keyCode)return!1;this._finalizeComposition(!1)}return 229!==t.keyCode||(this._handleAnyTextareaChanges(),!1)},t.prototype._finalizeComposition=function(t){var e=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),t){var n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){if(e._isSendingComposition){e._isSendingComposition=!1;var t=void 0;t=e._isComposing?e._textarea.value.substring(n.start,n.end):e._textarea.value.substring(n.start),e._terminal.handler(t)}},0)}else{this._isSendingComposition=!1;var r=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._terminal.handler(r)}},t.prototype._handleAnyTextareaChanges=function(){var t=this,e=this._textarea.value;setTimeout(function(){if(!t._isComposing){var n=t._textarea.value,r=n.replace(e,"");r.length>0&&t._terminal.handler(r)}},0)},t.prototype.updateCompositionElements=function(t){var e=this;if(this._isComposing){if(this._terminal.buffer.isCursorInViewport){var n=Math.ceil(this._terminal.charMeasure.height*this._terminal.options.lineHeight),r=this._terminal.buffer.y*n,i=this._terminal.buffer.x*this._terminal.charMeasure.width;this._compositionView.style.left=i+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=n+"px",this._compositionView.style.lineHeight=n+"px",this._compositionView.style.fontFamily=this._terminal.options.fontFamily,this._compositionView.style.fontSize=this._terminal.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=i+"px",this._textarea.style.top=r+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}t||setTimeout(function(){return e.updateCompositionElements(!0)},0)}},t.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},t}();e.CompositionHelper=r},564:function(t,e,n){"use strict";function r(t,e){for(var n=e-t,r=new Array(n);n--;)r[n]=--e;return r}var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(393),s=n(409),a=function(){function t(t){this.table="undefined"==typeof Uint8Array?new Array(t):new Uint8Array(t)}return t.prototype.add=function(t,e,n,r){this.table[e<<8|t]=(0|n)<<4|(void 0===r?e:r)},t.prototype.addMany=function(t,e,n,r){for(var i=0;i<t.length;i++)this.add(t[i],e,n,r)},t}();e.TransitionTable=a;var l=r(32,127),c=r(0,24);c.push(25),c.push.apply(c,r(28,32));e.VT500_TRANSITION_TABLE=function(){var t,e=new a(4095),n=r(0,14);for(t in n)for(var i=0;i<=160;++i)e.add(i,t,1,0);e.addMany(l,0,2,0);for(t in n)e.addMany([24,26,153,154],t,3,0),e.addMany(r(128,144),t,3,0),e.addMany(r(144,152),t,3,0),e.add(156,t,0,0),e.add(27,t,11,1),e.add(157,t,4,8),e.addMany([152,158,159],t,0,7),e.add(155,t,11,3),e.add(144,t,11,9);return e.addMany(c,0,3,0),e.addMany(c,1,3,1),e.add(127,1,0,1),e.addMany(c,8,0,8),e.addMany(c,3,3,3),e.add(127,3,0,3),e.addMany(c,4,3,4),e.add(127,4,0,4),e.addMany(c,6,3,6),e.addMany(c,5,3,5),e.add(127,5,0,5),e.addMany(c,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(l,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(l,7,0,7),e.addMany(c,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,58),3,8,4),e.add(59,3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,58),4,8,4),e.add(59,4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([58,60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.add(58,3,0,6),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(c,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.add(58,9,0,11),e.addMany(r(48,58),9,8,10),e.add(59,9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(c,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(c,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,58),10,8,10),e.add(59,10,8,10),e.addMany([58,60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(c,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(c,13,13,13),e.addMany(l,13,13,13),e.add(127,13,0,13),e.addMany([27,156],13,14,0),e.add(160,8,5,8),e}();var u=function(){function t(){}return t.prototype.hook=function(t,e,n){},t.prototype.put=function(t,e,n){},t.prototype.unhook=function(){},t}(),h=function(t){function n(n){void 0===n&&(n=e.VT500_TRANSITION_TABLE);var r=t.call(this)||this;return r.TRANSITIONS=n,r.initialState=0,r.currentState=r.initialState,r._osc="",r._params=[0],r._collect="",r._printHandlerFb=function(t,e,n){},r._executeHandlerFb=function(t){},r._csiHandlerFb=function(t,e,n){},r._escHandlerFb=function(t,e){},r._oscHandlerFb=function(t,e){},r._dcsHandlerFb=new u,r._errorHandlerFb=function(t){return t},r._printHandler=r._printHandlerFb,r._executeHandlers=Object.create(null),r._csiHandlers=Object.create(null),r._escHandlers=Object.create(null),r._oscHandlers=Object.create(null),r._dcsHandlers=Object.create(null),r._activeDcsHandler=null,r._errorHandler=r._errorHandlerFb,r.setEscHandler("\\",function(){}),r}return i(n,t),n.prototype.dispose=function(){this._printHandlerFb=null,this._executeHandlerFb=null,this._csiHandlerFb=null,this._escHandlerFb=null,this._oscHandlerFb=null,this._dcsHandlerFb=null,this._errorHandlerFb=null,this._printHandler=null,this._executeHandlers=null,this._escHandlers=null,this._csiHandlers=null,this._oscHandlers=null,this._dcsHandlers=null,this._activeDcsHandler=null,this._errorHandler=null},n.prototype.setPrintHandler=function(t){this._printHandler=t},n.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},n.prototype.setExecuteHandler=function(t,e){this._executeHandlers[t.charCodeAt(0)]=e},n.prototype.clearExecuteHandler=function(t){this._executeHandlers[t.charCodeAt(0)]&&delete this._executeHandlers[t.charCodeAt(0)]},n.prototype.setExecuteHandlerFallback=function(t){this._executeHandlerFb=t},n.prototype.addCsiHandler=function(t,e){var n=t.charCodeAt(0);void 0===this._csiHandlers[n]&&(this._csiHandlers[n]=[]);var r=this._csiHandlers[n];return r.push(e),{dispose:function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}}},n.prototype.setCsiHandler=function(t,e){this._csiHandlers[t.charCodeAt(0)]=[e]},n.prototype.clearCsiHandler=function(t){this._csiHandlers[t.charCodeAt(0)]&&delete this._csiHandlers[t.charCodeAt(0)]},n.prototype.setCsiHandlerFallback=function(t){this._csiHandlerFb=t},n.prototype.setEscHandler=function(t,e){this._escHandlers[t]=e},n.prototype.clearEscHandler=function(t){this._escHandlers[t]&&delete this._escHandlers[t]},n.prototype.setEscHandlerFallback=function(t){this._escHandlerFb=t},n.prototype.addOscHandler=function(t,e){void 0===this._oscHandlers[t]&&(this._oscHandlers[t]=[]);var n=this._oscHandlers[t];return n.push(e),{dispose:function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},n.prototype.setOscHandler=function(t,e){this._oscHandlers[t]=[e]},n.prototype.clearOscHandler=function(t){this._oscHandlers[t]&&delete this._oscHandlers[t]},n.prototype.setOscHandlerFallback=function(t){this._oscHandlerFb=t},n.prototype.setDcsHandler=function(t,e){this._dcsHandlers[t]=e},n.prototype.clearDcsHandler=function(t){this._dcsHandlers[t]&&delete this._dcsHandlers[t]},n.prototype.setDcsHandlerFallback=function(t){this._dcsHandlerFb=t},n.prototype.setErrorHandler=function(t){this._errorHandler=t},n.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},n.prototype.reset=function(){this.currentState=this.initialState,this._osc="",this._params=[0],this._collect="",this._activeDcsHandler=null},n.prototype.parse=function(t,e){for(var n=0,r=0,i=!1,o=this.currentState,a=-1,l=-1,c=this._osc,u=this._collect,h=this._params,f=this.TRANSITIONS.table,_=this._activeDcsHandler,d=null,p=0;p<e;++p)if(n=t[p],0===o&&n>31&&n<128){a=~a?a:p;do{p++}while(p<e&&t[p]>31&&t[p]<128);p--}else if(4===o&&n>47&&n<57)h[h.length-1]=10*h[h.length-1]+n-48;else{switch((r=f[o<<8|(n<160?n:160)])>>4){case 2:a=~a?a:p;break;case 3:~a&&(this._printHandler(t,a,p),a=-1),d=this._executeHandlers[n],d?d():this._executeHandlerFb(n);break;case 0:~a?(this._printHandler(t,a,p),a=-1):~l&&(_.put(t,l,p),l=-1);break;case 1:if(n>159)switch(o){case 0:a=~a?a:p;break;case 6:r|=6;break;case 11:r|=11;break;case 13:l=~l?l:p,r|=13;break;default:i=!0}else i=!0;if(i){var m=this._errorHandler({position:p,code:n,currentState:o,print:a,dcs:l,osc:c,collect:u,params:h,abort:!1});if(m.abort)return;i=!1}break;case 7:for(var g=this._csiHandlers[n],v=g?g.length-1:-1;v>=0&&!1===g[v](h,u);v--);v<0&&this._csiHandlerFb(u,h,n);break;case 8:59===n?h.push(0):h[h.length-1]=10*h[h.length-1]+n-48;break;case 9:u+=String.fromCharCode(n);break;case 10:d=this._escHandlers[u+String.fromCharCode(n)],d?d(u,n):this._escHandlerFb(u,n);break;case 11:~a&&(this._printHandler(t,a,p),a=-1),c="",h=[0],u="",l=-1;break;case 12:_=this._dcsHandlers[u+String.fromCharCode(n)],_||(_=this._dcsHandlerFb),_.hook(u,h,n);break;case 13:l=~l?l:p;break;case 14:_&&(~l&&_.put(t,l,p),_.unhook(),_=null),27===n&&(r|=1),c="",h=[0],u="",l=-1;break;case 4:~a&&(this._printHandler(t,a,p),a=-1),c="";break;case 5:for(var y=p+1;;y++)if(y>=e||(n=t[y])<32||n>127&&n<=159){c+=s.utf32ToString(t,p,y),p=y-1;break}break;case 6:if(c&&24!==n&&26!==n){var b=c.indexOf(";");if(-1===b)this._oscHandlerFb(-1,c);else{for(var C=parseInt(c.substring(0,b)),w=c.substring(b+1),A=this._oscHandlers[C],x=A?A.length-1:-1;x>=0&&!1===A[x](w);x--);x<0&&this._oscHandlerFb(C,w)}}27===n&&(r|=1),c="",h=[0],u="",l=-1}o=15&r}0===o&&~a?this._printHandler(t,a,e):13===o&&~l&&_&&_.put(t,l,e),this._osc=c,this._collect=u,this._params=h,this._activeDcsHandler=_,this.currentState=o},n}(o.Disposable);e.EscapeSequenceParser=h},565:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(400),o=n(579),s=n(414),a=n(564),l=n(393),c=n(417),u=n(409),h=n(394),f=n(395),_={"(":0,")":1,"*":2,"+":3,"-":1,".":2},d=function(){function t(t){this._terminal=t,this._data=new Uint32Array(0)}return t.prototype.hook=function(t,e,n){this._data=new Uint32Array(0)},t.prototype.put=function(t,e,n){this._data=c.concat(this._data,t.subarray(e,n))},t.prototype.unhook=function(){var t=u.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._terminal.handler(i.C0.ESC+'P1$r0"q'+i.C0.ESC+"\\");case'"p':return this._terminal.handler(i.C0.ESC+'P1$r61"p'+i.C0.ESC+"\\");case"r":var e=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";return this._terminal.handler(i.C0.ESC+"P1$r"+e+i.C0.ESC+"\\");case"m":return this._terminal.handler(i.C0.ESC+"P1$r0m"+i.C0.ESC+"\\");case" q":var n={block:2,underline:4,bar:6},r=n[this._terminal.getOption("cursorStyle")];return r-=this._terminal.getOption("cursorBlink"),this._terminal.handler(i.C0.ESC+"P1$r"+r+" q"+i.C0.ESC+"\\");default:this._terminal.error("Unknown DCS $q %s",t),this._terminal.handler(i.C0.ESC+"P0$r"+i.C0.ESC+"\\")}},t}(),p=function(t){function e(e,n){void 0===n&&(n=new a.EscapeSequenceParser);var r=t.call(this)||this;r._terminal=e,r._parser=n,r._parseBuffer=new Uint32Array(4096),r._stringDecoder=new u.StringToUtf32,r._utf8Decoder=new u.Utf8ToUtf32,r._workCell=new h.CellData,r._onCursorMove=new f.EventEmitter2,r._onData=new f.EventEmitter2,r._onLineFeed=new f.EventEmitter2,r._onScroll=new f.EventEmitter2,r.register(r._parser),r._parser.setCsiHandlerFallback(function(t,e,n){r._terminal.error("Unknown CSI code: ",{collect:t,params:e,flag:String.fromCharCode(n)})}),r._parser.setEscHandlerFallback(function(t,e){r._terminal.error("Unknown ESC code: ",{collect:t,flag:String.fromCharCode(e)})}),r._parser.setExecuteHandlerFallback(function(t){r._terminal.error("Unknown EXECUTE code: ",{code:t})}),r._parser.setOscHandlerFallback(function(t,e){r._terminal.error("Unknown OSC code: ",{identifier:t,data:e})}),r._parser.setPrintHandler(function(t,e,n){return r.print(t,e,n)}),r._parser.setCsiHandler("@",function(t,e){return r.insertChars(t)}),r._parser.setCsiHandler("A",function(t,e){return r.cursorUp(t)}),r._parser.setCsiHandler("B",function(t,e){return r.cursorDown(t)}),r._parser.setCsiHandler("C",function(t,e){return r.cursorForward(t)}),r._parser.setCsiHandler("D",function(t,e){return r.cursorBackward(t)}),r._parser.setCsiHandler("E",function(t,e){return r.cursorNextLine(t)}),r._parser.setCsiHandler("F",function(t,e){return r.cursorPrecedingLine(t)}),r._parser.setCsiHandler("G",function(t,e){return r.cursorCharAbsolute(t)}),r._parser.setCsiHandler("H",function(t,e){return r.cursorPosition(t)}),r._parser.setCsiHandler("I",function(t,e){return r.cursorForwardTab(t)}),r._parser.setCsiHandler("J",function(t,e){return r.eraseInDisplay(t)}),r._parser.setCsiHandler("K",function(t,e){return r.eraseInLine(t)}),r._parser.setCsiHandler("L",function(t,e){return r.insertLines(t)}),r._parser.setCsiHandler("M",function(t,e){return r.deleteLines(t)}),r._parser.setCsiHandler("P",function(t,e){return r.deleteChars(t)}),r._parser.setCsiHandler("S",function(t,e){return r.scrollUp(t)}),r._parser.setCsiHandler("T",function(t,e){return r.scrollDown(t,e)}),r._parser.setCsiHandler("X",function(t,e){return r.eraseChars(t)}),r._parser.setCsiHandler("Z",function(t,e){return r.cursorBackwardTab(t)}),r._parser.setCsiHandler("`",function(t,e){return r.charPosAbsolute(t)}),r._parser.setCsiHandler("a",function(t,e){return r.hPositionRelative(t)}),r._parser.setCsiHandler("b",function(t,e){return r.repeatPrecedingCharacter(t)}),r._parser.setCsiHandler("c",function(t,e){return r.sendDeviceAttributes(t,e)}),r._parser.setCsiHandler("d",function(t,e){return r.linePosAbsolute(t)}),r._parser.setCsiHandler("e",function(t,e){return r.vPositionRelative(t)}),r._parser.setCsiHandler("f",function(t,e){return r.hVPosition(t)}),r._parser.setCsiHandler("g",function(t,e){return r.tabClear(t)}),r._parser.setCsiHandler("h",function(t,e){return r.setMode(t,e)}),r._parser.setCsiHandler("l",function(t,e){return r.resetMode(t,e)}),r._parser.setCsiHandler("m",function(t,e){return r.charAttributes(t)}),r._parser.setCsiHandler("n",function(t,e){return r.deviceStatus(t,e)}),r._parser.setCsiHandler("p",function(t,e){return r.softReset(t,e)}),r._parser.setCsiHandler("q",function(t,e){return r.setCursorStyle(t,e)}),r._parser.setCsiHandler("r",function(t,e){return r.setScrollRegion(t,e)}),r._parser.setCsiHandler("s",function(t,e){return r.saveCursor(t)}),r._parser.setCsiHandler("u",function(t,e){return r.restoreCursor(t)}),r._parser.setExecuteHandler(i.C0.BEL,function(){return r.bell()}),r._parser.setExecuteHandler(i.C0.LF,function(){return r.lineFeed()}),r._parser.setExecuteHandler(i.C0.VT,function(){return r.lineFeed()}),r._parser.setExecuteHandler(i.C0.FF,function(){return r.lineFeed()}),r._parser.setExecuteHandler(i.C0.CR,function(){return r.carriageReturn()}),r._parser.setExecuteHandler(i.C0.BS,function(){return r.backspace()}),r._parser.setExecuteHandler(i.C0.HT,function(){return r.tab()}),r._parser.setExecuteHandler(i.C0.SO,function(){return r.shiftOut()}),r._parser.setExecuteHandler(i.C0.SI,function(){return r.shiftIn()}),r._parser.setExecuteHandler(i.C1.IND,function(){return r.index()}),r._parser.setExecuteHandler(i.C1.NEL,function(){return r.nextLine()}),r._parser.setExecuteHandler(i.C1.HTS,function(){return r.tabSet()}),r._parser.setOscHandler(0,function(t){return r.setTitle(t)}),r._parser.setOscHandler(2,function(t){return r.setTitle(t)}),r._parser.setEscHandler("7",function(){return r.saveCursor([])}),r._parser.setEscHandler("8",function(){return r.restoreCursor([])}),r._parser.setEscHandler("D",function(){return r.index()}),r._parser.setEscHandler("E",function(){return r.nextLine()}),r._parser.setEscHandler("H",function(){return r.tabSet()}),r._parser.setEscHandler("M",function(){return r.reverseIndex()}),r._parser.setEscHandler("=",function(){return r.keypadApplicationMode()}),r._parser.setEscHandler(">",function(){return r.keypadNumericMode()}),r._parser.setEscHandler("c",function(){return r.reset()}),r._parser.setEscHandler("n",function(){return r.setgLevel(2)}),r._parser.setEscHandler("o",function(){return r.setgLevel(3)}),r._parser.setEscHandler("|",function(){return r.setgLevel(3)}),r._parser.setEscHandler("}",function(){return r.setgLevel(2)}),r._parser.setEscHandler("~",function(){return r.setgLevel(1)}),r._parser.setEscHandler("%@",function(){return r.selectDefaultCharset()}),r._parser.setEscHandler("%G",function(){return r.selectDefaultCharset()});var s=this;for(var l in o.CHARSETS)!function(t){s._parser.setEscHandler("("+t,function(){return r.selectCharset("("+t)}),s._parser.setEscHandler(")"+t,function(){return r.selectCharset(")"+t)}),s._parser.setEscHandler("*"+t,function(){return r.selectCharset("*"+t)}),s._parser.setEscHandler("+"+t,function(){return r.selectCharset("+"+t)}),s._parser.setEscHandler("-"+t,function(){return r.selectCharset("-"+t)}),s._parser.setEscHandler("."+t,function(){return r.selectCharset("."+t)}),s._parser.setEscHandler("/"+t,function(){return r.selectCharset("/"+t)})}(l);return r._parser.setErrorHandler(function(t){return r._terminal.error("Parsing error: ",t),t}),r._parser.setDcsHandler("$q",new d(r._terminal)),r}return r(e,t),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._terminal=null},e.prototype.parse=function(t){if(this._terminal){var e=this._terminal.buffer,n=e.x,r=e.y;this._terminal.debug&&this._terminal.log("data: "+t),this._parseBuffer.length<t.length&&(this._parseBuffer=new Uint32Array(t.length)),this._parser.parse(this._parseBuffer,this._stringDecoder.decode(t,this._parseBuffer)),e=this._terminal.buffer,e.x===n&&e.y===r||this._onCursorMove.fire()}},e.prototype.parseUtf8=function(t){if(this._terminal){var e=this._terminal.buffer,n=e.x,r=e.y;this._terminal.debug&&this._terminal.log("data: "+t),this._parseBuffer.length<t.length&&(this._parseBuffer=new Uint32Array(t.length)),this._parser.parse(this._parseBuffer,this._utf8Decoder.decode(t,this._parseBuffer)),e=this._terminal.buffer,e.x===n&&e.y===r||this._terminal.emit("cursormove")}},e.prototype.print=function(t,e,n){var r,i,o=this._terminal.buffer,a=this._terminal.charset,l=this._terminal.options.screenReaderMode,c=this._terminal.cols,f=this._terminal.wraparoundMode,_=this._terminal.insertMode,d=this._terminal.curAttrData,p=o.lines.get(o.y+o.ybase);this._terminal.updateRange(o.y);for(var m=e;m<n;++m){if(r=t[m],i=s.wcwidth(r),r<127&&a){var g=a[String.fromCharCode(r)];g&&(r=g.charCodeAt(0))}if(l&&this._terminal.emit("a11y.char",u.stringFromCodePoint(r)),i||!o.x){if(o.x+i-1>=c)if(f)o.x=0,o.y++,o.y>o.scrollBottom?(o.y--,this._terminal.scroll(!0)):o.lines.get(o.y).isWrapped=!0,p=o.lines.get(o.y+o.ybase);else if(2===i)continue;if(_&&(p.insertCells(o.x,i,o.getNullCell(d)),2===p.getWidth(c-1)&&p.setCellFromCodePoint(c-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,d.fg,d.bg)),p.setCellFromCodePoint(o.x++,r,i,d.fg,d.bg),i>0)for(;--i;)p.setCellFromCodePoint(o.x++,0,0,d.fg,d.bg)}else p.getWidth(o.x-1)?p.addCodepointToCell(o.x-1,r):p.addCodepointToCell(o.x-2,r)}this._terminal.updateRange(o.y)},e.prototype.addCsiHandler=function(t,e){return this._parser.addCsiHandler(t,e)},e.prototype.addOscHandler=function(t,e){return this._parser.addOscHandler(t,e)},e.prototype.bell=function(){this._terminal.bell()},e.prototype.lineFeed=function(){var t=this._terminal.buffer;this._terminal.options.convertEol&&(t.x=0),t.y++,t.y>t.scrollBottom&&(t.y--,this._terminal.scroll()),t.x>=this._terminal.cols&&t.x--,this._onLineFeed.fire()},e.prototype.carriageReturn=function(){this._terminal.buffer.x=0},e.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},e.prototype.tab=function(){var t=this._terminal.buffer.x;this._terminal.buffer.x=this._terminal.buffer.nextStop(),this._terminal.options.screenReaderMode&&this._terminal.emit("a11y.tab",this._terminal.buffer.x-t)},e.prototype.shiftOut=function(){this._terminal.setgLevel(1)},e.prototype.shiftIn=function(){this._terminal.setgLevel(0)},e.prototype.insertChars=function(t){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x,t[0]||1,this._terminal.buffer.getNullCell(this._terminal.eraseAttrData())),this._terminal.updateRange(this._terminal.buffer.y)},e.prototype.cursorUp=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},e.prototype.cursorDown=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.cursorForward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.cursorBackward=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=e,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},e.prototype.cursorNextLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},e.prototype.cursorPrecedingLine=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y-=e,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},e.prototype.cursorCharAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1},e.prototype.cursorPosition=function(t){var e,n=t[0]-1;e=t.length>=2?t[1]-1:0,n<0?n=0:n>=this._terminal.rows&&(n=this._terminal.rows-1),e<0?e=0:e>=this._terminal.cols&&(e=this._terminal.cols-1),this._terminal.buffer.x=e,this._terminal.buffer.y=n},e.prototype.cursorForwardTab=function(t){for(var e=t[0]||1;e--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},e.prototype._eraseInBufferLine=function(t,e,n,r){void 0===r&&(r=!1);var i=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+t);i.replaceCells(e,n,this._terminal.buffer.getNullCell(this._terminal.eraseAttrData())),r&&(i.isWrapped=!1)},e.prototype._resetBufferLine=function(t){this._eraseInBufferLine(t,0,this._terminal.cols,!0)},e.prototype.eraseInDisplay=function(t){var e;switch(t[0]){case 0:for(e=this._terminal.buffer.y,this._terminal.updateRange(e),this._eraseInBufferLine(e++,this._terminal.buffer.x,this._terminal.cols,0===this._terminal.buffer.x);e<this._terminal.rows;e++)this._resetBufferLine(e);this._terminal.updateRange(e);break;case 1:for(e=this._terminal.buffer.y,this._terminal.updateRange(e),this._eraseInBufferLine(e,0,this._terminal.buffer.x+1,!0),this._terminal.buffer.x+1>=this._terminal.cols&&(this._terminal.buffer.lines.get(e+1).isWrapped=!1);e--;)this._resetBufferLine(e);this._terminal.updateRange(0);break;case 2:for(e=this._terminal.rows,this._terminal.updateRange(e-1);e--;)this._resetBufferLine(e);this._terminal.updateRange(0);break;case 3:var n=this._terminal.buffer.lines.length-this._terminal.rows;n>0&&(this._terminal.buffer.lines.trimStart(n),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-n,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-n,0),this._onScroll.fire(0))}},e.prototype.eraseInLine=function(t){switch(t[0]){case 0:this._eraseInBufferLine(this._terminal.buffer.y,this._terminal.buffer.x,this._terminal.cols);break;case 1:this._eraseInBufferLine(this._terminal.buffer.y,0,this._terminal.buffer.x+1);break;case 2:this._eraseInBufferLine(this._terminal.buffer.y,0,this._terminal.cols)}this._terminal.updateRange(this._terminal.buffer.y)},e.prototype.insertLines=function(t){var e=t[0];e<1&&(e=1);for(var n=this._terminal.buffer,r=n.y+n.ybase,i=this._terminal.rows-1-n.scrollBottom,o=this._terminal.rows-1+n.ybase-i+1;e--;)n.lines.splice(o-1,1),n.lines.splice(r,0,n.getBlankLine(this._terminal.eraseAttrData()));this._terminal.updateRange(n.y),this._terminal.updateRange(n.scrollBottom)},e.prototype.deleteLines=function(t){var e=t[0];e<1&&(e=1);var n,r=this._terminal.buffer,i=r.y+r.ybase;for(n=this._terminal.rows-1-r.scrollBottom,n=this._terminal.rows-1+r.ybase-n;e--;)r.lines.splice(i,1),r.lines.splice(n,0,r.getBlankLine(this._terminal.eraseAttrData()));this._terminal.updateRange(r.y),this._terminal.updateRange(r.scrollBottom)},e.prototype.deleteChars=function(t){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x,t[0]||1,this._terminal.buffer.getNullCell(this._terminal.eraseAttrData())),this._terminal.updateRange(this._terminal.buffer.y)},e.prototype.scrollUp=function(t){for(var e=t[0]||1,n=this._terminal.buffer;e--;)n.lines.splice(n.ybase+n.scrollTop,1),n.lines.splice(n.ybase+n.scrollBottom,0,n.getBlankLine(h.DEFAULT_ATTR_DATA));this._terminal.updateRange(n.scrollTop),this._terminal.updateRange(n.scrollBottom)},e.prototype.scrollDown=function(t,e){if(t.length<2&&!e){for(var n=t[0]||1,r=this._terminal.buffer;n--;)r.lines.splice(r.ybase+r.scrollBottom,1),r.lines.splice(r.ybase+r.scrollTop,0,r.getBlankLine(h.DEFAULT_ATTR_DATA));this._terminal.updateRange(r.scrollTop),this._terminal.updateRange(r.scrollBottom)}},e.prototype.eraseChars=function(t){this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x,this._terminal.buffer.x+(t[0]||1),this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()))},e.prototype.cursorBackwardTab=function(t){for(var e=t[0]||1,n=this._terminal.buffer;e--;)n.x=n.prevStop()},e.prototype.charPosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x=e-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.hPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.x+=e,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.repeatPrecedingCharacter=function(t){var e=this._terminal.buffer,n=e.lines.get(e.ybase+e.y);n.loadCell(e.x-1,this._workCell),n.replaceCells(e.x,e.x+(t[0]||1),void 0!==this._workCell.content?this._workCell:e.getNullCell(h.DEFAULT_ATTR_DATA))},e.prototype.sendDeviceAttributes=function(t,e){t[0]>0||(e?">"===e&&(this._terminal.is("xterm")?this._terminal.handler(i.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.handler(i.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.handler(t[0]+"c"):this._terminal.is("screen")&&this._terminal.handler(i.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.handler(i.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.handler(i.C0.ESC+"[?6c"))},e.prototype.linePosAbsolute=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y=e-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},e.prototype.vPositionRelative=function(t){var e=t[0];e<1&&(e=1),this._terminal.buffer.y+=e,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.hVPosition=function(t){t[0]<1&&(t[0]=1),t[1]<1&&(t[1]=1),this._terminal.buffer.y=t[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=t[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.tabClear=function(t){var e=t[0];e<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===e&&(this._terminal.buffer.tabs={})},e.prototype.setMode=function(t,e){if(t.length>1)for(var n=0;n<t.length;n++)this.setMode([t[n]]);else if(e){if("?"===e)switch(t[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,o.DEFAULT_CHARSET),this._terminal.setgCharset(1,o.DEFAULT_CHARSET),this._terminal.setgCharset(2,o.DEFAULT_CHARSET),this._terminal.setgCharset(3,o.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===t[0],this._terminal.vt200Mouse=1e3===t[0],this._terminal.normalMouse=t[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element&&this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager&&this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1048:this.saveCursor(t);break;case 1049:this.saveCursor(t);case 47:case 1047:this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData()),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(t[0]){case 4:this._terminal.insertMode=!0}},e.prototype.resetMode=function(t,e){if(t.length>1)for(var n=0;n<t.length;n++)this.resetMode([t[n]]);else if(e){if("?"===e)switch(t[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element&&this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager&&this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1048:this.restoreCursor(t);break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),1049===t[0]&&this.restoreCursor(t),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(t[0]){case 4:this._terminal.insertMode=!1}},e.prototype.charAttributes=function(t){if(1===t.length&&0===t[0])return this._terminal.curAttrData.fg=h.DEFAULT_ATTR_DATA.fg,void(this._terminal.curAttrData.bg=h.DEFAULT_ATTR_DATA.bg);for(var e,n=t.length,r=this._terminal.curAttrData,i=0;i<n;i++)e=t[i],e>=30&&e<=37?(r.fg&=-50331904,r.fg|=16777216|e-30):e>=40&&e<=47?(r.bg&=-50331904,r.bg|=16777216|e-40):e>=90&&e<=97?(r.fg&=-50331904,r.fg|=16777224|e-90):e>=100&&e<=107?(r.bg&=-50331904,r.bg|=16777224|e-100):0===e?(r.fg=h.DEFAULT_ATTR_DATA.fg,r.bg=h.DEFAULT_ATTR_DATA.bg):1===e?r.fg|=134217728:3===e?r.bg|=67108864:4===e?r.fg|=268435456:5===e?r.fg|=536870912:7===e?r.fg|=67108864:8===e?r.fg|=1073741824:2===e?r.bg|=134217728:22===e?(r.fg&=-134217729,r.bg&=-134217729):23===e?r.bg&=-67108865:24===e?r.fg&=-268435457:25===e?r.fg&=-536870913:27===e?r.fg&=-67108865:28===e?r.fg&=-1073741825:39===e?(r.fg&=-67108864,r.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):49===e?(r.bg&=-67108864,r.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):38===e?2===t[i+1]?(i+=2,r.fg|=50331648,r.fg&=-16777216,r.fg|=h.AttributeData.fromColorRGB([t[i],t[i+1],t[i+2]]),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],r.fg&=-50331904,r.fg|=33554432|e):48===e?2===t[i+1]?(i+=2,r.bg|=50331648,r.bg&=-16777216,r.bg|=h.AttributeData.fromColorRGB([t[i],t[i+1],t[i+2]]),i+=2):5===t[i+1]&&(i+=2,e=255&t[i],r.bg&=-50331904,r.bg|=33554432|e):100===e?(r.fg&=-67108864,r.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,r.bg&=-67108864,r.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._terminal.error("Unknown SGR attribute: %d.",e)},e.prototype.deviceStatus=function(t,e){if(e){if("?"===e)switch(t[0]){case 6:var n=this._terminal.buffer.y+1,r=this._terminal.buffer.x+1;this._onData.fire(i.C0.ESC+"[?"+n+";"+r+"R")}}else switch(t[0]){case 5:this._onData.fire(i.C0.ESC+"[0n");break;case 6:var n=this._terminal.buffer.y+1,r=this._terminal.buffer.x+1;this._onData.fire(i.C0.ESC+"["+n+";"+r+"R")}},e.prototype.softReset=function(t,e){"!"===e&&(this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null])},e.prototype.setCursorStyle=function(t,e){if(" "===e){var n=t[0]<1?1:t[0];switch(n){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}var r=n%2==1;this._terminal.setOption("cursorBlink",r)}},e.prototype.setScrollRegion=function(t,e){e||(this._terminal.buffer.scrollTop=(t[0]||1)-1,this._terminal.buffer.scrollBottom=(t[1]&&t[1]<=this._terminal.rows?t[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},e.prototype.saveCursor=function(t){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y,this._terminal.buffer.savedCurAttrData.fg=this._terminal.curAttrData.fg,this._terminal.buffer.savedCurAttrData.bg=this._terminal.curAttrData.bg},e.prototype.restoreCursor=function(t){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0,this._terminal.curAttrData.fg=this._terminal.buffer.savedCurAttrData.fg,this._terminal.curAttrData.bg=this._terminal.buffer.savedCurAttrData.bg},e.prototype.setTitle=function(t){this._terminal.handleTitle(t)},e.prototype.nextLine=function(){this._terminal.buffer.x=0,this.index()},e.prototype.keypadApplicationMode=function(){this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},e.prototype.keypadNumericMode=function(){this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea()},e.prototype.selectDefaultCharset=function(){this._terminal.setgLevel(0),this._terminal.setgCharset(0,o.DEFAULT_CHARSET)},e.prototype.selectCharset=function(t){if(2!==t.length)return void this.selectDefaultCharset();"/"!==t[0]&&this._terminal.setgCharset(_[t[0]],o.CHARSETS[t[1]]||o.DEFAULT_CHARSET)},e.prototype.index=function(){this._terminal.index()},e.prototype.tabSet=function(){this._terminal.tabSet()},e.prototype.reverseIndex=function(){this._terminal.reverseIndex()},e.prototype.reset=function(){this._parser.reset(),this._terminal.reset()},e.prototype.setgLevel=function(t){this._terminal.setgLevel(t)},e}(l.Disposable);e.InputHandler=p},566:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(416),i=n(414),o=n(395),s=function(){function t(t){this._terminal=t,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onLinkHover=new o.EventEmitter2,this._onLinkLeave=new o.EventEmitter2,this._onLinkTooltip=new o.EventEmitter2,this._rowsToLinkify={start:null,end:null}}return Object.defineProperty(t.prototype,"onLinkHover",{get:function(){return this._onLinkHover.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLinkLeave",{get:function(){return this._onLinkLeave.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!0,configurable:!0}),t.prototype.attachToDom=function(t){this._mouseZoneManager=t},t.prototype.linkifyRows=function(e,n){var r=this;this._mouseZoneManager&&(null===this._rowsToLinkify.start?(this._rowsToLinkify.start=e,this._rowsToLinkify.end=n):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,e),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,n)),this._mouseZoneManager.clearAll(e,n),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return r._linkifyRows()},t.TIME_BEFORE_LINKIFY))},t.prototype._linkifyRows=function(){this._rowsTimeoutId=null;var e=this._terminal.buffer,n=e.ydisp+this._rowsToLinkify.start;if(!(n>=e.lines.length)){for(var r=e.ydisp+Math.min(this._rowsToLinkify.end,this._terminal.rows)+1,i=Math.ceil(t.OVERSCAN_CHAR_LIMIT/this._terminal.cols),o=this._terminal.buffer.iterator(!1,n,r,i,i);o.hasNext();)for(var s=o.next(),a=0;a<this._linkMatchers.length;a++)this._doLinkifyRow(s.range.first,s.content,this._linkMatchers[a]);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null}},t.prototype.registerLinkMatcher=function(t,e,n){if(void 0===n&&(n={}),!e)throw new Error("handler must be defined");var r={id:this._nextLinkMatcherId++,regex:t,handler:e,matchIndex:n.matchIndex,validationCallback:n.validationCallback,hoverTooltipCallback:n.tooltipCallback,hoverLeaveCallback:n.leaveCallback,willLinkActivate:n.willLinkActivate,priority:n.priority||0};return this._addLinkMatcherToList(r),r.id},t.prototype._addLinkMatcherToList=function(t){if(0===this._linkMatchers.length)return void this._linkMatchers.push(t);for(var e=this._linkMatchers.length-1;e>=0;e--)if(t.priority<=this._linkMatchers[e].priority)return void this._linkMatchers.splice(e+1,0,t);this._linkMatchers.splice(0,0,t)},t.prototype.deregisterLinkMatcher=function(t){for(var e=0;e<this._linkMatchers.length;e++)if(this._linkMatchers[e].id===t)return this._linkMatchers.splice(e,1),!0;return!1},t.prototype._doLinkifyRow=function(t,e,n){for(var r,i=this,o=new RegExp(n.regex.source,n.regex.flags+"g"),s=-1,a=this;null!==(r=o.exec(e));){if("break"===function(){var l=r["number"!=typeof n.matchIndex?0:n.matchIndex];if(!l){if(a._terminal.debug)throw console.log({match:r,matcher:n}),new Error("match found without corresponding matchIndex");return"break"}if(s=e.indexOf(l,s+1),o.lastIndex=s+l.length,s<0)return"break";var c=a._terminal.buffer.stringIndexToBufferIndex(t,s);if(c[0]<0)return"break";var u,h=a._terminal.buffer.lines.get(c[0]),f=h.getFg(c[1]);f&&(u=f>>9&511),n.validationCallback?n.validationCallback(l,function(t){i._rowsTimeoutId||t&&i._addLink(c[1],c[0]-i._terminal.buffer.ydisp,l,n,u)}):a._addLink(c[1],c[0]-a._terminal.buffer.ydisp,l,n,u)}())break}},t.prototype._addLink=function(t,e,n,o,s){var a=this,l=i.getStringCellWidth(n),c=t%this._terminal.cols,u=e+Math.floor(t/this._terminal.cols),h=(c+l)%this._terminal.cols,f=u+Math.floor((c+l)/this._terminal.cols);0===h&&(h=this._terminal.cols,f--),this._mouseZoneManager.add(new r.MouseZone(c+1,u+1,h+1,f+1,function(t){if(o.handler)return o.handler(t,n);window.open(n,"_blank")},function(){a._onLinkHover.fire(a._createLinkHoverEvent(c,u,h,f,s)),a._terminal.element.classList.add("xterm-cursor-pointer")},function(t){a._onLinkTooltip.fire(a._createLinkHoverEvent(c,u,h,f,s)),o.hoverTooltipCallback&&o.hoverTooltipCallback(t,n)},function(){a._onLinkLeave.fire(a._createLinkHoverEvent(c,u,h,f,s)),a._terminal.element.classList.remove("xterm-cursor-pointer"),o.hoverLeaveCallback&&o.hoverLeaveCallback()},function(t){return!o.willLinkActivate||o.willLinkActivate(t,n)}))},t.prototype._createLinkHoverEvent=function(t,e,n,r,i){return{x1:t,y1:e,x2:n,y2:r,cols:this._terminal.cols,fg:i}},t.TIME_BEFORE_LINKIFY=200,t.OVERSCAN_CHAR_LIMIT=2e3,t}();e.Linkifier=s},567:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(415),i=n(397),o=n(568),s=n(581),a=n(394),l=n(395),c=" ()[]{}'\"",u=String.fromCharCode(160),h=new RegExp(u,"g"),f=function(){function t(t,e){this._terminal=t,this._charMeasure=e,this._enabled=!0,this._workCell=new a.CellData,this._onLinuxMouseSelection=new l.EventEmitter2,this._onRedrawRequest=new l.EventEmitter2,this._onSelectionChange=new l.EventEmitter2,this._initListeners(),this.enable(),this._model=new o.SelectionModel(t),this._activeSelectionMode=0}return Object.defineProperty(t.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRedrawRequest",{get:function(){return this._onRedrawRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._removeMouseDownListeners()},Object.defineProperty(t.prototype,"_buffer",{get:function(){return this._terminal.buffers.active},enumerable:!0,configurable:!0}),t.prototype._initListeners=function(){var t=this;this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._mouseUpListener=function(e){return t._onMouseUp(e)},this.initBuffersListeners()},t.prototype.initBuffersListeners=function(){var t=this;this._trimListener=this._terminal.buffer.lines.onTrim(function(e){return t._onTrim(e)}),this._terminal.buffers.onBufferActivate(function(e){return t._onBufferActivate(e)})},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;return!(!t||!e)&&(t[0]!==e[0]||t[1]!==e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var t=this._model.finalSelectionStart,e=this._model.finalSelectionEnd;if(!t||!e)return"";var n=[];if(3===this._activeSelectionMode){if(t[0]===e[0])return"";for(var r=t[1];r<=e[1];r++){var o=this._buffer.translateBufferLineToString(r,!0,t[0],e[0]);n.push(o)}}else{var s=t[1]===e[1]?e[0]:void 0;n.push(this._buffer.translateBufferLineToString(t[1],!0,t[0],s));for(var r=t[1]+1;r<=e[1]-1;r++){var a=this._buffer.lines.get(r),o=this._buffer.translateBufferLineToString(r,!0);a.isWrapped?n[n.length-1]+=o:n.push(o)}if(t[1]!==e[1]){var a=this._buffer.lines.get(e[1]),o=this._buffer.translateBufferLineToString(e[1],!0,0,e[0]);a.isWrapped?n[n.length-1]+=o:n.push(o)}}return n.map(function(t){return t.replace(h," ")}).join(i.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},t.prototype.refresh=function(t){var e=this;if(this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return e._refresh()})),i.isLinux&&t){this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}},t.prototype._refresh=function(){this._refreshAnimationFrame=null,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},t.prototype.isClickInSelection=function(t){var e=this._getMouseBufferCoords(t),n=this._model.finalSelectionStart,r=this._model.finalSelectionEnd;return!(!n||!r)&&this._areCoordsInSelection(e,n,r)},t.prototype._areCoordsInSelection=function(t,e,n){return t[1]>e[1]&&t[1]<n[1]||e[1]===n[1]&&t[1]===e[1]&&t[0]>=e[0]&&t[0]<n[0]||e[1]<n[1]&&t[1]===n[1]&&t[0]<n[0]||e[1]<n[1]&&t[1]===e[1]&&t[0]>=e[0]},t.prototype.selectWordAtCursor=function(t){var e=this._getMouseBufferCoords(t);e&&(this._selectWordAt(e,!1),this._model.selectionEnd=null,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},t.prototype.selectLines=function(t,e){this._model.clearSelection(),t=Math.max(t,0),e=Math.min(e,this._terminal.buffer.lines.length-1),this._model.selectionStart=[0,t],this._model.selectionEnd=[this._terminal.cols,e],this.refresh(),this._onSelectionChange.fire()},t.prototype._onTrim=function(t){this._model.onTrim(t)&&this.refresh()},t.prototype._getMouseBufferCoords=function(t){var e=this._terminal.mouseHelper.getCoords(t,this._terminal.screenElement,this._charMeasure,this._terminal.cols,this._terminal.rows,!0);return e?(e[0]--,e[1]--,e[1]+=this._terminal.buffer.ydisp,e):null},t.prototype._getMouseEventScrollAmount=function(t){var e=r.MouseHelper.getCoordsRelativeToElement(t,this._terminal.screenElement)[1],n=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return e>=0&&e<=n?0:(e>n&&(e-=n),e=Math.min(Math.max(e,-50),50),(e/=50)/Math.abs(e)+Math.round(14*e))},t.prototype.shouldForceSelection=function(t){return i.isMac?t.altKey&&this._terminal.options.macOptionClickForcesSelection:t.shiftKey},t.prototype.onMouseDown=function(t){if(this._mouseDownTimeStamp=t.timeStamp,(2!==t.button||!this.hasSelection)&&0===t.button){if(!this._enabled){if(!this.shouldForceSelection(t))return;t.stopPropagation()}t.preventDefault(),this._dragScrollAmount=0,this._enabled&&t.shiftKey?this._onIncrementalClick(t):1===t.detail?this._onSingleClick(t):2===t.detail?this._onDoubleClick(t):3===t.detail&&this._onTripleClick(t),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var t=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return t._dragScroll()},50)},t.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument&&(this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},t.prototype._onIncrementalClick=function(t){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(t))},t.prototype._onSingleClick=function(t){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(t)?3:0,this._model.selectionStart=this._getMouseBufferCoords(t),this._model.selectionStart){this._model.selectionEnd=null;var e=this._buffer.lines.get(this._model.selectionStart[1]);e&&(e.length>=this._model.selectionStart[0]||0===e.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++)}},t.prototype._onDoubleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=1,this._selectWordAt(e,!0))},t.prototype._onTripleClick=function(t){var e=this._getMouseBufferCoords(t);e&&(this._activeSelectionMode=2,this._selectLineAt(e[1]))},t.prototype.shouldColumnSelect=function(t){return t.altKey&&!(i.isMac&&this._terminal.options.macOptionClickForcesSelection)},t.prototype._onMouseMove=function(t){t.stopImmediatePropagation();var e=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(t),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._terminal.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(t),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0)),this._model.selectionEnd[1]<this._buffer.lines.length&&0===this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++,e&&e[0]===this._model.selectionEnd[0]&&e[1]===this._model.selectionEnd[1]||this.refresh(!0)},t.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._terminal.cols),this._model.selectionEnd[1]=Math.min(this._terminal.buffer.ydisp+this._terminal.rows,this._terminal.buffer.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=this._terminal.buffer.ydisp),this.refresh())},t.prototype._onMouseUp=function(t){var e=t.timeStamp-this._mouseDownTimeStamp;this._removeMouseDownListeners(),this.selectionText.length<=1&&e<500?new s.AltClickHandler(t,this._terminal).move():this.hasSelection&&this._onSelectionChange.fire()},t.prototype._onBufferActivate=function(t){var e=this;this.clearSelection(),this._trimListener&&this._trimListener.dispose(),this._trimListener=t.activeBuffer.lines.onTrim(function(t){return e._onTrim(t)})},t.prototype._convertViewportColToCharacterIndex=function(t,e){for(var n=e[0],r=0;e[0]>=r;r++){var i=t.loadCell(r,this._workCell).getChars().length;0===this._workCell.getWidth()?n--:i>1&&e[0]!==r&&(n+=i-1)}return n},t.prototype.setSelection=function(t,e,n){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[t,e],this._model.selectionStartLength=n,this.refresh()},t.prototype._getWordAt=function(t,e,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),t[0]>=this._terminal.cols)return null;var i=this._buffer.lines.get(t[1]);if(!i)return null;var o=this._buffer.translateBufferLineToString(t[1],!1),s=this._convertViewportColToCharacterIndex(i,t),a=s,l=t[0]-s,c=0,u=0,h=0,f=0;if(" "===o.charAt(s)){for(;s>0&&" "===o.charAt(s-1);)s--;for(;a<o.length&&" "===o.charAt(a+1);)a++}else{var _=t[0],d=t[0];0===i.getWidth(_)&&(c++,_--),2===i.getWidth(d)&&(u++,d++);var p=i.getString(d).length;for(p>1&&(f+=p-1,a+=p-1);_>0&&s>0&&!this._isCharWordSeparator(i.loadCell(_-1,this._workCell));){i.loadCell(_-1,this._workCell);var m=this._workCell.getChars().length;0===this._workCell.getWidth()?(c++,_--):m>1&&(h+=m-1,s-=m-1),s--,_--}for(;d<i.length&&a+1<o.length&&!this._isCharWordSeparator(i.loadCell(d+1,this._workCell));){i.loadCell(d+1,this._workCell);var g=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,d++):g>1&&(f+=g-1,a+=g-1),a++,d++}}a++;var v=s+l-c+h,y=Math.min(this._terminal.cols,a-s+c+u-h-f);if(!e&&""===o.slice(s,a).trim())return null;if(n&&0===v&&32!==i.getCodePoint(0)){var b=this._buffer.lines.get(t[1]-1);if(b&&i.isWrapped&&32!==b.getCodePoint(this._terminal.cols-1)){var C=this._getWordAt([this._terminal.cols-1,t[1]-1],!1,!0,!1);if(C){var w=this._terminal.cols-C.start;v-=w,y+=w}}}if(r&&v+y===this._terminal.cols&&32!==i.getCodePoint(this._terminal.cols-1)){var A=this._buffer.lines.get(t[1]+1);if(A&&A.isWrapped&&32!==A.getCodePoint(0)){var x=this._getWordAt([0,t[1]+1],!1,!1,!0);x&&(y+=x.length)}}return{start:v,length:y}},t.prototype._selectWordAt=function(t,e){var n=this._getWordAt(t,e);if(n){for(;n.start<0;)n.start+=this._terminal.cols,t[1]--;this._model.selectionStart=[n.start,t[1]],this._model.selectionStartLength=n.length}},t.prototype._selectToWordAt=function(t){var e=this._getWordAt(t,!0);if(e){for(var n=t[1];e.start<0;)e.start+=this._terminal.cols,n--;if(!this._model.areSelectionValuesReversed())for(;e.start+e.length>this._terminal.cols;)e.length-=this._terminal.cols,n++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?e.start:e.start+e.length,n]}},t.prototype._isCharWordSeparator=function(t){return 0!==t.getWidth()&&c.indexOf(t.getChars())>=0},t.prototype._selectLineAt=function(t){var e=this._buffer.getWrappedRangeForLine(t);this._model.selectionStart=[0,e.first],this._model.selectionEnd=[this._terminal.cols,e.last],this._model.selectionStartLength=0},t}();e.SelectionManager=f},568:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._terminal=t,this.clearSelection()}return t.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(t.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1];if(!this.selectionStart)return null;if(!this.selectionEnd||this.areSelectionValuesReversed()){var t=this.selectionStart[0]+this.selectionStartLength;return t>this._terminal.cols?[t%this._terminal.cols,this.selectionStart[1]+Math.floor(t/this._terminal.cols)]:[t,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd},enumerable:!0,configurable:!0}),t.prototype.areSelectionValuesReversed=function(){var t=this.selectionStart,e=this.selectionEnd;return!(!t||!e)&&(t[1]>e[1]||t[1]===e[1]&&t[0]>e[0])},t.prototype.onTrim=function(t){return this.selectionStart&&(this.selectionStart[1]-=t),this.selectionEnd&&(this.selectionEnd[1]-=t),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},t}();e.SelectionModel=r},569:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_BELL_SOUND="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==";var r=function(){function t(t){this._terminal=t}return Object.defineProperty(t,"audioContext",{get:function(){if(!t._audioContext){var e=window.AudioContext||window.webkitAudioContext;if(!e)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;t._audioContext=new e}return t._audioContext},enumerable:!0,configurable:!0}),t.prototype.playBellSound=function(){var e=t.audioContext;if(e){var n=e.createBufferSource();e.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)),function(t){n.buffer=t,n.connect(e.destination),n.start(0)})}},t.prototype._base64ToArrayBuffer=function(t){for(var e=window.atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer},t.prototype._removeMimeType=function(t){return t.split(",")[1]},t}();e.SoundManager=r},570:function(t,e,n){"use strict";function r(t){return 16===t.keyCode||17===t.keyCode||18===t.keyCode}var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(560),s=n(413),a=n(563),l=n(576),c=n(571),u=n(562),h=n(400),f=n(565),_=n(588),d=n(566),p=n(567),m=n(561),g=n(397),v=n(398),y=n(408),b=n(415),C=n(569),w=n(416),A=n(559),x=n(419),S=n(595),E=n(580),L=n(575),k=n(395),T=n(394),R=n(572),M=n(421),D=n(587),O="undefined"!=typeof window?window.document:null,B=["cols","rows"],H={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:C.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,enableBold:!0,experimentalCharAtlas:"static",fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,screenReaderMode:!1,debug:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,allowTransparency:!1,tabStopWidth:8,theme:void 0,rightClickSelectsWord:g.isMac,rendererType:"canvas",windowsMode:!1},I=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.browser=g,n._blankLine=null,n._onCursorMove=new k.EventEmitter2,n._onData=new k.EventEmitter2,n._onKey=new k.EventEmitter2,n._onLineFeed=new k.EventEmitter2,n._onRender=new k.EventEmitter2,n._onResize=new k.EventEmitter2,n._onScroll=new k.EventEmitter2,n._onSelectionChange=new k.EventEmitter2,n._onTitleChange=new k.EventEmitter2,n.options=L.clone(e),n._setup(),n.onCursorMove(function(){return n.emit("cursormove")}),n.onData(function(t){return n.emit("data",t)}),n.onKey(function(t){return n.emit("key",t.key,t.domEvent)}),n.onLineFeed(function(){return n.emit("linefeed")}),n.onRender(function(t){return n.emit("refresh",t)}),n.onResize(function(t){return n.emit("resize",t)}),n.onSelectionChange(function(){return n.emit("selection")}),n.onScroll(function(t){return n.emit("scroll",t)}),n.onTitleChange(function(t){return n.emit("title",t)}),n}return i(e,t),Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._windowsMode&&(this._windowsMode.dispose(),this._windowsMode=void 0),this._customKeyEventHandler=null,x.removeTerminalFromCache(this),this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},e.prototype.destroy=function(){this.dispose()},e.prototype._setup=function(){var t=this;Object.keys(H).forEach(function(e){null!==t.options[e]&&void 0!==t.options[e]||(t.options[e]=H[e])}),this._parent=O?O.body:null,this.cols=Math.max(this.options.cols,2),this.rows=Math.max(this.options.rows,1),this.options.handler&&this.onData(this.options.handler),this.cursorState=0,this.cursorHidden=!1,this._customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.curAttrData=T.DEFAULT_ATTR_DATA.clone(),this._eraseAttrData=T.DEFAULT_ATTR_DATA.clone(),this.params=[],this.currentParam=0,this.writeBuffer=[],this.writeBufferUtf8=[],this._writeInProgress=!1,this._xoffSentToCatchUp=!1,this._userScrolling=!1,this._inputHandler=new f.InputHandler(this),this._inputHandler.onCursorMove(function(){return t._onCursorMove.fire()}),this._inputHandler.onLineFeed(function(){return t._onLineFeed.fire()}),this._inputHandler.onData(function(e){return t._onData.fire(e)}),this.register(this._inputHandler),this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new d.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.soundManager=this.soundManager||new C.SoundManager(this),this.buffers=new o.BufferSet(this),this.selectionManager&&(this.selectionManager.clearSelection(),this.selectionManager.initBuffersListeners()),this.options.windowsMode&&(this._windowsMode=R.applyWindowsMode(this))},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),e.prototype.eraseAttrData=function(){return this._eraseAttrData.bg&=-67108864,this._eraseAttrData.bg|=67108863&this.curAttrData.bg,this._eraseAttrData},e.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},Object.defineProperty(e.prototype,"isFocused",{get:function(){return O.activeElement===this.textarea&&O.hasFocus()},enumerable:!0,configurable:!0}),e.prototype.getOption=function(t){if(!(t in H))throw new Error('No option with key "'+t+'"');return this.options[t]},e.prototype.setOption=function(t,e){if(!(t in H))throw new Error('No option with key "'+t+'"');if(-1!==B.indexOf(t)&&console.error('Option "'+t+'" can only be set in the constructor'),this.options[t]!==e){switch(t){case"bellStyle":e||(e="none");break;case"cursorStyle":e||(e="block");break;case"fontWeight":e||(e="normal");break;case"fontWeightBold":e||(e="bold");break;case"lineHeight":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);case"rendererType":e||(e="canvas");break;case"tabStopWidth":if(e<1)return void console.warn(t+" cannot be less than 1, value: "+e);break;case"theme":this._setTheme(e);break;case"scrollback":if((e=Math.min(e,s.MAX_BUFFER_SIZE))<0)return void console.warn(t+" cannot be less than 0, value: "+e);if(this.options[t]!==e){var n=this.rows+e;if(this.buffer.lines.length>n){var r=this.buffer.lines.length-n,i=this.buffer.ydisp-r<0;this.buffer.lines.trimStart(r),this.buffer.ybase=Math.max(this.buffer.ybase-r,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-r,0),i&&this.refresh(0,this.rows-1)}}}switch(this.options[t]=e,t){case"fontFamily":case"fontSize":this._renderCoordinator&&(this._renderCoordinator.clear(),this.charMeasure.measure(this.options));break;case"drawBoldTextInBrightColors":case"experimentalCharAtlas":case"enableBold":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":this._renderCoordinator&&(this._renderCoordinator.clear(),this._renderCoordinator.onResize(this.cols,this.rows),this.refresh(0,this.rows-1));break;case"rendererType":this._renderCoordinator&&this._renderCoordinator.setRenderer(this._createRenderer());break;case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport&&this.viewport.syncScrollArea();break;case"screenReaderMode":e?!this._accessibilityManager&&this._renderCoordinator&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderCoordinator.dimensions)):this._accessibilityManager&&(this._accessibilityManager.dispose(),this._accessibilityManager=null);break;case"tabStopWidth":this.buffers.setupTabStops();break;case"windowsMode":e?this._windowsMode||(this._windowsMode=R.applyWindowsMode(this)):this._windowsMode&&(this._windowsMode.dispose(),this._windowsMode=void 0)}this._renderCoordinator&&this._renderCoordinator.onOptionsChanged()}},e.prototype._onTextAreaFocus=function(t){this.sendFocus&&this.handler(h.C0.ESC+"[I"),this.updateCursorStyle(t),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},e.prototype.blur=function(){return this.textarea.blur()},e.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.handler(h.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},e.prototype._initGlobal=function(){var t=this;this._bindKeys(),this.register(v.addDisposableDomListener(this.element,"copy",function(e){t.hasSelection()&&u.copyHandler(e,t,t.selectionManager)}));var e=function(e){return u.pasteHandler(e,t)};this.register(v.addDisposableDomListener(this.textarea,"paste",e)),this.register(v.addDisposableDomListener(this.element,"paste",e)),g.isFirefox?this.register(v.addDisposableDomListener(this.element,"mousedown",function(e){2===e.button&&u.rightClickHandler(e,t,t.selectionManager,t.options.rightClickSelectsWord)})):this.register(v.addDisposableDomListener(this.element,"contextmenu",function(e){u.rightClickHandler(e,t,t.selectionManager,t.options.rightClickSelectsWord)})),g.isLinux&&this.register(v.addDisposableDomListener(this.element,"auxclick",function(e){1===e.button&&u.moveTextAreaUnderMouseCursor(e,t)}))},e.prototype._bindKeys=function(){var t=this,e=this;this.register(v.addDisposableDomListener(this.element,"keydown",function(t){O.activeElement===this&&e._keyDown(t)},!0)),this.register(v.addDisposableDomListener(this.element,"keypress",function(t){O.activeElement===this&&e._keyPress(t)},!0)),this.register(v.addDisposableDomListener(this.element,"keyup",function(n){r(n)||t.focus(),e._keyUp(n)},!0)),this.register(v.addDisposableDomListener(this.textarea,"keydown",function(e){return t._keyDown(e)},!0)),this.register(v.addDisposableDomListener(this.textarea,"keypress",function(e){return t._keyPress(e)},!0)),this.register(v.addDisposableDomListener(this.textarea,"compositionstart",function(){return t._compositionHelper.compositionstart()})),this.register(v.addDisposableDomListener(this.textarea,"compositionupdate",function(e){return t._compositionHelper.compositionupdate(e)})),this.register(v.addDisposableDomListener(this.textarea,"compositionend",function(){return t._compositionHelper.compositionend()})),this.register(this.onRender(function(){return t._compositionHelper.updateCompositionElements()})),this.register(this.onRender(function(e){return t._queueLinkification(e.start,e.end)}))},e.prototype.open=function(t){var e=this;if(this._parent=t||this._parent,!this._parent)throw new Error("Terminal requires a parent element.");this._context=this._parent.ownerDocument.defaultView,this._document=this._parent.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this._parent.appendChild(this.element);var n=O.createDocumentFragment();this._viewportElement=O.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),n.appendChild(this._viewportElement),this._viewportScrollArea=O.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=O.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=O.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),n.appendChild(this.screenElement),this._mouseZoneManager=new w.MouseZoneManager(this),this.register(this._mouseZoneManager),this.register(this.onScroll(function(){return e._mouseZoneManager.clearAll()})),this.linkifier.attachToDom(this._mouseZoneManager),this.textarea=O.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(v.addDisposableDomListener(this.textarea,"focus",function(t){return e._onTextAreaFocus(t)})),this.register(v.addDisposableDomListener(this.textarea,"blur",function(){return e._onTextAreaBlur()})),this._helperContainer.appendChild(this.textarea),this._compositionView=O.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=new a.CompositionHelper(this.textarea,this._compositionView,this),this._helperContainer.appendChild(this._compositionView),this.charMeasure=new m.CharMeasure(O,this._helperContainer),this.element.appendChild(n),this._theme=this.options.theme,this._colorManager=new M.ColorManager(O,this.options.allowTransparency),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderCoordinator=new D.RenderCoordinator(r,this.rows,this.screenElement),this._renderCoordinator.onRender(function(t){return e._onRender.fire(t)}),this.onResize(function(t){return e._renderCoordinator.resize(t.cols,t.rows)}),this.viewport=new c.Viewport(this,this._viewportElement,this._viewportScrollArea,this.charMeasure,this._renderCoordinator.dimensions),this.viewport.onThemeChange(this._colorManager.colors),this.register(this.viewport),this.register(this.onCursorMove(function(){return e._renderCoordinator.onCursorMove()})),this.register(this.onResize(function(){return e._renderCoordinator.onResize(e.cols,e.rows)})),this.register(this.addDisposableListener("blur",function(){return e._renderCoordinator.onBlur()})),this.register(this.addDisposableListener("focus",function(){return e._renderCoordinator.onFocus()})),this.register(this.charMeasure.onCharSizeChanged(function(){return e._renderCoordinator.onCharSizeChanged()})),this.register(this._renderCoordinator.onDimensionsChange(function(){return e.viewport.syncScrollArea()})),this.selectionManager=new p.SelectionManager(this,this.charMeasure),this.register(this.selectionManager.onSelectionChange(function(){return e._onSelectionChange.fire()})),this.register(v.addDisposableDomListener(this.element,"mousedown",function(t){return e.selectionManager.onMouseDown(t)})),this.register(this.selectionManager.onRedrawRequest(function(t){return e._renderCoordinator.onSelectionChanged(t.start,t.end,t.columnSelectMode)})),this.register(this.selectionManager.onLinuxMouseSelection(function(t){e.textarea.value=t,e.textarea.focus(),e.textarea.select()})),this.register(this.onScroll(function(){e.viewport.syncScrollArea(),e.selectionManager.refresh()})),this.register(v.addDisposableDomListener(this._viewportElement,"scroll",function(){return e.selectionManager.refresh()})),this.mouseHelper=new b.MouseHelper(this._renderCoordinator),this.element.classList.toggle("enable-mouse-events",this.mouseEvents),this.mouseEvents?this.selectionManager.disable():this.selectionManager.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new A.AccessibilityManager(this,this._renderCoordinator.dimensions),this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function(t){return e._accessibilityManager.setDimensions(t)}))),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},e.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return new _.Renderer(this,this._colorManager.colors);case"dom":return new S.DomRenderer(this,this._colorManager.colors);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},e.prototype._setTheme=function(t){this._theme=t,this._colorManager&&this._colorManager.setTheme(t),this._renderCoordinator&&this._renderCoordinator.setColors(this._colorManager.colors),this.viewport&&this.viewport.onThemeChange(this._colorManager.colors)},e.prototype.bindMouse=function(){function t(t){var e,n;if(e=i(t),n=a.mouseHelper.getRawByteCoords(t,a.screenElement,a.charMeasure,a.cols,a.rows))switch(r(e,n),t.overrideType||t.type){case"mousedown":l=e;break;case"mouseup":l=32}}function e(t){var e=l,n=a.mouseHelper.getRawByteCoords(t,a.screenElement,a.charMeasure,a.cols,a.rows);n&&(e+=32,r(e,n))}function n(t,e){if(a.utfMouse){if(e>2047)return void t.push(2047);t.push(e)}else{if(255===e)return void t.push(0);e>127&&(e=127),t.push(e)}}function r(t,e){if(a._vt300Mouse){t&=3,e.x-=32,e.y-=32;var r=h.C0.ESC+"[24";if(0===t)r+="1";else if(1===t)r+="3";else if(2===t)r+="5";else{if(3===t)return;r+="0"}return r+="~["+e.x+","+e.y+"]\r",void a.handler(r)}if(a._decLocator)return t&=3,e.x-=32,e.y-=32,0===t?t=2:1===t?t=4:2===t?t=6:3===t&&(t=3),void a.handler(h.C0.ESC+"["+t+";"+(3===t?4:0)+";"+e.y+";"+e.x+";"+e.page||"0&w");if(a.urxvtMouse)return e.x-=32,e.y-=32,e.x++,e.y++,void a.handler(h.C0.ESC+"["+t+";"+e.x+";"+e.y+"M");if(a.sgrMouse)return e.x-=32,e.y-=32,void a.handler(h.C0.ESC+"[<"+((3==(3&t)?-4&t:t)-32)+";"+e.x+";"+e.y+(3==(3&t)?"m":"M"));var i=[];n(i,t),n(i,e.x),n(i,e.y),a.handler(h.C0.ESC+"[M"+String.fromCharCode.apply(String,i))}function i(t){var e,n,r,i,o;switch(t.overrideType||t.type){case"mousedown":e=null!==t.button&&void 0!==t.button?+t.button:null!==t.which&&void 0!==t.which?t.which-1:null,g.isMSIE&&(e=1===e?0:4===e?1:e);break;case"mouseup":e=3;break;case"DOMMouseScroll":e=t.detail<0?64:65;break;case"wheel":e=t.deltaY<0?64:65}return n=t.shiftKey?4:0,r=t.metaKey?8:0,i=t.ctrlKey?16:0,o=n|r|i,a.vt200Mouse?o&=i:a.normalMouse||(o=0),e=32+(o<<2)+e}var o=this,s=this.element,a=this,l=32;this.register(v.addDisposableDomListener(s,"mousedown",function(n){if(n.preventDefault(),o.focus(),o.mouseEvents&&!o.selectionManager.shouldForceSelection(n)){if(t(n),o.vt200Mouse)return n.overrideType="mouseup",t(n),o.cancel(n);var r;o.normalMouse&&(r=function(t){o.normalMouse&&e(t)},o._document.addEventListener("mousemove",r));var i=function(e){return o.normalMouse&&!o.x10Mouse&&t(e),r&&(o._document.removeEventListener("mousemove",r),r=null),o._document.removeEventListener("mouseup",i),o.cancel(e)};return o._document.addEventListener("mouseup",i),o.cancel(n)}})),this.register(v.addDisposableDomListener(s,"wheel",function(e){if(o.mouseEvents)o.x10Mouse||o._vt300Mouse||o._decLocator||(t(e),e.preventDefault());else if(!o.buffer.hasScrollback){var n=o.viewport.getLinesScrolled(e);if(0===n)return;for(var r=h.C0.ESC+(o.applicationCursor?"O":"[")+(e.deltaY<0?"A":"B"),i="",s=0;s<Math.abs(n);s++)i+=r;o.handler(i)}})),this.register(v.addDisposableDomListener(s,"wheel",function(t){if(!o.mouseEvents)return o.viewport.onWheel(t),o.cancel(t)})),this.register(v.addDisposableDomListener(s,"touchstart",function(t){if(!o.mouseEvents)return o.viewport.onTouchStart(t),o.cancel(t)})),this.register(v.addDisposableDomListener(s,"touchmove",function(t){if(!o.mouseEvents)return o.viewport.onTouchMove(t),o.cancel(t)}))},e.prototype.refresh=function(t,e){this._renderCoordinator&&this._renderCoordinator.refreshRows(t,e)},e.prototype._queueLinkification=function(t,e){this.linkifier&&this.linkifier.linkifyRows(t,e)},e.prototype.updateCursorStyle=function(t){this.selectionManager&&this.selectionManager.shouldColumnSelect(t)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},e.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},e.prototype.scroll=function(t){void 0===t&&(t=!1);var e;e=this._blankLine;var n=this.eraseAttrData();e&&e.length===this.cols&&e.getFg(0)===n.fg&&e.getBg(0)===n.bg||(e=this.buffer.getBlankLine(n,t),this._blankLine=e),e.isWrapped=t;var r=this.buffer.ybase+this.buffer.scrollTop,i=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var o=this.buffer.lines.isFull;i===this.buffer.lines.length-1?o?this.buffer.lines.recycle().copyFrom(e):this.buffer.lines.push(e.clone()):this.buffer.lines.splice(i+1,0,e.clone()),o?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else{var s=i-r+1;this.buffer.lines.shiftElements(r+1,s-1,-1),this.buffer.lines.set(i,e.clone())}this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this._onScroll.fire(this.buffer.ydisp)},e.prototype.scrollLines=function(t,e){if(t<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else t+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var n=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+t,this.buffer.ybase),0),n!==this.buffer.ydisp&&(e||this._onScroll.fire(this.buffer.ydisp),this.refresh(0,this.rows-1))},e.prototype.scrollPages=function(t){this.scrollLines(t*(this.rows-1))},e.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},e.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},e.prototype.scrollToLine=function(t){var e=t-this.buffer.ydisp;0!==e&&this.scrollLines(e)},e.prototype.writeUtf8=function(t){var e=this;this._isDisposed||t&&(this.writeBufferUtf8.push(t),this.options.useFlowControl&&!this._xoffSentToCatchUp&&this.writeBufferUtf8.length>=5&&(this.handler(h.C0.DC3),this._xoffSentToCatchUp=!0),!this._writeInProgress&&this.writeBufferUtf8.length>0&&(this._writeInProgress=!0,setTimeout(function(){e._innerWriteUtf8()})))},e.prototype._innerWriteUtf8=function(t){var e=this;void 0===t&&(t=0),this._isDisposed&&(this.writeBufferUtf8=[]);for(var n=Date.now();this.writeBufferUtf8.length>t;){var r=this.writeBufferUtf8[t];if(t++,this._xoffSentToCatchUp&&this.writeBufferUtf8.length===t&&(this.handler(h.C0.DC1),this._xoffSentToCatchUp=!1),this._refreshStart=this.buffer.y,this._refreshEnd=this.buffer.y,this._inputHandler.parseUtf8(r),this.updateRange(this.buffer.y),this.refresh(this._refreshStart,this._refreshEnd),Date.now()-n>=12)break}this.writeBufferUtf8.length>t?(t>50&&(this.writeBufferUtf8=this.writeBufferUtf8.slice(t),t=0),setTimeout(function(){return e._innerWriteUtf8(t)},0)):(this._writeInProgress=!1,this.writeBufferUtf8=[])},e.prototype.write=function(t){var e=this;this._isDisposed||t&&(this.writeBuffer.push(t),this.options.useFlowControl&&!this._xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.handler(h.C0.DC3),this._xoffSentToCatchUp=!0),!this._writeInProgress&&this.writeBuffer.length>0&&(this._writeInProgress=!0,setTimeout(function(){e._innerWrite()})))},e.prototype._innerWrite=function(t){var e=this;void 0===t&&(t=0),this._isDisposed&&(this.writeBuffer=[]);for(var n=Date.now();this.writeBuffer.length>t;){var r=this.writeBuffer[t];if(t++,this._xoffSentToCatchUp&&this.writeBuffer.length===t&&(this.handler(h.C0.DC1),this._xoffSentToCatchUp=!1),this._refreshStart=this.buffer.y,this._refreshEnd=this.buffer.y,this._inputHandler.parse(r),this.updateRange(this.buffer.y),this.refresh(this._refreshStart,this._refreshEnd),Date.now()-n>=12)break}this.writeBuffer.length>t?(t>50&&(this.writeBuffer=this.writeBuffer.slice(t),t=0),setTimeout(function(){return e._innerWrite(t)},0)):(this._writeInProgress=!1,this.writeBuffer=[])},e.prototype.writeln=function(t){this.write(t+"\r\n")},e.prototype.attachCustomKeyEventHandler=function(t){this._customKeyEventHandler=t},e.prototype.addCsiHandler=function(t,e){return this._inputHandler.addCsiHandler(t,e)},e.prototype.addOscHandler=function(t,e){return this._inputHandler.addOscHandler(t,e)},e.prototype.registerLinkMatcher=function(t,e,n){var r=this.linkifier.registerLinkMatcher(t,e,n);return this.refresh(0,this.rows-1),r},e.prototype.deregisterLinkMatcher=function(t){this.linkifier.deregisterLinkMatcher(t)&&this.refresh(0,this.rows-1)},e.prototype.registerCharacterJoiner=function(t){var e=this._renderCoordinator.registerCharacterJoiner(t);return this.refresh(0,this.rows-1),e},e.prototype.deregisterCharacterJoiner=function(t){this._renderCoordinator.deregisterCharacterJoiner(t)&&this.refresh(0,this.rows-1)},Object.defineProperty(e.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),e.prototype.addMarker=function(t){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+t)},e.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},e.prototype.select=function(t,e,n){this.selectionManager.setSelection(t,e,n)},e.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},e.prototype.getSelectionPosition=function(){if(this.selectionManager.hasSelection)return{startColumn:this.selectionManager.selectionStart[0],startRow:this.selectionManager.selectionStart[1],endColumn:this.selectionManager.selectionEnd[0],endRow:this.selectionManager.selectionEnd[1]}},e.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},e.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},e.prototype.selectLines=function(t,e){this.selectionManager&&this.selectionManager.selectLines(t,e)},e.prototype._keyDown=function(t){if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(t))return!1;if(!this._compositionHelper.keydown(t))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var e=E.evaluateKeyboardEvent(t,this.applicationCursor,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(t),3===e.type||2===e.type){var n=this.rows-1;return this.scrollLines(2===e.type?-n:n),this.cancel(t,!0)}return 1===e.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,t)||(e.cancel&&this.cancel(t,!0),!e.key||(this.emit("keydown",t),this._onKey.fire({key:e.key,domEvent:t}),this.showCursor(),this.handler(e.key),this.cancel(t,!0)))},e.prototype._isThirdLevelShift=function(t,e){var n=t.isMac&&!this.options.macOptionIsMeta&&e.altKey&&!e.ctrlKey&&!e.metaKey||t.isMSWindows&&e.altKey&&e.ctrlKey&&!e.metaKey;return"keypress"===e.type?n:n&&(!e.keyCode||e.keyCode>47)},e.prototype.setgLevel=function(t){this.glevel=t,this.charset=this.charsets[t]},e.prototype.setgCharset=function(t,e){this.charsets[t]=e,this.glevel===t&&(this.charset=e)},e.prototype._keyUp=function(t){this.updateCursorStyle(t)},e.prototype._keyPress=function(t){var e;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(t))return!1;if(this.cancel(t),t.charCode)e=t.charCode;else if(null===t.which||void 0===t.which)e=t.keyCode;else{if(0===t.which||0===t.charCode)return!1;e=t.which}return!(!e||(t.altKey||t.ctrlKey||t.metaKey)&&!this._isThirdLevelShift(this.browser,t))&&(e=String.fromCharCode(e),this.emit("keypress",e,t),this._onKey.fire({key:e,domEvent:t}),this.showCursor(),this.handler(e),!0)},e.prototype.bell=function(){var t=this;this.emit("bell"),this._soundBell()&&this.soundManager.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout(function(){t.element.classList.remove("visual-bell-active")},200))},e.prototype.log=function(t,e){this.options.debug&&this._context.console&&this._context.console.log&&this._context.console.log(t,e)},e.prototype.error=function(t,e){this.options.debug&&this._context.console&&this._context.console.error&&this._context.console.error(t,e)},e.prototype.resize=function(t,e){if(!isNaN(t)&&!isNaN(e)){if(t===this.cols&&e===this.rows)return void(!this.charMeasure||this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options));t<2&&(t=2),e<1&&(e=1),this.buffers.resize(t,e),this.cols=t,this.rows=e,this.buffers.setupTabStops(this.cols),this.charMeasure&&this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this._onResize.fire({cols:t,rows:e})}},e.prototype.updateRange=function(t){t<this._refreshStart&&(this._refreshStart=t),t>this._refreshEnd&&(this._refreshEnd=t)},e.prototype.maxRange=function(){this._refreshStart=0,this._refreshEnd=this.rows-1},e.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var t=1;t<this.rows;t++)this.buffer.lines.push(this.buffer.getBlankLine(T.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},e.prototype.is=function(t){return 0===(this.options.termName+"").indexOf(t)},e.prototype.handler=function(t){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this._onData.fire(t))},e.prototype.handleTitle=function(t){this._onTitleChange.fire(t)},e.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},e.prototype.reverseIndex=function(){if(this.buffer.y===this.buffer.scrollTop){var t=this.buffer.scrollBottom-this.buffer.scrollTop;this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,t,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.buffer.getBlankLine(this.eraseAttrData())),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)}else this.buffer.y--},e.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var t=this._customKeyEventHandler,e=this._inputHandler,n=this.cursorState,r=this.writeBuffer,i=this.writeBufferUtf8,o=this._writeInProgress,s=this._xoffSentToCatchUp,a=this._userScrolling;this._setup(),this._customKeyEventHandler=t,this._inputHandler=e,this.cursorState=n,this.writeBuffer=r,this.writeBufferUtf8=i,this._writeInProgress=o,this._xoffSentToCatchUp=s,this._userScrolling=a,this.refresh(0,this.rows-1),this.viewport&&this.viewport.syncScrollArea()},e.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},e.prototype.cancel=function(t,e){if(this.options.cancelEvents||e)return t.preventDefault(),t.stopPropagation(),!1},e.prototype._visualBell=function(){return!1},e.prototype._soundBell=function(){return"sound"===this.options.bellStyle},e}(l.EventEmitter);e.Terminal=I},571:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(393),o=n(398),s=15,a=function(t){function e(e,n,r,i,a){var l=t.call(this)||this;return l._terminal=e,l._viewportElement=n,l._scrollArea=r,l._charMeasure=i,l._dimensions=a,l.scrollBarWidth=0,l._currentRowHeight=0,l._lastRecordedBufferLength=0,l._lastRecordedViewportHeight=0,l._lastRecordedBufferHeight=0,l._lastScrollTop=0,l._wheelPartialScroll=0,l._refreshAnimationFrame=null,l._ignoreNextScrollEvent=!1,l.scrollBarWidth=l._viewportElement.offsetWidth-l._scrollArea.offsetWidth||s,l.register(o.addDisposableDomListener(l._viewportElement,"scroll",l._onScroll.bind(l))),setTimeout(function(){return l.syncScrollArea()},0),l}return r(e,t),e.prototype.onDimensionsChance=function(t){this._dimensions=t},e.prototype.onThemeChange=function(t){this._viewportElement.style.backgroundColor=t.background.css},e.prototype._refresh=function(){var t=this;null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame(function(){return t._innerRefresh()}))},e.prototype._innerRefresh=function(){if(this._charMeasure.height>0){this._currentRowHeight=this._dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var t=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._dimensions.canvasHeight);this._lastRecordedBufferHeight!==t&&(this._lastRecordedBufferHeight=t,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var e=this._terminal.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null},e.prototype.syncScrollArea=function(){if(this._lastRecordedBufferLength!==this._terminal.buffer.lines.length)return this._lastRecordedBufferLength=this._terminal.buffer.lines.length,void this._refresh();if(this._lastRecordedViewportHeight!==this._dimensions.canvasHeight)return void this._refresh();var t=this._terminal.buffer.ydisp*this._currentRowHeight;return this._lastScrollTop!==t?void this._refresh():this._lastScrollTop!==this._viewportElement.scrollTop?void this._refresh():this._dimensions.scaledCellHeight/window.devicePixelRatio!==this._currentRowHeight?void this._refresh():void 0},e.prototype._onScroll=function(t){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent){if(this._ignoreNextScrollEvent)return void(this._ignoreNextScrollEvent=!1);var e=Math.round(this._lastScrollTop/this._currentRowHeight),n=e-this._terminal.buffer.ydisp;this._terminal.scrollLines(n,!0)}},e.prototype.onWheel=function(t){var e=this._getPixelsScrolled(t);0!==e&&(this._viewportElement.scrollTop+=e,t.preventDefault())},e.prototype._getPixelsScrolled=function(t){if(0===t.deltaY)return 0;var e=t.deltaY;return t.deltaMode===WheelEvent.DOM_DELTA_LINE?e*=this._currentRowHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=this._currentRowHeight*this._terminal.rows),e},e.prototype.getLinesScrolled=function(t){if(0===t.deltaY)return 0;var e=t.deltaY;return t.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(e/=this._currentRowHeight+0,this._wheelPartialScroll+=e,e=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(e*=this._terminal.rows),e},e.prototype.onTouchStart=function(t){this._lastTouchY=t.touches[0].pageY},e.prototype.onTouchMove=function(t){var e=this._lastTouchY-t.touches[0].pageY;this._lastTouchY=t.touches[0].pageY,0!==e&&(this._viewportElement.scrollTop+=e,t.preventDefault())},e}(i.Disposable);e.Viewport=a},572:function(t,e,n){"use strict";function r(t){return t.onLineFeed(function(){var e=t.buffer.lines.get(t.buffer.ybase+t.buffer.y-1),n=e.get(t.cols-1);t.buffer.lines.get(t.buffer.ybase+t.buffer.y).isWrapped=n[i.CHAR_DATA_CODE_INDEX]!==i.NULL_CELL_CODE&&n[i.CHAR_DATA_CODE_INDEX]!==i.WHITESPACE_CELL_CODE})}Object.defineProperty(e,"__esModule",{value:!0});var i=n(394);e.applyWindowsMode=r},573:function(t,e,n){"use strict";function r(t){if(!t.element.parentElement)return null;var e=window.getComputedStyle(t.element.parentElement),n=parseInt(e.getPropertyValue("height")),r=Math.max(0,parseInt(e.getPropertyValue("width"))),i=window.getComputedStyle(t.element),o={top:parseInt(i.getPropertyValue("padding-top")),bottom:parseInt(i.getPropertyValue("padding-bottom")),right:parseInt(i.getPropertyValue("padding-right")),left:parseInt(i.getPropertyValue("padding-left"))},s=o.top+o.bottom,a=o.right+o.left,l=n-s,c=r-a-t._core.viewport.scrollBarWidth;return{cols:Math.floor(c/t._core._renderCoordinator.dimensions.actualCellWidth),rows:Math.floor(l/t._core._renderCoordinator.dimensions.actualCellHeight)}}function i(t){var e=r(t);e&&(t.rows===e.rows&&t.cols===e.cols||(t._core._renderCoordinator.clear(),t.resize(e.cols,e.rows)))}function o(t){t.prototype.proposeGeometry=function(){return r(this)},t.prototype.fit=function(){i(this)}}Object.defineProperty(e,"__esModule",{value:!0}),e.proposeGeometry=r,e.fit=i,e.apply=o},574:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(395),i=function(){function t(t){this._maxLength=t,this.onDeleteEmitter=new r.EventEmitter2,this.onInsertEmitter=new r.EventEmitter2,this.onTrimEmitter=new r.EventEmitter2,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(t.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){if(this._maxLength!==t){for(var e=new Array(t),n=0;n<Math.min(t,this.length);n++)e[n]=this._array[this._getCyclicIndex(n)];this._array=e,this._maxLength=t,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(t){if(t>this._length)for(var e=this._length;e<t;e++)this._array[e]=void 0;this._length=t},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this._array[this._getCyclicIndex(t)]},t.prototype.set=function(t,e){this._array[this._getCyclicIndex(t)]=e},t.prototype.push=function(t){this._array[this._getCyclicIndex(this._length)]=t,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},t.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(t.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!0,configurable:!0}),t.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},t.prototype.splice=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e){for(var i=t;i<this._length-e;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+e)];this._length-=e}for(var i=this._length-1;i>=t;i--)this._array[this._getCyclicIndex(i+n.length)]=this._array[this._getCyclicIndex(i)];for(var i=0;i<n.length;i++)this._array[this._getCyclicIndex(t+i)]=n[i];if(this._length+n.length>this._maxLength){var o=this._length+n.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=n.length},t.prototype.trimStart=function(t){t>this._length&&(t=this._length),this._startIndex+=t,this._length-=t,this.onTrimEmitter.fire(t)},t.prototype.shiftElements=function(t,e,n){if(!(e<=0)){if(t<0||t>=this._length)throw new Error("start argument out of range");if(t+n<0)throw new Error("Cannot shift elements in list beyond index 0");if(n>0){for(var r=e-1;r>=0;r--)this.set(t+r+n,this.get(t+r));var i=t+e+n-this._length;if(i>0)for(this._length+=i;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(var r=0;r<e;r++)this.set(t+r+n,this.get(t+r))}},t.prototype._getCyclicIndex=function(t){return(this._startIndex+t)%this._maxLength},t}();e.CircularList=i},575:function(t,e,n){"use strict";function r(t,e){if(void 0===e&&(e=5),"object"!=typeof t)return t;if(null===t)return null;var n=Array.isArray(t)?[]:{};for(var i in t)n[i]=e<=1?t[i]:r(t[i],e-1);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.clone=r},576:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(393),o=function(t){function e(){var e=t.call(this)||this;return e._events=e._events||{},e}return r(e,t),e.prototype.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)},e.prototype.addDisposableListener=function(t,e){var n=this;this.on(t,e);var r=!1;return{dispose:function(){r||(n.off(t,e),r=!0)}}},e.prototype.off=function(t,e){if(this._events[t])for(var n=this._events[t],r=n.length;r--;)if(n[r]===e)return void n.splice(r,1)},e.prototype.removeAllListeners=function(t){this._events[t]&&delete this._events[t]},e.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this._events[t])for(var r=this._events[t],i=0;i<r.length;i++)r[i].apply(this,e)},e.prototype.emitMayRemoveListeners=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this._events[t])for(var r=this._events[t],i=r.length,o=0;o<r.length;o++)r[o].apply(this,e),o-=i-r.length,i=r.length},e.prototype.listeners=function(t){return this._events[t]||[]},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._events={}},e}(i.Disposable);e.EventEmitter=o},577:function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=[],s=0;s<t.length-1;s++){var l=s,c=t.get(++l);if(c.isWrapped){for(var u=[t.get(s)];l<t.length&&c.isWrapped;)u.push(c),c=t.get(++l);if(r>=s&&r<l)s+=u.length-1;else{for(var h=0,f=a(u,h,e),_=1,d=0;_<u.length;){var p=a(u,_,e),m=p-d,g=n-f,v=Math.min(m,g);u[h].copyCellsFrom(u[_],d,f,v,!1),f+=v,f===n&&(h++,f=0),d+=v,d===p&&(_++,d=0),0===f&&0!==h&&2===u[h-1].getWidth(n-1)&&(u[h].copyCellsFrom(u[h-1],n-1,f++,1,!1),u[h-1].setCell(n-1,i))}u[h].replaceCells(f,n,i);for(var y=0,b=u.length-1;b>0&&(b>h||0===u[b].getTrimmedLength());b--)y++;y>0&&(o.push(s+u.length-y),o.push(y)),s+=u.length-1}}}return o}function i(t,e){for(var n=[],r=0,i=e[r],o=0,s=0;s<t.length;s++)if(i===s){var a=e[++r];t.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,i=e[++r]}else n.push(s);return{layout:n,countRemoved:o}}function o(t,e){for(var n=[],r=0;r<e.length;r++)n.push(t.get(e[r]));for(var r=0;r<n.length;r++)t.set(r,n[r]);t.length=e.length}function s(t,e,n){for(var r=[],i=t.map(function(n,r){return a(t,r,e)}).reduce(function(t,e){return t+e}),o=0,s=0,l=0;l<i;){if(i-l<n){r.push(i-l);break}o+=n;var c=a(t,s,e);o>c&&(o-=c,s++);var u=2===t[s].getWidth(o-1);u&&o--;var h=u?n-1:n;r.push(h),l+=h}return r}function a(t,e,n){if(e===t.length-1)return t[e].getTrimmedLength();var r=!t[e].hasContent(n-1)&&1===t[e].getWidth(n-1),i=2===t[e+1].getWidth(0);return r&&i?n-1:n}Object.defineProperty(e,"__esModule",{value:!0}),e.reflowLargerGetLinesToRemove=r,e.reflowLargerCreateNewLayout=i,e.reflowLargerApplyNewLayout=o,e.reflowSmallerGetNewLineLengths=s,e.getWrappedLineTrimmedLength=a},578:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(395),o=n(393),s=function(t){function e(n){var r=t.call(this)||this;return r.line=n,r._id=e._nextId++,r.isDisposed=!1,r._onDispose=new i.EventEmitter2,r}return r(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._onDispose.fire())},e._nextId=1,e}(o.Disposable);e.Marker=s},579:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHARSETS={},e.DEFAULT_CHARSET=e.CHARSETS.B,e.CHARSETS[0]={"`":"◆",a:"▒",b:"\t",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"\v",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},e.CHARSETS.A={"#":"£"},e.CHARSETS.B=null,e.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},e.CHARSETS.C=e.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},e.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},e.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},e.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},e.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},e.CHARSETS.E=e.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},e.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},e.CHARSETS.H=e.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},e.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},580:function(t,e,n){"use strict";function r(t,e,n,r){var s={type:0,cancel:!1,key:void 0},a=(t.shiftKey?1:0)|(t.altKey?2:0)|(t.ctrlKey?4:0)|(t.metaKey?8:0);switch(t.keyCode){case 0:"UIKeyInputUpArrow"===t.key?s.key=e?i.C0.ESC+"OA":i.C0.ESC+"[A":"UIKeyInputLeftArrow"===t.key?s.key=e?i.C0.ESC+"OD":i.C0.ESC+"[D":"UIKeyInputRightArrow"===t.key?s.key=e?i.C0.ESC+"OC":i.C0.ESC+"[C":"UIKeyInputDownArrow"===t.key&&(s.key=e?i.C0.ESC+"OB":i.C0.ESC+"[B");break;case 8:if(t.shiftKey){s.key=i.C0.BS;break}if(t.altKey){s.key=i.C0.ESC+i.C0.DEL;break}s.key=i.C0.DEL;break;case 9:if(t.shiftKey){s.key=i.C0.ESC+"[Z";break}s.key=i.C0.HT,s.cancel=!0;break;case 13:s.key=i.C0.CR,s.cancel=!0;break;case 27:s.key=i.C0.ESC,s.cancel=!0;break;case 37:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"D",s.key===i.C0.ESC+"[1;3D"&&(s.key=n?i.C0.ESC+"b":i.C0.ESC+"[1;5D")):s.key=e?i.C0.ESC+"OD":i.C0.ESC+"[D";break;case 39:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"C",s.key===i.C0.ESC+"[1;3C"&&(s.key=n?i.C0.ESC+"f":i.C0.ESC+"[1;5C")):s.key=e?i.C0.ESC+"OC":i.C0.ESC+"[C";break;case 38:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"A",s.key===i.C0.ESC+"[1;3A"&&(s.key=i.C0.ESC+"[1;5A")):s.key=e?i.C0.ESC+"OA":i.C0.ESC+"[A";break;case 40:a?(s.key=i.C0.ESC+"[1;"+(a+1)+"B",s.key===i.C0.ESC+"[1;3B"&&(s.key=i.C0.ESC+"[1;5B")):s.key=e?i.C0.ESC+"OB":i.C0.ESC+"[B";break;case 45:t.shiftKey||t.ctrlKey||(s.key=i.C0.ESC+"[2~");break;case 46:s.key=a?i.C0.ESC+"[3;"+(a+1)+"~":i.C0.ESC+"[3~";break;case 36:s.key=a?i.C0.ESC+"[1;"+(a+1)+"H":e?i.C0.ESC+"OH":i.C0.ESC+"[H";break;case 35:s.key=a?i.C0.ESC+"[1;"+(a+1)+"F":e?i.C0.ESC+"OF":i.C0.ESC+"[F";break;case 33:t.shiftKey?s.type=2:s.key=i.C0.ESC+"[5~";break;case 34:t.shiftKey?s.type=3:s.key=i.C0.ESC+"[6~";break;case 112:s.key=a?i.C0.ESC+"[1;"+(a+1)+"P":i.C0.ESC+"OP";break;case 113:s.key=a?i.C0.ESC+"[1;"+(a+1)+"Q":i.C0.ESC+"OQ";break;case 114:s.key=a?i.C0.ESC+"[1;"+(a+1)+"R":i.C0.ESC+"OR";break;case 115:s.key=a?i.C0.ESC+"[1;"+(a+1)+"S":i.C0.ESC+"OS";break;case 116:s.key=a?i.C0.ESC+"[15;"+(a+1)+"~":i.C0.ESC+"[15~";break;case 117:s.key=a?i.C0.ESC+"[17;"+(a+1)+"~":i.C0.ESC+"[17~";break;case 118:s.key=a?i.C0.ESC+"[18;"+(a+1)+"~":i.C0.ESC+"[18~";break;case 119:s.key=a?i.C0.ESC+"[19;"+(a+1)+"~":i.C0.ESC+"[19~";break;case 120:s.key=a?i.C0.ESC+"[20;"+(a+1)+"~":i.C0.ESC+"[20~";break;case 121:s.key=a?i.C0.ESC+"[21;"+(a+1)+"~":i.C0.ESC+"[21~";break;case 122:s.key=a?i.C0.ESC+"[23;"+(a+1)+"~":i.C0.ESC+"[23~";break;case 123:s.key=a?i.C0.ESC+"[24;"+(a+1)+"~":i.C0.ESC+"[24~";break;default:if(!t.ctrlKey||t.shiftKey||t.altKey||t.metaKey)if(n&&!r||!t.altKey||t.metaKey)n&&!t.altKey&&!t.ctrlKey&&t.metaKey?65===t.keyCode&&(s.type=1):t.key&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&t.keyCode>=48&&1===t.key.length?s.key=t.key:t.key&&t.ctrlKey&&"_"===t.key&&(s.key=i.C0.US);else{var l=o[t.keyCode],c=l&&l[t.shiftKey?1:0];if(c)s.key=i.C0.ESC+c;else if(t.keyCode>=65&&t.keyCode<=90){var u=t.ctrlKey?t.keyCode-64:t.keyCode+32;s.key=i.C0.ESC+String.fromCharCode(u)}}else t.keyCode>=65&&t.keyCode<=90?s.key=String.fromCharCode(t.keyCode-64):32===t.keyCode?s.key=String.fromCharCode(0):t.keyCode>=51&&t.keyCode<=55?s.key=String.fromCharCode(t.keyCode-51+27):56===t.keyCode?s.key=String.fromCharCode(127):219===t.keyCode?s.key=String.fromCharCode(27):220===t.keyCode?s.key=String.fromCharCode(28):221===t.keyCode&&(s.key=String.fromCharCode(29))}return s}Object.defineProperty(e,"__esModule",{value:!0});var i=n(400),o={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};e.evaluateKeyboardEvent=r},581:function(t,e,n){"use strict";function r(t,e){t=Math.floor(t);for(var n="",r=0;r<t;r++)n+=e;return n}Object.defineProperty(e,"__esModule",{value:!0});var i=n(400),o=function(){function t(t,e){var n;this._mouseEvent=t,this._terminal=e,this._lines=this._terminal.buffer.lines,this._startCol=this._terminal.buffer.x,this._startRow=this._terminal.buffer.y;var r=this._terminal.mouseHelper.getCoords(this._mouseEvent,this._terminal.element,this._terminal.charMeasure,this._terminal.cols,this._terminal.rows,!1);r&&(n=r.map(function(t){return t-1}),this._endCol=n[0],this._endRow=n[1])}return t.prototype.move=function(){this._mouseEvent.altKey&&void 0!==this._endCol&&void 0!==this._endRow&&this._terminal.handler(this._arrowSequences())},t.prototype._arrowSequences=function(){return this._terminal.buffer.hasScrollback?this._moveHorizontallyOnly():this._resetStartingRow()+this._moveToRequestedRow()+this._moveToRequestedCol()},t.prototype._resetStartingRow=function(){return 0===this._moveToRequestedRow().length?"":r(this._bufferLine(this._startCol,this._startRow,this._startCol,this._startRow-this._wrappedRowsForRow(this._startRow),!1).length,this._sequence("D"))},t.prototype._moveToRequestedRow=function(){var t=this._startRow-this._wrappedRowsForRow(this._startRow),e=this._endRow-this._wrappedRowsForRow(this._endRow);return r(Math.abs(t-e)-this._wrappedRowsCount(),this._sequence(this._verticalDirection()))},t.prototype._moveToRequestedCol=function(){var t;t=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow;var e=this._endRow,n=this._horizontalDirection();return r(this._bufferLine(this._startCol,t,this._endCol,e,"C"===n).length,this._sequence(n))},t.prototype._moveHorizontallyOnly=function(){var t=this._horizontalDirection();return r(Math.abs(this._startCol-this._endCol),this._sequence(t))},t.prototype._wrappedRowsCount=function(){for(var t=0,e=this._startRow-this._wrappedRowsForRow(this._startRow),n=this._endRow-this._wrappedRowsForRow(this._endRow),r=0;r<Math.abs(e-n);r++){var i="A"===this._verticalDirection()?-1:1;this._lines.get(e+i*r).isWrapped&&t++}return t},t.prototype._wrappedRowsForRow=function(t){for(var e=0,n=this._lines.get(t).isWrapped;n&&t>=0&&t<this._terminal.rows;)e++,t--,n=this._lines.get(t).isWrapped;return e},t.prototype._horizontalDirection=function(){var t;return t=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow,this._startCol<this._endCol&&t<=this._endRow||this._startCol>=this._endCol&&t<this._endRow?"C":"D"},t.prototype._verticalDirection=function(){return this._startRow>this._endRow?"A":"B"},t.prototype._bufferLine=function(t,e,n,r,i){for(var o=t,s=e,a="";o!==n||s!==r;)o+=i?1:-1,i&&o>this._terminal.cols-1?(a+=this._terminal.buffer.translateBufferLineToString(s,!1,t,o),o=0,t=0,s++):!i&&o<0&&(a+=this._terminal.buffer.translateBufferLineToString(s,!1,0,t+1),o=this._terminal.cols-1,t=o,s--);return a+this._terminal.buffer.translateBufferLineToString(s,!1,t,o)},t.prototype._sequence=function(t){var e=this._terminal.applicationCursor?"O":"[";return i.C0.ESC+e+t},t}();e.AltClickHandler=o},582:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._addons=[]}return t.prototype.dispose=function(){for(var t=this._addons.length-1;t>=0;t--)this._addons[t].instance.dispose()},t.prototype.loadAddon=function(t,e){var n=this,r={instance:e,dispose:e.dispose,isDisposed:!1};this._addons.push(r),e.dispose=function(){return n._wrappedAddonDispose(r)},e.activate(t)},t.prototype._wrappedAddonDispose=function(t){if(!t.isDisposed){for(var e=-1,n=0;n<this._addons.length;n++)if(this._addons[n]===t){e=n;break}if(-1===e)throw new Error("Could not dispose an addon that has not been loaded");t.isDisposed=!0,t.dispose.apply(t.instance),this._addons.splice(e,1)}},t}();e.AddonManager=r},583:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(570),i=n(408),o=n(582),s=function(){function t(t){this._core=new r.Terminal(t),this._addonManager=new o.AddonManager}return Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._core.onData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return new a(this._core.buffer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markers",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),t.prototype.blur=function(){this._core.blur()},t.prototype.focus=function(){this._core.focus()},t.prototype.on=function(t,e){this._core.on(t,e)},t.prototype.off=function(t,e){this._core.off(t,e)},t.prototype.emit=function(t,e){this._core.emit(t,e)},t.prototype.addDisposableListener=function(t,e){return this._core.addDisposableListener(t,e)},t.prototype.resize=function(t,e){this._core.resize(t,e)},t.prototype.writeln=function(t){this._core.writeln(t)},t.prototype.open=function(t){this._core.open(t)},t.prototype.attachCustomKeyEventHandler=function(t){this._core.attachCustomKeyEventHandler(t)},t.prototype.addCsiHandler=function(t,e){return this._core.addCsiHandler(t,e)},t.prototype.addOscHandler=function(t,e){return this._core.addOscHandler(t,e)},t.prototype.registerLinkMatcher=function(t,e,n){return this._core.registerLinkMatcher(t,e,n)},t.prototype.deregisterLinkMatcher=function(t){this._core.deregisterLinkMatcher(t)},t.prototype.registerCharacterJoiner=function(t){return this._core.registerCharacterJoiner(t)},t.prototype.deregisterCharacterJoiner=function(t){this._core.deregisterCharacterJoiner(t)},t.prototype.addMarker=function(t){return this._core.addMarker(t)},t.prototype.hasSelection=function(){return this._core.hasSelection()},t.prototype.select=function(t,e,n){this._core.select(t,e,n)},t.prototype.getSelection=function(){return this._core.getSelection()},t.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},t.prototype.clearSelection=function(){this._core.clearSelection()},t.prototype.selectAll=function(){this._core.selectAll()},t.prototype.selectLines=function(t,e){this._core.selectLines(t,e)},t.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},t.prototype.destroy=function(){this._core.destroy()},t.prototype.scrollLines=function(t){this._core.scrollLines(t)},t.prototype.scrollPages=function(t){this._core.scrollPages(t)},t.prototype.scrollToTop=function(){this._core.scrollToTop()},t.prototype.scrollToBottom=function(){this._core.scrollToBottom()},t.prototype.scrollToLine=function(t){this._core.scrollToLine(t)},t.prototype.clear=function(){this._core.clear()},t.prototype.write=function(t){this._core.write(t)},t.prototype.writeUtf8=function(t){this._core.writeUtf8(t)},t.prototype.getOption=function(t){return this._core.getOption(t)},t.prototype.setOption=function(t,e){this._core.setOption(t,e)},t.prototype.refresh=function(t,e){this._core.refresh(t,e)},t.prototype.reset=function(){this._core.reset()},t.applyAddon=function(e){e.apply(t)},t.prototype.loadAddon=function(t){return this._addonManager.loadAddon(this,t)},Object.defineProperty(t,"strings",{get:function(){return i},enumerable:!0,configurable:!0}),t}();e.Terminal=s;var a=function(){function t(t){this._buffer=t}return Object.defineProperty(t.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!0,configurable:!0}),t.prototype.getLine=function(t){var e=this._buffer.lines.get(t);if(e)return new l(e)},t}(),l=function(){function t(t){this._line=t}return Object.defineProperty(t.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!0,configurable:!0}),t.prototype.getCell=function(t){if(!(t<0||t>=this._line.length))return new c(this._line,t)},t.prototype.translateToString=function(t,e,n){return this._line.translateToString(t,e,n)},t}(),c=function(){function t(t,e){this._line=t,this._x=e}return Object.defineProperty(t.prototype,"char",{get:function(){return this._line.getString(this._x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._line.getWidth(this._x)},enumerable:!0,configurable:!0}),t}()},584:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(401),o=n(394),s=function(t){function e(e,n,r){var i=t.call(this,e,"cursor",n,!0,r)||this;return i._cell=new o.CellData,i._state={x:null,y:null,isFocused:null,style:null,width:null},i._cursorRenderers={bar:i._renderBarCursor.bind(i),block:i._renderBlockCursor.bind(i),underline:i._renderUnderlineCursor.bind(i)},i}return r(e,t),e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this._state={x:null,y:null,isFocused:null,style:null,width:null}},e.prototype.reset=function(t){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(t))},e.prototype.onBlur=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onFocus=function(t){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(t):t.refresh(t.buffer.y,t.buffer.y)},e.prototype.onOptionsChanged=function(t){var e=this;t.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(t,function(){e._render(t,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),t.refresh(t.buffer.y,t.buffer.y))},e.prototype.onCursorMove=function(t){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype.onGridChanged=function(t,e,n){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(t,!1):this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype._render=function(t,e){if(!t.cursorState||t.cursorHidden)return void this._clearCursor();var n=t.buffer.ybase+t.buffer.y,r=n-t.buffer.ydisp;if(r<0||r>=t.rows)return void this._clearCursor();if(t.buffer.lines.get(n).loadCell(t.buffer.x,this._cell),void 0!==this._cell.content){if(!t.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._renderBlurCursor(t,t.buffer.x,r,this._cell),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=r,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,void(this._state.width=this._cell.getWidth());if(this._cursorBlinkStateManager&&!this._cursorBlinkStateManager.isCursorVisible)return void this._clearCursor();if(this._state){if(this._state.x===t.buffer.x&&this._state.y===r&&this._state.isFocused===t.isFocused&&this._state.style===t.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[t.options.cursorStyle||"block"](t,t.buffer.x,r,this._cell),this._ctx.restore(),this._state.x=t.buffer.x,this._state.y=r,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,this._state.width=this._cell.getWidth()}},e.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},e.prototype._renderBarCursor=function(t,e,n,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillLeftLineAtCell(e,n),this._ctx.restore()},e.prototype._renderBlockCursor=function(t,e,n,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillCells(e,n,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this.fillCharTrueColor(t,r,e,n),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(t,e,n,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillBottomLineAtCells(e,n),this._ctx.restore()},e.prototype._renderBlurCursor=function(t,e,n,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this.strokeRectAtCell(e,n,r.getWidth(),1),this._ctx.restore()},e}(i.BaseRenderLayer);e.CursorRenderLayer=s;var a=function(){function t(t,e){this._renderCallback=e,this.isCursorVisible=!0,t.isFocused&&this._restartInterval()}return Object.defineProperty(t.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.restartBlinkAnimation=function(t){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null})))},t.prototype._restartInterval=function(t){var e=this;void 0===t&&(t=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);if(e._animationTimeRestarted=null,t>0)return void e._restartInterval(t)}e.isCursorVisible=!1,e._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null}),e._blinkInterval=setInterval(function(){if(e._animationTimeRestarted){var t=600-(Date.now()-e._animationTimeRestarted);return e._animationTimeRestarted=null,void e._restartInterval(t)}e.isCursorVisible=!e.isCursorVisible,e._animationFrame=window.requestAnimationFrame(function(){e._renderCallback(),e._animationFrame=null})},600)},t)},t.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},t.prototype.resume=function(t){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(t)},t}()},585:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.cache=[]}return t.prototype.resize=function(t,e){for(var n=0;n<t;n++){this.cache.length<=n&&this.cache.push([]);for(var r=this.cache[n].length;r<e;r++)this.cache[n].push(null);this.cache[n].length=e}this.cache.length=t},t.prototype.clear=function(){for(var t=0;t<this.cache.length;t++)for(var e=0;e<this.cache[t].length;e++)this.cache[t][e]=null},t}();e.GridCache=r},586:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(401),o=n(396),s=n(411),a=function(t){function e(e,n,r,i){var o=t.call(this,e,"link",n,!0,r)||this;return o._state=null,i.linkifier.onLinkHover(function(t){return o._onLinkHover(t)}),i.linkifier.onLinkLeave(function(t){return o._onLinkLeave(t)}),o}return r(e,t),e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this._state=null},e.prototype.reset=function(t){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){if(this._state){this.clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var t=this._state.y2-this._state.y1-1;t>0&&this.clearCells(0,this._state.y1+1,this._state.cols,t),this.clearCells(0,this._state.y2,this._state.x2,1),this._state=null}},e.prototype._onLinkHover=function(t){if(t.fg===o.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:s.is256Color(t.fg)?this._ctx.fillStyle=this._colors.ansi[t.fg].css:this._ctx.fillStyle=this._colors.foreground.css,t.y1===t.y2)this.fillBottomLineAtCells(t.x1,t.y1,t.x2-t.x1);else{this.fillBottomLineAtCells(t.x1,t.y1,t.cols-t.x1);for(var e=t.y1+1;e<t.y2;e++)this.fillBottomLineAtCells(0,e,t.cols);this.fillBottomLineAtCells(0,t.y2,t.x2)}this._state=t},e.prototype._onLinkLeave=function(t){this._clearCurrentLink()},e}(i.BaseRenderLayer);e.LinkRenderLayer=a},587:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(422),o=n(395),s=n(393),a=n(423),l=n(398),c=function(t){function e(e,n,r){var s=t.call(this)||this;if(s._renderer=e,s._rowCount=n,s._isPaused=!1,s._needsFullRefresh=!1,s._canvasWidth=0,s._canvasHeight=0,s._onDimensionsChange=new o.EventEmitter2,s._onRender=new o.EventEmitter2,s._onRefreshRequest=new o.EventEmitter2,s._renderDebouncer=new i.RenderDebouncer(function(t,e){return s._renderRows(t,e)}),s.register(s._renderDebouncer),s._screenDprMonitor=new a.ScreenDprMonitor,s._screenDprMonitor.setListener(function(){return s._renderer.onDevicePixelRatioChange()}),s.register(s._screenDprMonitor),s.register(l.addDisposableDomListener(window,"resize",function(){return s._renderer.onDevicePixelRatioChange()})),"IntersectionObserver"in window){var c=new IntersectionObserver(function(t){return s._onIntersectionChange(t[t.length-1])},{threshold:0});c.observe(r),s.register({dispose:function(){return c.disconnect()}})}return s}return r(e,t),Object.defineProperty(e.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!0,configurable:!0}),e.prototype._onIntersectionChange=function(t){this._isPaused=0===t.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},e.prototype.refreshRows=function(t,e){if(this._isPaused)return void(this._needsFullRefresh=!0);this._renderDebouncer.refresh(t,e,this._rowCount)},e.prototype._renderRows=function(t,e){this._renderer.renderRows(t,e),this._onRender.fire({start:t,end:e})},e.prototype.resize=function(t,e){this._rowCount=e,this._fireOnCanvasResize()},e.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this._fireOnCanvasResize()},e.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},e.prototype.setRenderer=function(t){this._renderer.dispose(),this._renderer=t},e.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount)},e.prototype.setColors=function(t){this._renderer.setColors(t),this._fullRefresh()},e.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange()},e.prototype.onResize=function(t,e){this._renderer.onResize(t,e),this._fullRefresh()},e.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},e.prototype.onBlur=function(){this._renderer.onBlur()},e.prototype.onFocus=function(){this._renderer.onFocus()},e.prototype.onSelectionChanged=function(t,e,n){this._renderer.onSelectionChanged(t,e,n)},e.prototype.onCursorMove=function(){this._renderer.onCursorMove()},e.prototype.onOptionsChanged=function(){this._renderer.onOptionsChanged()},e.prototype.clear=function(){this._renderer.clear()},e.prototype.registerCharacterJoiner=function(t){return this._renderer.registerCharacterJoiner(t)},e.prototype.deregisterCharacterJoiner=function(t){return this._renderer.deregisterCharacterJoiner(t)},e}(s.Disposable);e.RenderCoordinator=c},588:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(590),o=n(589),s=n(584),a=n(586),l=n(418),c=n(393),u=function(t){function e(e,n){var r=t.call(this)||this;r._terminal=e,r._colors=n;var c=r._terminal.options.allowTransparency;return r._characterJoinerRegistry=new l.CharacterJoinerRegistry(e),r._renderLayers=[new i.TextRenderLayer(r._terminal.screenElement,0,r._colors,r._characterJoinerRegistry,c),new o.SelectionRenderLayer(r._terminal.screenElement,1,r._colors),new a.LinkRenderLayer(r._terminal.screenElement,2,r._colors,r._terminal),new s.CursorRenderLayer(r._terminal.screenElement,3,r._colors)],r.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},r._devicePixelRatio=window.devicePixelRatio,r._updateDimensions(),r.onOptionsChanged(),r}return r(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._renderLayers.forEach(function(t){return t.dispose()})},e.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._terminal.cols,this._terminal.rows))},e.prototype.setColors=function(t){var e=this;this._colors=t,this._renderLayers.forEach(function(t){t.setColors(e._terminal,e._colors),t.reset(e._terminal)})},e.prototype.onResize=function(t,e){var n=this;this._updateDimensions(),this._renderLayers.forEach(function(t){return t.resize(n._terminal,n.dimensions)}),this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px"},e.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},e.prototype.onBlur=function(){var t=this;this._runOperation(function(e){return e.onBlur(t._terminal)})},e.prototype.onFocus=function(){var t=this;this._runOperation(function(e){return e.onFocus(t._terminal)})},e.prototype.onSelectionChanged=function(t,e,n){var r=this;void 0===n&&(n=!1),this._runOperation(function(i){return i.onSelectionChanged(r._terminal,t,e,n)})},e.prototype.onCursorMove=function(){var t=this;this._runOperation(function(e){return e.onCursorMove(t._terminal)})},e.prototype.onOptionsChanged=function(){var t=this;this._runOperation(function(e){return e.onOptionsChanged(t._terminal)})},e.prototype.clear=function(){var t=this;this._runOperation(function(e){return e.reset(t._terminal)})},e.prototype._runOperation=function(t){this._renderLayers.forEach(function(e){return t(e)})},e.prototype.renderRows=function(t,e){var n=this;this._renderLayers.forEach(function(r){return r.onGridChanged(n._terminal,t,e)})},e.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},e.prototype.registerCharacterJoiner=function(t){return this._characterJoinerRegistry.registerCharacterJoiner(t)},e.prototype.deregisterCharacterJoiner=function(t){return this._characterJoinerRegistry.deregisterCharacterJoiner(t)},e}(c.Disposable);e.Renderer=u},589:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(401),o=function(t){function e(e,n,r){var i=t.call(this,e,"selection",n,!0,r)||this;return i._clearState(),i}return r(e,t),e.prototype._clearState=function(){this._state={start:null,end:null,columnSelectMode:null,ydisp:null}},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this._clearState()},e.prototype.reset=function(t){this._state.start&&this._state.end&&(this._clearState(),this.clearAll())},e.prototype.onSelectionChanged=function(t,e,n,r){if(this._didStateChange(e,n,r,t.buffer.ydisp)){if(this.clearAll(),!e||!n)return void this._clearState();var i=e[1]-t.buffer.ydisp,o=n[1]-t.buffer.ydisp,s=Math.max(i,0),a=Math.min(o,t.rows-1);if(!(s>=t.rows||a<0)){if(this._ctx.fillStyle=this._colors.selection.css,r){var l=e[0],c=n[0]-l,u=a-s+1;this.fillCells(l,s,c,u)}else{var l=i===s?e[0]:0,h=s===a?n[0]:t.cols;this.fillCells(l,s,h-l,1);var f=Math.max(a-s-1,0);if(this.fillCells(0,s+1,t.cols,f),s!==a){var _=o===a?n[0]:t.cols;this.fillCells(0,a,_,1)}}this._state.start=[e[0],e[1]],this._state.end=[n[0],n[1]],this._state.columnSelectMode=r,this._state.ydisp=t.buffer.ydisp}}},e.prototype._didStateChange=function(t,e,n,r){return!this._areCoordinatesEqual(t,this._state.start)||!this._areCoordinatesEqual(e,this._state.end)||n!==this._state.columnSelectMode||r!==this._state.ydisp},e.prototype._areCoordinatesEqual=function(t,e){return!(!t||!e)&&(t[0]===e[0]&&t[1]===e[1])},e}(i.BaseRenderLayer);e.SelectionRenderLayer=o},590:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(585),o=n(401),s=n(394),a=n(418),l=function(t){function e(e,n,r,o,a){var l=t.call(this,e,"text",n,a,r)||this;return l._characterOverlapCache={},l._workCell=new s.CellData,l._state=new i.GridCache,l._characterJoinerRegistry=o,l}return r(e,t),e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n);var r=this._getFont(e,!1,!1);this._characterWidth===n.scaledCharWidth&&this._characterFont===r||(this._characterWidth=n.scaledCharWidth,this._characterFont=r,this._characterOverlapCache={}),this._state.clear(),this._state.resize(e.cols,e.rows)},e.prototype.reset=function(t){this._state.clear(),this.clearAll()},e.prototype._forEachCell=function(t,e,n,r,i){for(var o=e;o<=n;o++)for(var l=o+t.buffer.ydisp,c=t.buffer.lines.get(l),u=r?r.getJoinedCharacters(l):[],h=0;h<t.cols;h++){c.loadCell(h,this._workCell);var f=this._workCell,_=!1,d=h;if(0!==f.getWidth()){if(u.length>0&&h===u[0][0]){_=!0;var p=u.shift();f=new a.JoinedCellData(this._workCell,c.translateToString(!0,p[0],p[1]),p[1]-p[0]),d=p[1]-1}!_&&this._isOverlapping(f)&&d<c.length-1&&c.getCodePoint(d+1)===s.NULL_CELL_CODE&&(f.content&=-12582913,f.content|=2<<22),i(f,h,o),h=d}}},e.prototype._drawBackground=function(t,e,n){var r=this,i=this._ctx,o=t.cols,a=0,l=0,c=null;i.save(),this._forEachCell(t,e,n,null,function(t,e,n){var u=null;t.isInverse()?u=t.isFgDefault()?r._colors.foreground.css:t.isFgRGB()?"rgb("+s.AttributeData.toColorRGB(t.getFgColor()).join(",")+")":r._colors.ansi[t.getFgColor()].css:t.isBgRGB()?u="rgb("+s.AttributeData.toColorRGB(t.getBgColor()).join(",")+")":t.isBgPalette()&&(u=r._colors.ansi[t.getBgColor()].css),null===c&&(a=e,l=n),n!==l?(i.fillStyle=c,r.fillCells(a,l,o-a,1),a=e,l=n):c!==u&&(i.fillStyle=c,r.fillCells(a,l,e-a,1),a=e,l=n),c=u}),null!==c&&(i.fillStyle=c,this.fillCells(a,l,o-a,1)),i.restore()},e.prototype._drawForeground=function(t,e,n){var r=this;this._forEachCell(t,e,n,this._characterJoinerRegistry,function(e,n,i){if(!e.isInvisible()&&(r.drawChars(t,e,n,i),e.isUnderline())){if(r._ctx.save(),e.isInverse())e.isBgDefault()?r._ctx.fillStyle=r._colors.background.css:e.isBgRGB()?r._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":r._ctx.fillStyle=r._colors.ansi[e.getBgColor()].css;else if(e.isFgDefault())r._ctx.fillStyle=r._colors.foreground.css;else if(e.isFgRGB())r._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();t.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),r._ctx.fillStyle=r._colors.ansi[o].css}r.fillBottomLineAtCells(n,i,e.getWidth()),r._ctx.restore()}})},e.prototype.onGridChanged=function(t,e,n){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this.clearCells(0,e,t.cols,n-e+1),this._drawBackground(t,e,n),this._drawForeground(t,e,n))},e.prototype.onOptionsChanged=function(t){this.setTransparency(t,t.options.allowTransparency)},e.prototype._isOverlapping=function(t){if(1!==t.getWidth())return!1;if(t.getCode()<256)return!1;var e=t.getChars();if(this._characterOverlapCache.hasOwnProperty(e))return this._characterOverlapCache[e];this._ctx.save(),this._ctx.font=this._characterFont;var n=Math.floor(this._ctx.measureText(e).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[e]=n,n},e}(o.BaseRenderLayer);e.TextRenderLayer=l},591:function(t,e,n){"use strict";function r(t){return t.code<<21|t.bg<<12|t.fg<<3|(t.bold?0:4)+(t.dim?0:2)+(t.italic?0:1)}var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(396),s=n(410),a=n(421),l=n(420),c=n(592),u=n(397),h=1024,f=1024,_={css:"rgba(0, 0, 0, 0)",rgba:0};e.getGlyphCacheKey=r;var d=function(t){function e(e,n){var r=t.call(this)||this;r._config=n,r._drawToCacheCount=0,r._glyphsWaitingOnBitmap=[],r._bitmapCommitTimeout=null,r._bitmap=null,r._cacheCanvas=e.createElement("canvas"),r._cacheCanvas.width=h,r._cacheCanvas.height=f,r._cacheCtx=r._cacheCanvas.getContext("2d",{alpha:!0});var i=e.createElement("canvas");i.width=r._config.scaledCharWidth,i.height=r._config.scaledCharHeight,r._tmpCtx=i.getContext("2d",{alpha:r._config.allowTransparency}),r._width=Math.floor(h/r._config.scaledCharWidth),r._height=Math.floor(f/r._config.scaledCharHeight);var o=r._width*r._height;return r._cacheMap=new c.default(o),r._cacheMap.prealloc(o),r}return i(e,t),e.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},e.prototype.beginFrame=function(){this._drawToCacheCount=0},e.prototype.draw=function(t,e,n,i){if(32===e.code)return!0;if(!this._canCache(e))return!1;var o=r(e),s=this._cacheMap.get(o);if(null!==s&&void 0!==s)return this._drawFromCache(t,s,n,i),!0;if(this._drawToCacheCount<100){var a=void 0;a=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var l=this._drawToCache(e,a);return this._cacheMap.set(o,l),this._drawFromCache(t,l,n,i),!0}return!1},e.prototype._canCache=function(t){return t.code<256},e.prototype._toCoordinateX=function(t){return t%this._width*this._config.scaledCharWidth},e.prototype._toCoordinateY=function(t){return Math.floor(t/this._width)*this._config.scaledCharHeight},e.prototype._drawFromCache=function(t,e,n,r){if(!e.isEmpty){var i=this._toCoordinateX(e.index),o=this._toCoordinateY(e.index);t.drawImage(e.inBitmap?this._bitmap:this._cacheCanvas,i,o,this._config.scaledCharWidth,this._config.scaledCharHeight,n,r,this._config.scaledCharWidth,this._config.scaledCharHeight)}},e.prototype._getColorFromAnsiIndex=function(t){return t<this._config.colors.ansi.length?this._config.colors.ansi[t]:a.DEFAULT_ANSI_COLORS[t]},e.prototype._getBackgroundColor=function(t){return this._config.allowTransparency?_:t.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:t.bg<256?this._getColorFromAnsiIndex(t.bg):this._config.colors.background},e.prototype._getForegroundColor=function(t){return t.fg===o.INVERTED_DEFAULT_COLOR?this._config.colors.background:t.fg<256?this._getColorFromAnsiIndex(t.fg):this._config.colors.foreground},e.prototype._drawToCache=function(t,e){this._drawToCacheCount++,this._tmpCtx.save();var n=this._getBackgroundColor(t);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=n.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var r=t.bold?this._config.fontWeightBold:this._config.fontWeight,i=t.italic?"italic":"";this._tmpCtx.font=i+" "+r+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(t).css,t.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(t.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;this._config.allowTransparency||(a=l.clearColor(s,n));var c=this._toCoordinateX(e),u=this._toCoordinateY(e);this._cacheCtx.putImageData(s,c,u);var h={index:e,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(h),h},e.prototype._addGlyphToBitmap=function(t){var e=this;"createImageBitmap"in window&&!u.isFirefox&&!u.isSafari&&(this._glyphsWaitingOnBitmap.push(t),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout(function(){return e._generateBitmap()},100)))},e.prototype._generateBitmap=function(){var t=this,e=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then(function(n){t._bitmap=n;for(var r=0;r<e.length;r++){e[r].inBitmap=!0}}),this._bitmapCommitTimeout=null},e}(s.default);e.default=d},592:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.capacity=t,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return t.prototype._unlinkNode=function(t){var e=t.prev,n=t.next;t===this._head&&(this._head=n),t===this._tail&&(this._tail=e),null!==e&&(e.next=n),null!==n&&(n.prev=e)},t.prototype._appendNode=function(t){var e=this._tail;null!==e&&(e.next=t),t.prev=e,t.next=null,this._tail=t,null===this._head&&(this._head=t)},t.prototype.prealloc=function(t){for(var e=this._nodePool,n=0;n<t;n++)e.push({prev:null,next:null,key:null,value:null})},t.prototype.get=function(t){var e=this._map[t];return void 0!==e?(this._unlinkNode(e),this._appendNode(e),e.value):null},t.prototype.peekValue=function(t){var e=this._map[t];return void 0!==e?e.value:null},t.prototype.peek=function(){var t=this._head;return null===t?null:t.value},t.prototype.set=function(t,e){var n=this._map[t];if(void 0!==n)n=this._map[t],this._unlinkNode(n),n.value=e;else if(this.size>=this.capacity)n=this._head,this._unlinkNode(n),delete this._map[n.key],n.key=t,n.value=e,this._map[t]=n;else{var r=this._nodePool;r.length>0?(n=r.pop(),n.key=t,n.value=e):n={prev:null,next:null,key:t,value:e},this._map[t]=n,this.size++}this._appendNode(n)},t}();e.default=r},593:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(410),o=function(t){function e(e,n){return t.call(this)||this}return r(e,t),e.prototype.draw=function(t,e,n,r){return!1},e}(i.default);e.default=o},594:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(396),o=n(420),s=n(410),a=n(411),l=n(399),c=function(t){function e(e,n){var r=t.call(this)||this;return r._document=e,r._config=n,r._canvasFactory=function(t,e){var n=r._document.createElement("canvas");return n.width=t,n.height=e,n},r}return r(e,t),e.prototype._doWarmUp=function(){var t=this,e=o.generateStaticCharAtlasTexture(window,this._canvasFactory,this._config);e instanceof HTMLCanvasElement?this._texture=e:e.then(function(e){t._texture=e})},e.prototype._isCached=function(t,e){var n=t.code<256,r=t.fg<16,i=t.fg===l.DEFAULT_COLOR,o=t.bg===l.DEFAULT_COLOR;return n&&(r||i)&&o&&!t.italic},e.prototype.draw=function(t,e,n,r){if(null===this._texture||void 0===this._texture)return!1;var o=0;if(a.is256Color(e.fg)?o=2+e.fg+(e.bold?16:0):e.fg===l.DEFAULT_COLOR&&e.bold&&(o=1),!this._isCached(e,o))return!1;t.save();var s=this._config.scaledCharWidth+i.CHAR_ATLAS_CELL_SPACING,c=this._config.scaledCharHeight+i.CHAR_ATLAS_CELL_SPACING;return e.dim&&(t.globalAlpha=i.DIM_OPACITY),t.drawImage(this._texture,e.code*s,o*c,s,this._config.scaledCharHeight,n,r,s,this._config.scaledCharHeight),t.restore(),!0},e}(s.default);e.default=c},595:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(596),o=n(396),s=n(393),a="xterm-dom-renderer-owner-",l="xterm-rows",c="xterm-selection",u=1,h=function(t){function e(e,n){var r=t.call(this)||this;return r._terminal=e,r._colors=n,r._terminalClass=u++,r._rowElements=[],r._rowContainer=document.createElement("div"),r._rowContainer.classList.add(l),r._rowContainer.style.lineHeight="normal",r._rowContainer.setAttribute("aria-hidden","true"),r._refreshRowElements(r._terminal.cols,r._terminal.rows),r._selectionContainer=document.createElement("div"),r._selectionContainer.classList.add(c),r._selectionContainer.setAttribute("aria-hidden","true"),r.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},r._updateDimensions(),r._injectCss(),r._rowFactory=new i.DomRendererRowFactory(e.options,document),r._terminal.element.classList.add(a+r._terminalClass),r._terminal.screenElement.appendChild(r._rowContainer),r._terminal.screenElement.appendChild(r._selectionContainer),r._terminal.linkifier.onLinkHover(function(t){return r._onLinkHover(t)}),r._terminal.linkifier.onLinkLeave(function(t){return r._onLinkLeave(t)}),r}return r(e,t),e.prototype.dispose=function(){this._terminal.element.classList.remove(a+this._terminalClass),this._terminal.screenElement.removeChild(this._rowContainer),this._terminal.screenElement.removeChild(this._selectionContainer),this._terminal.screenElement.removeChild(this._themeStyleElement),this._terminal.screenElement.removeChild(this._dimensionsStyleElement),t.prototype.dispose.call(this)},e.prototype._updateDimensions=function(){var t=this;this.dimensions.scaledCharWidth=this._terminal.charMeasure.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._terminal.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._terminal.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this._rowElements.forEach(function(e){e.style.width=t.dimensions.canvasWidth+"px",e.style.height=t.dimensions.actualCellHeight+"px",e.style.lineHeight=t.dimensions.actualCellHeight+"px",e.style.overflow="hidden"}),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._dimensionsStyleElement));var e=this._terminalSelector+" ."+l+" span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=e,this._selectionContainer.style.height=this._terminal._viewportElement.style.height,this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px"},e.prototype.setColors=function(t){this._colors=t,this._injectCss()},e.prototype._injectCss=function(){var t=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._terminal.screenElement.appendChild(this._themeStyleElement));var e=this._terminalSelector+" ."+l+" { color: "+this._colors.foreground.css+"; background-color: "+this._colors.background.css+"; font-family: "+this._terminal.options.fontFamily+"; font-size: "+this._terminal.options.fontSize+"px;}";e+=this._terminalSelector+" span:not(."+i.BOLD_CLASS+") { font-weight: "+this._terminal.options.fontWeight+";}"+this._terminalSelector+" span."+i.BOLD_CLASS+" { font-weight: "+this._terminal.options.fontWeightBold+";}"+this._terminalSelector+" span."+i.ITALIC_CLASS+" { font-style: italic;}",e+="@keyframes blink { 0% { opacity: 1.0; } 50% { opacity: 0.0; } 100% { opacity: 1.0; }}",e+=this._terminalSelector+" ."+l+":not(.xterm-focus) ."+i.CURSOR_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" ."+l+".xterm-focus ."+i.CURSOR_CLASS+"."+i.CURSOR_BLINK_CLASS+" { animation: blink 1s step-end infinite;}"+this._terminalSelector+" ."+l+".xterm-focus ."+i.CURSOR_CLASS+"."+i.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" ."+l+".xterm-focus ."+i.CURSOR_CLASS+"."+i.CURSOR_STYLE_BAR_CLASS+" { box-shadow: 1px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" ."+l+".xterm-focus ."+i.CURSOR_CLASS+"."+i.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",e+=this._terminalSelector+" ."+c+" { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" ."+c+" div { position: absolute; background-color: "+this._colors.selection.css+";}",this._colors.ansi.forEach(function(n,r){e+=t._terminalSelector+" .xterm-fg-"+r+" { color: "+n.css+"; }"+t._terminalSelector+" .xterm-bg-"+r+" { background-color: "+n.css+"; }"}),e+=this._terminalSelector+" .xterm-fg-"+o.INVERTED_DEFAULT_COLOR+" { color: "+this._colors.background.css+"; }"+this._terminalSelector+" .xterm-bg-"+o.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=e},e.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},e.prototype._refreshRowElements=function(t,e){for(var n=this._rowElements.length;n<=e;n++){var r=document.createElement("div");this._rowContainer.appendChild(r),this._rowElements.push(r)}for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop())},e.prototype.onResize=function(t,e){this._refreshRowElements(t,e),this._updateDimensions()},e.prototype.onCharSizeChanged=function(){this._updateDimensions()},e.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},e.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},e.prototype.onSelectionChanged=function(t,e,n){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(t&&e){var r=t[1]-this._terminal.buffer.ydisp,i=e[1]-this._terminal.buffer.ydisp,o=Math.max(r,0),s=Math.min(i,this._terminal.rows-1);if(!(o>=this._terminal.rows||s<0)){var a=document.createDocumentFragment();if(n)a.appendChild(this._createSelectionElement(o,t[0],e[0],s-o+1));else{var l=r===o?t[0]:0,c=o===s?e[0]:this._terminal.cols;a.appendChild(this._createSelectionElement(o,l,c));var u=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._terminal.cols,u)),o!==s){var h=i===s?e[0]:this._terminal.cols;a.appendChild(this._createSelectionElement(s,0,h))}}this._selectionContainer.appendChild(a)}}},e.prototype._createSelectionElement=function(t,e,n,r){void 0===r&&(r=1);var i=document.createElement("div");return i.style.height=r*this.dimensions.actualCellHeight+"px",i.style.top=t*this.dimensions.actualCellHeight+"px",i.style.left=e*this.dimensions.actualCellWidth+"px",i.style.width=this.dimensions.actualCellWidth*(n-e)+"px",i},e.prototype.onCursorMove=function(){},e.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss(),this._terminal.refresh(0,this._terminal.rows-1)},e.prototype.clear=function(){this._rowElements.forEach(function(t){return t.innerHTML=""})},e.prototype.renderRows=function(t,e){for(var n=this._terminal,r=n.buffer.ybase+n.buffer.y,i=this._terminal.buffer.x,o=this._terminal.options.cursorBlink,s=t;s<=e;s++){var a=this._rowElements[s];a.innerHTML="";var l=s+n.buffer.ydisp,c=n.buffer.lines.get(l),u=n.options.cursorStyle;a.appendChild(this._rowFactory.createRow(c,l===r,u,i,o,this.dimensions.actualCellWidth,n.cols))}},Object.defineProperty(e.prototype,"_terminalSelector",{get:function(){return"."+a+this._terminalClass},enumerable:!0,configurable:!0}),e.prototype.registerCharacterJoiner=function(t){return-1},e.prototype.deregisterCharacterJoiner=function(t){return!1},e.prototype._onLinkHover=function(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!0)},e.prototype._onLinkLeave=function(t){this._setCellUnderline(t.x1,t.x2,t.y1,t.y2,t.cols,!1)},e.prototype._setCellUnderline=function(t,e,n,r,i,o){for(;t!==e||n!==r;){var s=this._rowElements[n];if(!s)return;var a=s.children[t];a&&(a.style.textDecoration=o?"underline":"none"),++t>=i&&(t=0,n++)}},e}(s.Disposable);e.DomRenderer=h},596:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(396),i=n(394);e.BOLD_CLASS="xterm-bold",e.DIM_CLASS="xterm-dim",e.ITALIC_CLASS="xterm-italic",e.UNDERLINE_CLASS="xterm-underline",e.CURSOR_CLASS="xterm-cursor",e.CURSOR_BLINK_CLASS="xterm-cursor-blink",e.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",e.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",e.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var o=function(){function t(t,e){this._terminalOptions=t,this._document=e,this._workCell=new i.CellData}return t.prototype.createRow=function(t,n,o,s,a,l,c){for(var u=this._document.createDocumentFragment(),h=0,f=Math.min(t.length,c)-1;f>=0;f--)if(t.loadCell(f,this._workCell).getCode()!==i.NULL_CELL_CODE||n&&f===s){h=f+1;break}for(var f=0;f<h;f++){t.loadCell(f,this._workCell);var _=this._workCell.getWidth();if(0!==_){var d=this._document.createElement("span");if(_>1&&(d.style.width=l*_+"px"),n&&f===s)switch(d.classList.add(e.CURSOR_CLASS),a&&d.classList.add(e.CURSOR_BLINK_CLASS),o){case"bar":d.classList.add(e.CURSOR_STYLE_BAR_CLASS);break;case"underline":d.classList.add(e.CURSOR_STYLE_UNDERLINE_CLASS);break;default:d.classList.add(e.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&this._terminalOptions.enableBold&&d.classList.add(e.BOLD_CLASS),this._workCell.isItalic()&&d.classList.add(e.ITALIC_CLASS),this._workCell.isDim()&&d.classList.add(e.DIM_CLASS),this._workCell.isUnderline()&&d.classList.add(e.UNDERLINE_CLASS),d.textContent=this._workCell.getChars()||i.WHITESPACE_CELL_CHAR;var p=this._workCell.isInverse();if(this._workCell.isFgRGB()){var m=d.getAttribute("style")||"";m+=(p?"background-":"")+"color:rgb("+i.AttributeData.toColorRGB(this._workCell.getFgColor()).join(",")+");",d.setAttribute("style",m)}else if(this._workCell.isFgPalette()){var g=this._workCell.getFgColor();this._workCell.isBold()&&g<8&&!p&&this._terminalOptions.enableBold&&this._terminalOptions.drawBoldTextInBrightColors&&(g+=8),d.classList.add("xterm-"+(p?"b":"f")+"g-"+g)}else p&&d.classList.add("xterm-bg-"+r.INVERTED_DEFAULT_COLOR);if(this._workCell.isBgRGB()){var m=d.getAttribute("style")||"";m+=(p?"":"background-")+"color:rgb("+i.AttributeData.toColorRGB(this._workCell.getBgColor()).join(",")+");",d.setAttribute("style",m)}else this._workCell.isBgPalette()?d.classList.add("xterm-"+(p?"f":"b")+"g-"+this._workCell.getBgColor()):p&&d.classList.add("xterm-fg-"+r.INVERTED_DEFAULT_COLOR);u.appendChild(d)}}return u},t}();e.DomRendererRowFactory=o}});
//# sourceMappingURL=2.867ec89f6d2037ff4560.js.map