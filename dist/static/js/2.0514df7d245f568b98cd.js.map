{"version":3,"sources":["webpack:///static/js/2.0514df7d245f568b98cd.js","webpack:///./src/views/pages/Instance.vue","webpack:///./~/xterm/lib/common/Lifecycle.js","webpack:///./~/xterm/lib/core/buffer/BufferLine.js","webpack:///./~/xterm/lib/common/EventEmitter2.js","webpack:///./~/xterm/lib/renderer/atlas/Types.js","webpack:///./~/xterm/lib/common/Platform.js","webpack:///./~/xterm/lib/ui/Lifecycle.js","webpack:///./~/xterm/lib/common/Types.js","webpack:///./~/xterm/lib/common/data/EscapeSequences.js","webpack:///./~/xterm/lib/renderer/BaseRenderLayer.js","webpack:///./~/xterm/lib/Strings.js","webpack:///./~/xterm/lib/core/input/TextDecoder.js","webpack:///./~/xterm/lib/renderer/atlas/BaseCharAtlas.js","webpack:///./~/xterm/lib/renderer/atlas/CharAtlasUtils.js","webpack:///./~/xterm/lib/Buffer.js","webpack:///./~/xterm/lib/CharWidth.js","webpack:///./~/xterm/lib/MouseHelper.js","webpack:///./~/xterm/lib/MouseZoneManager.js","webpack:///./~/xterm/lib/common/TypedArrayUtils.js","webpack:///./~/xterm/lib/renderer/CharacterJoinerRegistry.js","webpack:///./~/xterm/lib/renderer/atlas/CharAtlasCache.js","webpack:///./~/xterm/lib/renderer/atlas/CharAtlasGenerator.js","webpack:///./~/xterm/lib/ui/ColorManager.js","webpack:///./~/xterm/lib/ui/RenderDebouncer.js","webpack:///./~/xterm/lib/ui/ScreenDprMonitor.js","webpack:///Console.vue","webpack:///Info.vue","webpack:///Settings.vue","webpack:///Snapshots.vue","webpack:///Tabs.vue","webpack:///Instance.vue","webpack:///./~/xterm/dist/xterm.css","webpack:///./~/xterm/dist/xterm.css?2b04","webpack:///./~/lodash/lodash.js","webpack:///./src/components/Instance/Console.vue","webpack:///./src/components/Instance/Info.vue","webpack:///./src/components/Instance/Settings.vue","webpack:///./src/components/Instance/Snapshots.vue","webpack:///./src/components/Instance/Tabs.vue","webpack:///./src/components/Instance/Info.vue?c65d","webpack:///./src/views/pages/Instance.vue?a5de","webpack:///./src/components/Instance/Console.vue?812c","webpack:///./src/components/Instance/Snapshots.vue?a58b","webpack:///./src/components/Instance/Tabs.vue?cc6b","webpack:///./src/components/Instance/Settings.vue?e8fb","webpack:///./~/xterm/lib/AccessibilityManager.js","webpack:///./~/xterm/lib/BufferSet.js","webpack:///./~/xterm/lib/CharMeasure.js","webpack:///./~/xterm/lib/Clipboard.js","webpack:///./~/xterm/lib/CompositionHelper.js","webpack:///./~/xterm/lib/EscapeSequenceParser.js","webpack:///./~/xterm/lib/InputHandler.js","webpack:///./~/xterm/lib/Linkifier.js","webpack:///./~/xterm/lib/SelectionManager.js","webpack:///./~/xterm/lib/SelectionModel.js","webpack:///./~/xterm/lib/SoundManager.js","webpack:///./~/xterm/lib/Terminal.js","webpack:///./~/xterm/lib/Viewport.js","webpack:///./~/xterm/lib/WindowsMode.js","webpack:///./~/xterm/lib/addons/fit/fit.js","webpack:///./~/xterm/lib/common/CircularList.js","webpack:///./~/xterm/lib/common/Clone.js","webpack:///./~/xterm/lib/common/EventEmitter.js","webpack:///./~/xterm/lib/core/buffer/BufferReflow.js","webpack:///./~/xterm/lib/core/buffer/Marker.js","webpack:///./~/xterm/lib/core/data/Charsets.js","webpack:///./~/xterm/lib/core/input/Keyboard.js","webpack:///./~/xterm/lib/handlers/AltClickHandler.js","webpack:///./~/xterm/lib/public/AddonManager.js","webpack:///./~/xterm/lib/public/Terminal.js","webpack:///./~/xterm/lib/renderer/CursorRenderLayer.js","webpack:///./~/xterm/lib/renderer/GridCache.js","webpack:///./~/xterm/lib/renderer/LinkRenderLayer.js","webpack:///./~/xterm/lib/renderer/RenderCoordinator.js","webpack:///./~/xterm/lib/renderer/Renderer.js","webpack:///./~/xterm/lib/renderer/SelectionRenderLayer.js","webpack:///./~/xterm/lib/renderer/TextRenderLayer.js","webpack:///./~/xterm/lib/renderer/atlas/DynamicCharAtlas.js","webpack:///./~/xterm/lib/renderer/atlas/LRUMap.js","webpack:///./~/xterm/lib/renderer/atlas/NoneCharAtlas.js","webpack:///./~/xterm/lib/renderer/atlas/StaticCharAtlas.js","webpack:///./~/xterm/lib/renderer/dom/DomRenderer.js","webpack:///./~/xterm/lib/renderer/dom/DomRendererRowFactory.js"],"names":["webpackJsonp","387","module","exports","__webpack_require__","Component","393","Object","defineProperty","value","Disposable","this","_disposables","_isDisposed","prototype","dispose","forEach","d","length","register","push","unregister","index","indexOf","splice","394","__extends","extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TextDecoder_1","Types_1","DEFAULT_ATTR","DEFAULT_COLOR","CHAR_DATA_ATTR_INDEX","CHAR_DATA_CHAR_INDEX","CHAR_DATA_WIDTH_INDEX","CHAR_DATA_CODE_INDEX","NULL_CELL_CHAR","NULL_CELL_WIDTH","NULL_CELL_CODE","WHITESPACE_CELL_CHAR","WHITESPACE_CELL_WIDTH","WHITESPACE_CELL_CODE","CELL_SIZE","AttributeData","fg","bg","toColorRGB","fromColorRGB","clone","newObj","isInverse","isBold","isUnderline","isBlink","isInvisible","isItalic","isDim","getFgColorMode","getBgColorMode","isFgRGB","isBgRGB","isFgPalette","isBgPalette","isFgDefault","isBgDefault","getFgColor","getBgColor","DEFAULT_ATTR_DATA","freeze","CellData","_super","_this","apply","arguments","content","combinedData","fromCharData","obj","setFromCharData","isCombined","getWidth","getChars","stringFromCodePoint","getCode","charCodeAt","combined","code","second","getAsCharData","BufferLine","cols","fillCellData","isWrapped","_combined","_data","Uint32Array","cell","i","setCell","get","cp","set","hasWidth","getFg","getBg","hasContent","getCodePoint","getString","loadCell","startIndex","setCellFromCodePoint","codePoint","width","addCodepointToCell","insertCells","pos","n","deleteCells","replaceCells","start","end","resize","data","subarray","keys","key","parseInt","fill","copyFrom","line","el","newLine","getTrimmedLength","copyCellsFrom","src","srcCol","destCol","applyInReverse","srcData","srcCombinedKeys","translateToString","trimRight","startCol","endCol","Math","min","result","395","EventEmitter2","_listeners","_event","listener","enumerable","configurable","fire","queue","call","undefined","396","INVERTED_DEFAULT_COLOR","DIM_OPACITY","CHAR_ATLAS_CELL_SPACING","397","contains","arr","isNode","navigator","userAgent","platform","isFirefox","isSafari","test","isMSIE","isMac","isIpad","isIphone","isMSWindows","isLinux","398","addDisposableDomListener","node","type","handler","useCapture","addEventListener","removeEventListener","399","400","C0","NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","HT","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","SP","DEL","C1","PAD","HOP","BPH","NBH","IND","NEL","SSA","ESA","HTS","HTJ","VTS","PLD","PLU","RI","SS2","SS3","DCS","PU1","PU2","STS","CCH","MW","SPA","EPA","SOS","SGCI","SCI","CSI","ST","OSC","PM","APC","401","Types_2","CharAtlasCache_1","BufferLine_1","BaseRenderLayer","_container","id","zIndex","_alpha","_colors","_scaledCharWidth","_scaledCharHeight","_scaledCellWidth","_scaledCellHeight","_scaledCharLeft","_scaledCharTop","_currentGlyphIdentifier","chars","bold","dim","italic","_canvas","document","createElement","classList","add","style","toString","_initCanvas","appendChild","removeChild","_charAtlas","_ctx","getContext","alpha","clearAll","onOptionsChanged","terminal","onBlur","onFocus","onCursorMove","onGridChanged","startRow","endRow","onSelectionChanged","columnSelectMode","setColors","colorSet","_refreshCharAtlas","setTransparency","oldCanvas","cloneNode","replaceChild","rows","acquireCharAtlas","warmUp","scaledCellWidth","scaledCellHeight","scaledCharWidth","scaledCharHeight","scaledCharLeft","scaledCharTop","scaledCanvasWidth","height","scaledCanvasHeight","canvasWidth","canvasHeight","fillCells","x","y","fillRect","fillBottomLineAtCells","window","devicePixelRatio","fillLeftLineAtCell","strokeRectAtCell","lineWidth","strokeRect","clearRect","fillStyle","background","css","clearCells","fillCharTrueColor","font","_getFont","textBaseline","_clipRow","fillText","drawChars","_drawUncachedChars","options","drawBoldTextInBrightColors","enableBold","draw","save","join","ansi","foreground","globalAlpha","restore","beginPath","rect","clip","fontWeight","fontWeightBold","fontSize","fontFamily","408","blankLine","promptLabel","tooMuchOutput","409","String","fromCharCode","utf32ToString","codepoint","StringToUtf32","_interim","clear","decode","input","target","size","startPos","Utf8ToUtf32","interim","Uint8Array","byte1","byte2","byte3","byte4","discardInterim","tmp","missing","fourStop","410","BaseCharAtlas","_didWarmUp","_doWarmUp","beginFrame","default","411","generateConfig","colors","clonedColors","cursor","cursorAccent","selection","slice","experimentalCharAtlas","allowTransparency","configEquals","a","rgba","is256Color","colorCode","413","CircularList_1","BufferReflow_1","Marker_1","MAX_BUFFER_SIZE","Buffer","_terminal","_hasScrollback","savedCurAttrData","markers","_nullCell","_whitespaceCell","_cols","_rows","getNullCell","attr","getWhitespaceCell","getBlankLine","lines","maxLength","absoluteY","ybase","relativeY","ydisp","_getCorrectBufferLength","correctBufferLength","scrollback","fillViewportRows","fillAttr","CircularList","scrollTop","scrollBottom","setupTabStops","newCols","newRows","nullCell","newMaxLength","addToY","pop","amountToTrim","trimStart","max","savedY","savedX","_isReflowEnabled","_reflow","windowsMode","_reflowLarger","_reflowSmaller","toRemove","reflowLargerGetLinesToRemove","newLayoutResult","reflowLargerCreateNewLayout","reflowLargerApplyNewLayout","layout","_reflowLargerAdjustViewport","countRemoved","viewportAdjustments","toInsert","countToInsert","nextLine","wrappedLines","unshift","lastLineLength","destLineLengths","reflowSmallerGetNewLineLengths","linesToAdd","trimmedLines","newLines","destLineIndex","srcLineIndex","cellsToCopy","wrappedLinesIndex","getWrappedLineTrimmedLength","insertEvents","originalLines","originalLinesLength","originalLineIndex","nextToInsertIndex","nextToInsert","countInsertedSoFar","nextI","amount","insertCountEmitted","onInsertEmitter","onTrimEmitter","stringIndexToBufferIndex","lineIndex","stringIndex","length_1","translateBufferLineToString","getWrappedRangeForLine","first","last","tabs","prevStop","tabStopWidth","nextStop","addMarker","marker","Marker","onTrim","onInsert","event","onDelete","onDispose","_removeMarker","iterator","endIndex","startOverscan","endOverscan","BufferStringIterator","_buffer","_trimRight","_startIndex","_endIndex","_startOverscan","_endOverscan","_current","hasNext","next","range","414","getStringCellWidth","s","wcwidth","TypedArrayUtils_1","opts","bisearch","ucs","mid","wcwidthHigh","COMBINING_HIGH","COMBINING_BMP","control","table","nul","r","num","415","MouseHelper","_renderCoordinator","getCoordsRelativeToElement","element","getBoundingClientRect","clientX","left","clientY","top","getCoords","charMeasure","colCount","rowCount","isSelection","coords","ceil","dimensions","actualCellWidth","actualCellHeight","getRawByteCoords","416","Lifecycle_1","Lifecycle_2","MouseZoneManager","_zones","_areZonesActive","_tooltipTimeout","_currentZone","_lastHoverCoords","e","_onMouseDown","_mouseMoveListener","_onMouseMove","_mouseLeaveListener","_onMouseLeave","_clickListener","_onClick","_deactivate","zone","_activate","y1","y2","leaveCallback","pageX","pageY","_onHover","_findZoneEventAt","clearTimeout","hoverCallback","setTimeout","_onTooltip","tooltipCallback","_initialSelectionLength","getSelection","willLinkActivate","preventDefault","stopImmediatePropagation","currentSelectionLength","clickCallback","mouseHelper","screenElement","x1","x2","MouseZone","417","array","fillFallback","concat","418","JoinedCellData","firstCell","_width","Error","CharacterJoinerRegistry","_characterJoiners","_nextCharacterJoinerId","_workCell","registerCharacterJoiner","joiner","deregisterCharacterJoiner","joinerId","getJoinedCharacters","row","buffer","ranges","lineStr","rangeStartColumn","currentStringIndex","rangeStartStringIndex","rangeAttrFG","rangeAttrBG","joinedRanges","_getJoinedRanges","lineData","text","substring","joinerRanges","j","_mergeRanges","_stringRangesToCellRanges","currentRangeIndex","currentRangeStarted","currentRange","newRange","inRange","419","newConfig","CharAtlasUtils_1","charAtlasCache","entry","ownedByIndex","ownedBy","config","atlas","newEntry","charAtlasImplementations","removeTerminalFromCache","DynamicCharAtlas_1","NoneCharAtlas_1","StaticCharAtlas_1","420","generateStaticCharAtlasTexture","context","canvasFactory","cellWidth","cellHeight","canvas","ctx","getFont","colorIndex","Platform_1","charAtlasImageData","getImageData","clearColor","createImageBitmap","imageData","color","isEmpty","g","offset","421","fromHex","toPaddedHex","c","DEFAULT_FOREGROUND","DEFAULT_BACKGROUND","DEFAULT_CURSOR","DEFAULT_CURSOR_ACCENT","DEFAULT_SELECTION","DEFAULT_ANSI_COLORS","v","ch","ColorManager","globalCompositeOperation","_litmusColor","createLinearGradient","setTheme","theme","_parseColor","black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite","fallback","console","warn","422","RenderDebouncer","_renderCallback","_animationFrame","cancelAnimationFrame","refresh","rowStart","rowEnd","_rowCount","_rowStart","_rowEnd","requestAnimationFrame","_innerRefresh","423","ScreenDprMonitor","_currentDevicePixelRatio","setListener","_listener","clearListener","_outerListener","_updateDpr","_resolutionMediaMatchList","removeListener","matchMedia","addListener","437","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_0_lodash___default","__WEBPACK_IMPORTED_MODULE_1_xterm__","__WEBPACK_IMPORTED_MODULE_2_xterm_lib_addons_fit_fit__","__WEBPACK_IMPORTED_MODULE_3_xterm_dist_xterm_css__","__WEBPACK_IMPORTED_MODULE_4__libraries_utils_storage__","438","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_vuex__","__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__","439","440","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","441","__WEBPACK_IMPORTED_MODULE_0__Info__","__WEBPACK_IMPORTED_MODULE_0__Info___default","__WEBPACK_IMPORTED_MODULE_1__Console__","__WEBPACK_IMPORTED_MODULE_1__Console___default","__WEBPACK_IMPORTED_MODULE_2__Snapshots__","__WEBPACK_IMPORTED_MODULE_2__Snapshots___default","__WEBPACK_IMPORTED_MODULE_3__Settings__","__WEBPACK_IMPORTED_MODULE_3__Settings___default","466","__WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs__","__WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs___default","472","473","locals","475","func","thisArg","args","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","values","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiToArray","string","split","asciiWords","match","reAsciiWord","baseFindKey","collection","eachFunc","baseFindIndex","fromIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","NAN","baseProperty","object","basePropertyOf","baseReduce","baseSortBy","comparer","sort","current","baseTimes","baseToPairs","props","baseUnary","baseValues","cacheHas","cache","has","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","escapeStringChar","chr","stringEscapes","getValue","hasUnicode","reHasUnicode","hasUnicodeWord","reHasUnicodeWord","iteratorToArray","done","mapToArray","map","overArg","transform","arg","replaceHolders","PLACEHOLDER","setToArray","setToPairs","strictLastIndexOf","stringSize","unicodeSize","asciiSize","stringToArray","unicodeToArray","reUnicode","lastIndex","unicodeWords","reUnicodeWord","LARGE_ARRAY_SIZE","CORE_ERROR_TEXT","FUNC_ERROR_TEXT","HASH_UNDEFINED","MAX_MEMOIZE_SIZE","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_BOUND_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","WRAP_ARY_FLAG","WRAP_REARG_FLAG","WRAP_FLIP_FLAG","DEFAULT_TRUNC_LENGTH","DEFAULT_TRUNC_OMISSION","HOT_COUNT","HOT_SPAN","LAZY_FILTER_FLAG","LAZY_MAP_FLAG","INFINITY","MAX_SAFE_INTEGER","MAX_INTEGER","MAX_ARRAY_LENGTH","MAX_ARRAY_INDEX","HALF_MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","asyncTag","boolTag","dateTag","domExcTag","errorTag","funcTag","genTag","mapTag","numberTag","nullTag","objectTag","proxyTag","regexpTag","setTag","stringTag","symbolTag","undefinedTag","weakMapTag","weakSetTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","RegExp","source","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsBreak","rsCombo","rsLower","rsMisc","rsFitz","rsRegional","rsSurrPair","rsUpper","rsMiscLower","reOptMod","rsModifier","rsOptJoin","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","rsMiscUpper","contextProps","templateCounter","typedArrayTags","cloneableTags","deburredLetters","htmlEscapes","htmlUnescapes","freeParseFloat","parseFloat","freeParseInt","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","isDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","deburrLetter","escapeHtmlChar","unescapeHtmlChar","_","runInContext","lodash","isObjectLike","isArray","LazyWrapper","LodashWrapper","wrapperClone","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","lazyClone","copyArray","lazyReverse","lazyValue","dir","isArr","isRight","arrLength","view","getView","iteratees","iterLength","takeCount","nativeMin","baseWrapperValue","outer","iterIndex","computed","Hash","entries","hashClear","__data__","nativeCreate","hashDelete","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","Map","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","SetCache","setCacheAdd","setCacheHas","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","arrayLikeKeys","inherited","isArg","isArguments","isBuff","isBuffer","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","baseAggregator","baseEach","baseAssign","copyObject","baseAssignIn","keysIn","baseAt","paths","skip","number","lower","upper","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","isObject","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","copySymbolsIn","copySymbols","initCloneByTag","stacked","subValue","keysFunc","getAllKeysIn","getAllKeys","baseConforms","baseConformsTo","baseDelay","wait","TypeError","baseDifference","includes","isCommon","valuesLength","valuesIndex","baseEvery","baseExtremum","isSymbol","baseFill","toInteger","toLength","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseForOwn","baseFor","baseForOwnRight","baseForRight","baseFunctions","isFunction","baseGet","path","castPath","toKey","baseGetAllKeys","symbolsFunc","baseGetTag","symToStringTag","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseInRange","nativeMax","baseIntersection","arrays","othLength","othIndex","caches","Infinity","seen","baseInverter","baseInvoke","parent","baseIsArguments","baseIsArrayBuffer","baseIsDate","baseIsEqual","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","equalObjects","baseIsMap","baseIsMatch","matchData","noCustomizer","srcValue","baseIsNative","isMasked","reIsNative","toSource","baseIsRegExp","baseIsSet","baseIsTypedArray","isLength","baseIteratee","identity","baseMatchesProperty","baseMatches","property","baseKeys","isPrototype","nativeKeys","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","baseMergeDeep","newValue","safeGet","mergeFunc","isTyped","isArrayLikeObject","cloneTypedArray","isPlainObject","toPlainObject","baseNth","baseOrderBy","orders","getIteratee","compareMultiple","basePick","basePickBy","baseSet","basePropertyDeep","basePullAll","basePullAt","indexes","previous","baseUnset","nativeFloor","nativeRandom","baseRange","step","nativeCeil","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","symbolToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","actions","action","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castSlice","allocUnsafe","copy","cloneArrayBuffer","arrayBuffer","byteLength","cloneDataView","dataView","byteOffset","cloneRegExp","regexp","exec","cloneSymbol","symbol","symbolValueOf","typedArray","compareAscending","valIsDefined","valIsReflexive","objCriteria","criteria","othCriteria","ordersLength","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","getSymbols","getSymbolsIn","createAggregator","initializer","createAssigner","assigner","sources","guard","isIterateeCall","createBaseEach","iterable","createBaseFor","createBind","wrapper","Ctor","isBind","createCtor","createCaseFirst","methodName","charAt","trailing","createCompounder","callback","words","deburr","replace","thisBinding","baseCreate","createCurry","arity","getHolder","createRecurry","createHybrid","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","reverse","getFuncName","funcName","getData","isLaziable","plant","partialsRight","holdersRight","argPos","ary","holdersCount","newHolders","fn","isBindKey","reorder","isFlip","isAry","createInverter","toIteratee","createMathOperation","operator","defaultValue","createOver","arrayFunc","createPadding","charsLength","createPartial","createRange","toFinite","createRelationalOperation","toNumber","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","newData","setData","setWrapToString","createRound","precision","nativeIsFinite","pair","createToPairs","createWrap","mergeData","baseSetData","customDefaultsAssignIn","objectProto","customDefaultsMerge","customOmitClone","isPartial","arrValue","othValue","compared","name","message","convert","objProps","objLength","skipCtor","objCtor","othCtor","flatten","realNames","otherFunc","isKeyable","getNative","isOwn","unmasked","nativeObjectToString","transforms","getWrapDetails","hasPath","hasFunc","getPrototype","insertWrapDetails","details","spreadableSymbol","maskSrcKey","srcBitmask","newBitmask","isCombo","otherArgs","oldArray","reference","updateWrapDetails","shortOut","count","lastCalled","stamp","nativeNow","remaining","rand","funcToString","chunk","compact","drop","dropRight","dropRightWhile","dropWhile","findIndex","findLastIndex","flattenDeep","flattenDepth","fromPairs","head","initial","separator","nativeJoin","lastIndexOf","nth","pullAll","pullAllBy","pullAllWith","remove","nativeReverse","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","uniq","uniqBy","uniqWith","unzip","group","unzipWith","zipObject","zipObjectDeep","chain","tap","interceptor","wrapperChain","wrapperCommit","wrapperNext","toArray","wrapperToIterator","wrapperPlant","wrapperReverse","wrapped","wrapperValue","every","filter","flatMap","flatMapDeep","flatMapDepth","forEachRight","baseEachRight","isString","orderBy","reduce","reduceRight","reject","negate","sample","sampleSize","shuffle","some","after","before","curry","curryRight","debounce","invokeFunc","time","lastArgs","lastThis","lastInvokeTime","leadingEdge","timerId","timerExpired","leading","remainingWait","timeSinceLastCall","lastCallTime","timeSinceLastInvoke","timeWaiting","maxing","maxWait","shouldInvoke","now","trailingEdge","cancel","flush","debounced","isInvoking","flip","memoize","resolver","memoized","Cache","once","rest","spread","throttle","unary","wrap","partial","castArray","cloneWith","cloneDeep","cloneDeepWith","conformsTo","isBoolean","isElement","isEqual","isEqualWith","isError","isFinite","isInteger","isMatch","isMatchWith","isNaN","isNumber","isNative","isMaskable","isNull","isNil","proto","objectCtorString","isSafeInteger","isUndefined","isWeakMap","isWeakSet","symIterator","remainder","valueOf","isBinary","toSafeInteger","properties","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","functions","functionsIn","mapKeys","mapValues","omitBy","pickBy","prop","setWith","isArrLike","unset","update","updateWith","valuesIn","clamp","random","floating","temp","capitalize","upperFirst","toLowerCase","endsWith","position","escape","escapeRegExp","pad","strLength","padEnd","padStart","radix","nativeParseInt","repeat","limit","startsWith","template","settings","templateSettings","assignInWith","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","attempt","toLower","toUpper","toUpperCase","trim","trimEnd","truncate","omission","search","newEnd","unescape","pattern","cond","conforms","constant","defaultTo","matches","matchesProperty","mixin","methodNames","noConflict","oldDash","noop","nthArg","propertyOf","stubArray","stubFalse","stubObject","stubString","stubTrue","times","toPath","uniqueId","prefix","idCounter","maxBy","mean","meanBy","minBy","sum","sumBy","defaults","pick","Date","arrayProto","funcProto","coreJsData","uid","IE_PROTO","Symbol","getPrototypeOf","objectCreate","propertyIsEnumerable","isConcatSpreadable","toStringTag","ctxClearTimeout","ctxNow","ctxSetTimeout","floor","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","DataView","Promise","Set","WeakMap","metaMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","baseSetToString","castRest","ArrayBuffer","resolve","ctorString","quote","subString","difference","differenceBy","differenceWith","intersection","mapped","intersectionBy","intersectionWith","pull","pullAt","union","unionBy","unionWith","without","xor","xorBy","xorWith","zip","zipWith","wrapperAt","countBy","find","findLast","groupBy","invokeMap","keyBy","partition","sortBy","bind","bindKey","defer","delay","overArgs","funcsLength","partialRight","rearg","gt","gte","lt","lte","assign","assignIn","assignWith","at","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","merge","omit","toPairs","toPairsIn","camelCase","word","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","bindAll","flow","flowRight","method","methodOf","over","overEvery","overSome","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","round","subtract","minuend","subtrahend","entriesIn","extend","extendWith","each","eachRight","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","commit","toJSON","491","492","493","494","495","514","render","_vm","_h","$createElement","_c","_self","attrs","on","refreshData","_v","_s","$t","instance","formatDate","created_at","status","image_os","image_release","image_version","limits_cpu","limits_memory","limits_disk","_e","ips","address","user_price","_l","button","staticClass","loading","disable","$event","icon","staticRenderFns","519","_b","$props","534","staticStyle","isRunning","nativeOn","OpenTerminal","548","createItem","model","$$v","snapshot_name","expression","headers","items","scopedSlots","_u","ref","item","restoreAction","deleteAction","dialog_destroy","deleteItem","action_item","dialog_restore","restoreItem","550","556","stopPropagation","dialog_upgrade","loading3","dialog_clone","sendRequestDestroy","instanceName","instanceClone","sendRequestClone","cpu","memory","disk","periodes","period","price","getInstanceConfig","sendRequestUpgrade","559","Strings","RenderDebouncer_1","ScreenDprMonitor_1","AccessibilityManager","_dimensions","_liveRegionLineCount","_charsToConsume","_charsToAnnounce","_accessibilityTreeRoot","_rowContainer","_rowElements","_createAccessibilityTreeNode","_topBoundaryFocusListener","_onBoundaryFocus","_bottomBoundaryFocusListener","_refreshRowsDimensions","_renderRowsDebouncer","_renderRows","_refreshRows","_liveRegion","setAttribute","insertAdjacentElement","onResize","_onResize","onRender","onScroll","addDisposableListener","char","_onChar","onLineFeed","spaceCount","_onTab","onKey","_onKey","_clearLiveRegion","_screenDprMonitor","boundaryElement","beforeBoundaryElement","getAttribute","relatedTarget","topBoundaryElement","bottomBoundaryElement","shift","newElement","scrollLines","focus","children","tabIndex","_refreshRowDimensions","MAX_ROWS_TO_READ","textContent","parentNode","keyChar","setSize","posInSet","_announceCharacters","setDimensions","560","Buffer_1","EventEmitter2_1","BufferSet","_onBufferActivate","_normal","_alt","_activeBuffer","activateNormalBuffer","activeBuffer","inactiveBuffer","activateAltBuffer","561","CharMeasure","parentElement","_onCharSizeChanged","_document","_parentElement","_measureElement","_height","measure","geometry","adjustedHeight","562","prepareTextForTerminal","bracketTextForPaste","bracketedPasteMode","copyHandler","ev","term","selectionManager","browser","clipboardData","selectionText","pasteHandler","dispatchPaste","textarea","emit","moveTextAreaUnderMouseCursor","rightClickHandler","shouldSelectWord","isClickInSelection","selectWordAtCursor","select","563","CompositionHelper","_textarea","_compositionView","_isComposing","_isSendingComposition","_compositionPosition","compositionstart","compositionupdate","updateCompositionElements","compositionend","_finalizeComposition","keydown","keyCode","_handleAnyTextareaChanges","waitForPropagation","_clearTextareaPosition","currentCompositionPosition_1","oldValue","diff","dontRecurse","isCursorInViewport","lineHeight","cursorTop","cursorLeft","compositionViewBounds","564","TransitionTable","state","addMany","codes","PRINTABLES","EXECUTABLES","VT500_TRANSITION_TABLE","states","DcsDummy","hook","collect","params","flag","put","unhook","EscapeSequenceParser","TRANSITIONS","initialState","currentState","_osc","_params","_collect","_printHandlerFb","_executeHandlerFb","_csiHandlerFb","_escHandlerFb","_oscHandlerFb","identifier","_dcsHandlerFb","_errorHandlerFb","_printHandler","_executeHandlers","_csiHandlers","_escHandlers","_oscHandlers","_dcsHandlers","_activeDcsHandler","_errorHandler","setEscHandler","setPrintHandler","clearPrintHandler","setExecuteHandler","clearExecuteHandler","setExecuteHandlerFallback","addCsiHandler","handlerList","handlerIndex","setCsiHandler","clearCsiHandler","setCsiHandlerFallback","collectAndFlag","clearEscHandler","setEscHandlerFallback","addOscHandler","ident","setOscHandler","clearOscHandler","setOscHandlerFallback","setDcsHandler","clearDcsHandler","setDcsHandlerFallback","setErrorHandler","clearErrorHandler","reset","parse","transition","error","print","dcs","osc","dcsHandler","inject","abort","handlers","j_1","idx","handlers_1","j_2","565","EscapeSequences_1","Charsets_1","CharWidth_1","EscapeSequenceParser_1","GLEVEL","DECRQSS","pt","STYLES","getOption","InputHandler","_parser","_parseBuffer","_stringDecoder","_utf8Decoder","_onCursorMove","_onData","_onLineFeed","_onScroll","insertChars","cursorUp","cursorDown","cursorForward","cursorBackward","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","cursorPosition","cursorForwardTab","eraseInDisplay","eraseInLine","insertLines","deleteLines","deleteChars","scrollUp","scrollDown","eraseChars","cursorBackwardTab","charPosAbsolute","hPositionRelative","repeatPrecedingCharacter","sendDeviceAttributes","linePosAbsolute","vPositionRelative","hVPosition","tabClear","setMode","resetMode","charAttributes","deviceStatus","softReset","setCursorStyle","setScrollRegion","saveCursor","restoreCursor","bell","lineFeed","carriageReturn","backspace","tab","shiftOut","shiftIn","tabSet","setTitle","reverseIndex","keypadApplicationMode","keypadNumericMode","setgLevel","selectDefaultCharset","this_1","CHARSETS","selectCharset","cursorStartX","cursorStartY","debug","log","parseUtf8","chWidth","charset","screenReaderMode","wraparoundMode","insertMode","curAttr","curAttrData","bufferRow","updateRange","scroll","convertEol","originalX","eraseAttrData","param","col","_eraseInBufferLine","clearWrap","_resetBufferLine","scrollBackSize","scrollBottomRowsOffset","scrollBottomAbsolute","is","applicationCursor","setgCharset","DEFAULT_CHARSET","savedCols","originMode","applicationKeypad","viewport","syncScrollArea","x10Mouse","vt200Mouse","normalMouse","mouseEvents","sendFocus","utfMouse","sgrMouse","urxvtMouse","cursorHidden","buffers","showCursor","enable","l","glevel","charsets","setOption","isBlinking","handleTitle","level","566","MouseZoneManager_1","Linkifier","_linkMatchers","_nextLinkMatcherId","_onLinkHover","_onLinkLeave","_onLinkTooltip","_rowsToLinkify","attachToDom","mouseZoneManager","_mouseZoneManager","linkifyRows","_rowsTimeoutId","_linkifyRows","TIME_BEFORE_LINKIFY","absoluteRowIndexStart","absoluteRowIndexEnd","overscanLineLimit","OVERSCAN_CHAR_LIMIT","_doLinkifyRow","registerLinkMatcher","regex","matcher","matchIndex","validationCallback","hoverTooltipCallback","hoverLeaveCallback","priority","_addLinkMatcherToList","deregisterLinkMatcher","matcherId","rowIndex","rex","flags","uri","bufferIndex","isValid","_addLink","open","_createLinkHoverEvent","567","MouseHelper_1","Browser","SelectionModel_1","AltClickHandler_1","WORD_SEPARATORS","NON_BREAKING_SPACE_CHAR","ALL_NON_BREAKING_SPACE_REGEX","SelectionManager","_charMeasure","_enabled","_onLinuxMouseSelection","_onRedrawRequest","_onSelectionChange","_initListeners","_model","SelectionModel","_activeSelectionMode","_removeMouseDownListeners","active","_mouseUpListener","_onMouseUp","initBuffersListeners","_trimListener","_onTrim","onBufferActivate","clearSelection","finalSelectionStart","finalSelectionEnd","lineText","startRowEndCol","bufferLine","isLinuxMouseSelection","_refreshAnimationFrame","_refresh","_getMouseBufferCoords","_areCoordsInSelection","_selectWordAt","selectionEnd","selectAll","isSelectAllActive","selectLines","selectionStart","_getMouseEventScrollAmount","terminalHeight","abs","shouldForceSelection","altKey","macOptionClickForcesSelection","shiftKey","onMouseDown","_mouseDownTimeStamp","timeStamp","hasSelection","_dragScrollAmount","_onIncrementalClick","detail","_onSingleClick","_onDoubleClick","_onTripleClick","_addMouseDownListeners","ownerDocument","_dragScrollIntervalTimer","setInterval","_dragScroll","clearInterval","selectionStartLength","shouldColumnSelect","_selectLineAt","previousSelectionEnd","_selectToWordAt","timeElapsed","AltClickHandler","move","_convertViewportColToCharacterIndex","charIndex","setSelection","_getWordAt","allowWhitespaceOnlySelection","followWrappedLinesAbove","followWrappedLinesBelow","charOffset","leftWideCharCount","rightWideCharCount","leftLongCharOffset","rightLongCharOffset","length_2","_isCharWordSeparator","length_3","length_4","previousBufferLine","previousLineWordPosition","nextBufferLine","nextLineWordPosition","wordPosition","areSelectionValuesReversed","wrappedRange","568","startPlusLength","569","DEFAULT_BELL_SOUND","SoundManager","_audioContext","audioContextCtor","AudioContext","webkitAudioContext","playBellSound","audioContext","bellAudioSource","createBufferSource","decodeAudioData","_base64ToArrayBuffer","_removeMimeType","bellSound","connect","destination","base64","binaryString","atob","len","bytes","dataURI","570","wasModifierKeyOnlyEvent","BufferSet_1","CompositionHelper_1","EventEmitter_1","Viewport_1","Clipboard_1","InputHandler_1","Renderer_1","Linkifier_1","SelectionManager_1","CharMeasure_1","SoundManager_1","AccessibilityManager_1","DomRenderer_1","Keyboard_1","Clone_1","WindowsMode_1","ColorManager_1","RenderCoordinator_1","CONSTRUCTOR_ONLY_OPTIONS","DEFAULT_OPTIONS","termName","cursorBlink","cursorStyle","bellStyle","letterSpacing","screenKeys","macOptionIsMeta","cancelEvents","disableStdin","useFlowControl","rightClickSelectsWord","rendererType","Terminal","_blankLine","_onRender","_onTitleChange","_setup","onData","domEvent","onSelectionChange","onTitleChange","_windowsMode","_customKeyEventHandler","write","destroy","_parent","body","cursorState","gcharset","_eraseAttrData","currentParam","writeBuffer","writeBufferUtf8","_writeInProgress","_xoffSentToCatchUp","_userScrolling","_inputHandler","linkifier","soundManager","applyWindowsMode","preventScroll","activeElement","hasFocus","_setTheme","newBufferLength","needsRefresh","setRenderer","_createRenderer","_accessibilityManager","_onTextAreaFocus","updateCursorStyle","blur","_onTextAreaBlur","_initGlobal","_bindKeys","pasteHandlerWrapper","_keyDown","_keyPress","_keyUp","_compositionHelper","_queueLinkification","_context","defaultView","fragment","createDocumentFragment","_viewportElement","_viewportScrollArea","_helperContainer","_theme","_colorManager","renderer","RenderCoordinator","Viewport","onThemeChange","onCharSizeChanged","onDimensionsChange","onRedrawRequest","onLinuxMouseSelection","toggle","bindMouse","Renderer","DomRenderer","sendButton","getButton","sendEvent","overrideType","pressed","sendMove","encode","_vt300Mouse","data_1","_decLocator","page","meta","ctrl","mod","which","deltaY","metaKey","ctrlKey","moveHandler","hasScrollback","getLinesScrolled","sequence","onWheel","onTouchStart","onTouchMove","refreshRows","eraseAttr","topRow","bottomRow","willBufferBeTrimmed","recycle","scrollRegionHeight","shiftElements","disp","suppressScrollEvent","oldYdisp","scrollPages","pageCount","scrollToTop","scrollToBottom","scrollToLine","scrollAmount","writeUtf8","_innerWriteUtf8","bufferOffset","startTime","_refreshStart","_refreshEnd","_innerWrite","writeln","attachCustomKeyEventHandler","customKeyEventHandler","cursorYOffset","normal","column","getSelectionPosition","startColumn","endColumn","evaluateKeyboardEvent","scrollCount","_isThirdLevelShift","thirdLevelKey","charCode","_soundBell","_visualBell","_visualBellTimer","maxRange","title","inputHandler","writeInProgress","xoffSentToCatchUp","userScrolling","force","EventEmitter","571","FALLBACK_SCROLL_BAR_WIDTH","_scrollArea","scrollBarWidth","_currentRowHeight","_lastRecordedBufferLength","_lastRecordedViewportHeight","_lastRecordedBufferHeight","_lastScrollTop","_wheelPartialScroll","_ignoreNextScrollEvent","offsetWidth","onDimensionsChance","backgroundColor","offsetHeight","newBufferHeight","newScrollTop","offsetParent","newRow","_getPixelsScrolled","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","DOM_DELTA_PIXEL","_lastTouchY","touches","572","lastChar","573","proposeGeometry","parentElementStyle","getComputedStyle","parentElementHeight","getPropertyValue","parentElementWidth","elementStyle","elementPadding","bottom","right","elementPaddingVer","elementPaddingHor","availableHeight","availableWidth","_core","fit","terminalConstructor","574","_maxLength","onDeleteEmitter","_array","_length","newArray","_getCyclicIndex","newLength","deleteCount","_i","countToTrim","expandListBy","575","val","clonedObject","576","_events","disposed","off","removeAllListeners","emitMayRemoveListeners","listeners","577","oldCols","bufferAbsoluteY","srcTrimmedTineLength","srcRemainingCells","destRemainingCells","countToRemove","i_1","nextToRemoveIndex","nextToRemoveStart","countRemovedSoFar","newLayout","newLayoutLines","newLineLengths","cellsNeeded","srcLine","cellsAvailable","oldTrimmedLength","endsWithWide","lineLength","endsInNull","followingLineStartsWithWide","578","_id","_nextId","isDisposed","_onDispose","579","580","applicationCursorMode","modifiers","keyMapping","KEYCODE_KEY_MAPPINGS","48","49","50","51","52","53","54","55","56","57","186","187","188","189","190","191","192","219","220","221","222","581","str","rpt","_mouseEvent","_a","_lines","_startCol","_startRow","coordinates","coordinate","_endCol","_endRow","_arrowSequences","_moveHorizontallyOnly","_resetStartingRow","_moveToRequestedRow","_moveToRequestedCol","_bufferLine","_wrappedRowsForRow","_sequence","_wrappedRowsCount","_verticalDirection","direction","_horizontalDirection","wrappedRows","currentRow","lineWraps","forward","currentCol","bufferStr","582","AddonManager","_addons","loadAddon","loadedAddon","_wrappedAddonDispose","activate","583","Terminal_1","AddonManager_1","_addonManager","BufferApiView","columns","applyAddon","addon","getLine","BufferLineApiView","_line","getCell","BufferCellApiView","_x","584","BaseRenderLayer_1","CursorRenderLayer","container","_cell","_state","isFocused","_cursorRenderers","_renderBarCursor","_renderBlockCursor","_renderUnderlineCursor","_clearCursor","_cursorBlinkStateManager","pause","resume","CursorBlinkStateManager","_render","restartBlinkAnimation","isPaused","triggeredByAnimationFrame","cursorY","viewportRelativeCursorY","_renderBlurCursor","isCursorVisible","strokeStyle","_restartInterval","_blinkStartTimeout","_blinkInterval","_animationTimeRestarted","timeToStart","585","GridCache","586","LinkRenderLayer","onLinkHover","onLinkLeave","_clearCurrentLink","middleRowCount","587","_renderer","_isPaused","_needsFullRefresh","_canvasWidth","_canvasHeight","_onDimensionsChange","_onRefreshRequest","_renderDebouncer","onDevicePixelRatioChange","observer_1","IntersectionObserver","_onIntersectionChange","threshold","observe","disconnect","intersectionRatio","renderRows","_fireOnCanvasResize","changeOptions","_fullRefresh","588","TextRenderLayer_1","SelectionRenderLayer_1","CursorRenderLayer_1","LinkRenderLayer_1","CharacterJoinerRegistry_1","_characterJoinerRegistry","_renderLayers","TextRenderLayer","SelectionRenderLayer","_devicePixelRatio","_updateDimensions","_runOperation","operation","589","_clearState","_didStateChange","viewportStartRow","viewportEndRow","viewportCappedStartRow","viewportCappedEndRow","middleRowsCount","_areCoordinatesEqual","coord1","coord2","590","GridCache_1","characterJoinerRegistry","_characterOverlapCache","terminalFont","_characterWidth","_characterFont","_forEachCell","firstRow","lastRow","joinerRegistry","isJoined","lastCharX","_isOverlapping","_drawBackground","startX","startY","prevFillStyle","nextFillStyle","_drawForeground","overlaps","measureText","591","getGlyphCacheKey","glyph","BaseCharAtlas_1","CharAtlasGenerator_1","LRUMap_1","TEXTURE_WIDTH","TEXTURE_HEIGHT","TRANSPARENT_COLOR","DynamicCharAtlas","_config","_drawToCacheCount","_glyphsWaitingOnBitmap","_bitmapCommitTimeout","_bitmap","_cacheCanvas","_cacheCtx","tmpCanvas","_tmpCtx","capacity","_cacheMap","prealloc","_canCache","glyphKey","cacheValue","_drawFromCache","peek","cacheValue_1","_drawToCache","_toCoordinateX","_toCoordinateY","cacheX","cacheY","drawImage","inBitmap","_getColorFromAnsiIndex","_getBackgroundColor","_getForegroundColor","fontStyle","putImageData","_addGlyphToBitmap","_generateBitmap","glyphsMovingToBitmap","then","bitmap","592","LRUMap","_map","_head","_tail","_nodePool","_unlinkNode","prev","_appendNode","nodePool","peekValue","593","NoneCharAtlas","594","StaticCharAtlas","_canvasFactory","HTMLCanvasElement","_texture","texture","_isCached","isAscii","isBasicColor","isDefaultColor","isDefaultBackground","charAtlasCellWidth","charAtlasCellHeight","595","DomRendererRowFactory_1","TERMINAL_CLASS_PREFIX","ROW_CONTAINER_CLASS","SELECTION_CLASS","nextTerminalId","_terminalClass","_refreshRowElements","_selectionContainer","_injectCss","_rowFactory","DomRendererRowFactory","_themeStyleElement","_dimensionsStyleElement","overflow","styles","_terminalSelector","innerHTML","BOLD_CLASS","ITALIC_CLASS","CURSOR_CLASS","CURSOR_BLINK_CLASS","CURSOR_STYLE_BLOCK_CLASS","CURSOR_STYLE_BAR_CLASS","CURSOR_STYLE_UNDERLINE_CLASS","documentFragment","_createSelectionElement","endCol_1","colStart","colEnd","cursorAbsoluteY","cursorX","rowElement","createRow","_setCellUnderline","enabled","span","textDecoration","596","DIM_CLASS","UNDERLINE_CLASS","_terminalOptions","isCursorRow","charElement","swapColor"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,SDUrBG,IACA,SAAUJ,EAAQC,EAASC,GAEjC,YEzBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIC,GAAc,WACd,QAASA,KACLC,KAAKC,gBACLD,KAAKE,aAAc,EAgBvB,MAdAH,GAAWI,UAAUC,QAAU,WAC3BJ,KAAKE,aAAc,EACnBF,KAAKC,aAAaI,QAAQ,SAAUC,GAAK,MAAOA,GAAEF,YAClDJ,KAAKC,aAAaM,OAAS,GAE/BR,EAAWI,UAAUK,SAAW,SAAUF,GACtCN,KAAKC,aAAaQ,KAAKH,IAE3BP,EAAWI,UAAUO,WAAa,SAAUJ,GACxC,GAAIK,GAAQX,KAAKC,aAAaW,QAAQN,IACvB,IAAXK,GACAX,KAAKC,aAAaY,OAAOF,EAAO,IAGjCZ,IAEXP,GAAQO,WAAaA,GFgCfe,IACA,SAAUvB,EAAQC,EAASC,GAEjC,YGzDA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI4B,GAAgB,EAAQ,KACxBC,EAAU,EAAQ,IACtBnC,GAAQoC,aAAe,IAAaD,EAAQE,eAAiB,EAC7DrC,EAAQsC,qBAAuB,EAC/BtC,EAAQuC,qBAAuB,EAC/BvC,EAAQwC,sBAAwB,EAChCxC,EAAQyC,qBAAuB,EAC/BzC,EAAQ0C,eAAiB,GACzB1C,EAAQ2C,gBAAkB,EAC1B3C,EAAQ4C,eAAiB,EACzB5C,EAAQ6C,qBAAuB,IAC/B7C,EAAQ8C,sBAAwB,EAChC9C,EAAQ+C,qBAAuB,EAC/B,IAAIC,GAAY,EACZC,EAAiB,WACjB,QAASA,KACLzC,KAAK0C,GAAK,EACV1C,KAAK2C,GAAK,EAiDd,MA/CAF,GAAcG,WAAa,SAAU9C,GACjC,OACIA,IAAU,GAAK,IACfA,IAAU,EAAI,IACN,IAARA,IAGR2C,EAAcI,aAAe,SAAU/C,GACnC,OAAmB,IAAXA,EAAM,KAAa,IAAiB,IAAXA,EAAM,KAAa,EAAe,IAAXA,EAAM,IAElE2C,EAActC,UAAU2C,MAAQ,WAC5B,GAAIC,GAAS,GAAIN,EAGjB,OAFAM,GAAOL,GAAK1C,KAAK0C,GACjBK,EAAOJ,GAAK3C,KAAK2C,GACVI,GAEXN,EAActC,UAAU6C,UAAY,WAAc,MAAiB,UAAVhD,KAAK0C,IAC9DD,EAActC,UAAU8C,OAAS,WAAc,MAAiB,WAAVjD,KAAK0C,IAC3DD,EAActC,UAAU+C,YAAc,WAAc,MAAiB,WAAVlD,KAAK0C,IAChED,EAActC,UAAUgD,QAAU,WAAc,MAAiB,WAAVnD,KAAK0C,IAC5DD,EAActC,UAAUiD,YAAc,WAAc,MAAiB,YAAVpD,KAAK0C,IAChED,EAActC,UAAUkD,SAAW,WAAc,MAAiB,UAAVrD,KAAK2C,IAC7DF,EAActC,UAAUmD,MAAQ,WAAc,MAAiB,WAAVtD,KAAK2C,IAC1DF,EAActC,UAAUoD,eAAiB,WAAc,MAAiB,UAAVvD,KAAK0C,IACnED,EAActC,UAAUqD,eAAiB,WAAc,MAAiB,UAAVxD,KAAK2C,IACnEF,EAActC,UAAUsD,QAAU,WAAc,MAAgC,YAAd,SAAVzD,KAAK0C,KAC7DD,EAActC,UAAUuD,QAAU,WAAc,MAAgC,YAAd,SAAV1D,KAAK2C,KAC7DF,EAActC,UAAUwD,YAAc,WAAc,MAAgC,YAAd,SAAV3D,KAAK0C,KAAwD,WAAd,SAAV1C,KAAK0C,KACtGD,EAActC,UAAUyD,YAAc,WAAc,MAAgC,YAAd,SAAV5D,KAAK2C,KAAwD,WAAd,SAAV3C,KAAK2C,KACtGF,EAActC,UAAU0D,YAAc,WAAc,MAAgC,KAAd,SAAV7D,KAAK0C,KACjED,EAActC,UAAU2D,YAAc,WAAc,MAAgC,KAAd,SAAV9D,KAAK2C,KACjEF,EAActC,UAAU4D,WAAa,WACjC,OAAkB,SAAV/D,KAAK0C,IACT,IAAK,UACL,IAAK,UAAU,MAAiB,KAAV1C,KAAK0C,EAC3B,KAAK,UAAU,MAAiB,UAAV1C,KAAK0C,EAC3B,SAAS,OAAQ,IAGzBD,EAActC,UAAU6D,WAAa,WACjC,OAAkB,SAAVhE,KAAK2C,IACT,IAAK,UACL,IAAK,UAAU,MAAiB,KAAV3C,KAAK2C,EAC3B,KAAK,UAAU,MAAiB,UAAV3C,KAAK2C,EAC3B,SAAS,OAAQ,IAGlBF,IAEXjD,GAAQiD,cAAgBA,EACxBjD,EAAQyE,kBAAoBrE,OAAOsE,OAAO,GAAIzB,GAC9C,IAAI0B,GAAY,SAAUC,GAEtB,QAASD,KACL,GAAIE,GAAmB,OAAXD,GAAmBA,EAAOE,MAAMtE,KAAMuE,YAAcvE,IAKhE,OAJAqE,GAAMG,QAAU,EAChBH,EAAM3B,GAAK,EACX2B,EAAM1B,GAAK,EACX0B,EAAMI,aAAe,GACdJ,EA4DX,MAnEAtD,GAAUoD,EAAUC,GASpBD,EAASO,aAAe,SAAU5E,GAC9B,GAAI6E,GAAM,GAAIR,EAEd,OADAQ,GAAIC,gBAAgB9E,GACb6E,GAEXR,EAAShE,UAAU0E,WAAa,WAC5B,MAAsB,SAAf7E,KAAKwE,SAEhBL,EAAShE,UAAU2E,SAAW,WAC1B,MAAO9E,MAAKwE,SAAW,IAE3BL,EAAShE,UAAU4E,SAAW,WAC1B,MAAmB,SAAf/E,KAAKwE,QACExE,KAAKyE,aAEG,QAAfzE,KAAKwE,QACE9C,EAAcsD,oBAAmC,QAAfhF,KAAKwE,SAE3C,IAEXL,EAAShE,UAAU8E,QAAU,WACzB,MAAQjF,MAAK6E,aACP7E,KAAKyE,aAAaS,WAAWlF,KAAKyE,aAAalE,OAAS,GACzC,QAAfP,KAAKwE,SAEfL,EAAShE,UAAUyE,gBAAkB,SAAU9E,GAC3CE,KAAK0C,GAAK5C,EAAMN,EAAQsC,sBACxB9B,KAAK2C,GAAK,CACV,IAAIwC,IAAW,CACf,IAAIrF,EAAMN,EAAQuC,sBAAsBxB,OAAS,EAC7C4E,GAAW,MAEV,IAAmD,IAA/CrF,EAAMN,EAAQuC,sBAAsBxB,OAAc,CACvD,GAAI6E,GAAOtF,EAAMN,EAAQuC,sBAAsBmD,WAAW,EAC1D,IAAI,OAAUE,GAAQA,GAAQ,MAAQ,CAClC,GAAIC,GAASvF,EAAMN,EAAQuC,sBAAsBmD,WAAW,EACxD,QAAUG,GAAUA,GAAU,MAC9BrF,KAAKwE,QAA6B,MAAjBY,EAAO,OAAkBC,EAAS,MAAS,MAAYvF,EAAMN,EAAQwC,wBAA0B,GAGhHmD,GAAW,MAIfA,IAAW,MAIfnF,MAAKwE,QAAU1E,EAAMN,EAAQuC,sBAAsBmD,WAAW,GAAMpF,EAAMN,EAAQwC,wBAA0B,EAE5GmD,KACAnF,KAAKyE,aAAe3E,EAAMN,EAAQuC,sBAClC/B,KAAKwE,QAAU,QAAW1E,EAAMN,EAAQwC,wBAA0B,KAG1EmC,EAAShE,UAAUmF,cAAgB,WAC/B,OAAQtF,KAAK0C,GAAI1C,KAAK+E,WAAY/E,KAAK8E,WAAY9E,KAAKiF,YAErDd,GACT1B,EACFjD,GAAQ2E,SAAWA,CACnB,IAAIoB,GAAc,WACd,QAASA,GAAWC,EAAMC,EAAcC,OAClB,KAAdA,IAAwBA,GAAY,GACxC1F,KAAK0F,UAAYA,EACjB1F,KAAK2F,aACL3F,KAAK4F,MAAQ,GAAIC,aAAYL,EAAOhD,EAEpC,KAAK,GADDsD,GAAOL,GAAgBtB,EAASO,cAAc,EAAGlF,EAAQ0C,eAAgB1C,EAAQ2C,gBAAiB3C,EAAQ4C,iBACrG2D,EAAI,EAAGA,EAAIP,IAAQO,EACxB/F,KAAKgG,QAAQD,EAAGD,EAEpB9F,MAAKO,OAASiF,EAiQlB,MA/PAD,GAAWpF,UAAU8F,IAAM,SAAUtF,GACjC,GAAI6D,GAAUxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GACzC0D,EAAe,QAAV1B,CACT,QACIxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GACpB,QAAVgC,EACKxE,KAAK2F,UAAUhF,GACf,EAAOe,EAAcsD,oBAAoBkB,GAAM,GACrD1B,GAAW,GACA,QAAVA,EACKxE,KAAK2F,UAAUhF,GAAOuE,WAAWlF,KAAK2F,UAAUhF,GAAOJ,OAAS,GAChE2F,IAGdX,EAAWpF,UAAUgG,IAAM,SAAUxF,EAAOb,GACxCE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAK1C,EAAMN,EAAQsC,sBAC9ChC,EAAMN,EAAQuC,sBAAsBxB,OAAS,GAC7CP,KAAK2F,UAAUhF,GAASb,EAAM,GAC9BE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAa,QAAR7B,EAAmBb,EAAMN,EAAQwC,wBAA0B,IAG/FhC,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAK1C,EAAMN,EAAQuC,sBAAsBmD,WAAW,GAAMpF,EAAMN,EAAQwC,wBAA0B,IAGzIuD,EAAWpF,UAAU2E,SAAW,SAAUnE,GACtC,MAAOX,MAAK4F,MAAMjF,EAAQ6B,EAAY,IAAM,IAEhD+C,EAAWpF,UAAUiG,SAAW,SAAUzF,GACtC,MAA2C,UAApCX,KAAK4F,MAAMjF,EAAQ6B,EAAY,IAE1C+C,EAAWpF,UAAUkG,MAAQ,SAAU1F,GACnC,MAAOX,MAAK4F,MAAMjF,EAAQ6B,EAAY,IAE1C+C,EAAWpF,UAAUmG,MAAQ,SAAU3F,GACnC,MAAOX,MAAK4F,MAAMjF,EAAQ6B,EAAY,IAE1C+C,EAAWpF,UAAUoG,WAAa,SAAU5F,GACxC,MAA2C,SAApCX,KAAK4F,MAAMjF,EAAQ6B,EAAY,IAE1C+C,EAAWpF,UAAUqG,aAAe,SAAU7F,GAC1C,GAAI6D,GAAUxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,EAC7C,OAAc,SAAVgC,EACOxE,KAAK2F,UAAUhF,GAAOuE,WAAWlF,KAAK2F,UAAUhF,GAAOJ,OAAS,GAE1D,QAAViE,GAEXe,EAAWpF,UAAU0E,WAAa,SAAUlE,GACxC,MAA2C,SAApCX,KAAK4F,MAAMjF,EAAQ6B,EAAY,IAE1C+C,EAAWpF,UAAUsG,UAAY,SAAU9F,GACvC,GAAI6D,GAAUxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,EAC7C,OAAc,SAAVgC,EACOxE,KAAK2F,UAAUhF,GAEZ,QAAV6D,EACO9C,EAAcsD,oBAA8B,QAAVR,GAEtC,IAEXe,EAAWpF,UAAUuG,SAAW,SAAU/F,EAAOmF,GAC7C,GAAIa,GAAahG,EAAQ6B,CAOzB,OANAsD,GAAKtB,QAAUxE,KAAK4F,MAAMe,EAAa,GACvCb,EAAKpD,GAAK1C,KAAK4F,MAAMe,EAAa,GAClCb,EAAKnD,GAAK3C,KAAK4F,MAAMe,EAAa,GACf,QAAfb,EAAKtB,UACLsB,EAAKrB,aAAezE,KAAK2F,UAAUhF,IAEhCmF,GAEXP,EAAWpF,UAAU6F,QAAU,SAAUrF,EAAOmF,GACzB,QAAfA,EAAKtB,UACLxE,KAAK2F,UAAUhF,GAASmF,EAAKrB,cAEjCzE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKsD,EAAKtB,QACzCxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKsD,EAAKpD,GACzC1C,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKsD,EAAKnD,IAE7C4C,EAAWpF,UAAUyG,qBAAuB,SAAUjG,EAAOkG,EAAWC,EAAOpE,EAAIC,GAC/E3C,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKqE,EAAaC,GAAS,GAC1D9G,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKE,EACpC1C,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKG,GAExC4C,EAAWpF,UAAU4G,mBAAqB,SAAUpG,EAAOkG,GACvD,GAAIrC,GAAUxE,KAAK4F,MAAMjF,EAAQ6B,EAAY,EAC/B,SAAVgC,EACAxE,KAAK2F,UAAUhF,IAAUe,EAAcsD,oBAAoB6B,IAG7C,QAAVrC,GACAxE,KAAK2F,UAAUhF,GAASe,EAAcsD,oBAA8B,QAAVR,GAAqB9C,EAAcsD,oBAAoB6B,GACjHrC,IAAW,QACXA,GAAW,SAGXA,EAAUqC,EAAa,GAAK,GAEhC7G,KAAK4F,MAAMjF,EAAQ6B,EAAY,GAAKgC,IAG5Ce,EAAWpF,UAAU6G,YAAc,SAAUC,EAAKC,EAAGzB,GAEjD,GADAwB,GAAOjH,KAAKO,OACR2G,EAAIlH,KAAKO,OAAS0G,EAAK,CAEvB,IAAK,GADDnB,GAAO,GAAI3B,GACN4B,EAAI/F,KAAKO,OAAS0G,EAAMC,EAAI,EAAGnB,GAAK,IAAKA,EAC9C/F,KAAKgG,QAAQiB,EAAMC,EAAInB,EAAG/F,KAAK0G,SAASO,EAAMlB,EAAGD,GAErD,KAAK,GAAIC,GAAI,EAAGA,EAAImB,IAAKnB,EACrB/F,KAAKgG,QAAQiB,EAAMlB,EAAGN,OAI1B,KAAK,GAAIM,GAAIkB,EAAKlB,EAAI/F,KAAKO,SAAUwF,EACjC/F,KAAKgG,QAAQD,EAAGN,IAI5BF,EAAWpF,UAAUgH,YAAc,SAAUF,EAAKC,EAAGzB,GAEjD,GADAwB,GAAOjH,KAAKO,OACR2G,EAAIlH,KAAKO,OAAS0G,EAAK,CAEvB,IAAK,GADDnB,GAAO,GAAI3B,GACN4B,EAAI,EAAGA,EAAI/F,KAAKO,OAAS0G,EAAMC,IAAKnB,EACzC/F,KAAKgG,QAAQiB,EAAMlB,EAAG/F,KAAK0G,SAASO,EAAMC,EAAInB,EAAGD,GAErD,KAAK,GAAIC,GAAI/F,KAAKO,OAAS2G,EAAGnB,EAAI/F,KAAKO,SAAUwF,EAC7C/F,KAAKgG,QAAQD,EAAGN,OAIpB,KAAK,GAAIM,GAAIkB,EAAKlB,EAAI/F,KAAKO,SAAUwF,EACjC/F,KAAKgG,QAAQD,EAAGN,IAI5BF,EAAWpF,UAAUiH,aAAe,SAAUC,EAAOC,EAAK7B,GACtD,KAAO4B,EAAQC,GAAOD,EAAQrH,KAAKO,QAC/BP,KAAKgG,QAAQqB,IAAS5B,IAG9BF,EAAWpF,UAAUoH,OAAS,SAAU/B,EAAMC,GAC1C,GAAID,IAASxF,KAAKO,OAAlB,CAGA,GAAIiF,EAAOxF,KAAKO,OAAQ,CACpB,GAAIiH,GAAO,GAAI3B,aAAYL,EAAOhD,EAC9BxC,MAAKO,SACDiF,EAAOhD,EAAYxC,KAAK4F,MAAMrF,OAC9BiH,EAAKrB,IAAInG,KAAK4F,MAAM6B,SAAS,EAAGjC,EAAOhD,IAGvCgF,EAAKrB,IAAInG,KAAK4F,QAGtB5F,KAAK4F,MAAQ4B,CACb,KAAK,GAAIzB,GAAI/F,KAAKO,OAAQwF,EAAIP,IAAQO,EAClC/F,KAAKgG,QAAQD,EAAGN,OAIpB,IAAID,EAAM,CACN,GAAIgC,GAAO,GAAI3B,aAAYL,EAAOhD,EAClCgF,GAAKrB,IAAInG,KAAK4F,MAAM6B,SAAS,EAAGjC,EAAOhD,IACvCxC,KAAK4F,MAAQ4B,CAEb,KAAK,GADDE,GAAO9H,OAAO8H,KAAK1H,KAAK2F,WACnBI,EAAI,EAAGA,EAAI2B,EAAKnH,OAAQwF,IAAK,CAClC,GAAI4B,GAAMC,SAASF,EAAK3B,GAAI,GACxB4B,IAAOnC,SACAxF,MAAK2F,UAAUgC,QAK9B3H,MAAK4F,MAAQ,GAAIC,aAAY,GAC7B7F,KAAK2F,YAGb3F,MAAKO,OAASiF,IAElBD,EAAWpF,UAAU0H,KAAO,SAAUpC,GAClCzF,KAAK2F,YACL,KAAK,GAAII,GAAI,EAAGA,EAAI/F,KAAKO,SAAUwF,EAC/B/F,KAAKgG,QAAQD,EAAGN,IAGxBF,EAAWpF,UAAU2H,SAAW,SAAUC,GAClC/H,KAAKO,SAAWwH,EAAKxH,OACrBP,KAAK4F,MAAQ,GAAIC,aAAYkC,EAAKnC,OAGlC5F,KAAK4F,MAAMO,IAAI4B,EAAKnC,OAExB5F,KAAKO,OAASwH,EAAKxH,OACnBP,KAAK2F,YACL,KAAK,GAAIqC,KAAMD,GAAKpC,UAChB3F,KAAK2F,UAAUqC,GAAMD,EAAKpC,UAAUqC,EAExChI,MAAK0F,UAAYqC,EAAKrC,WAE1BH,EAAWpF,UAAU2C,MAAQ,WACzB,GAAImF,GAAU,GAAI1C,GAAW,EAC7B0C,GAAQrC,MAAQ,GAAIC,aAAY7F,KAAK4F,OACrCqC,EAAQ1H,OAASP,KAAKO,MACtB,KAAK,GAAIyH,KAAMhI,MAAK2F,UAChBsC,EAAQtC,UAAUqC,GAAMhI,KAAK2F,UAAUqC,EAG3C,OADAC,GAAQvC,UAAY1F,KAAK0F,UAClBuC,GAEX1C,EAAWpF,UAAU+H,iBAAmB,WACpC,IAAK,GAAInC,GAAI/F,KAAKO,OAAS,EAAGwF,GAAK,IAAKA,EACpC,GAAqC,QAAhC/F,KAAK4F,MAAMG,EAAIvD,EAAY,GAC5B,MAAOuD,IAAK/F,KAAK4F,MAAMG,EAAIvD,EAAY,IAAM,GAGrD,OAAO,IAEX+C,EAAWpF,UAAUgI,cAAgB,SAAUC,EAAKC,EAAQC,EAAS/H,EAAQgI,GACzE,GAAIC,GAAUJ,EAAIxC,KAClB,IAAI2C,EACA,IAAK,GAAIzC,GAAOvF,EAAS,EAAGuF,GAAQ,EAAGA,IACnC,IAAK,GAAIC,GAAI,EAAGA,EAAIvD,EAAWuD,IAC3B/F,KAAK4F,OAAO0C,EAAUxC,GAAQtD,EAAYuD,GAAKyC,GAASH,EAASvC,GAAQtD,EAAYuD,OAK7F,KAAK,GAAID,GAAO,EAAGA,EAAOvF,EAAQuF,IAC9B,IAAK,GAAIC,GAAI,EAAGA,EAAIvD,EAAWuD,IAC3B/F,KAAK4F,OAAO0C,EAAUxC,GAAQtD,EAAYuD,GAAKyC,GAASH,EAASvC,GAAQtD,EAAYuD,EAKjG,KAAK,GADD0C,GAAkB7I,OAAO8H,KAAKU,EAAIzC,WAC7BI,EAAI,EAAGA,EAAI0C,EAAgBlI,OAAQwF,IAAK,CAC7C,GAAI4B,GAAMC,SAASa,EAAgB1C,GAAI,GACnC4B,IAAOU,IACPrI,KAAK2F,UAAUgC,EAAMU,EAASC,GAAWF,EAAIzC,UAAUgC,MAInEpC,EAAWpF,UAAUuI,kBAAoB,SAAUC,EAAWC,EAAUC,OAClD,KAAdF,IAAwBA,GAAY,OACvB,KAAbC,IAAuBA,EAAW,OACvB,KAAXC,IAAqBA,EAAS7I,KAAKO,QACnCoI,IACAE,EAASC,KAAKC,IAAIF,EAAQ7I,KAAKkI,oBAGnC,KADA,GAAIc,GAAS,GACNJ,EAAWC,GAAQ,CACtB,GAAIrE,GAAUxE,KAAK4F,MAAMgD,EAAWpG,EAAY,GAC5C0D,EAAe,QAAV1B,CACTwE,IAAqB,QAAVxE,EAAqBxE,KAAK2F,UAAUiD,GAAY,EAAOlH,EAAcsD,oBAAoBkB,GAAM1G,EAAQ6C,qBAClHuG,GAAapE,GAAW,IAAO,EAEnC,MAAOwE,IAEJzD,IAEX/F,GAAQ+F,WAAaA,GHgEf0D,IACA,SAAU1J,EAAQC,EAASC,GAEjC,YI3eAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIoJ,GAAiB,WACjB,QAASA,KACLlJ,KAAKmJ,cAmCT,MAjCAvJ,QAAOC,eAAeqJ,EAAc/I,UAAW,SAC3C8F,IAAK,WACD,GAAI5B,GAAQrE,IAiBZ,OAhBKA,MAAKoJ,SACNpJ,KAAKoJ,OAAS,SAAUC,GAYpB,MAXAhF,GAAM8E,WAAW1I,KAAK4I,IAElBjJ,QAAS,WACL,IAAK,GAAI2F,GAAI,EAAGA,EAAI1B,EAAM8E,WAAW5I,OAAQwF,IACzC,GAAI1B,EAAM8E,WAAWpD,KAAOsD,EAExB,WADAhF,GAAM8E,WAAWtI,OAAOkF,EAAG,OAS5C/F,KAAKoJ,QAEhBE,YAAY,EACZC,cAAc,IAElBL,EAAc/I,UAAUqJ,KAAO,SAAUhC,GAErC,IAAK,GADDiC,MACK1D,EAAI,EAAGA,EAAI/F,KAAKmJ,WAAW5I,OAAQwF,IACxC0D,EAAMhJ,KAAKT,KAAKmJ,WAAWpD,GAE/B,KAAK,GAAIA,GAAI,EAAGA,EAAI0D,EAAMlJ,OAAQwF,IAC9B0D,EAAM1D,GAAG2D,SAAKC,GAAWnC,IAG1B0B,IAEX1J,GAAQ0J,cAAgBA,GJkflBU,IACA,SAAUrK,EAAQC,EAASC,GAEjC,YK7hBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,IACtDN,EAAQqK,uBAAyB,IACjCrK,EAAQsK,YAAc,GACtBtK,EAAQuK,wBAA0B,GLoiB5BC,IACA,SAAUzK,EAAQC,EAASC,GAEjC,YM9hBA,SAASwK,GAASC,EAAKlC,GACnB,MAAOkC,GAAItJ,QAAQoH,IAAO,EAb9BpI,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIqK,GAA+B,mBAAdC,WACjBC,EAAY,EAAW,OAASD,UAAUC,UAC1CC,EAAW,EAAW,OAASF,UAAUE,QAC7C9K,GAAQ+K,aAAeF,EAAUzJ,QAAQ,WACzCpB,EAAQgL,SAAW,iCAAiCC,KAAKJ,GACzD7K,EAAQkL,UAAYL,EAAUzJ,QAAQ,YAAcyJ,EAAUzJ,QAAQ,WACtEpB,EAAQmL,MAAQV,GAAU,YAAa,WAAY,SAAU,UAAWK,GACxE9K,EAAQoL,OAAsB,SAAbN,EACjB9K,EAAQqL,SAAwB,WAAbP,EACnB9K,EAAQsL,YAAcb,GAAU,UAAW,QAAS,QAAS,SAAUK,GACvE9K,EAAQuL,QAAUT,EAAS1J,QAAQ,UAAY,GNojBzCoK,IACA,SAAUzL,EAAQC,EAASC,GAEjC,YOjkBA,SAASwL,GAAyBC,EAAMC,EAAMC,EAASC,GAEnD,MADAH,GAAKI,iBAAiBH,EAAMC,EAASC,IAEjCjL,QAAS,WACAgL,GAGLF,EAAKK,oBAAoBJ,EAAMC,EAASC,KARpDzL,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAYtDN,EAAQyL,yBAA2BA,GPykB7BO,IACA,SAAUjM,EAAQC,EAASC,GAEjC,YQxlBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,IACtDN,EAAQqC,cAAgB,KR+lBlB4J,IACA,SAAUlM,EAAQC,EAASC,GAEjC,YSnmBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,KAEtD,SAAW4L,GACPA,EAAGC,IAAM,KACTD,EAAGE,IAAM,IACTF,EAAGG,IAAM,IACTH,EAAGI,IAAM,IACTJ,EAAGK,IAAM,IACTL,EAAGM,IAAM,IACTN,EAAGO,IAAM,IACTP,EAAGQ,IAAM,IACTR,EAAGS,GAAK,KACRT,EAAGU,GAAK,KACRV,EAAGW,GAAK,KACRX,EAAGY,GAAK,KACRZ,EAAGa,GAAK,KACRb,EAAGc,GAAK,KACRd,EAAGe,GAAK,IACRf,EAAGgB,GAAK,IACRhB,EAAGiB,IAAM,IACTjB,EAAGkB,IAAM,IACTlB,EAAGmB,IAAM,IACTnB,EAAGoB,IAAM,IACTpB,EAAGqB,IAAM,IACTrB,EAAGsB,IAAM,IACTtB,EAAGuB,IAAM,IACTvB,EAAGwB,IAAM,IACTxB,EAAGyB,IAAM,IACTzB,EAAG0B,GAAK,IACR1B,EAAG2B,IAAM,IACT3B,EAAG4B,IAAM,IACT5B,EAAG6B,GAAK,IACR7B,EAAG8B,GAAK,IACR9B,EAAG+B,GAAK,IACR/B,EAAGgC,GAAK,IACRhC,EAAGiC,GAAK,IACRjC,EAAGkC,IAAM,KACLpO,EAAQkM,KAAOlM,EAAQkM,SAE/B,SAAWmC,GACPA,EAAGC,IAAM,IACTD,EAAGE,IAAM,IACTF,EAAGG,IAAM,IACTH,EAAGI,IAAM,IACTJ,EAAGK,IAAM,IACTL,EAAGM,IAAM,IACTN,EAAGO,IAAM,IACTP,EAAGQ,IAAM,IACTR,EAAGS,IAAM,IACTT,EAAGU,IAAM,IACTV,EAAGW,IAAM,IACTX,EAAGY,IAAM,IACTZ,EAAGa,IAAM,IACTb,EAAGc,GAAK,IACRd,EAAGe,IAAM,IACTf,EAAGgB,IAAM,IACThB,EAAGiB,IAAM,IACTjB,EAAGkB,IAAM,IACTlB,EAAGmB,IAAM,IACTnB,EAAGoB,IAAM,IACTpB,EAAGqB,IAAM,IACTrB,EAAGsB,GAAK,IACRtB,EAAGuB,IAAM,IACTvB,EAAGwB,IAAM,IACTxB,EAAGyB,IAAM,IACTzB,EAAG0B,KAAO,IACV1B,EAAG2B,IAAM,IACT3B,EAAG4B,IAAM,IACT5B,EAAG6B,GAAK,IACR7B,EAAG8B,IAAM,IACT9B,EAAG+B,GAAK,IACR/B,EAAGgC,IAAM,KACLrQ,EAAQqO,KAAOrO,EAAQqO,ST0mBzBiC,IACA,SAAUvQ,EAAQC,EAASC,GAEjC,YUrrBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI6B,GAAU,EAAQ,KAClBoO,EAAU,EAAQ,KAClBC,EAAmB,EAAQ,KAC3BC,EAAe,EAAQ,KACvBC,EAAmB,WACnB,QAASA,GAAgBC,EAAYC,EAAIC,EAAQC,EAAQC,GACrDvQ,KAAKmQ,WAAaA,EAClBnQ,KAAKsQ,OAASA,EACdtQ,KAAKuQ,QAAUA,EACfvQ,KAAKwQ,iBAAmB,EACxBxQ,KAAKyQ,kBAAoB,EACzBzQ,KAAK0Q,iBAAmB,EACxB1Q,KAAK2Q,kBAAoB,EACzB3Q,KAAK4Q,gBAAkB,EACvB5Q,KAAK6Q,eAAiB,EACtB7Q,KAAK8Q,yBACDC,MAAO,GACP3L,KAAM,EACNzC,GAAI,EACJD,GAAI,EACJsO,MAAM,EACNC,KAAK,EACLC,QAAQ,GAEZlR,KAAKmR,QAAUC,SAASC,cAAc,UACtCrR,KAAKmR,QAAQG,UAAUC,IAAI,SAAWnB,EAAK,UAC3CpQ,KAAKmR,QAAQK,MAAMnB,OAASA,EAAOoB,WACnCzR,KAAK0R,cACL1R,KAAKmQ,WAAWwB,YAAY3R,KAAKmR,SA8KrC,MA5KAjB,GAAgB/P,UAAUC,QAAU,WAChCJ,KAAKmQ,WAAWyB,YAAY5R,KAAKmR,SAC7BnR,KAAK6R,YACL7R,KAAK6R,WAAWzR,WAGxB8P,EAAgB/P,UAAUuR,YAAc,WACpC1R,KAAK8R,KAAO9R,KAAKmR,QAAQY,WAAW,MAAQC,MAAOhS,KAAKsQ,SACnDtQ,KAAKsQ,QACNtQ,KAAKiS,YAGb/B,EAAgB/P,UAAU+R,iBAAmB,SAAUC,KACvDjC,EAAgB/P,UAAUiS,OAAS,SAAUD,KAC7CjC,EAAgB/P,UAAUkS,QAAU,SAAUF,KAC9CjC,EAAgB/P,UAAUmS,aAAe,SAAUH,KACnDjC,EAAgB/P,UAAUoS,cAAgB,SAAUJ,EAAUK,EAAUC,KACxEvC,EAAgB/P,UAAUuS,mBAAqB,SAAUP,EAAU9K,EAAOC,EAAKqL,OAClD,KAArBA,IAA+BA,GAAmB,IAE1DzC,EAAgB/P,UAAUyS,UAAY,SAAUT,EAAUU,GACtD7S,KAAK8S,kBAAkBX,EAAUU,IAErC3C,EAAgB/P,UAAU4S,gBAAkB,SAAUZ,EAAUH,GAC5D,GAAIA,IAAUhS,KAAKsQ,OAAnB,CAGA,GAAI0C,GAAYhT,KAAKmR,OACrBnR,MAAKsQ,OAAS0B,EACdhS,KAAKmR,QAAUnR,KAAKmR,QAAQ8B,YAC5BjT,KAAK0R,cACL1R,KAAKmQ,WAAW+C,aAAalT,KAAKmR,QAAS6B,GAC3ChT,KAAK8S,kBAAkBX,EAAUnS,KAAKuQ,SACtCvQ,KAAKuS,cAAcJ,EAAU,EAAGA,EAASgB,KAAO,KAEpDjD,EAAgB/P,UAAU2S,kBAAoB,SAAUX,EAAUU,GAC1D7S,KAAKwQ,kBAAoB,GAAKxQ,KAAKyQ,mBAAqB,IAG5DzQ,KAAK6R,WAAa7B,EAAiBoD,iBAAiBjB,EAAUU,EAAU7S,KAAKwQ,iBAAkBxQ,KAAKyQ,mBACpGzQ,KAAK6R,WAAWwB,WAEpBnD,EAAgB/P,UAAUoH,OAAS,SAAU4K,EAAUlB,GACnDjR,KAAK0Q,iBAAmBO,EAAIqC,gBAC5BtT,KAAK2Q,kBAAoBM,EAAIsC,iBAC7BvT,KAAKwQ,iBAAmBS,EAAIuC,gBAC5BxT,KAAKyQ,kBAAoBQ,EAAIwC,iBAC7BzT,KAAK4Q,gBAAkBK,EAAIyC,eAC3B1T,KAAK6Q,eAAiBI,EAAI0C,cAC1B3T,KAAKmR,QAAQrK,MAAQmK,EAAI2C,kBACzB5T,KAAKmR,QAAQ0C,OAAS5C,EAAI6C,mBAC1B9T,KAAKmR,QAAQK,MAAM1K,MAAQmK,EAAI8C,YAAc,KAC7C/T,KAAKmR,QAAQK,MAAMqC,OAAS5C,EAAI+C,aAAe,KAC1ChU,KAAKsQ,QACNtQ,KAAKiS,WAETjS,KAAK8S,kBAAkBX,EAAUnS,KAAKuQ,UAE1CL,EAAgB/P,UAAU8T,UAAY,SAAUC,EAAGC,EAAGrN,EAAO+M,GACzD7T,KAAK8R,KAAKsC,SAASF,EAAIlU,KAAK0Q,iBAAkByD,EAAInU,KAAK2Q,kBAAmB7J,EAAQ9G,KAAK0Q,iBAAkBmD,EAAS7T,KAAK2Q,oBAE3HT,EAAgB/P,UAAUkU,sBAAwB,SAAUH,EAAGC,EAAGrN,OAChD,KAAVA,IAAoBA,EAAQ,GAChC9G,KAAK8R,KAAKsC,SAASF,EAAIlU,KAAK0Q,kBAAmByD,EAAI,GAAKnU,KAAK2Q,kBAAoB2D,OAAOC,iBAAmB,EAAGzN,EAAQ9G,KAAK0Q,iBAAkB4D,OAAOC,mBAExJrE,EAAgB/P,UAAUqU,mBAAqB,SAAUN,EAAGC,GACxDnU,KAAK8R,KAAKsC,SAASF,EAAIlU,KAAK0Q,iBAAkByD,EAAInU,KAAK2Q,kBAAmB2D,OAAOC,iBAAkBvU,KAAK2Q,oBAE5GT,EAAgB/P,UAAUsU,iBAAmB,SAAUP,EAAGC,EAAGrN,EAAO+M,GAChE7T,KAAK8R,KAAK4C,UAAYJ,OAAOC,iBAC7BvU,KAAK8R,KAAK6C,WAAWT,EAAIlU,KAAK0Q,iBAAmB4D,OAAOC,iBAAmB,EAAGJ,EAAInU,KAAK2Q,kBAAqB2D,OAAOC,iBAAmB,EAAIzN,EAAQ9G,KAAK0Q,iBAAmB4D,OAAOC,iBAAmBV,EAAS7T,KAAK2Q,kBAAqB2D,OAAOC,mBAElPrE,EAAgB/P,UAAU8R,SAAW,WAC7BjS,KAAKsQ,OACLtQ,KAAK8R,KAAK8C,UAAU,EAAG,EAAG5U,KAAKmR,QAAQrK,MAAO9G,KAAKmR,QAAQ0C,SAG3D7T,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQuE,WAAWC,IAC9C/U,KAAK8R,KAAKsC,SAAS,EAAG,EAAGpU,KAAKmR,QAAQrK,MAAO9G,KAAKmR,QAAQ0C,UAGlE3D,EAAgB/P,UAAU6U,WAAa,SAAUd,EAAGC,EAAGrN,EAAO+M,GACtD7T,KAAKsQ,OACLtQ,KAAK8R,KAAK8C,UAAUV,EAAIlU,KAAK0Q,iBAAkByD,EAAInU,KAAK2Q,kBAAmB7J,EAAQ9G,KAAK0Q,iBAAkBmD,EAAS7T,KAAK2Q,oBAGxH3Q,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQuE,WAAWC,IAC9C/U,KAAK8R,KAAKsC,SAASF,EAAIlU,KAAK0Q,iBAAkByD,EAAInU,KAAK2Q,kBAAmB7J,EAAQ9G,KAAK0Q,iBAAkBmD,EAAS7T,KAAK2Q,qBAG/HT,EAAgB/P,UAAU8U,kBAAoB,SAAU9C,EAAUrM,EAAMoO,EAAGC,GACvEnU,KAAK8R,KAAKoD,KAAOlV,KAAKmV,SAAShD,GAAU,GAAO,GAChDnS,KAAK8R,KAAKsD,aAAe,SACzBpV,KAAKqV,SAASlD,EAAUgC,GACxBnU,KAAK8R,KAAKwD,SAASxP,EAAKf,WAAYmP,EAAIlU,KAAK0Q,iBAAmB1Q,KAAK4Q,gBAAiBuD,EAAInU,KAAK2Q,kBAAoB3Q,KAAK6Q,eAAiB7Q,KAAKyQ,kBAAoB,IAEtKP,EAAgB/P,UAAUoV,UAAY,SAAUpD,EAAUrM,EAAMoO,EAAGC,GAC/D,GAAIrO,EAAKrC,WAAaqC,EAAKpC,UAEvB,WADA1D,MAAKwV,mBAAmBrD,EAAUrM,EAAMoO,EAAGC,EAG/C,IAAIzR,GACAC,CACAmD,GAAK9C,aACLN,EAAMoD,EAAKhC,cAAiBiM,EAAQlG,uBAAyB/D,EAAK9B,aAClErB,EAAMmD,EAAKjC,cAAiBkM,EAAQlG,uBAAyB/D,EAAK/B,eAGlEpB,EAAMmD,EAAKhC,cAAiBnC,EAAQE,cAAgBiE,EAAK9B,aACzDtB,EAAMoD,EAAKjC,cAAiBlC,EAAQE,cAAgBiE,EAAK/B,cAG7DrB,GADwByP,EAASsD,QAAQC,4BAA8B5P,EAAK7C,UAAYP,EAAK,GAAKA,IAAOqN,EAAQlG,uBACvF,EAAI,EAC9B7J,KAAK8Q,wBAAwBC,MAAQjL,EAAKf,YAAckL,EAAa5N,qBACrErC,KAAK8Q,wBAAwB1L,KAAOU,EAAKb,WAAagL,EAAa1N,qBACnEvC,KAAK8Q,wBAAwBnO,GAAKA,EAClC3C,KAAK8Q,wBAAwBpO,GAAKA,EAClC1C,KAAK8Q,wBAAwBE,KAAOlL,EAAK7C,UAAYkP,EAASsD,QAAQE,WACtE3V,KAAK8Q,wBAAwBG,MAAQnL,EAAKxC,QAC1CtD,KAAK8Q,wBAAwBI,SAAWpL,EAAKzC,WAC1BrD,KAAK6R,YAAc7R,KAAK6R,WAAW+D,KAAK5V,KAAK8R,KAAM9R,KAAK8Q,wBAAyBoD,EAAIlU,KAAK0Q,iBAAmB1Q,KAAK4Q,gBAAiBuD,EAAInU,KAAK2Q,kBAAoB3Q,KAAK6Q,iBAEpL7Q,KAAKwV,mBAAmBrD,EAAUrM,EAAMoO,EAAGC,IAGnDjE,EAAgB/P,UAAUqV,mBAAqB,SAAUrD,EAAUrM,EAAMoO,EAAGC,GAIxE,GAHAnU,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAKoD,KAAOlV,KAAKmV,SAAShD,EAAUrM,EAAK7C,UAAYkP,EAASsD,QAAQE,aAAc7P,EAAKzC,YAC9FrD,KAAK8R,KAAKsD,aAAe,SACrBtP,EAAK9C,YACD8C,EAAKhC,cACL9D,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQuE,WAAWC,IAEzCjP,EAAKpC,UACV1D,KAAK8R,KAAK+C,UAAY,OAAS5E,EAAaxN,cAAcG,WAAWkD,EAAK9B,cAAc8R,KAAK,KAAO,IAGpG9V,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQwF,KAAKjQ,EAAK9B,cAAc+Q,QAI/D,IAAIjP,EAAKjC,cACL7D,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyF,WAAWjB,QAE7C,IAAIjP,EAAKrC,UACVzD,KAAK8R,KAAK+C,UAAY,OAAS5E,EAAaxN,cAAcG,WAAWkD,EAAK/B,cAAc+R,KAAK,KAAO,QAEnG,CACD,GAAIpT,GAAKoD,EAAK/B,YACVoO,GAASsD,QAAQC,4BAA8B5P,EAAK7C,UAAYP,EAAK,IACrEA,GAAM,GAEV1C,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQwF,KAAKrT,GAAIqS,IAGpD/U,KAAKqV,SAASlD,EAAUgC,GACpBrO,EAAKxC,UACLtD,KAAK8R,KAAKmE,YAAclG,EAAQjG,aAEpC9J,KAAK8R,KAAKwD,SAASxP,EAAKf,WAAYmP,EAAIlU,KAAK0Q,iBAAmB1Q,KAAK4Q,gBAAiBuD,EAAInU,KAAK2Q,kBAAoB3Q,KAAK6Q,eAAiB7Q,KAAKyQ,kBAAoB,GAClKzQ,KAAK8R,KAAKoE,WAEdhG,EAAgB/P,UAAUkV,SAAW,SAAUlD,EAAUgC,GACrDnU,KAAK8R,KAAKqE,YACVnW,KAAK8R,KAAKsE,KAAK,EAAGjC,EAAInU,KAAK2Q,kBAAmBwB,EAAS3M,KAAOxF,KAAK0Q,iBAAkB1Q,KAAK2Q,mBAC1F3Q,KAAK8R,KAAKuE,QAEdnG,EAAgB/P,UAAUgV,SAAW,SAAUhD,EAAUlP,EAAQI,GAC7D,GAAIiT,GAAarT,EAASkP,EAASsD,QAAQc,eAAiBpE,EAASsD,QAAQa,UAE7E,QADgBjT,EAAW,SAAW,IACnB,IAAMiT,EAAa,IAAMnE,EAASsD,QAAQe,SAAWlC,OAAOC,iBAAmB,MAAQpC,EAASsD,QAAQgB,YAExHvG,IAEX1Q,GAAQ0Q,gBAAkBA,GV4rBpBwG,IACA,SAAUnX,EAAQC,EAASC,GAEjC,YW54BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,IACtDN,EAAQmX,UAAY,aACpBnX,EAAQoX,YAAc,iBACtBpX,EAAQqX,cAAgB,kEXm5BlBC,IACA,SAAUvX,EAAQC,EAASC,GAEjC,YYx5BA,SAASuF,GAAoB6B,GACzB,MAAIA,GAAY,OACZA,GAAa,MACNkQ,OAAOC,aAAiC,OAAnBnQ,GAAa,KAAgBkQ,OAAOC,aAAcnQ,EAAY,KAAS,QAEhGkQ,OAAOC,aAAanQ,GAG/B,QAASoQ,GAAczP,EAAMH,EAAOC,OAClB,KAAVD,IAAoBA,EAAQ,OACpB,KAARC,IAAkBA,EAAME,EAAKjH,OAEjC,KAAK,GADDyI,GAAS,GACJjD,EAAIsB,EAAOtB,EAAIuB,IAAOvB,EAAG,CAC9B,GAAImR,GAAY1P,EAAKzB,EACjBmR,GAAY,OACZA,GAAa,MACblO,GAAU+N,OAAOC,aAAiC,OAAnBE,GAAa,KAAgBH,OAAOC,aAAcE,EAAY,KAAS,QAGtGlO,GAAU+N,OAAOC,aAAaE,GAGtC,MAAOlO,GAvBXpJ,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAQtDN,EAAQwF,oBAAsBA,EAiB9BxF,EAAQyX,cAAgBA,CACxB,IAAIE,GAAiB,WACjB,QAASA,KACLnX,KAAKoX,SAAW,EA4CpB,MA1CAD,GAAchX,UAAUkX,MAAQ,WAC5BrX,KAAKoX,SAAW,GAEpBD,EAAchX,UAAUmX,OAAS,SAAUC,EAAOC,GAC9C,GAAIjX,GAASgX,EAAMhX,MACnB,KAAKA,EACD,MAAO,EAEX,IAAIkX,GAAO,EACPC,EAAW,CACf,IAAI1X,KAAKoX,SAAU,CACf,GAAI/R,GAASkS,EAAMrS,WAAWwS,IAC1B,QAAUrS,GAAUA,GAAU,MAC9BmS,EAAOC,KAAqC,MAA1BzX,KAAKoX,SAAW,OAAkB/R,EAAS,MAAS,OAGtEmS,EAAOC,KAAUzX,KAAKoX,SACtBI,EAAOC,KAAUpS,GAErBrF,KAAKoX,SAAW,EAEpB,IAAK,GAAIrR,GAAI2R,EAAU3R,EAAIxF,IAAUwF,EAAG,CACpC,GAAIX,GAAOmS,EAAMrS,WAAWa,EAC5B,IAAI,OAAUX,GAAQA,GAAQ,MAA9B,CACI,KAAMW,GAAKxF,EAEP,MADAP,MAAKoX,SAAWhS,EACTqS,CAEX,IAAIpS,GAASkS,EAAMrS,WAAWa,EAC1B,QAAUV,GAAUA,GAAU,MAC9BmS,EAAOC,KAA4B,MAAjBrS,EAAO,OAAkBC,EAAS,MAAS,OAG7DmS,EAAOC,KAAUrS,EACjBoS,EAAOC,KAAUpS,OAIzBmS,GAAOC,KAAUrS,EAErB,MAAOqS,IAEJN,IAEX3X,GAAQ2X,cAAgBA,CACxB,IAAIQ,GAAe,WACf,QAASA,KACL3X,KAAK4X,QAAU,GAAIC,YAAW,GA8KlC,MA5KAF,GAAYxX,UAAUkX,MAAQ,WAC1BrX,KAAK4X,QAAQ/P,KAAK,IAEtB8P,EAAYxX,UAAUmX,OAAS,SAAUC,EAAOC,GAC5C,GAAIjX,GAASgX,EAAMhX,MACnB,KAAKA,EACD,MAAO,EAEX,IACIuX,GACAC,EACAC,EACAC,EAJAR,EAAO,EAKPP,EAAY,EACZQ,EAAW,CACf,IAAI1X,KAAK4X,QAAQ,GAAI,CACjB,GAAIM,IAAiB,EACjBhS,EAAKlG,KAAK4X,QAAQ,EACtB1R,IAAyB,MAAV,IAALA,GAAwB,GAAyB,MAAV,IAALA,GAAwB,GAAO,CAG3E,KAFA,GAAIe,GAAM,EACNkR,MAAM,IACFA,EAA4B,GAAtBnY,KAAK4X,UAAU3Q,KAAgBA,EAAM,GAC/Cf,IAAO,EACPA,GAAMiS,CAIV,KAFA,GAAIhN,GAAsC,MAAV,IAAlBnL,KAAK4X,QAAQ,IAAwB,EAAmC,MAAV,IAAlB5X,KAAK4X,QAAQ,IAAwB,EAAI,EAC/FQ,EAAUjN,EAAOlE,EACdyQ,EAAWU,GAAS,CACvB,GAAIV,GAAYnX,EACZ,MAAO,EAGX,IAAqB,MAAV,KADX4X,EAAMZ,EAAMG,OACe,CACvBA,IACAQ,GAAiB,CACjB,OAGAlY,KAAK4X,QAAQ3Q,KAASkR,EACtBjS,IAAO,EACPA,GAAY,GAANiS,EAGTD,IACY,IAAT/M,EACIjF,EAAK,IACLwR,IAGAF,EAAOC,KAAUvR,EAGP,IAATiF,EACDjF,EAAK,MAAWA,GAAM,OAAUA,GAAM,QAGtCsR,EAAOC,KAAUvR,GAIjBgR,EAAY,OAAYA,EAAY,UAGpCM,EAAOC,KAAUvR,IAI7BlG,KAAK4X,QAAQ/P,KAAK,GAItB,IAFA,GAAIwQ,GAAW9X,EAAS,EACpBwF,EAAI2R,EACD3R,EAAIxF,GAAQ,CACf,SAAOwF,EAAIsS,IACmB,KAApBP,EAAQP,EAAMxR,KACU,KAAxBgS,EAAQR,EAAMxR,EAAI,KACM,KAAxBiS,EAAQT,EAAMxR,EAAI,KACM,KAAxBkS,EAAQV,EAAMxR,EAAI,MACxByR,EAAOC,KAAUK,EACjBN,EAAOC,KAAUM,EACjBP,EAAOC,KAAUO,EACjBR,EAAOC,KAAUQ,EACjBlS,GAAK,CAGT,KADA+R,EAAQP,EAAMxR,MACF,IACRyR,EAAOC,KAAUK,MAEhB,IAAuB,MAAV,IAARA,GAAwB,CAC9B,GAAI/R,GAAKxF,EAEL,MADAP,MAAK4X,QAAQ,GAAKE,EACXL,CAGX,IAAuB,MAAV,KADbM,EAAQR,EAAMxR,OACe,CACzBA,GACA,UAGJ,IADAmR,GAAqB,GAARY,IAAiB,EAAa,GAARC,GACnB,IAAM,CAClBhS,GACA,UAEJyR,EAAOC,KAAUP,MAEhB,IAAuB,MAAV,IAARY,GAAwB,CAC9B,GAAI/R,GAAKxF,EAEL,MADAP,MAAK4X,QAAQ,GAAKE,EACXL,CAGX,IAAuB,MAAV,KADbM,EAAQR,EAAMxR,OACe,CACzBA,GACA,UAEJ,GAAIA,GAAKxF,EAGL,MAFAP,MAAK4X,QAAQ,GAAKE,EAClB9X,KAAK4X,QAAQ,GAAKG,EACXN,CAGX,IAAuB,MAAV,KADbO,EAAQT,EAAMxR,OACe,CACzBA,GACA,UAGJ,IADAmR,GAAqB,GAARY,IAAiB,IAAc,GAARC,IAAiB,EAAa,GAARC,GAC1C,MAAWd,GAAa,OAAUA,GAAa,MAC3D,QAEJM,GAAOC,KAAUP,MAEhB,IAAuB,MAAV,IAARY,GAAwB,CAC9B,GAAI/R,GAAKxF,EAEL,MADAP,MAAK4X,QAAQ,GAAKE,EACXL,CAGX,IAAuB,MAAV,KADbM,EAAQR,EAAMxR,OACe,CACzBA,GACA,UAEJ,GAAIA,GAAKxF,EAGL,MAFAP,MAAK4X,QAAQ,GAAKE,EAClB9X,KAAK4X,QAAQ,GAAKG,EACXN,CAGX,IAAuB,MAAV,KADbO,EAAQT,EAAMxR,OACe,CACzBA,GACA,UAEJ,GAAIA,GAAKxF,EAIL,MAHAP,MAAK4X,QAAQ,GAAKE,EAClB9X,KAAK4X,QAAQ,GAAKG,EAClB/X,KAAK4X,QAAQ,GAAKI,EACXP,CAGX,IAAuB,MAAV,KADbQ,EAAQV,EAAMxR,OACe,CACzBA,GACA,UAGJ,IADAmR,GAAqB,EAARY,IAAiB,IAAc,GAARC,IAAiB,IAAc,GAARC,IAAiB,EAAa,GAARC,GACjE,OAAYf,EAAY,QACpC,QAEJM,GAAOC,KAAUP,GAKzB,MAAOO,IAEJE,IAEXnY,GAAQmY,YAAcA,GZg6BhBW,IACA,SAAU/Y,EAAQC,EAASC,GAEjC,YahqCAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIyY,GAAiB,WACjB,QAASA,KACLvY,KAAKwY,YAAa,EAWtB,MATAD,GAAcpY,UAAUC,QAAU,aAClCmY,EAAcpY,UAAUkT,OAAS,WACxBrT,KAAKwY,aACNxY,KAAKyY,YACLzY,KAAKwY,YAAa,IAG1BD,EAAcpY,UAAUsY,UAAY,aACpCF,EAAcpY,UAAUuY,WAAa,aAC9BH,IAEX/Y,GAAQmZ,QAAUJ,GbuqCZK,IACA,SAAUrZ,EAAQC,EAASC,GAEjC,YcxrCA,SAASoZ,GAAerF,EAAiBC,EAAkBtB,EAAU2G,GACjE,GAAIC,IACA/C,WAAY8C,EAAO9C,WACnBlB,WAAYgE,EAAOhE,WACnBkE,OAAQ,KACRC,aAAc,KACdC,UAAW,KACXnD,KAAM+C,EAAO/C,KAAKoD,MAAM,EAAG,IAE/B,QACIhO,KAAMgH,EAASsD,QAAQ2D,sBACvB7E,iBAAkBD,OAAOC,iBACzBf,gBAAiBA,EACjBC,iBAAkBA,EAClBgD,WAAYtE,EAASsD,QAAQgB,WAC7BD,SAAUrE,EAASsD,QAAQe,SAC3BF,WAAYnE,EAASsD,QAAQa,WAC7BC,eAAgBpE,EAASsD,QAAQc,eACjC8C,kBAAmBlH,EAASsD,QAAQ4D,kBACpCP,OAAQC,GAIhB,QAASO,GAAaC,EAAGtY,GACrB,IAAK,GAAI8E,GAAI,EAAGA,EAAIwT,EAAET,OAAO/C,KAAKxV,OAAQwF,IACtC,GAAIwT,EAAET,OAAO/C,KAAKhQ,GAAGyT,OAASvY,EAAE6X,OAAO/C,KAAKhQ,GAAGyT,KAC3C,OAAO,CAGf,OAAOD,GAAEpO,OAASlK,EAAEkK,MAChBoO,EAAEhF,mBAAqBtT,EAAEsT,kBACzBgF,EAAE9C,aAAexV,EAAEwV,YACnB8C,EAAE/C,WAAavV,EAAEuV,UACjB+C,EAAEjD,aAAerV,EAAEqV,YACnBiD,EAAEhD,iBAAmBtV,EAAEsV,gBACvBgD,EAAEF,oBAAsBpY,EAAEoY,mBAC1BE,EAAE/F,kBAAoBvS,EAAEuS,iBACxB+F,EAAE9F,mBAAqBxS,EAAEwS,kBACzB8F,EAAET,OAAO9C,aAAe/U,EAAE6X,OAAO9C,YACjCuD,EAAET,OAAOhE,aAAe7T,EAAE6X,OAAOhE,WAGzC,QAAS2E,GAAWC,GAChB,MAAOA,GAAY/X,EAAQE,cA7C/BjC,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI6B,GAAU,EAAQ,IAuBtBnC,GAAQqZ,eAAiBA,EAmBzBrZ,EAAQ8Z,aAAeA,EAIvB9Z,EAAQia,WAAaA,GdisCfE,IACA,SAAUpa,EAAQC,EAASC,GAEjC,YenvCAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8Z,GAAiB,EAAQ,KACzB3J,EAAe,EAAQ,KACvB4J,EAAiB,EAAQ,KACzBC,EAAW,EAAQ,IACvBta,GAAQua,gBAAkB,UAC1B,IAAIC,GAAU,WACV,QAASA,GAAOC,EAAWC,GACvBla,KAAKia,UAAYA,EACjBja,KAAKka,eAAiBA,EACtBla,KAAKma,iBAAmBlK,EAAahM,kBAAkBnB,QACvD9C,KAAKoa,WACLpa,KAAKqa,UAAYpK,EAAa9L,SAASO,cAAc,EAAGuL,EAAa/N,eAAgB+N,EAAa9N,gBAAiB8N,EAAa7N,iBAChIpC,KAAKsa,gBAAkBrK,EAAa9L,SAASO,cAAc,EAAGuL,EAAa5N,qBAAsB4N,EAAa3N,sBAAuB2N,EAAa1N,uBAClJvC,KAAKua,MAAQva,KAAKia,UAAUzU,KAC5BxF,KAAKwa,MAAQxa,KAAKia,UAAU9G,KAC5BnT,KAAKqX,QAsaT,MApaA2C,GAAO7Z,UAAUsa,YAAc,SAAUC,GASrC,MARIA,IACA1a,KAAKqa,UAAU3X,GAAKgY,EAAKhY,GACzB1C,KAAKqa,UAAU1X,GAAK+X,EAAK/X,KAGzB3C,KAAKqa,UAAU3X,GAAK,EACpB1C,KAAKqa,UAAU1X,GAAK,GAEjB3C,KAAKqa,WAEhBL,EAAO7Z,UAAUwa,kBAAoB,SAAUD,GAS3C,MARIA,IACA1a,KAAKsa,gBAAgB5X,GAAKgY,EAAKhY,GAC/B1C,KAAKsa,gBAAgB3X,GAAK+X,EAAK/X,KAG/B3C,KAAKsa,gBAAgB5X,GAAK,EAC1B1C,KAAKsa,gBAAgB3X,GAAK,GAEvB3C,KAAKsa,iBAEhBN,EAAO7Z,UAAUya,aAAe,SAAUF,EAAMhV,GAC5C,MAAO,IAAIuK,GAAa1K,WAAWvF,KAAKia,UAAUzU,KAAMxF,KAAKya,YAAYC,GAAOhV,IAEpF9F,OAAOC,eAAema,EAAO7Z,UAAW,iBACpC8F,IAAK,WACD,MAAOjG,MAAKka,gBAAkBla,KAAK6a,MAAMC,UAAY9a,KAAKwa,OAE9DlR,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAema,EAAO7Z,UAAW,sBACpC8F,IAAK,WACD,GAAI8U,GAAY/a,KAAKgb,MAAQhb,KAAKmU,EAC9B8G,EAAYF,EAAY/a,KAAKkb,KACjC,OAAQD,IAAa,GAAKA,EAAYjb,KAAKwa,OAE/ClR,YAAY,EACZC,cAAc,IAElByQ,EAAO7Z,UAAUgb,wBAA0B,SAAUhI,GACjD,IAAKnT,KAAKka,eACN,MAAO/G,EAEX,IAAIiI,GAAsBjI,EAAOnT,KAAKia,UAAUxE,QAAQ4F,UACxD,OAAOD,GAAsB5b,EAAQua,gBAAkBva,EAAQua,gBAAkBqB,GAErFpB,EAAO7Z,UAAUmb,iBAAmB,SAAUC,GAC1C,GAA0B,IAAtBvb,KAAK6a,MAAMta,OAAc,KACRoJ,KAAb4R,IACAA,EAAWtL,EAAahM,kBAG5B,KADA,GAAI8B,GAAI/F,KAAKwa,MACNzU,KACH/F,KAAK6a,MAAMpa,KAAKT,KAAK4a,aAAaW,MAI9CvB,EAAO7Z,UAAUkX,MAAQ,WACrBrX,KAAKkb,MAAQ,EACblb,KAAKgb,MAAQ,EACbhb,KAAKmU,EAAI,EACTnU,KAAKkU,EAAI,EACTlU,KAAK6a,MAAQ,GAAIjB,GAAe4B,aAAaxb,KAAKmb,wBAAwBnb,KAAKwa,QAC/Exa,KAAKyb,UAAY,EACjBzb,KAAK0b,aAAe1b,KAAKwa,MAAQ,EACjCxa,KAAK2b,iBAET3B,EAAO7Z,UAAUoH,OAAS,SAAUqU,EAASC,GACzC,GAAIC,GAAW9b,KAAKya,YAAYxK,EAAahM,mBACzC8X,EAAe/b,KAAKmb,wBAAwBU,EAIhD,IAHIE,EAAe/b,KAAK6a,MAAMC,YAC1B9a,KAAK6a,MAAMC,UAAYiB,GAEvB/b,KAAK6a,MAAMta,OAAS,EAAG,CACvB,GAAIP,KAAKua,MAAQqB,EACb,IAAK,GAAI7V,GAAI,EAAGA,EAAI/F,KAAK6a,MAAMta,OAAQwF,IACnC/F,KAAK6a,MAAM5U,IAAIF,GAAGwB,OAAOqU,EAASE,EAG1C,IAAIE,GAAS,CACb,IAAIhc,KAAKwa,MAAQqB,EACb,IAAK,GAAI1H,GAAInU,KAAKwa,MAAOrG,EAAI0H,EAAS1H,IAC9BnU,KAAK6a,MAAMta,OAASsb,EAAU7b,KAAKgb,QAC/Bhb,KAAKgb,MAAQ,GAAKhb,KAAK6a,MAAMta,QAAUP,KAAKgb,MAAQhb,KAAKmU,EAAI6H,EAAS,GACtEhc,KAAKgb,QACLgB,IACIhc,KAAKkb,MAAQ,GACblb,KAAKkb,SAITlb,KAAK6a,MAAMpa,KAAK,GAAIwP,GAAa1K,WAAWqW,EAASE,SAMjE,KAAK,GAAI3H,GAAInU,KAAKwa,MAAOrG,EAAI0H,EAAS1H,IAC9BnU,KAAK6a,MAAMta,OAASsb,EAAU7b,KAAKgb,QAC/Bhb,KAAK6a,MAAMta,OAASP,KAAKgb,MAAQhb,KAAKmU,EAAI,EAC1CnU,KAAK6a,MAAMoB,OAGXjc,KAAKgb,QACLhb,KAAKkb,SAKrB,IAAIa,EAAe/b,KAAK6a,MAAMC,UAAW,CACrC,GAAIoB,GAAelc,KAAK6a,MAAMta,OAASwb,CACnCG,GAAe,IACflc,KAAK6a,MAAMsB,UAAUD,GACrBlc,KAAKgb,MAAQlS,KAAKsT,IAAIpc,KAAKgb,MAAQkB,EAAc,GACjDlc,KAAKkb,MAAQpS,KAAKsT,IAAIpc,KAAKkb,MAAQgB,EAAc,IAErDlc,KAAK6a,MAAMC,UAAYiB,EAE3B/b,KAAKkU,EAAIpL,KAAKC,IAAI/I,KAAKkU,EAAG0H,EAAU,GACpC5b,KAAKmU,EAAIrL,KAAKC,IAAI/I,KAAKmU,EAAG0H,EAAU,GAChCG,IACAhc,KAAKmU,GAAK6H,GAEdhc,KAAKqc,OAASvT,KAAKC,IAAI/I,KAAKqc,OAAQR,EAAU,GAC9C7b,KAAKsc,OAASxT,KAAKC,IAAI/I,KAAKsc,OAAQV,EAAU,GAC9C5b,KAAKyb,UAAY,EAGrB,GADAzb,KAAK0b,aAAeG,EAAU,EAC1B7b,KAAKuc,mBACLvc,KAAKwc,QAAQZ,EAASC,GAClB7b,KAAKua,MAAQqB,GACb,IAAK,GAAI7V,GAAI,EAAGA,EAAI/F,KAAK6a,MAAMta,OAAQwF,IACnC/F,KAAK6a,MAAM5U,IAAIF,GAAGwB,OAAOqU,EAASE,EAI9C9b,MAAKua,MAAQqB,EACb5b,KAAKwa,MAAQqB,GAEjBjc,OAAOC,eAAema,EAAO7Z,UAAW,oBACpC8F,IAAK,WACD,MAAOjG,MAAKka,iBAAmBla,KAAKia,UAAUxE,QAAQgH,aAE1DnT,YAAY,EACZC,cAAc,IAElByQ,EAAO7Z,UAAUqc,QAAU,SAAUZ,EAASC,GACtC7b,KAAKua,QAAUqB,IAGfA,EAAU5b,KAAKua,MACfva,KAAK0c,cAAcd,EAASC,GAG5B7b,KAAK2c,eAAef,EAASC,KAGrC7B,EAAO7Z,UAAUuc,cAAgB,SAAUd,EAASC,GAChD,GAAIe,GAAW/C,EAAegD,6BAA6B7c,KAAK6a,MAAO7a,KAAKua,MAAOqB,EAAS5b,KAAKgb,MAAQhb,KAAKmU,EAAGnU,KAAKya,YAAYxK,EAAahM,mBAC/I,IAAI2Y,EAASrc,OAAS,EAAG,CACrB,GAAIuc,GAAkBjD,EAAekD,4BAA4B/c,KAAK6a,MAAO+B,EAC7E/C,GAAemD,2BAA2Bhd,KAAK6a,MAAOiC,EAAgBG,QACtEjd,KAAKkd,4BAA4BtB,EAASC,EAASiB,EAAgBK,gBAG3EnD,EAAO7Z,UAAU+c,4BAA8B,SAAUtB,EAASC,EAASsB,GAGvE,IAFA,GAAIrB,GAAW9b,KAAKya,YAAYxK,EAAahM,mBACzCmZ,EAAsBD,EACnBC,KAAwB,GACR,IAAfpd,KAAKgb,OACDhb,KAAKmU,EAAI,GACTnU,KAAKmU,IAELnU,KAAK6a,MAAMta,OAASsb,GACpB7b,KAAK6a,MAAMpa,KAAK,GAAIwP,GAAa1K,WAAWqW,EAASE,MAIrD9b,KAAKkb,QAAUlb,KAAKgb,OACpBhb,KAAKkb,QAETlb,KAAKgb,UAIjBhB,EAAO7Z,UAAUwc,eAAiB,SAAUf,EAASC,GAIjD,IAAK,GAHDC,GAAW9b,KAAKya,YAAYxK,EAAahM,mBACzCoZ,KACAC,EAAgB,EACXnJ,EAAInU,KAAK6a,MAAMta,OAAS,EAAG4T,GAAK,EAAGA,IAAK,CAC7C,GAAIoJ,GAAWvd,KAAK6a,MAAM5U,IAAIkO,EAC9B,OAAKoJ,IAAaA,EAAS7X,WAAa6X,EAASrV,oBAAsB0T,GAAvE,CAIA,IADA,GAAI4B,IAAgBD,GACbA,EAAS7X,WAAayO,EAAI,GAC7BoJ,EAAWvd,KAAK6a,MAAM5U,MAAMkO,GAC5BqJ,EAAaC,QAAQF,EAEzB,IAAIxC,GAAY/a,KAAKgb,MAAQhb,KAAKmU,CAClC,MAAI4G,GAAa5G,GAAK4G,EAAY5G,EAAIqJ,EAAajd,QAAnD,CAGA,GAAImd,GAAiBF,EAAaA,EAAajd,OAAS,GAAG2H,mBACvDyV,EAAkB9D,EAAe+D,+BAA+BJ,EAAcxd,KAAKua,MAAOqB,GAC1FiC,EAAaF,EAAgBpd,OAASid,EAAajd,OACnDud,MAAe,EAEfA,GADe,IAAf9d,KAAKgb,OAAehb,KAAKmU,IAAMnU,KAAK6a,MAAMta,OAAS,EACpCuI,KAAKsT,IAAI,EAAGpc,KAAKmU,EAAInU,KAAK6a,MAAMC,UAAY+C,GAG5C/U,KAAKsT,IAAI,EAAGpc,KAAK6a,MAAMta,OAASP,KAAK6a,MAAMC,UAAY+C,EAG1E,KAAK,GADDE,MACKhY,EAAI,EAAGA,EAAI8X,EAAY9X,IAAK,CACjC,GAAIkC,GAAUjI,KAAK4a,aAAa3K,EAAahM,mBAAmB,EAChE8Z,GAAStd,KAAKwH,GAEd8V,EAASxd,OAAS,IAClB8c,EAAS5c,MACL4G,MAAO8M,EAAIqJ,EAAajd,OAAS+c,EACjCS,SAAUA,IAEdT,GAAiBS,EAASxd,QAE9Bid,EAAa/c,KAAK6D,MAAMkZ,EAAcO,EACtC,IAAIC,GAAgBL,EAAgBpd,OAAS,EACzC+H,EAAUqV,EAAgBK,EACd,KAAZ1V,IACA0V,IACA1V,EAAUqV,EAAgBK,GAI9B,KAFA,GAAIC,GAAeT,EAAajd,OAASsd,EAAa,EAClDxV,EAASqV,EACNO,GAAgB,GAAG,CACtB,GAAIC,GAAcpV,KAAKC,IAAIV,EAAQC,EAQnC,IAPAkV,EAAaQ,GAAe7V,cAAcqV,EAAaS,GAAe5V,EAAS6V,EAAa5V,EAAU4V,EAAaA,GAAa,GAChI5V,GAAW4V,EACK,IAAZ5V,IACA0V,IACA1V,EAAUqV,EAAgBK,IAGf,KADf3V,GAAU6V,GACQ,CACdD,GACA,IAAIE,GAAoBrV,KAAKsT,IAAI6B,EAAc,EAC/C5V,GAASwR,EAAeuE,4BAA4BZ,EAAcW,EAAmBne,KAAKua,QAGlG,IAAK,GAAIxU,GAAI,EAAGA,EAAIyX,EAAajd,OAAQwF,IACjC4X,EAAgB5X,GAAK6V,GACrB4B,EAAazX,GAAGC,QAAQ2X,EAAgB5X,GAAI+V,EAIpD,KADA,GAAIsB,GAAsBS,EAAaC,EAChCV,KAAwB,GACR,IAAfpd,KAAKgb,MACDhb,KAAKmU,EAAI0H,EAAU,GACnB7b,KAAKmU,IACLnU,KAAK6a,MAAMoB,QAGXjc,KAAKgb,QACLhb,KAAKkb,SAILlb,KAAKgb,MAAQlS,KAAKC,IAAI/I,KAAK6a,MAAMC,UAAW9a,KAAK6a,MAAMta,OAAS+c,GAAiBzB,IAC7E7b,KAAKgb,QAAUhb,KAAKkb,OACpBlb,KAAKkb,QAETlb,KAAKgb,WAKrB,GAAIqC,EAAS9c,OAAS,EAAG,CAGrB,IAAK,GAFD8d,MACAC,KACKvY,EAAI,EAAGA,EAAI/F,KAAK6a,MAAMta,OAAQwF,IACnCuY,EAAc7d,KAAKT,KAAK6a,MAAM5U,IAAIF,GAEtC,IAAIwY,GAAsBve,KAAK6a,MAAMta,OACjCie,EAAoBD,EAAsB,EAC1CE,EAAoB,EACpBC,EAAerB,EAASoB,EAC5Bze,MAAK6a,MAAMta,OAASuI,KAAKC,IAAI/I,KAAK6a,MAAMC,UAAW9a,KAAK6a,MAAMta,OAAS+c,EAEvE,KAAK,GADDqB,GAAqB,EAChB5Y,EAAI+C,KAAKC,IAAI/I,KAAK6a,MAAMC,UAAY,EAAGyD,EAAsBjB,EAAgB,GAAIvX,GAAK,EAAGA,IAC9F,GAAI2Y,GAAgBA,EAAarX,MAAQmX,EAAoBG,EAAoB,CAC7E,IAAK,GAAIC,GAAQF,EAAaX,SAASxd,OAAS,EAAGqe,GAAS,EAAGA,IAC3D5e,KAAK6a,MAAM1U,IAAIJ,IAAK2Y,EAAaX,SAASa,GAE9C7Y,KACAsY,EAAa5d,MACTE,MAAO6d,EAAoB,EAC3BK,OAAQH,EAAaX,SAASxd,SAElCoe,GAAsBD,EAAaX,SAASxd,OAC5Cme,EAAerB,IAAWoB,OAG1Bze,MAAK6a,MAAM1U,IAAIJ,EAAGuY,EAAcE,KAIxC,KAAK,GADDM,GAAqB,EAChB/Y,EAAIsY,EAAa9d,OAAS,EAAGwF,GAAK,EAAGA,IAC1CsY,EAAatY,GAAGpF,OAASme,EACzB9e,KAAK6a,MAAMkE,gBAAgBvV,KAAK6U,EAAatY,IAC7C+Y,GAAsBT,EAAatY,GAAG8Y,MAE1C,IAAI3C,GAAepT,KAAKsT,IAAI,EAAGmC,EAAsBjB,EAAgBtd,KAAK6a,MAAMC,UAC5EoB,GAAe,GACflc,KAAK6a,MAAMmE,cAAcxV,KAAK0S,KAI1ClC,EAAO7Z,UAAU8e,yBAA2B,SAAUC,EAAWC,EAAaxW,GAE1E,QADkB,KAAdA,IAAwBA,GAAY,GACjCwW,GAAa,CAChB,GAAIpX,GAAO/H,KAAK6a,MAAM5U,IAAIiZ,EAC1B,KAAKnX,EACD,QAAS,GAAI,EAGjB,KAAK,GADDqX,GAAW,EAAcrX,EAAKG,mBAAqBH,EAAKxH,OACnDwF,EAAI,EAAGA,EAAIqZ,IAAYrZ,EAI5B,GAHIgC,EAAK9B,IAAIF,GAAGkK,EAAajO,yBACzBmd,GAAepX,EAAK9B,IAAIF,GAAGkK,EAAalO,sBAAsBxB,QAAU,GAExE4e,EAAc,EACd,OAAQD,EAAWnZ,EAG3BmZ,KAEJ,OAAQA,EAAW,IAEvBlF,EAAO7Z,UAAUkf,4BAA8B,SAAUH,EAAWvW,EAAWC,EAAUC,OACpE,KAAbD,IAAuBA,EAAW,EACtC,IAAIb,GAAO/H,KAAK6a,MAAM5U,IAAIiZ,EAC1B,OAAKnX,GAGEA,EAAKW,kBAAkBC,EAAWC,EAAUC,GAFxC,IAIfmR,EAAO7Z,UAAUmf,uBAAyB,SAAUnL,GAGhD,IAFA,GAAIoL,GAAQpL,EACRqL,EAAOrL,EACJoL,EAAQ,GAAKvf,KAAK6a,MAAM5U,IAAIsZ,GAAO7Z,WACtC6Z,GAEJ,MAAOC,EAAO,EAAIxf,KAAK6a,MAAMta,QAAUP,KAAK6a,MAAM5U,IAAIuZ,EAAO,GAAG9Z,WAC5D8Z,GAEJ,QAASD,MAAOA,EAAOC,KAAMA,IAEjCxF,EAAO7Z,UAAUwb,cAAgB,SAAU5V,GAUvC,IATU,OAANA,OAAoB4D,KAAN5D,EACT/F,KAAKyf,KAAK1Z,KACXA,EAAI/F,KAAK0f,SAAS3Z,KAItB/F,KAAKyf,QACL1Z,EAAI,GAEDA,EAAI/F,KAAKua,MAAOxU,GAAK/F,KAAKia,UAAUxE,QAAQkK,aAC/C3f,KAAKyf,KAAK1Z,IAAK,GAGvBiU,EAAO7Z,UAAUuf,SAAW,SAAUxL,GAIlC,IAHU,OAANA,OAAoBvK,KAANuK,IACdA,EAAIlU,KAAKkU,IAELlU,KAAKyf,OAAOvL,IAAMA,EAAI,IAE9B,MAAOA,IAAKlU,KAAKua,MAAQva,KAAKua,MAAQ,EAAIrG,EAAI,EAAI,EAAIA,GAE1D8F,EAAO7Z,UAAUyf,SAAW,SAAU1L,GAIlC,IAHU,OAANA,OAAoBvK,KAANuK,IACdA,EAAIlU,KAAKkU,IAELlU,KAAKyf,OAAOvL,IAAMA,EAAIlU,KAAKua,QAEnC,MAAOrG,IAAKlU,KAAKua,MAAQva,KAAKua,MAAQ,EAAIrG,EAAI,EAAI,EAAIA,GAE1D8F,EAAO7Z,UAAU0f,UAAY,SAAU1L,GACnC,GAAI9P,GAAQrE,KACR8f,EAAS,GAAIhG,GAASiG,OAAO5L,EAsBjC,OArBAnU,MAAKoa,QAAQ3Z,KAAKqf,GAClBA,EAAOtf,SAASR,KAAK6a,MAAMmF,OAAO,SAAUnB,GACxCiB,EAAO/X,MAAQ8W,EACXiB,EAAO/X,KAAO,GACd+X,EAAO1f,aAGf0f,EAAOtf,SAASR,KAAK6a,MAAMoF,SAAS,SAAUC,GACtCJ,EAAO/X,MAAQmY,EAAMvf,QACrBmf,EAAO/X,MAAQmY,EAAMrB,WAG7BiB,EAAOtf,SAASR,KAAK6a,MAAMsF,SAAS,SAAUD,GACtCJ,EAAO/X,MAAQmY,EAAMvf,OAASmf,EAAO/X,KAAOmY,EAAMvf,MAAQuf,EAAMrB,QAChEiB,EAAO1f,UAEP0f,EAAO/X,KAAOmY,EAAMvf,QACpBmf,EAAO/X,MAAQmY,EAAMrB,WAG7BiB,EAAOtf,SAASsf,EAAOM,UAAU,WAAc,MAAO/b,GAAMgc,cAAcP,MACnEA,GAEX9F,EAAO7Z,UAAUkgB,cAAgB,SAAUP,GACvC9f,KAAKoa,QAAQvZ,OAAOb,KAAKoa,QAAQxZ,QAAQkf,GAAS,IAEtD9F,EAAO7Z,UAAUmgB,SAAW,SAAU3X,EAAWhC,EAAY4Z,EAAUC,EAAeC,GAClF,MAAO,IAAIC,GAAqB1gB,KAAM2I,EAAWhC,EAAY4Z,EAAUC,EAAeC,IAEnFzG,IAEXxa,GAAQwa,OAASA,CACjB,IAAI0G,GAAwB,WACxB,QAASA,GAAqBC,EAASC,EAAYC,EAAaC,EAAWC,EAAgBC,OACnE,KAAhBH,IAA0BA,EAAc,OAC1B,KAAdC,IAAwBA,EAAYH,EAAQ9F,MAAMta,YAC/B,KAAnBwgB,IAA6BA,EAAiB,OAC7B,KAAjBC,IAA2BA,EAAe,GAC9ChhB,KAAK2gB,QAAUA,EACf3gB,KAAK4gB,WAAaA,EAClB5gB,KAAK6gB,YAAcA,EACnB7gB,KAAK8gB,UAAYA,EACjB9gB,KAAK+gB,eAAiBA,EACtB/gB,KAAKghB,aAAeA,EAChBhhB,KAAK6gB,YAAc,IACnB7gB,KAAK6gB,YAAc,GAEnB7gB,KAAK8gB,UAAY9gB,KAAK2gB,QAAQ9F,MAAMta,SACpCP,KAAK8gB,UAAY9gB,KAAK2gB,QAAQ9F,MAAMta,QAExCP,KAAKihB,SAAWjhB,KAAK6gB,YAsBzB,MApBAH,GAAqBvgB,UAAU+gB,QAAU,WACrC,MAAOlhB,MAAKihB,SAAWjhB,KAAK8gB,WAEhCJ,EAAqBvgB,UAAUghB,KAAO,WAClC,GAAIC,GAAQphB,KAAK2gB,QAAQrB,uBAAuBtf,KAAKihB,SACjDG,GAAM7B,MAAQvf,KAAK6gB,YAAc7gB,KAAK+gB,iBACtCK,EAAM7B,MAAQvf,KAAK6gB,YAAc7gB,KAAK+gB,gBAEtCK,EAAM5B,KAAOxf,KAAK8gB,UAAY9gB,KAAKghB,eACnCI,EAAM5B,KAAOxf,KAAK8gB,UAAY9gB,KAAKghB,cAEvCI,EAAM7B,MAAQzW,KAAKsT,IAAIgF,EAAM7B,MAAO,GACpC6B,EAAM5B,KAAO1W,KAAKC,IAAIqY,EAAM5B,KAAMxf,KAAK2gB,QAAQ9F,MAAMta,OAErD,KAAK,GADDyI,GAAS,GACJjD,EAAIqb,EAAM7B,MAAOxZ,GAAKqb,EAAM5B,OAAQzZ,EACzCiD,GAAUhJ,KAAK2gB,QAAQtB,4BAA4BtZ,EAAG/F,KAAK4gB,WAG/D,OADA5gB,MAAKihB,SAAWG,EAAM5B,KAAO,GACpB4B,MAAOA,EAAO5c,QAASwE,IAE7B0X,IAEXlhB,GAAQkhB,qBAAuBA,Gf0vCzBW,IACA,SAAU9hB,EAAQC,EAASC,GAEjC,YgB1mDA,SAAS6hB,GAAmBC,GAGxB,IAAK,GAFDvY,GAAS,EACTzI,EAASghB,EAAEhhB,OACNwF,EAAI,EAAGA,EAAIxF,IAAUwF,EAAG,CAC7B,GAAIX,GAAOmc,EAAErc,WAAWa,EACxB,IAAI,OAAUX,GAAQA,GAAQ,MAAQ,CAClC,KAAMW,GAAKxF,EACP,MAAOyI,GAASxJ,EAAQgiB,QAAQpc,EAEpC,IAAIC,GAASkc,EAAErc,WAAWa,EACtB,QAAUV,GAAUA,GAAU,MAC9BD,EAAyB,MAAjBA,EAAO,OAAkBC,EAAS,MAAS,MAGnD2D,GAAUxJ,EAAQgiB,QAAQnc,GAGlC2D,GAAUxJ,EAAQgiB,QAAQpc,GAE9B,MAAO4D,GAzIXpJ,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI2hB,GAAoB,EAAQ,IAChCjiB,GAAQgiB,QAAU,SAAWE,GAqDzB,QAASC,GAASC,EAAKpa,GACnB,GAEIqa,GAFA9Y,EAAM,EACNqT,EAAM5U,EAAKjH,OAAS,CAExB,IAAIqhB,EAAMpa,EAAK,GAAG,IAAMoa,EAAMpa,EAAK4U,GAAK,GACpC,OAAO,CAEX,MAAOA,GAAOrT,GAEV,GADA8Y,EAAO9Y,EAAMqT,GAAQ,EACjBwF,EAAMpa,EAAKqa,GAAK,GAChB9Y,EAAM8Y,EAAM,MAEX,MAAID,EAAMpa,EAAKqa,GAAK,IAIrB,OAAO,CAHPzF,GAAMyF,EAAM,EAMpB,OAAO,EAEX,QAASC,GAAYF,GACjB,MAAID,GAASC,EAAKG,GACP,EAENH,GAAO,QAAWA,GAAO,QAAaA,GAAO,QAAWA,GAAO,OACzD,EAEJ,EAhFX,GAAII,KACC,IAAQ,MAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,KAAQ,OAC5C,KAAQ,OAAU,KAAQ,OAAU,MAAQ,QAC5C,MAAQ,QAAU,MAAQ,QAAU,MAAQ,QAC5C,MAAQ,QAAU,MAAQ,QAAU,MAAQ,QAC5C,MAAQ,QAAU,MAAQ,QAAU,MAAQ,QAE7CD,IACC,MAAS,QAAW,MAAS,QAAW,MAAS,QACjD,MAAS,QAAW,MAAS,QAAW,OAAS,SACjD,OAAS,SAAW,OAAS,SAAW,OAAS,SACjD,OAAS,SAAW,OAAS,SAAW,OAAS,SACjD,OAAS,SAgCVE,EAAyB,EAAfP,EAAKO,QACfC,EAAQ,GAAIrK,YAAW,MAC3B4J,GAAkB5Z,KAAKqa,EAAO,GAC9BA,EAAM,GAAKR,EAAKS,IAChBV,EAAkB5Z,KAAKqa,EAAOR,EAAKO,QAAS,EAAG,IAC/CR,EAAkB5Z,KAAKqa,EAAOR,EAAKO,QAAS,IAAM,KAClDR,EAAkB5Z,KAAKqa,EAAO,EAAG,KAAQ,MACzCA,EAAM,MAAU,EAChBA,EAAM,MAAU,EAChBT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCA,EAAM,OAAU,EAChBT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,OACzCT,EAAkB5Z,KAAKqa,EAAO,EAAG,MAAQ,MACzC,KAAK,GAAIE,GAAI,EAAGA,EAAIJ,EAAczhB,SAAU6hB,EACxCX,EAAkB5Z,KAAKqa,EAAO,EAAGF,EAAcI,GAAG,GAAIJ,EAAcI,GAAG,GAAK,EAEhF,OAAO,UAAUC,GACb,MAAIA,GAAM,GACW,EAAVJ,EAEPI,EAAM,IACC,EAEPA,EAAM,MACCH,EAAMG,GAEVP,EAAYO,MAEtBF,IAAK,EAAGF,QAAS,IAsBtBziB,EAAQ8hB,mBAAqBA,GhBuuDvBgB,IACA,SAAU/iB,EAAQC,EAASC,GAEjC,YiBr3DAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIyiB,GAAe,WACf,QAASA,GAAYC,GACjBxiB,KAAKwiB,mBAAqBA,EA4B9B,MA1BAD,GAAYE,2BAA6B,SAAUvC,EAAOwC,GACtD,GAAItM,GAAOsM,EAAQC,uBACnB,QAAQzC,EAAM0C,QAAUxM,EAAKyM,KAAM3C,EAAM4C,QAAU1M,EAAK2M,MAE5DR,EAAYpiB,UAAU6iB,UAAY,SAAU9C,EAAOwC,EAASO,EAAaC,EAAUC,EAAUC,GACzF,IAAKH,EAAYnc,QAAUmc,EAAYpP,OACnC,MAAO,KAEX,IAAIwP,GAASd,EAAYE,2BAA2BvC,EAAOwC,EAC3D,OAAKW,IAGLA,EAAO,GAAKva,KAAKwa,MAAMD,EAAO,IAAMD,EAAcpjB,KAAKwiB,mBAAmBe,WAAWC,gBAAkB,EAAI,IAAMxjB,KAAKwiB,mBAAmBe,WAAWC,iBACpJH,EAAO,GAAKva,KAAKwa,KAAKD,EAAO,GAAKrjB,KAAKwiB,mBAAmBe,WAAWE,kBACrEJ,EAAO,GAAKva,KAAKC,IAAID,KAAKsT,IAAIiH,EAAO,GAAI,GAAIH,GAAYE,EAAc,EAAI,IAC3EC,EAAO,GAAKva,KAAKC,IAAID,KAAKsT,IAAIiH,EAAO,GAAI,GAAIF,GACtCE,GANI,MAQfd,EAAYpiB,UAAUujB,iBAAmB,SAAUxD,EAAOwC,EAASO,EAAaC,EAAUC,GACtF,GAAIE,GAASrjB,KAAKgjB,UAAU9C,EAAOwC,EAASO,EAAaC,EAAUC,GAC/DjP,EAAImP,EAAO,GACXlP,EAAIkP,EAAO,EAGf,OAFAnP,IAAK,GACLC,GAAK,IACID,EAAGA,EAAGC,EAAGA,IAEfoO,IAEX/iB,GAAQ+iB,YAAcA,GjB43DhBoB,IACA,SAAUpkB,EAAQC,EAASC,GAEjC,YkBh6DA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8jB,GAAc,EAAQ,KACtBC,EAAc,EAAQ,KAEtBC,EAAoB,SAAU1f,GAE9B,QAAS0f,GAAiB7J,GACtB,GAAI5V,GAAQD,EAAOsF,KAAK1J,OAASA,IAWjC,OAVAqE,GAAM4V,UAAYA,EAClB5V,EAAM0f,UACN1f,EAAM2f,iBAAkB,EACxB3f,EAAM4f,gBAAkB,KACxB5f,EAAM6f,aAAe,KACrB7f,EAAM8f,kBAAoB,KAAM,MAChC9f,EAAM7D,SAASqjB,EAAY5Y,yBAAyB5G,EAAM4V,UAAUyI,QAAS,YAAa,SAAU0B,GAAK,MAAO/f,GAAMggB,aAAaD,MACnI/f,EAAMigB,mBAAqB,SAAUF,GAAK,MAAO/f,GAAMkgB,aAAaH,IACpE/f,EAAMmgB,oBAAsB,SAAUJ,GAAK,MAAO/f,GAAMogB,cAAcL,IACtE/f,EAAMqgB,eAAiB,SAAUN,GAAK,MAAO/f,GAAMsgB,SAASP,IACrD/f,EA8IX,MA3JAtD,GAAU+iB,EAAkB1f,GAe5B0f,EAAiB3jB,UAAUC,QAAU,WACjCgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAK4kB,eAETd,EAAiB3jB,UAAUoR,IAAM,SAAUsT,GACvC7kB,KAAK+jB,OAAOtjB,KAAKokB,GACU,IAAvB7kB,KAAK+jB,OAAOxjB,QACZP,KAAK8kB,aAGbhB,EAAiB3jB,UAAU8R,SAAW,SAAU5K,EAAOC,GACnD,GAA2B,IAAvBtH,KAAK+jB,OAAOxjB,OAAhB,CAGK+G,IACDD,EAAQ,EACRC,EAAMtH,KAAKia,UAAU9G,KAAO,EAEhC,KAAK,GAAIpN,GAAI,EAAGA,EAAI/F,KAAK+jB,OAAOxjB,OAAQwF,IAAK,CACzC,GAAI8e,GAAO7kB,KAAK+jB,OAAOhe,IAClB8e,EAAKE,GAAK1d,GAASwd,EAAKE,IAAMzd,EAAM,GACpCud,EAAKG,GAAK3d,GAASwd,EAAKG,IAAM1d,EAAM,GACpCud,EAAKE,GAAK1d,GAASwd,EAAKG,GAAK1d,EAAM,KAChCtH,KAAKkkB,cAAgBlkB,KAAKkkB,eAAiBW,IAC3C7kB,KAAKkkB,aAAae,gBAClBjlB,KAAKkkB,aAAe,MAExBlkB,KAAK+jB,OAAOljB,OAAOkF,IAAK,IAGL,IAAvB/F,KAAK+jB,OAAOxjB,QACZP,KAAK4kB,gBAGbd,EAAiB3jB,UAAU2kB,UAAY,WAC9B9kB,KAAKgkB,kBACNhkB,KAAKgkB,iBAAkB,EACvBhkB,KAAKia,UAAUyI,QAAQpX,iBAAiB,YAAatL,KAAKskB,oBAC1DtkB,KAAKia,UAAUyI,QAAQpX,iBAAiB,aAActL,KAAKwkB,qBAC3DxkB,KAAKia,UAAUyI,QAAQpX,iBAAiB,QAAStL,KAAK0kB,kBAG9DZ,EAAiB3jB,UAAUykB,YAAc,WACjC5kB,KAAKgkB,kBACLhkB,KAAKgkB,iBAAkB,EACvBhkB,KAAKia,UAAUyI,QAAQnX,oBAAoB,YAAavL,KAAKskB,oBAC7DtkB,KAAKia,UAAUyI,QAAQnX,oBAAoB,aAAcvL,KAAKwkB,qBAC9DxkB,KAAKia,UAAUyI,QAAQnX,oBAAoB,QAASvL,KAAK0kB,kBAGjEZ,EAAiB3jB,UAAUokB,aAAe,SAAUH,GAC5CpkB,KAAKmkB,iBAAiB,KAAOC,EAAEc,OAASllB,KAAKmkB,iBAAiB,KAAOC,EAAEe,QACvEnlB,KAAKolB,SAAShB,GACdpkB,KAAKmkB,kBAAoBC,EAAEc,MAAOd,EAAEe,SAG5CrB,EAAiB3jB,UAAUilB,SAAW,SAAUhB,GAC5C,GAAI/f,GAAQrE,KACR6kB,EAAO7kB,KAAKqlB,iBAAiBjB,EAC7BS,KAAS7kB,KAAKkkB,eAGdlkB,KAAKkkB,eACLlkB,KAAKkkB,aAAae,gBAClBjlB,KAAKkkB,aAAe,KAChBlkB,KAAKikB,iBACLqB,aAAatlB,KAAKikB,kBAGrBY,IAGL7kB,KAAKkkB,aAAeW,EAChBA,EAAKU,eACLV,EAAKU,cAAcnB,GAEvBpkB,KAAKikB,gBAAkBuB,WAAW,WAAc,MAAOnhB,GAAMohB,WAAWrB,IA7F3D,QA+FjBN,EAAiB3jB,UAAUslB,WAAa,SAAUrB,GAC9CpkB,KAAKikB,gBAAkB,IACvB,IAAIY,GAAO7kB,KAAKqlB,iBAAiBjB,EAC7BS,IAAQA,EAAKa,iBACbb,EAAKa,gBAAgBtB,IAG7BN,EAAiB3jB,UAAUkkB,aAAe,SAAUD,GAEhD,GADApkB,KAAK2lB,wBAA0B3lB,KAAKia,UAAU2L,eAAerlB,OACxDP,KAAKgkB,gBAAV,CAGA,GAAIa,GAAO7kB,KAAKqlB,iBAAiBjB,EAC7BS,IACIA,EAAKgB,iBAAiBzB,KACtBA,EAAE0B,iBACF1B,EAAE2B,8BAIdjC,EAAiB3jB,UAAUskB,cAAgB,SAAUL,GAC7CpkB,KAAKkkB,eACLlkB,KAAKkkB,aAAae,gBAClBjlB,KAAKkkB,aAAe,KAChBlkB,KAAKikB,iBACLqB,aAAatlB,KAAKikB,mBAI9BH,EAAiB3jB,UAAUwkB,SAAW,SAAUP,GAC5C,GAAIS,GAAO7kB,KAAKqlB,iBAAiBjB,GAC7B4B,EAAyBhmB,KAAKia,UAAU2L,eAAerlB,MACvDskB,IAAQmB,IAA2BhmB,KAAK2lB,0BACxCd,EAAKoB,cAAc7B,GACnBA,EAAE0B,iBACF1B,EAAE2B,6BAGVjC,EAAiB3jB,UAAUklB,iBAAmB,SAAUjB,GACpD,GAAIf,GAASrjB,KAAKia,UAAUiM,YAAYlD,UAAUoB,EAAGpkB,KAAKia,UAAUkM,cAAenmB,KAAKia,UAAUgJ,YAAajjB,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAU9G,KACnJ,KAAKkQ,EACD,MAAO,KAIX,KAAK,GAFDnP,GAAImP,EAAO,GACXlP,EAAIkP,EAAO,GACNtd,EAAI,EAAGA,EAAI/F,KAAK+jB,OAAOxjB,OAAQwF,IAAK,CACzC,GAAI8e,GAAO7kB,KAAK+jB,OAAOhe,EACvB,IAAI8e,EAAKE,KAAOF,EAAKG,IACjB,GAAI7Q,IAAM0Q,EAAKE,IAAM7Q,GAAK2Q,EAAKuB,IAAMlS,EAAI2Q,EAAKwB,GAC1C,MAAOxB,OAIX,IAAK1Q,IAAM0Q,EAAKE,IAAM7Q,GAAK2Q,EAAKuB,IAC3BjS,IAAM0Q,EAAKG,IAAM9Q,EAAI2Q,EAAKwB,IAC1BlS,EAAI0Q,EAAKE,IAAM5Q,EAAI0Q,EAAKG,GACzB,MAAOH,GAInB,MAAO,OAEJf,GACTF,EAAY7jB,WACdP,GAAQskB,iBAAmBA,CAC3B,IAAIwC,GAAa,WACb,QAASA,GAAUF,EAAIrB,EAAIsB,EAAIrB,EAAIiB,EAAeV,EAAeG,EAAiBT,EAAeY,GAC7F7lB,KAAKomB,GAAKA,EACVpmB,KAAK+kB,GAAKA,EACV/kB,KAAKqmB,GAAKA,EACVrmB,KAAKglB,GAAKA,EACVhlB,KAAKimB,cAAgBA,EACrBjmB,KAAKulB,cAAgBA,EACrBvlB,KAAK0lB,gBAAkBA,EACvB1lB,KAAKilB,cAAgBA,EACrBjlB,KAAK6lB,iBAAmBA,EAE5B,MAAOS,KAEX9mB,GAAQ8mB,UAAYA,GlBu6DdC,IACA,SAAUhnB,EAAQC,EAASC,GAEjC,YmBvmEA,SAASoI,GAAK2e,EAAO1mB,EAAOuH,EAAOC,GAC/B,MAAIkf,GAAM3e,KACC2e,EAAM3e,KAAK/H,EAAOuH,EAAOC,GAE7Bmf,EAAaD,EAAO1mB,EAAOuH,EAAOC,GAG7C,QAASmf,GAAaD,EAAO1mB,EAAOuH,EAAOC,GAGvC,OAFc,KAAVD,IAAoBA,EAAQ,OACpB,KAARC,IAAkBA,EAAMkf,EAAMjmB,QAC9B8G,GAASmf,EAAMjmB,OACf,MAAOimB,EAEXnf,IAASmf,EAAMjmB,OAAS8G,GAASmf,EAAMjmB,OAEnC+G,EADAA,GAAOkf,EAAMjmB,OACPimB,EAAMjmB,QAGLimB,EAAMjmB,OAAS+G,GAAOkf,EAAMjmB,MAEvC,KAAK,GAAIwF,GAAIsB,EAAOtB,EAAIuB,IAAOvB,EAC3BygB,EAAMzgB,GAAKjG,CAEf,OAAO0mB,GAGX,QAASE,GAAOnN,EAAGtY,GACf,GAAI+H,GAAS,GAAIuQ,GAAE/X,YAAY+X,EAAEhZ,OAASU,EAAEV,OAG5C,OAFAyI,GAAO7C,IAAIoT,GACXvQ,EAAO7C,IAAIlF,EAAGsY,EAAEhZ,QACTyI,EA/BXpJ,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAOtDN,EAAQqI,KAAOA,EAmBfrI,EAAQinB,aAAeA,EAOvBjnB,EAAQknB,OAASA,GnB+mEXC,IACA,SAAUpnB,EAAQC,EAASC,GAEjC,YoBnpEA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAImQ,GAAe,EAAQ,KACvB2W,EAAkB,SAAUxiB,GAE5B,QAASwiB,GAAeC,EAAW9V,EAAOjK,GACtC,GAAIzC,GAAQD,EAAOsF,KAAK1J,OAASA,IAOjC,OANAqE,GAAMG,QAAU,EAChBH,EAAMI,aAAe,GACrBJ,EAAM3B,GAAKmkB,EAAUnkB,GACrB2B,EAAM1B,GAAKkkB,EAAUlkB,GACrB0B,EAAMI,aAAesM,EACrB1M,EAAMyiB,OAAShgB,EACRzC,EAoBX,MA7BAtD,GAAU6lB,EAAgBxiB,GAW1BwiB,EAAezmB,UAAU0E,WAAa,WAClC,MAAO,UAEX+hB,EAAezmB,UAAU2E,SAAW,WAChC,MAAO9E,MAAK8mB,QAEhBF,EAAezmB,UAAU4E,SAAW,WAChC,MAAO/E,MAAKyE,cAEhBmiB,EAAezmB,UAAU8E,QAAU,WAC/B,MAAO,UAEX2hB,EAAezmB,UAAUyE,gBAAkB,SAAU9E,GACjD,KAAM,IAAIinB,OAAM,oBAEpBH,EAAezmB,UAAUmF,cAAgB,WACrC,OAAQtF,KAAK0C,GAAI1C,KAAK+E,WAAY/E,KAAK8E,WAAY9E,KAAKiF,YAErD2hB,GACT3W,EAAaxN,cACfjD,GAAQonB,eAAiBA,CACzB,IAAII,GAA2B,WAC3B,QAASA,GAAwB/M,GAC7Bja,KAAKia,UAAYA,EACjBja,KAAKinB,qBACLjnB,KAAKknB,uBAAyB,EAC9BlnB,KAAKmnB,UAAY,GAAIlX,GAAa9L,SAyJtC,MAvJA6iB,GAAwB7mB,UAAUinB,wBAA0B,SAAUhc,GAClE,GAAIic,IACAjX,GAAIpQ,KAAKknB,yBACT9b,QAASA,EAGb,OADApL,MAAKinB,kBAAkBxmB,KAAK4mB,GACrBA,EAAOjX,IAElB4W,EAAwB7mB,UAAUmnB,0BAA4B,SAAUC,GACpE,IAAK,GAAIxhB,GAAI,EAAGA,EAAI/F,KAAKinB,kBAAkB1mB,OAAQwF,IAC/C,GAAI/F,KAAKinB,kBAAkBlhB,GAAGqK,KAAOmX,EAEjC,MADAvnB,MAAKinB,kBAAkBpmB,OAAOkF,EAAG,IAC1B,CAGf,QAAO,GAEXihB,EAAwB7mB,UAAUqnB,oBAAsB,SAAUC,GAC9D,GAAsC,IAAlCznB,KAAKinB,kBAAkB1mB,OACvB,QAEJ,IAAIwH,GAAO/H,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIwhB,EAC3C,IAAoB,IAAhB1f,EAAKxH,OACL,QASJ,KAAK,GAPDonB,MACAC,EAAU7f,EAAKW,mBAAkB,GACjCmf,EAAmB,EACnBC,EAAqB,EACrBC,EAAwB,EACxBC,EAAcjgB,EAAK1B,MAAM,GACzB4hB,EAAclgB,EAAKzB,MAAM,GACpB4N,EAAI,EAAGA,EAAInM,EAAKG,mBAAoBgM,IAEzC,GADAnM,EAAKrB,SAASwN,EAAGlU,KAAKmnB,WACY,IAA9BnnB,KAAKmnB,UAAUriB,WAAnB,CAGA,GAAI9E,KAAKmnB,UAAUzkB,KAAOslB,GAAehoB,KAAKmnB,UAAUxkB,KAAOslB,EAAa,CACxE,GAAI/T,EAAI2T,EAAmB,EAEvB,IAAK,GADDK,GAAeloB,KAAKmoB,iBAAiBP,EAASG,EAAuBD,EAAoB/f,EAAM8f,GAC1F9hB,EAAI,EAAGA,EAAImiB,EAAa3nB,OAAQwF,IACrC4hB,EAAOlnB,KAAKynB,EAAaniB,GAGjC8hB,GAAmB3T,EACnB6T,EAAwBD,EACxBE,EAAchoB,KAAKmnB,UAAUzkB,GAC7BulB,EAAcjoB,KAAKmnB,UAAUxkB,GAEjCmlB,GAAsB9nB,KAAKmnB,UAAUpiB,WAAWxE,QAAU0P,EAAa5N,qBAAqB9B,OAEhG,GAAIP,KAAKia,UAAUzU,KAAOqiB,EAAmB,EAEzC,IAAK,GADDK,GAAeloB,KAAKmoB,iBAAiBP,EAASG,EAAuBD,EAAoB/f,EAAM8f,GAC1F9hB,EAAI,EAAGA,EAAImiB,EAAa3nB,OAAQwF,IACrC4hB,EAAOlnB,KAAKynB,EAAaniB,GAGjC,OAAO4hB,IAEXX,EAAwB7mB,UAAUgoB,iBAAmB,SAAUpgB,EAAMpB,EAAY4Z,EAAU6H,EAAUxf,GAGjG,IAAK,GAFDyf,GAAOtgB,EAAKugB,UAAU3hB,EAAY4Z,GAClC2H,EAAeloB,KAAKinB,kBAAkB,GAAG7b,QAAQid,GAC5CtiB,EAAI,EAAGA,EAAI/F,KAAKinB,kBAAkB1mB,OAAQwF,IAE/C,IAAK,GADDwiB,GAAevoB,KAAKinB,kBAAkBlhB,GAAGqF,QAAQid,GAC5CG,EAAI,EAAGA,EAAID,EAAahoB,OAAQioB,IACrCxB,EAAwByB,aAAaP,EAAcK,EAAaC,GAIxE,OADAxoB,MAAK0oB,0BAA0BR,EAAcE,EAAUxf,GAChDsf,GAEXlB,EAAwB7mB,UAAUuoB,0BAA4B,SAAUf,EAAQ5f,EAAMa,GAClF,GAAI+f,GAAoB,EACpBC,GAAsB,EACtBd,EAAqB,EACrBe,EAAelB,EAAOgB,EAC1B,IAAKE,EAAL,CAGA,IAAK,GAAI3U,GAAItL,EAAUsL,EAAIlU,KAAKia,UAAUzU,KAAM0O,IAAK,CACjD,GAAIpN,GAAQiB,EAAKjD,SAASoP,GACtBkL,EAAWrX,EAAKtB,UAAUyN,GAAG3T,QAAU0P,EAAa5N,qBAAqB9B,MAC7E,IAAc,IAAVuG,EAAJ,CAOA,IAJK8hB,GAAuBC,EAAa,IAAMf,IAC3Ce,EAAa,GAAK3U,EAClB0U,GAAsB,GAEtBC,EAAa,IAAMf,EAAoB,CAGvC,GAFAe,EAAa,GAAK3U,IAClB2U,EAAelB,IAASgB,IAEpB,KAEAE,GAAa,IAAMf,GACnBe,EAAa,GAAK3U,EAClB0U,GAAsB,GAGtBA,GAAsB,EAG9Bd,GAAsB1I,GAEtByJ,IACAA,EAAa,GAAK7oB,KAAKia,UAAUzU,QAGzCwhB,EAAwByB,aAAe,SAAUd,EAAQmB,GAErD,IAAK,GADDC,IAAU,EACLhjB,EAAI,EAAGA,EAAI4hB,EAAOpnB,OAAQwF,IAAK,CACpC,GAAIqb,GAAQuG,EAAO5hB,EACnB,IAAKgjB,EAAL,CAgBI,GAAID,EAAS,IAAM1H,EAAM,GAErB,MADAuG,GAAO5hB,EAAI,GAAG,GAAK+iB,EAAS,GACrBnB,CAEX,IAAImB,EAAS,IAAM1H,EAAM,GAIrB,MAHAuG,GAAO5hB,EAAI,GAAG,GAAK+C,KAAKsT,IAAI0M,EAAS,GAAI1H,EAAM,IAC/CuG,EAAO9mB,OAAOkF,EAAG,GACjBgjB,GAAU,EACHpB,CAEXA,GAAO9mB,OAAOkF,EAAG,GACjBA,QA3BJ,CACI,GAAI+iB,EAAS,IAAM1H,EAAM,GAErB,MADAuG,GAAO9mB,OAAOkF,EAAG,EAAG+iB,GACbnB,CAEX,IAAImB,EAAS,IAAM1H,EAAM,GAErB,MADAA,GAAM,GAAKtY,KAAKC,IAAI+f,EAAS,GAAI1H,EAAM,IAChCuG,CAEPmB,GAAS,GAAK1H,EAAM,KACpBA,EAAM,GAAKtY,KAAKC,IAAI+f,EAAS,GAAI1H,EAAM,IACvC2H,GAAU,IAyBtB,MANIA,GACApB,EAAOA,EAAOpnB,OAAS,GAAG,GAAKuoB,EAAS,GAGxCnB,EAAOlnB,KAAKqoB,GAETnB,GAEJX,IAEXxnB,GAAQwnB,wBAA0BA,GpB0pE5BgC,IACA,SAAUzpB,EAAQC,EAASC,GAEjC,YqBl2EA,SAAS2T,GAAiBjB,EAAU2G,EAAQtF,EAAiBC,GAEzD,IAAK,GADDwV,GAAYC,EAAiBrQ,eAAerF,EAAiBC,EAAkBtB,EAAU2G,GACpF/S,EAAI,EAAGA,EAAIojB,EAAe5oB,OAAQwF,IAAK,CAC5C,GAAIqjB,GAAQD,EAAepjB,GACvBsjB,EAAeD,EAAME,QAAQ1oB,QAAQuR,EACzC,IAAIkX,GAAgB,EAAG,CACnB,GAAIH,EAAiB5P,aAAa8P,EAAMG,OAAQN,GAC5C,MAAOG,GAAMI,KAEY,KAAzBJ,EAAME,QAAQ/oB,QACd6oB,EAAMI,MAAMppB,UACZ+oB,EAAetoB,OAAOkF,EAAG,IAGzBqjB,EAAME,QAAQzoB,OAAOwoB,EAAc,EAEvC,QAGR,IAAK,GAAItjB,GAAI,EAAGA,EAAIojB,EAAe5oB,OAAQwF,IAAK,CAC5C,GAAIqjB,GAAQD,EAAepjB,EAC3B,IAAImjB,EAAiB5P,aAAa8P,EAAMG,OAAQN,GAE5C,MADAG,GAAME,QAAQ7oB,KAAK0R,GACZiX,EAAMI,MAGrB,GAAIC,IACAD,MAAO,GAAIE,GAAyBvX,EAASsD,QAAQ2D,uBAAuBhI,SAAU6X,GACtFM,OAAQN,EACRK,SAAUnX,GAGd,OADAgX,GAAe1oB,KAAKgpB,GACbA,EAASD,MAGpB,QAASG,GAAwBxX,GAC7B,IAAK,GAAIpM,GAAI,EAAGA,EAAIojB,EAAe5oB,OAAQwF,IAAK,CAC5C,GAAIpF,GAAQwoB,EAAepjB,GAAGujB,QAAQ1oB,QAAQuR,EAC9C,KAAe,IAAXxR,EAAc,CAC2B,IAArCwoB,EAAepjB,GAAGujB,QAAQ/oB,QAC1B4oB,EAAepjB,GAAGyjB,MAAMppB,UACxB+oB,EAAetoB,OAAOkF,EAAG,IAGzBojB,EAAepjB,GAAGujB,QAAQzoB,OAAOF,EAAO,EAE5C,SAzDZf,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIopB,GAAmB,EAAQ,KAC3BU,EAAqB,EAAQ,KAC7BC,EAAkB,EAAQ,KAC1BC,EAAoB,EAAQ,KAC5BJ,GACA,KAAQG,EAAgBlR,QACxB,OAAUmR,EAAkBnR,QAC5B,QAAWiR,EAAmBjR,SAE9BwQ,IAmCJ3pB,GAAQ4T,iBAAmBA,EAgB3B5T,EAAQmqB,wBAA0BA,GrBo3E5BI,IACA,SAAUxqB,EAAQC,EAASC,GAEjC,YsBj7EA,SAASuqB,GAA+BC,EAASC,EAAeX,GAC5D,GAAIY,GAAYZ,EAAO/V,gBAAkB7R,EAAQoI,wBAC7CqgB,EAAab,EAAO9V,iBAAmB9R,EAAQoI,wBAC/CsgB,EAASH,EAAc,IAAMC,EAAW,GAAgBC,GACxDE,EAAMD,EAAOtY,WAAW,MAAQC,MAAOuX,EAAOlQ,mBAClDiR,GAAIzV,UAAY0U,EAAOzQ,OAAOhE,WAAWC,IACzCuV,EAAIlW,SAAS,EAAG,EAAGiW,EAAOvjB,MAAOujB,EAAOxW,QACxCyW,EAAIzU,OACJyU,EAAIzV,UAAY0U,EAAOzQ,OAAO9C,WAAWjB,IACzCuV,EAAIpV,KAAOqV,EAAQhB,EAAOjT,WAAYiT,GACtCe,EAAIlV,aAAe,QACnB,KAAK,GAAIrP,GAAI,EAAGA,EAAI,IAAKA,IACrBukB,EAAIzU,OACJyU,EAAInU,YACJmU,EAAIlU,KAAKrQ,EAAIokB,EAAW,EAAGA,EAAWC,GACtCE,EAAIjU,OACJiU,EAAIhV,SAASyB,OAAOC,aAAajR,GAAIA,EAAIokB,EAAWC,EAAa,GACjEE,EAAIpU,SAERoU,GAAIzU,OACJyU,EAAIpV,KAAOqV,EAAQhB,EAAOhT,eAAgBgT,EAC1C,KAAK,GAAIxjB,GAAI,EAAGA,EAAI,IAAKA,IACrBukB,EAAIzU,OACJyU,EAAInU,YACJmU,EAAIlU,KAAKrQ,EAAIokB,EAAWC,EAAYD,EAAWC,GAC/CE,EAAIjU,OACJiU,EAAIhV,SAASyB,OAAOC,aAAajR,GAAIA,EAAIokB,EAAwB,IAAbC,GACpDE,EAAIpU,SAERoU,GAAIpU,UACJoU,EAAIpV,KAAOqV,EAAQhB,EAAOjT,WAAYiT,EACtC,KAAK,GAAIiB,GAAa,EAAGA,EAAa,GAAIA,IAEtC,IAAK,GADDrW,IAAKqW,EAAa,GAAKJ,EAClBrkB,EAAI,EAAGA,EAAI,IAAKA,IACrBukB,EAAIzU,OACJyU,EAAInU,YACJmU,EAAIlU,KAAKrQ,EAAIokB,EAAWhW,EAAGgW,EAAWC,GACtCE,EAAIjU,OACJiU,EAAIzV,UAAY0U,EAAOzQ,OAAO/C,KAAKyU,GAAYzV,IAC/CuV,EAAIhV,SAASyB,OAAOC,aAAajR,GAAIA,EAAIokB,EAAWhW,EAAIiW,EAAa,GACrEE,EAAIpU,SAGZoU,GAAIpV,KAAOqV,EAAQhB,EAAOhT,eAAgBgT,EAC1C,KAAK,GAAIiB,GAAa,EAAGA,EAAa,GAAIA,IAEtC,IAAK,GADDrW,IAAKqW,EAAa,EAAI,IAAMJ,EACvBrkB,EAAI,EAAGA,EAAI,IAAKA,IACrBukB,EAAIzU,OACJyU,EAAInU,YACJmU,EAAIlU,KAAKrQ,EAAIokB,EAAWhW,EAAGgW,EAAWC,GACtCE,EAAIjU,OACJiU,EAAIzV,UAAY0U,EAAOzQ,OAAO/C,KAAKyU,GAAYzV,IAC/CuV,EAAIhV,SAASyB,OAAOC,aAAajR,GAAIA,EAAIokB,EAAWhW,EAAIiW,EAAa,GACrEE,EAAIpU,SAIZ,IADAoU,EAAIpU,YACE,qBAAuB+T,KAAYQ,EAAWlgB,WAAakgB,EAAWjgB,SACxE,MAAO6f,EAEX,IAAIK,GAAqBJ,EAAIK,aAAa,EAAG,EAAGN,EAAOvjB,MAAOujB,EAAOxW,OAErE,OADA+W,GAAWF,EAAoBnB,EAAOzQ,OAAOhE,YACtCmV,EAAQY,kBAAkBH,GAGrC,QAASE,GAAWE,EAAWC,GAK3B,IAAK,GAJDC,IAAU,EACV5I,EAAI2I,EAAMvR,OAAS,GACnByR,EAAIF,EAAMvR,OAAS,GAAK,IACxBvY,EAAI8pB,EAAMvR,OAAS,EAAI,IAClB0R,EAAS,EAAGA,EAASJ,EAAUtjB,KAAKjH,OAAQ2qB,GAAU,EACvDJ,EAAUtjB,KAAK0jB,KAAY9I,GAC3B0I,EAAUtjB,KAAK0jB,EAAS,KAAOD,GAC/BH,EAAUtjB,KAAK0jB,EAAS,KAAOjqB,EAC/B6pB,EAAUtjB,KAAK0jB,EAAS,GAAK,EAG7BF,GAAU,CAGlB,OAAOA,GAGX,QAAST,GAAQjU,EAAYiT,GACzB,MAAOjT,GAAa,IAAMiT,EAAO/S,SAAW+S,EAAOhV,iBAAmB,MAAQgV,EAAO9S,WAvFzF7W,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI2qB,GAAa,EAAQ,KACrB9oB,EAAU,EAAQ,IAiEtBnC,GAAQwqB,+BAAiCA,EAkBzCxqB,EAAQorB,WAAaA,GtB87EfO,IACA,SAAU5rB,EAAQC,EAASC,GAEjC,YuBt+EA,SAAS2rB,GAAQrW,GACb,OACIA,IAAKA,EACLyE,KAAM5R,SAASmN,EAAIoE,MAAM,GAAI,KAAO,EAAI,KAGhD,QAASkS,GAAYC,GACjB,GAAI/J,GAAI+J,EAAE7Z,SAAS,GACnB,OAAO8P,GAAEhhB,OAAS,EAAI,IAAMghB,EAAIA,EAxDpC3hB,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIyrB,GAAqBH,EAAQ,WAC7BI,EAAqBJ,EAAQ,WAC7BK,EAAiBL,EAAQ,WACzBM,EAAwBN,EAAQ,WAChCO,GACA5W,IAAK,2BACLyE,KAAM,WAEVha,GAAQosB,oBAAsB,WAoB1B,IAAK,GAnBD9S,IACAsS,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,WACRA,EAAQ,YAERS,GAAK,EAAM,GAAM,IAAM,IAAM,IAAM,KAC9B9lB,EAAI,EAAGA,EAAI,IAAKA,IAAK,CAC1B,GAAIqc,GAAIyJ,EAAG9lB,EAAI,GAAM,EAAI,GACrBklB,EAAIY,EAAG9lB,EAAI,EAAK,EAAI,GACpB9E,EAAI4qB,EAAE9lB,EAAI,EACd+S,GAAOrY,MACHsU,IAAK,IAAMsW,EAAYjJ,GAAKiJ,EAAYJ,GAAKI,EAAYpqB,GACzDuY,MAAQ4I,GAAK,GAAO6I,GAAK,GAAOhqB,GAAK,EAAK,OAAU,IAG5D,IAAK,GAAI8E,GAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,GAAIulB,GAAI,EAAQ,GAAJvlB,EACR+lB,EAAKT,EAAYC,EACrBxS,GAAOrY,MACHsU,IAAK,IAAM+W,EAAKA,EAAKA,EACrBtS,MAAQ8R,GAAK,GAAOA,GAAK,GAAOA,GAAK,EAAK,OAAU,IAG5D,MAAOxS,KAYX,IAAIiT,GAAgB,WAChB,QAASA,GAAa3a,EAAUiI,GAC5BrZ,KAAKqZ,kBAAoBA,CACzB,IAAIgR,GAASjZ,EAASC,cAAc,SACpCgZ,GAAOvjB,MAAQ,EACfujB,EAAOxW,OAAS,CAChB,IAAIyW,GAAMD,EAAOtY,WAAW,KAC5B,KAAKuY,EACD,KAAM,IAAIvD,OAAM,kCAEpB/mB,MAAK8R,KAAOwY,EACZtqB,KAAK8R,KAAKka,yBAA2B,OACrChsB,KAAKisB,aAAejsB,KAAK8R,KAAKoa,qBAAqB,EAAG,EAAG,EAAG,GAC5DlsB,KAAK8Y,QACD9C,WAAYuV,EACZzW,WAAY0W,EACZxS,OAAQyS,EACRxS,aAAcyS,EACdxS,UAAWyS,EACX5V,KAAMvW,EAAQosB,oBAAoBzS,SAkD1C,MA/CA4S,GAAa5rB,UAAUgsB,SAAW,SAAUC,OAC1B,KAAVA,IAAoBA,MACxBpsB,KAAK8Y,OAAO9C,WAAahW,KAAKqsB,YAAYD,EAAMpW,WAAYuV,GAC5DvrB,KAAK8Y,OAAOhE,WAAa9U,KAAKqsB,YAAYD,EAAMtX,WAAY0W,GAC5DxrB,KAAK8Y,OAAOE,OAAShZ,KAAKqsB,YAAYD,EAAMpT,OAAQyS,GAAgB,GACpEzrB,KAAK8Y,OAAOG,aAAejZ,KAAKqsB,YAAYD,EAAMnT,aAAcyS,GAAuB,GACvF1rB,KAAK8Y,OAAOI,UAAYlZ,KAAKqsB,YAAYD,EAAMlT,UAAWyS,GAAmB,GAC7E3rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAME,MAAO9sB,EAAQosB,oBAAoB,IAChF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMG,IAAK/sB,EAAQosB,oBAAoB,IAC9E5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMI,MAAOhtB,EAAQosB,oBAAoB,IAChF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMK,OAAQjtB,EAAQosB,oBAAoB,IACjF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMM,KAAMltB,EAAQosB,oBAAoB,IAC/E5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMO,QAASntB,EAAQosB,oBAAoB,IAClF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMQ,KAAMptB,EAAQosB,oBAAoB,IAC/E5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMS,MAAOrtB,EAAQosB,oBAAoB,IAChF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMU,YAAattB,EAAQosB,oBAAoB,IACtF5rB,KAAK8Y,OAAO/C,KAAK,GAAK/V,KAAKqsB,YAAYD,EAAMW,UAAWvtB,EAAQosB,oBAAoB,IACpF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMY,YAAaxtB,EAAQosB,oBAAoB,KACvF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMa,aAAcztB,EAAQosB,oBAAoB,KACxF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMc,WAAY1tB,EAAQosB,oBAAoB,KACtF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMe,cAAe3tB,EAAQosB,oBAAoB,KACzF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMgB,WAAY5tB,EAAQosB,oBAAoB,KACtF5rB,KAAK8Y,OAAO/C,KAAK,IAAM/V,KAAKqsB,YAAYD,EAAMiB,YAAa7tB,EAAQosB,oBAAoB,MAE3FG,EAAa5rB,UAAUksB,YAAc,SAAUtX,EAAKuY,EAAUjU,GAE1D,OAD0B,KAAtBA,IAAgCA,EAAoBrZ,KAAKqZ,uBACjD1P,KAARoL,EACA,MAAOuY,EAIX,IAFAttB,KAAK8R,KAAK+C,UAAY7U,KAAKisB,aAC3BjsB,KAAK8R,KAAK+C,UAAYE,EACa,gBAAxB/U,MAAK8R,KAAK+C,UAEjB,MADA0Y,SAAQC,KAAK,UAAYzY,EAAM,8BAAgCuY,EAASvY,KACjEuY,CAEXttB,MAAK8R,KAAKsC,SAAS,EAAG,EAAG,EAAG,EAC5B,IAAI5M,GAAOxH,KAAK8R,KAAK6Y,aAAa,EAAG,EAAG,EAAG,GAAGnjB,IAC9C,OAAK6R,IAAiC,MAAZ7R,EAAK,IAM3BuN,IAAKA,EACLyE,MAAOhS,EAAK,IAAM,GAAKA,EAAK,IAAM,GAAKA,EAAK,IAAM,EAAIA,EAAK,MAAQ,IANnE+lB,QAAQC,KAAK,UAAYzY,EAAM,0EACNuY,EAASvY,IAAM,KACjCuY,IAORvB,IAEXvsB,GAAQusB,aAAeA,GvB6hFjB0B,IACA,SAAUluB,EAAQC,EAASC,GAEjC,YwBjqFAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI4tB,GAAmB,WACnB,QAASA,GAAgBC,GACrB3tB,KAAK2tB,gBAAkBA,EA+B3B,MA7BAD,GAAgBvtB,UAAUC,QAAU,WAC5BJ,KAAK4tB,kBACLtZ,OAAOuZ,qBAAqB7tB,KAAK4tB,iBACjC5tB,KAAK4tB,oBAAkBjkB,KAG/B+jB,EAAgBvtB,UAAU2tB,QAAU,SAAUC,EAAUC,EAAQ7K,GAC5D,GAAI9e,GAAQrE,IACZA,MAAKiuB,UAAY9K,EACjB4K,MAAwBpkB,KAAbokB,EAAyBA,EAAW,EAC/CC,MAAoBrkB,KAAXqkB,EAAuBA,EAAShuB,KAAKiuB,UAAY,EAC1DjuB,KAAKkuB,cAA+BvkB,KAAnB3J,KAAKkuB,UAA0BplB,KAAKC,IAAI/I,KAAKkuB,UAAWH,GAAYA,EACrF/tB,KAAKmuB,YAA2BxkB,KAAjB3J,KAAKmuB,QAAwBrlB,KAAKsT,IAAIpc,KAAKmuB,QAASH,GAAUA,EACzEhuB,KAAK4tB,kBAGT5tB,KAAK4tB,gBAAkBtZ,OAAO8Z,sBAAsB,WAAc,MAAO/pB,GAAMgqB,oBAEnFX,EAAgBvtB,UAAUkuB,cAAgB,eACf1kB,KAAnB3J,KAAKkuB,eAA4CvkB,KAAjB3J,KAAKmuB,aAA4CxkB,KAAnB3J,KAAKiuB,YAGvEjuB,KAAKkuB,UAAYplB,KAAKsT,IAAIpc,KAAKkuB,UAAW,GAC1CluB,KAAKmuB,QAAUrlB,KAAKC,IAAI/I,KAAKmuB,QAASnuB,KAAKiuB,UAAY,GACvDjuB,KAAK2tB,gBAAgB3tB,KAAKkuB,UAAWluB,KAAKmuB,SAC1CnuB,KAAKkuB,cAAYvkB,GACjB3J,KAAKmuB,YAAUxkB,GACf3J,KAAK4tB,oBAAkBjkB,KAEpB+jB,IAEXluB,GAAQkuB,gBAAkBA,GxBwqFpBY,IACA,SAAU/uB,EAAQC,EAASC,GAEjC,YyB/sFA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8jB,GAAc,EAAQ,KACtB2K,EAAoB,SAAUnqB,GAE9B,QAASmqB,KACL,GAAIlqB,GAAmB,OAAXD,GAAmBA,EAAOE,MAAMtE,KAAMuE,YAAcvE,IAEhE,OADAqE,GAAMmqB,yBAA2Bla,OAAOC,iBACjClQ,EAuCX,MA3CAtD,GAAUwtB,EAAkBnqB,GAM5BmqB,EAAiBpuB,UAAUsuB,YAAc,SAAUplB,GAC/C,GAAIhF,GAAQrE,IACRA,MAAK0uB,WACL1uB,KAAK2uB,gBAET3uB,KAAK0uB,UAAYrlB,EACjBrJ,KAAK4uB,eAAiB,WACbvqB,EAAMqqB,YAGXrqB,EAAMqqB,UAAUpa,OAAOC,iBAAkBlQ,EAAMmqB,0BAC/CnqB,EAAMwqB,eAEV7uB,KAAK6uB,cAETN,EAAiBpuB,UAAUC,QAAU,WACjCgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAK2uB,iBAETJ,EAAiBpuB,UAAU0uB,WAAa,WAC/B7uB,KAAK8uB,2BAA8B9uB,KAAK4uB,iBAG7C5uB,KAAK8uB,0BAA0BC,eAAe/uB,KAAK4uB,gBACnD5uB,KAAKwuB,yBAA2Bla,OAAOC,iBACvCvU,KAAK8uB,0BAA4Bxa,OAAO0a,WAAW,2BAA6B1a,OAAOC,iBAAmB,SAC1GvU,KAAK8uB,0BAA0BG,YAAYjvB,KAAK4uB,kBAEpDL,EAAiBpuB,UAAUwuB,cAAgB,WAClC3uB,KAAK8uB,2BAA8B9uB,KAAK0uB,WAAc1uB,KAAK4uB,iBAGhE5uB,KAAK8uB,0BAA0BC,eAAe/uB,KAAK4uB,gBACnD5uB,KAAK8uB,8BAA4BnlB,GACjC3J,KAAK0uB,cAAY/kB,GACjB3J,KAAK4uB,mBAAiBjlB,KAEnB4kB,GACT3K,EAAY7jB,WACdP,GAAQ+uB,iBAAmBA,GzBstFrBW,IACA,SAAU3vB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,GAC7C,IAAIsvB,GAAuC3vB,EAAoB,KAC3D4vB,EAA+C5vB,EAAoByH,EAAEkoB,GACrEE,EAAsC7vB,EAAoB,KAE1D8vB,GAD8C9vB,EAAoByH,EAAEooB,GACX7vB,EAAoB,MAE7E+vB,GADiE/vB,EAAoByH,EAAEqoB,GAClC9vB,EAAoB,MAEzEgwB,GAD6DhwB,EAAoByH,EAAEsoB,GAC1B/vB,EAAoB,I0B1vFtG,YACE,cACA,KAFF,WAGI,OACE,SAAN,EACM,eAAN,EACM,gBAAN,EACM,QAAN,KACM,MAAN,OAGE,UACE,GADJ,WAEM,MAAN,gCAEI,SAJJ,WAKM,MAAN,8CAEI,OAPJ,WAQM,MAAN,uBAEI,UAVJ,WAWM,MAAN,kCAEI,eAbJ,WAcM,SAAN,4CAME,aA/BF,WAgCA,wBACM,KAAN,iBAEM,KAAN,kBAGE,QAtCF,WAuCA,0BACM,KAAN,mBAGE,SAKE,aALJ,WAKM,GAAN,OACA,sBACQ,KAAR,gBACQ,KAAR,gBACQ,KAAR,oBAEQ,KAAR,gDAGQ,KAAR,kBACQ,KAAR,WACQ,WAAR,WACU,GAAV,oCACU,GAAV,iBACU,EAAV,YACA,OAII,cAxBJ,SAwBA,GAAM,GAAN,QAGA,gBACA,6BAEA,iCAGA,gDAEM,YAAN,aACM,IAAN,mBACQ,UAAR,EACQ,YAAR,EACQ,aAAR,GAGM,IAAN,sBAEQ,QAAR,8CAKQ,IAAR,iDAGA,kBACQ,MAAR,UACQ,KAAR,QACQ,QAAR,OAEQ,EAAR,kBACQ,EAAR,kBAGU,QAAV,sBACU,EAAV,0CAEU,EAAV,YACU,EAAV,MACU,EAAV,QAEU,OAAV,kDACY,GAAZ,iDACY,GAAZ,YACY,EAAZ,OACA,MAIU,EAAV,sBAGY,EAAZ,sBAGU,EAAV,sBACY,GAAZ,wBACc,GAAd,iBACc,GAAd,sCACgB,EAAhB,kBAGc,EAAd,+BAEc,GAAd,eAKU,EAAV,mBACY,EAAZ,UACY,EAAZ,oBAKQ,EAAR,mBACU,EAAV,0DAEU,EAAV,UACU,EAAV,uBAIQ,SAAR,oD1B+yFMiwB,IACA,SAAUnwB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,GAC7C,IAAI6vB,GAA8DlwB,EAAoB,GAClFmwB,EAAsEnwB,EAAoByH,EAAEyoB,GAC5FE,EAAqCpwB,EAAoB,KACzDqwB,EAAwDrwB,EAAoB,I2B72FrG,YACE,KAAF,WACE,OAAF,MACE,KAHF,WAII,OACE,UAEE,KAAR,mCACQ,KAAR,aACQ,OAAR,mBACQ,UAAR,KACQ,MAAR,QACQ,SAAR,IAGQ,KAAR,sCACQ,KAAR,sBACQ,OAAR,sBACQ,UAAR,KACQ,MAAR,OACQ,SAAR,IAGQ,KAAR,oCACQ,KAAR,uBACQ,OAAR,oBACQ,UAAR,KACQ,MAAR,YACQ,SAAR,IAGQ,KAAR,kCACQ,KAAR,OACQ,OAAR,kBACQ,UAAR,SACQ,MAAR,MACQ,SAAR,IAGQ,KAAR,uCACQ,KAAR,qBACQ,OAAR,uBACQ,UAAR,SACQ,MAAR,MACQ,SAAR,IAGQ,KAAR,qCACQ,KAAR,SACQ,OAAR,qBACQ,UAAR,SACQ,MAAR,SACQ,SAAR,MAKE,UACE,QACE,IADN,WAEQ,MAAR,kDAGM,IALN,SAKA,GACA,GACU,KAAV,6CAKI,iBAbJ,WAaM,GAAN,OAEM,OADA,MAAN,2BAAQ,MAAR,sBACA,cAEI,GAjBJ,WAoBM,MAAN,yBAEI,SAtBJ,WAuBM,MAAN,UAEQ,QAAR,aACA,6CAEA,MAEI,OA9BJ,WAgCM,MAAN,+CAEI,IAlCJ,WAoCM,MAAN,yCAEI,OAtCJ,WAuCM,MAAN,uBAEI,QAzCJ,WA0CM,MAAN,iDAEI,UA5CJ,WA6CM,MAAN,sDAEI,SA/CJ,WAgDM,MAAN,yDAGE,QAAF,OACA,UACA,gBACA,eACA,iBACA,oBACA,kBACA,mBACA,mBAEI,cAVJ,SAUA,GAEM,GAAN,0BASM,OARN,kCAIQ,KAAR,sBAEQ,KAAR,sBAEA,GAEI,YAvBJ,WA2BM,KAAN,0CAGI,WA9BJ,SA8BA,GAEM,MADN,aACA,oB3Bs/FMswB,IACA,SAAUxwB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,I4BtmGlE,WACE,KAAF,WACE,KAFF,WAGI,OACE,cAAN,EACM,gBAAN,EACM,gBAAN,EACM,OAAN,EACM,KAAN,GACM,IAAN,GACM,OAAN,GACM,KAAN,GACM,cAAN,GACM,QAAN,GACM,WACN,yBACA,0BACA,4BACA,4BACA,8BAIE,UACE,GADJ,WAEM,MAAN,gCAEI,SAJJ,WAKM,MAAN,8CAEI,aAPJ,WAQM,MAAN,qBAEI,kBAVJ,WAYM,MADN,oBACA,kBAEI,GAdJ,WAeM,MAAN,iCAEI,UAjBJ,WAkBM,MAAN,sDAEI,SApBJ,WAqBM,MAAN,sCAEI,WAvBJ,WAwBM,MAAN,wCAEI,YA1BJ,WA2BM,MAAN,wDAEI,UA7BJ,WA8BM,MAAN,iDAEI,SAhCJ,WAiCM,MAAN,iDAEI,UAnCJ,WAoCM,MAAN,iDAEI,MAtCJ,WA4CM,QALN,2BACA,iCACA,8BACA,aAEA,aAGE,SACE,kBADJ,WAEM,GAAN,uBACM,MAAN,uBAEM,KAAN,kCACM,KAAN,qDACM,KAAN,8CAEI,mBATJ,WAUM,GAAN,eACQ,KAAR,sHACQ,KAAR,yGACA,CACQ,GAAR,IACU,GAAV,QACU,GAAV,QACU,IAAV,SACU,OAAV,iBACU,KAAV,eACU,OAAV,YACU,MAAV,WAEQ,MAAR,wHACQ,KAAR,oGACQ,KAAR,YAGI,iBA5BJ,WA6BM,GAAN,IACQ,aAAR,kBACQ,cAAR,mBACQ,IAAR,gCACQ,OAAR,mCACQ,KAAR,6EAEA,gBACQ,KAAR,mCACQ,KAAR,+EAEQ,KAAR,oHACQ,KAAR,mGACQ,KAAR,YAGI,mBA7CJ,WA8CM,GAAN,eACA,kCACU,KAAV,0CACU,KAAV,0BACY,GAAZ,EACY,QAAZ,kDACY,MAAZ,MAGU,KAAV,0BACY,GAAZ,EACY,QAAZ,qDACY,MAAZ,YAGA,CACQ,GAAR,IACU,GAAV,QACU,KAAV,kBAEQ,MAAR,sHACQ,KAAR,mGACQ,KAAR,aAIE,QA9IF,WA+II,KAAJ,oBACI,KAAJ,wC5BmxGMkwB,IACA,SAAUzwB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,GAC7C,IAAImwB,GAAoExwB,EAAoB,GACxFywB,EAA4EzwB,EAAoByH,EAAE+oB,E6Br+G3H,YACE,KAAF,YACE,KAFF,WAGI,OACE,gBAAN,EACM,YAAN,GACM,gBAAN,EACM,cAAN,GACM,OAAN,GACM,UAEE,KAAR,oCACQ,MAAR,OACQ,MAAR,SAGQ,KAAR,oCACQ,MAAR,OACQ,MAAR,eAGQ,KAAR,wBACQ,MAAR,QACQ,MAAR,YAGM,WAGJ,UACE,GADJ,WAEM,MAAN,gCAEI,SAJJ,WAKM,MAAN,+CAGE,OACE,OADJ,SACA,GACM,MAAN,mBAGE,QA1CF,WA2CI,KAAJ,cAEE,SACE,WADJ,WAEM,KAAN,8CAII,WANJ,SAMA,GAEM,MADN,aACA,gBAEI,aAVJ,SAUA,GACM,KAAN,kBACM,KAAN,eAEI,WAdJ,SAcA,GACM,GAAN,wBACM,MAAN,kBAEM,KAAN,2DACM,KAAN,qGAGI,cAtBJ,SAsBA,GACM,KAAN,kBACM,KAAN,eAEI,YA1BJ,SA0BA,GAGM,KAAN,4DACM,KAAN,sGAGI,WAjCJ,WAkCM,GAAN,yBACQ,GAAR,IACU,OAAV,EACU,KAAV,mBACU,WAAV,SACU,OAAV,kBACU,SAAV,QAIQ,MAAR,cAEQ,KAAR,sDACQ,KAAR,sGAII,MAnDJ,WAmDM,GAAN,OACM,MAAN,UACM,WAAN,WACQ,EAAR,iCACQ,EAAR,gBACA,MAGI,YA3DJ,WA2DM,GAAN,OACM,MAAN,0CACM,WAAN,WACQ,EAAR,cACA,QAGE,QA/GF,WA+GI,GAAJ,OACI,MAAJ,0CACI,WAAJ,WACM,EAAN,cACA,S7B2lHME,IACA,SAAU5wB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,GAC7C,IAAIswB,GAAsC3wB,EAAoB,KAC1D4wB,EAA8C5wB,EAAoByH,EAAEkpB,GACpEE,EAAyC7wB,EAAoB,KAC7D8wB,EAAiD9wB,EAAoByH,EAAEopB,GACvEE,EAA2C/wB,EAAoB,KAC/DgxB,EAAmDhxB,EAAoByH,EAAEspB,GACzEE,EAA0CjxB,EAAoB,KAC9DkxB,EAAkDlxB,EAAoByH,EAAEwpB,E8B1xHjG,YACE,KAAF,OACE,OAAF,MACE,KAHF,WAII,UAGF,YACE,WAAJ,IACI,cAAJ,IACI,gBAAJ,IACI,eAAJ,KAEE,UACE,WADJ,WAEM,MAAN,yBAEI,cAJJ,WAKM,MAAN,yDAGE,QArBF,e9Bu2HME,IACA,SAAUrxB,EAAQ4vB,EAAqB1vB,GAE7C,YACAG,QAAOC,eAAesvB,EAAqB,cAAgBrvB,OAAO,GAC7C,IAAI+wB,GAA0DpxB,EAAoB,KAC9EqxB,EAAkErxB,EAAoByH,EAAE2pB,E+Bn5HjH,YACE,KAAF,YACE,YACE,KAAJ,KAEE,OAAF,MACE,KANF,WAOI,Y/Bm6HEE,IACA,SAAUxxB,EAAQC,EAASC,GgCp7HjCD,EAAUD,EAAOC,QAAU,EAAQ,MAAoC,GAKvEA,EAAQiB,MAAMlB,EAAOwG,EAAI,q0CAAw0C,IAAK,QAAU,EAAE,SAAW,sEAAsE,SAAW,SAAW,q6BAAq6B,KAAO,YAAY,gBAAkB,+pIAAkqI,WAAa,OhC67H5kNirB,IACA,SAAUzxB,EAAQC,EAASC,GiCh8HjC,GAAI+E,GAAU,EAAQ,IACA,iBAAZA,KAAsBA,IAAYjF,EAAOwG,EAAIvB,EAAS,MAC7DA,EAAQysB,SAAQ1xB,EAAOC,QAAUgF,EAAQysB,OAE/B,GAAQ,KAAkD,WAAYzsB,GAAS,IjCy8HtF0sB,IACA,SAAU3xB,EAAQC,EAASC,IkCj9HjC,qBAQE,WA8cA,QAAS6E,GAAM6sB,EAAMC,EAASC,GAC5B,OAAQA,EAAK9wB,QACX,IAAK,GAAG,MAAO4wB,GAAKznB,KAAK0nB,EACzB,KAAK,GAAG,MAAOD,GAAKznB,KAAK0nB,EAASC,EAAK,GACvC,KAAK,GAAG,MAAOF,GAAKznB,KAAK0nB,EAASC,EAAK,GAAIA,EAAK,GAChD,KAAK,GAAG,MAAOF,GAAKznB,KAAK0nB,EAASC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE3D,MAAOF,GAAK7sB,MAAM8sB,EAASC,GAa7B,QAASC,GAAgB9K,EAAO+K,EAAQC,EAAUC,GAIhD,IAHA,GAAI9wB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,SAE9BI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EAClB4wB,GAAOE,EAAa3xB,EAAO0xB,EAAS1xB,GAAQ0mB,GAE9C,MAAOiL,GAYT,QAASC,GAAUlL,EAAOgL,GAIxB,IAHA,GAAI7wB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,SAE9BI,EAAQJ,IAC8B,IAAzCixB,EAAShL,EAAM7lB,GAAQA,EAAO6lB,KAIpC,MAAOA,GAYT,QAASmL,GAAenL,EAAOgL,GAG7B,IAFA,GAAIjxB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,OAEhCA,MAC0C,IAA3CixB,EAAShL,EAAMjmB,GAASA,EAAQimB,KAItC,MAAOA,GAaT,QAASoL,GAAWpL,EAAOqL,GAIzB,IAHA,GAAIlxB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,SAE9BI,EAAQJ,GACf,IAAKsxB,EAAUrL,EAAM7lB,GAAQA,EAAO6lB,GAClC,OAAO,CAGX,QAAO,EAYT,QAASsL,GAAYtL,EAAOqL,GAM1B,IALA,GAAIlxB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,OACnCwxB,EAAW,EACX/oB,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EACdkxB,GAAU/xB,EAAOa,EAAO6lB,KAC1Bxd,EAAO+oB,KAAcjyB,GAGzB,MAAOkJ,GAYT,QAASgpB,GAAcxL,EAAO1mB,GAE5B,SADsB,MAAT0mB,EAAgB,EAAIA,EAAMjmB,SACpB0xB,EAAYzL,EAAO1mB,EAAO,IAAM,EAYrD,QAASoyB,GAAkB1L,EAAO1mB,EAAOqyB,GAIvC,IAHA,GAAIxxB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,SAE9BI,EAAQJ,GACf,GAAI4xB,EAAWryB,EAAO0mB,EAAM7lB,IAC1B,OAAO,CAGX,QAAO,EAYT,QAASyxB,GAAS5L,EAAOgL,GAKvB,IAJA,GAAI7wB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,OACnCyI,EAAS5H,MAAMb,KAEVI,EAAQJ,GACfyI,EAAOrI,GAAS6wB,EAAShL,EAAM7lB,GAAQA,EAAO6lB,EAEhD,OAAOxd,GAWT,QAASqpB,GAAU7L,EAAO8L,GAKxB,IAJA,GAAI3xB,IAAS,EACTJ,EAAS+xB,EAAO/xB,OAChB2qB,EAAS1E,EAAMjmB,SAEVI,EAAQJ,GACfimB,EAAM0E,EAASvqB,GAAS2xB,EAAO3xB,EAEjC,OAAO6lB,GAeT,QAAS+L,GAAY/L,EAAOgL,EAAUC,EAAae,GACjD,GAAI7xB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MAKvC,KAHIiyB,GAAajyB,IACfkxB,EAAcjL,IAAQ7lB,MAEfA,EAAQJ,GACfkxB,EAAcD,EAASC,EAAajL,EAAM7lB,GAAQA,EAAO6lB,EAE3D,OAAOiL,GAeT,QAASgB,GAAiBjM,EAAOgL,EAAUC,EAAae,GACtD,GAAIjyB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MAIvC,KAHIiyB,GAAajyB,IACfkxB,EAAcjL,IAAQjmB,IAEjBA,KACLkxB,EAAcD,EAASC,EAAajL,EAAMjmB,GAASA,EAAQimB,EAE7D,OAAOiL,GAaT,QAASiB,GAAUlM,EAAOqL,GAIxB,IAHA,GAAIlxB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,SAE9BI,EAAQJ,GACf,GAAIsxB,EAAUrL,EAAM7lB,GAAQA,EAAO6lB,GACjC,OAAO,CAGX,QAAO,EAmBT,QAASmM,GAAaC,GACpB,MAAOA,GAAOC,MAAM,IAUtB,QAASC,GAAWF,GAClB,MAAOA,GAAOG,MAAMC,QActB,QAASC,GAAYC,EAAYrB,EAAWsB,GAC1C,GAAInqB,EAOJ,OANAmqB,GAASD,EAAY,SAASpzB,EAAO6H,EAAKurB,GACxC,GAAIrB,EAAU/xB,EAAO6H,EAAKurB,GAExB,MADAlqB,GAASrB,GACF,IAGJqB,EAcT,QAASoqB,GAAc5M,EAAOqL,EAAWwB,EAAWC,GAIlD,IAHA,GAAI/yB,GAASimB,EAAMjmB,OACfI,EAAQ0yB,GAAaC,EAAY,GAAK,GAElCA,EAAY3yB,MAAYA,EAAQJ,GACtC,GAAIsxB,EAAUrL,EAAM7lB,GAAQA,EAAO6lB,GACjC,MAAO7lB,EAGX,QAAQ,EAYV,QAASsxB,GAAYzL,EAAO1mB,EAAOuzB,GACjC,MAAOvzB,KAAUA,EACbyzB,EAAc/M,EAAO1mB,EAAOuzB,GAC5BD,EAAc5M,EAAOgN,EAAWH,GAatC,QAASI,GAAgBjN,EAAO1mB,EAAOuzB,EAAWlB,GAIhD,IAHA,GAAIxxB,GAAQ0yB,EAAY,EACpB9yB,EAASimB,EAAMjmB,SAEVI,EAAQJ,GACf,GAAI4xB,EAAW3L,EAAM7lB,GAAQb,GAC3B,MAAOa,EAGX,QAAQ,EAUV,QAAS6yB,GAAU1zB,GACjB,MAAOA,KAAUA,EAYnB,QAAS4zB,GAASlN,EAAOgL,GACvB,GAAIjxB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAOA,GAAUozB,EAAQnN,EAAOgL,GAAYjxB,EAAUqzB,GAUxD,QAASC,GAAalsB,GACpB,MAAO,UAASmsB,GACd,MAAiB,OAAVA,EAAiBnqB,GAAYmqB,EAAOnsB,IAW/C,QAASosB,GAAeD,GACtB,MAAO,UAASnsB,GACd,MAAiB,OAAVmsB,EAAiBnqB,GAAYmqB,EAAOnsB,IAiB/C,QAASqsB,GAAWd,EAAY1B,EAAUC,EAAae,EAAWW,GAMhE,MALAA,GAASD,EAAY,SAASpzB,EAAOa,EAAOuyB,GAC1CzB,EAAce,GACTA,GAAY,EAAO1yB,GACpB0xB,EAASC,EAAa3xB,EAAOa,EAAOuyB,KAEnCzB,EAaT,QAASwC,GAAWzN,EAAO0N,GACzB,GAAI3zB,GAASimB,EAAMjmB,MAGnB,KADAimB,EAAM2N,KAAKD,GACJ3zB,KACLimB,EAAMjmB,GAAUimB,EAAMjmB,GAAQT,KAEhC,OAAO0mB,GAYT,QAASmN,GAAQnN,EAAOgL,GAKtB,IAJA,GAAIxoB,GACArI,GAAS,EACTJ,EAASimB,EAAMjmB,SAEVI,EAAQJ,GAAQ,CACvB,GAAI6zB,GAAU5C,EAAShL,EAAM7lB,GACzByzB,KAAYzqB,KACdX,EAASA,IAAWW,GAAYyqB,EAAWprB,EAASorB,GAGxD,MAAOprB,GAYT,QAASqrB,GAAUntB,EAAGsqB,GAIpB,IAHA,GAAI7wB,IAAS,EACTqI,EAAS5H,MAAM8F,KAEVvG,EAAQuG,GACf8B,EAAOrI,GAAS6wB,EAAS7wB,EAE3B,OAAOqI,GAYT,QAASsrB,GAAYR,EAAQS,GAC3B,MAAOnC,GAASmC,EAAO,SAAS5sB,GAC9B,OAAQA,EAAKmsB,EAAOnsB,MAWxB,QAAS6sB,GAAUrD,GACjB,MAAO,UAASrxB,GACd,MAAOqxB,GAAKrxB,IAchB,QAAS20B,GAAWX,EAAQS,GAC1B,MAAOnC,GAASmC,EAAO,SAAS5sB,GAC9B,MAAOmsB,GAAOnsB,KAYlB,QAAS+sB,GAASC,EAAOhtB,GACvB,MAAOgtB,GAAMC,IAAIjtB,GAYnB,QAASktB,GAAgBC,EAAYC,GAInC,IAHA,GAAIp0B,IAAS,EACTJ,EAASu0B,EAAWv0B,SAEfI,EAAQJ,GAAU0xB,EAAY8C,EAAYD,EAAWn0B,GAAQ,IAAM,IAC5E,MAAOA,GAYT,QAASq0B,GAAcF,EAAYC,GAGjC,IAFA,GAAIp0B,GAAQm0B,EAAWv0B,OAEhBI,KAAWsxB,EAAY8C,EAAYD,EAAWn0B,GAAQ,IAAM,IACnE,MAAOA,GAWT,QAASs0B,GAAazO,EAAO0O,GAI3B,IAHA,GAAI30B,GAASimB,EAAMjmB,OACfyI,EAAS,EAENzI,KACDimB,EAAMjmB,KAAY20B,KAClBlsB,CAGN,OAAOA,GA6BT,QAASmsB,GAAiBC,GACxB,MAAO,KAAOC,GAAcD,GAW9B,QAASE,GAASxB,EAAQnsB,GACxB,MAAiB,OAAVmsB,EAAiBnqB,GAAYmqB,EAAOnsB,GAU7C,QAAS4tB,GAAW3C,GAClB,MAAO4C,IAAa/qB,KAAKmoB,GAU3B,QAAS6C,GAAe7C,GACtB,MAAO8C,IAAiBjrB,KAAKmoB,GAU/B,QAAS+C,GAAgBrV,GAIvB,IAHA,GAAI9Y,GACAwB,OAEKxB,EAAO8Y,EAASa,QAAQyU,MAC/B5sB,EAAOvI,KAAK+G,EAAK1H,MAEnB,OAAOkJ,GAUT,QAAS6sB,GAAWC,GAClB,GAAIn1B,IAAS,EACTqI,EAAS5H,MAAM00B,EAAIre,KAKvB,OAHAqe,GAAIz1B,QAAQ,SAASP,EAAO6H,GAC1BqB,IAASrI,IAAUgH,EAAK7H,KAEnBkJ,EAWT,QAAS+sB,GAAQ5E,EAAM6E,GACrB,MAAO,UAASC,GACd,MAAO9E,GAAK6E,EAAUC,KAa1B,QAASC,GAAe1P,EAAO0O,GAM7B,IALA,GAAIv0B,IAAS,EACTJ,EAASimB,EAAMjmB,OACfwxB,EAAW,EACX/oB,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EACdb,KAAUo1B,GAAep1B,IAAUq2B,KACrC3P,EAAM7lB,GAASw1B,GACfntB,EAAO+oB,KAAcpxB,GAGzB,MAAOqI,GAUT,QAASotB,GAAWjwB,GAClB,GAAIxF,IAAS,EACTqI,EAAS5H,MAAM+E,EAAIsR,KAKvB,OAHAtR,GAAI9F,QAAQ,SAASP,GACnBkJ,IAASrI,GAASb,IAEbkJ,EAUT,QAASqtB,GAAWlwB,GAClB,GAAIxF,IAAS,EACTqI,EAAS5H,MAAM+E,EAAIsR,KAKvB,OAHAtR,GAAI9F,QAAQ,SAASP,GACnBkJ,IAASrI,IAAUb,EAAOA,KAErBkJ,EAaT,QAASuqB,GAAc/M,EAAO1mB,EAAOuzB,GAInC,IAHA,GAAI1yB,GAAQ0yB,EAAY,EACpB9yB,EAASimB,EAAMjmB,SAEVI,EAAQJ,GACf,GAAIimB,EAAM7lB,KAAWb,EACnB,MAAOa,EAGX,QAAQ,EAaV,QAAS21B,GAAkB9P,EAAO1mB,EAAOuzB,GAEvC,IADA,GAAI1yB,GAAQ0yB,EAAY,EACjB1yB,KACL,GAAI6lB,EAAM7lB,KAAWb,EACnB,MAAOa,EAGX,OAAOA,GAUT,QAAS41B,GAAW3D,GAClB,MAAO2C,GAAW3C,GACd4D,EAAY5D,GACZ6D,GAAU7D,GAUhB,QAAS8D,GAAc9D,GACrB,MAAO2C,GAAW3C,GACd+D,GAAe/D,GACfD,EAAaC,GAmBnB,QAAS4D,GAAY5D,GAEnB,IADA,GAAI5pB,GAAS4tB,GAAUC,UAAY,EAC5BD,GAAUnsB,KAAKmoB,MAClB5pB,CAEJ,OAAOA,GAUT,QAAS2tB,IAAe/D,GACtB,MAAOA,GAAOG,MAAM6D,QAUtB,QAASE,IAAalE,GACpB,MAAOA,GAAOG,MAAMgE,QAh1CtB,GAAIptB,IAMAqtB,GAAmB,IAGnBC,GAAkB,kEAClBC,GAAkB,sBAGlBC,GAAiB,4BAGjBC,GAAmB,IAGnBjB,GAAc,yBAGdkB,GAAkB,EAClBC,GAAkB,EAClBC,GAAqB,EAGrBC,GAAuB,EACvBC,GAAyB,EAGzBC,GAAiB,EACjBC,GAAqB,EACrBC,GAAwB,EACxBC,GAAkB,EAClBC,GAAwB,GACxBC,GAAoB,GACpBC,GAA0B,GAC1BC,GAAgB,IAChBC,GAAkB,IAClBC,GAAiB,IAGjBC,GAAuB,GACvBC,GAAyB,MAGzBC,GAAY,IACZC,GAAW,GAGXC,GAAmB,EACnBC,GAAgB,EAIhBC,GAAW,IACXC,GAAmB,iBACnBC,GAAc,uBACdhF,GAAM,IAGNiF,GAAmB,WACnBC,GAAkBD,GAAmB,EACrCE,GAAwBF,KAAqB,EAG7CG,KACD,MAAOf,KACP,OAAQP,KACR,UAAWC,KACX,QAASE,KACT,aAAcC,KACd,OAAQK,KACR,UAAWJ,KACX,eAAgBC,KAChB,QAASE,KAIRe,GAAU,qBACVC,GAAW,iBACXC,GAAW,yBACXC,GAAU,mBACVC,GAAU,gBACVC,GAAY,wBACZC,GAAW,iBACXC,GAAU,oBACVC,GAAS,6BACTC,GAAS,eACTC,GAAY,kBACZC,GAAU,gBACVC,GAAY,kBAEZC,GAAW,iBACXC,GAAY,kBACZC,GAAS,eACTC,GAAY,kBACZC,GAAY,kBACZC,GAAe,qBACfC,GAAa,mBACbC,GAAa,mBAEbC,GAAiB,uBACjBC,GAAc,oBACdC,GAAa,wBACbC,GAAa,wBACbC,GAAU,qBACVC,GAAW,sBACXC,GAAW,sBACXC,GAAW,sBACXC,GAAkB,6BAClBC,GAAY,uBACZC,GAAY,uBAGZC,GAAuB,iBACvBC,GAAsB,qBACtBC,GAAwB,gCAGxBC,GAAgB,4BAChBC,GAAkB,WAClBC,GAAmBC,OAAOH,GAAcI,QACxCC,GAAqBF,OAAOF,GAAgBG,QAG5CE,GAAW,mBACXC,GAAa,kBACbC,GAAgB,mBAGhBC,GAAe,mDACfC,GAAgB,QAChBC,GAAa,mGAMbC,GAAe,sBACfC,GAAkBV,OAAOS,GAAaR,QAGtCU,GAAS,aACTC,GAAc,OACdC,GAAY,OAGZC,GAAgB,4CAChBC,GAAgB,oCAChBC,GAAiB,QAGjBvJ,GAAc,4CAGdwJ,GAAe,WAMfC,GAAe,kCAGfC,GAAU,OAGVC,GAAa,qBAGbC,GAAa,aAGbC,GAAe,8BAGfC,GAAY,cAGZC,GAAW,mBAGXC,GAAU,8CAGVC,GAAY,OAGZC,GAAoB,yBAOpBC,GAAeC,gDASfC,GAAeC,8OAKfC,GAAU,IAAMF,GAAe,IAC/BG,GAAU,IAAML,GAAe,IAG/BM,GAAU,8BACVC,GAAS,oBAAuBL,GAHrB,yEAIXM,GAAS,2BAGTC,GAAa,kCACbC,GAAa,qCACbC,GAAU,8BAIVC,GAAc,MAAQN,GAAU,IAAMC,GAAS,IAI/CM,GAAWC,gFAEXC,GAAY,iBAbE,qBAaoCN,GAAYC,IAAY/nB,KAAK,KAAO,qBAAiBkoB,GAAW,KAGlHG,GAJW,oBAIQH,GAAWE,GAC9BE,GAAU,OAtBE,oBAsBkBR,GAAYC,IAAY/nB,KAAK,KAAO,IAAMqoB,GACxEE,GAAW,OAlBG,qBAkBoBb,GAAU,IAAKA,GAASI,GAAYC,GA3B3D,qBA2BiF/nB,KAAK,KAAO,IAGxGwoB,GAAS/C,OA/BA,OA+Be,KAMxBgD,GAAchD,OAAOiC,GAAS,KAG9B5G,GAAY2E,OAAOoC,GAAS,MAAQA,GAAS,KAAOU,GAAWF,GAAO,KAGtEpH,GAAgBwE,QAClBuC,GAAU,IAAML,GAAU,qCAAiCF,GAASO,GAAS,KAAKhoB,KAAK,KAAO,IAC9F0oB,uYAA+CjB,GAASO,GAAUC,GAAa,KAAKjoB,KAAK,KAAO,IAChGgoB,GAAU,IAAMC,GAAc,iCAC9BD,GAAU,iCAtBK,mDADA,mDApBF,OA+CbM,IACAtoB,KAAK,KAAM,KAGT0f,GAAe+F,OAAO,0BAA+B4B,GA3DxC,mBA8DbzH,GAAmB,qEAGnB+I,IACF,QAAS,SAAU,WAAY,OAAQ,QAAS,eAAgB,eAChE,WAAY,YAAa,aAAc,aAAc,MAAO,OAAQ,SACpE,UAAW,SAAU,MAAO,SAAU,SAAU,YAAa,aAC7D,oBAAqB,cAAe,cAAe,UACnD,IAAK,eAAgB,WAAY,WAAY,cAI3CC,IAAmB,EAGnBC,KACJA,IAAenE,IAAcmE,GAAelE,IAC5CkE,GAAejE,IAAWiE,GAAehE,IACzCgE,GAAe/D,IAAY+D,GAAe9D,IAC1C8D,GAAe7D,IAAmB6D,GAAe5D,IACjD4D,GAAe3D,KAAa,EAC5B2D,GAAe1F,IAAW0F,GAAezF,IACzCyF,GAAerE,IAAkBqE,GAAevF,IAChDuF,GAAepE,IAAeoE,GAAetF,IAC7CsF,GAAepF,IAAYoF,GAAenF,IAC1CmF,GAAejF,IAAUiF,GAAehF,IACxCgF,GAAe9E,IAAa8E,GAAe5E,IAC3C4E,GAAe3E,IAAU2E,GAAe1E,IACxC0E,GAAevE,KAAc,CAG7B,IAAIwE,MACJA,IAAc3F,IAAW2F,GAAc1F,IACvC0F,GAActE,IAAkBsE,GAAcrE,IAC9CqE,GAAcxF,IAAWwF,GAAcvF,IACvCuF,GAAcpE,IAAcoE,GAAcnE,IAC1CmE,GAAclE,IAAWkE,GAAcjE,IACvCiE,GAAchE,IAAYgE,GAAclF,IACxCkF,GAAcjF,IAAaiF,GAAc/E,IACzC+E,GAAc7E,IAAa6E,GAAc5E,IACzC4E,GAAc3E,IAAa2E,GAAc1E,IACzC0E,GAAc/D,IAAY+D,GAAc9D,IACxC8D,GAAc7D,IAAa6D,GAAc5D,KAAa,EACtD4D,GAAcrF,IAAYqF,GAAcpF,IACxCoF,GAAcxE,KAAc,CAG5B,IAAIyE,KAEF,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAC1E,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAC1E,IAAQ,IAAM,IAAQ,IACtB,IAAQ,IAAM,IAAQ,IACtB,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IACtB,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAC1E,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAC1E,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IAAK,IAAQ,IAChD,IAAQ,IAAM,IAAQ,IAAK,IAAQ,IACnC,IAAQ,KAAM,IAAQ,KACtB,IAAQ,KAAM,IAAQ,KACtB,IAAQ,KAER,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,KAAM,IAAU,KAC1B,IAAU,KAAM,IAAU,KAC1B,IAAU,KAAM,IAAU,KAIxBC,IACF,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,SAIHC,IACF,QAAS,IACT,OAAQ,IACR,OAAQ,IACR,SAAU,IACV,QAAS,KAIP1J,IACF,KAAM,KACN,IAAK,IACL,KAAM,IACN,KAAM,IACN,SAAU,QACV,SAAU,SAIR2J,GAAiBC,WACjBC,GAAet3B,SAGfu3B,GAA8B,gBAAVC,IAAsBA,GAAUA,EAAOx/B,SAAWA,QAAUw/B,EAGhFC,GAA0B,gBAARC,OAAoBA,MAAQA,KAAK1/B,SAAWA,QAAU0/B,KAGxEC,GAAOJ,IAAcE,IAAYG,SAAS,iBAG1CC,GAAgC,gBAAXjgC,IAAuBA,IAAYA,EAAQkgC,UAAYlgC,EAG5EmgC,GAAaF,IAAgC,gBAAVlgC,IAAsBA,IAAWA,EAAOmgC,UAAYngC,EAGvFqgC,GAAgBD,IAAcA,GAAWngC,UAAYigC,GAGrDI,GAAcD,IAAiBT,GAAWW,QAG1CC,GAAY,WACd,IAEE,GAAIC,GAAQL,IAAcA,GAAWM,SAAWN,GAAWM,QAAQ,QAAQD,KAE3E,OAAIA,IAKGH,IAAeA,GAAYK,SAAWL,GAAYK,QAAQ,QACjE,MAAO9b,QAIP+b,GAAoBJ,IAAYA,GAASK,cACzCC,GAAaN,IAAYA,GAASO,OAClCC,GAAYR,IAAYA,GAASS,MACjCC,GAAeV,IAAYA,GAASW,SACpCC,GAAYZ,IAAYA,GAASa,MACjCC,GAAmBd,IAAYA,GAASe,aA2RxCrK,GAAY5C,EAAa,UAsWzBkN,GAAehN,EAAe8K,IAS9BmC,GAAiBjN,EAAe+K,IAqOhCmC,GAAmBlN,EAAegL,IAq4elCmC,GA/zee,QAAUC,GAAalX,GAkPxC,QAASmX,GAAOthC,GACd,GAAIuhC,GAAavhC,KAAWwhC,GAAQxhC,MAAYA,YAAiByhC,IAAc,CAC7E,GAAIzhC,YAAiB0hC,GACnB,MAAO1hC,EAET,IAAIwB,GAAeoI,KAAK5J,EAAO,eAC7B,MAAO2hC,IAAa3hC,GAGxB,MAAO,IAAI0hC,GAAc1hC,GAgC3B,QAAS4hC,MAWT,QAASF,GAAc1hC,EAAO6hC,GAC5B3hC,KAAK4hC,YAAc9hC,EACnBE,KAAK6hC,eACL7hC,KAAK8hC,YAAcH,EACnB3hC,KAAK+hC,UAAY,EACjB/hC,KAAKgiC,WAAar4B,GAgFpB,QAAS43B,GAAYzhC,GACnBE,KAAK4hC,YAAc9hC,EACnBE,KAAK6hC,eACL7hC,KAAKiiC,QAAU,EACfjiC,KAAKkiC,cAAe,EACpBliC,KAAKmiC,iBACLniC,KAAKoiC,cAAgBvJ,GACrB74B,KAAKqiC,aAWP,QAASC,KACP,GAAIt5B,GAAS,GAAIu4B,GAAYvhC,KAAK4hC,YAOlC,OANA54B,GAAO64B,YAAcU,GAAUviC,KAAK6hC,aACpC74B,EAAOi5B,QAAUjiC,KAAKiiC,QACtBj5B,EAAOk5B,aAAeliC,KAAKkiC,aAC3Bl5B,EAAOm5B,cAAgBI,GAAUviC,KAAKmiC,eACtCn5B,EAAOo5B,cAAgBpiC,KAAKoiC,cAC5Bp5B,EAAOq5B,UAAYE,GAAUviC,KAAKqiC,WAC3Br5B,EAWT,QAASw5B,KACP,GAAIxiC,KAAKkiC,aAAc,CACrB,GAAIl5B,GAAS,GAAIu4B,GAAYvhC,KAC7BgJ,GAAOi5B,SAAW,EAClBj5B,EAAOk5B,cAAe,MAEtBl5B,GAAShJ,KAAK8C,QACdkG,EAAOi5B,UAAY,CAErB,OAAOj5B,GAWT,QAASy5B,KACP,GAAIjc,GAAQxmB,KAAK4hC,YAAY9hC,QACzB4iC,EAAM1iC,KAAKiiC,QACXU,EAAQrB,GAAQ9a,GAChBoc,EAAUF,EAAM,EAChBG,EAAYF,EAAQnc,EAAMjmB,OAAS,EACnCuiC,EAAOC,GAAQ,EAAGF,EAAW7iC,KAAKqiC,WAClCh7B,EAAQy7B,EAAKz7B,MACbC,EAAMw7B,EAAKx7B,IACX/G,EAAS+G,EAAMD,EACf1G,EAAQiiC,EAAUt7B,EAAOD,EAAQ,EACjC27B,EAAYhjC,KAAKmiC,cACjBc,EAAaD,EAAUziC,OACvBwxB,EAAW,EACXmR,EAAYC,GAAU5iC,EAAQP,KAAKoiC,cAEvC,KAAKO,IAAWC,GAAWC,GAAatiC,GAAU2iC,GAAa3iC,EAC7D,MAAO6iC,IAAiB5c,EAAOxmB,KAAK6hC,YAEtC,IAAI74B,KAEJq6B,GACA,KAAO9iC,KAAYwxB,EAAWmR,GAAW,CACvCviC,GAAS+hC,CAKT,KAHA,GAAIY,IAAa,EACbxjC,EAAQ0mB,EAAM7lB,KAET2iC,EAAYL,GAAY,CAC/B,GAAIz7B,GAAOw7B,EAAUM,GACjB9R,EAAWhqB,EAAKgqB,SAChBrmB,EAAO3D,EAAK2D,KACZo4B,EAAW/R,EAAS1xB,EAExB,IAAIqL,GAAQstB,GACV34B,EAAQyjC,MACH,KAAKA,EAAU,CACpB,GAAIp4B,GAAQqtB,GACV,QAAS6K,EAET,MAAMA,IAIZr6B,EAAO+oB,KAAcjyB,EAEvB,MAAOkJ,GAgBT,QAASw6B,IAAKC,GACZ,GAAI9iC,IAAS,EACTJ,EAAoB,MAAXkjC,EAAkB,EAAIA,EAAQljC,MAG3C,KADAP,KAAKqX,UACI1W,EAAQJ,GAAQ,CACvB,GAAI6oB,GAAQqa,EAAQ9iC,EACpBX,MAAKmG,IAAIijB,EAAM,GAAIA,EAAM,KAW7B,QAASsa,MACP1jC,KAAK2jC,SAAWC,GAAeA,GAAa,SAC5C5jC,KAAKyX,KAAO,EAad,QAASosB,IAAWl8B,GAClB,GAAIqB,GAAShJ,KAAK40B,IAAIjtB,UAAe3H,MAAK2jC,SAASh8B,EAEnD,OADA3H,MAAKyX,MAAQzO,EAAS,EAAI,EACnBA,EAYT,QAAS86B,IAAQn8B,GACf,GAAIH,GAAOxH,KAAK2jC,QAChB,IAAIC,GAAc,CAChB,GAAI56B,GAASxB,EAAKG,EAClB,OAAOqB,KAAWmuB,GAAiBxtB,GAAYX,EAEjD,MAAO1H,IAAeoI,KAAKlC,EAAMG,GAAOH,EAAKG,GAAOgC,GAYtD,QAASo6B,IAAQp8B,GACf,GAAIH,GAAOxH,KAAK2jC,QAChB,OAAOC,IAAgBp8B,EAAKG,KAASgC,GAAarI,GAAeoI,KAAKlC,EAAMG,GAa9E,QAASq8B,IAAQr8B,EAAK7H,GACpB,GAAI0H,GAAOxH,KAAK2jC,QAGhB,OAFA3jC,MAAKyX,MAAQzX,KAAK40B,IAAIjtB,GAAO,EAAI,EACjCH,EAAKG,GAAQi8B,IAAgB9jC,IAAU6J,GAAawtB,GAAiBr3B,EAC9DE,KAmBT,QAASikC,IAAUR,GACjB,GAAI9iC,IAAS,EACTJ,EAAoB,MAAXkjC,EAAkB,EAAIA,EAAQljC,MAG3C,KADAP,KAAKqX,UACI1W,EAAQJ,GAAQ,CACvB,GAAI6oB,GAAQqa,EAAQ9iC,EACpBX,MAAKmG,IAAIijB,EAAM,GAAIA,EAAM,KAW7B,QAAS8a,MACPlkC,KAAK2jC,YACL3jC,KAAKyX,KAAO,EAYd,QAAS0sB,IAAgBx8B,GACvB,GAAIH,GAAOxH,KAAK2jC,SACZhjC,EAAQyjC,GAAa58B,EAAMG,EAE/B,SAAIhH,EAAQ,KAIRA,GADY6G,EAAKjH,OAAS,EAE5BiH,EAAKyU,MAELpb,GAAO6I,KAAKlC,EAAM7G,EAAO,KAEzBX,KAAKyX,MACA,GAYT,QAAS4sB,IAAa18B,GACpB,GAAIH,GAAOxH,KAAK2jC,SACZhjC,EAAQyjC,GAAa58B,EAAMG,EAE/B,OAAOhH,GAAQ,EAAIgJ,GAAYnC,EAAK7G,GAAO,GAY7C,QAAS2jC,IAAa38B,GACpB,MAAOy8B,IAAapkC,KAAK2jC,SAAUh8B,IAAQ,EAa7C,QAAS48B,IAAa58B,EAAK7H,GACzB,GAAI0H,GAAOxH,KAAK2jC,SACZhjC,EAAQyjC,GAAa58B,EAAMG,EAQ/B,OANIhH,GAAQ,KACRX,KAAKyX,KACPjQ,EAAK/G,MAAMkH,EAAK7H,KAEhB0H,EAAK7G,GAAO,GAAKb,EAEZE,KAmBT,QAASwkC,IAASf,GAChB,GAAI9iC,IAAS,EACTJ,EAAoB,MAAXkjC,EAAkB,EAAIA,EAAQljC,MAG3C,KADAP,KAAKqX,UACI1W,EAAQJ,GAAQ,CACvB,GAAI6oB,GAAQqa,EAAQ9iC,EACpBX,MAAKmG,IAAIijB,EAAM,GAAIA,EAAM,KAW7B,QAASqb,MACPzkC,KAAKyX,KAAO,EACZzX,KAAK2jC,UACH,KAAQ,GAAIH,IACZ,IAAO,IAAKkB,IAAOT,IACnB,OAAU,GAAIT,KAalB,QAASmB,IAAeh9B,GACtB,GAAIqB,GAAS47B,GAAW5kC,KAAM2H,GAAa,OAAEA,EAE7C,OADA3H,MAAKyX,MAAQzO,EAAS,EAAI,EACnBA,EAYT,QAAS67B,IAAYl9B,GACnB,MAAOi9B,IAAW5kC,KAAM2H,GAAK1B,IAAI0B,GAYnC,QAASm9B,IAAYn9B,GACnB,MAAOi9B,IAAW5kC,KAAM2H,GAAKitB,IAAIjtB,GAanC,QAASo9B,IAAYp9B,EAAK7H,GACxB,GAAI0H,GAAOo9B,GAAW5kC,KAAM2H,GACxB8P,EAAOjQ,EAAKiQ,IAIhB,OAFAjQ,GAAKrB,IAAIwB,EAAK7H,GACdE,KAAKyX,MAAQjQ,EAAKiQ,MAAQA,EAAO,EAAI,EAC9BzX,KAoBT,QAASglC,IAAS1S,GAChB,GAAI3xB,IAAS,EACTJ,EAAmB,MAAV+xB,EAAiB,EAAIA,EAAO/xB,MAGzC,KADAP,KAAK2jC,SAAW,GAAIa,MACX7jC,EAAQJ,GACfP,KAAKuR,IAAI+gB,EAAO3xB,IAcpB,QAASskC,IAAYnlC,GAEnB,MADAE,MAAK2jC,SAASx9B,IAAIrG,EAAOq3B,IAClBn3B,KAYT,QAASklC,IAAYplC,GACnB,MAAOE,MAAK2jC,SAAS/O,IAAI90B,GAgB3B,QAASqlC,IAAM1B,GACb,GAAIj8B,GAAOxH,KAAK2jC,SAAW,GAAIM,IAAUR,EACzCzjC,MAAKyX,KAAOjQ,EAAKiQ,KAUnB,QAAS2tB,MACPplC,KAAK2jC,SAAW,GAAIM,IACpBjkC,KAAKyX,KAAO,EAYd,QAAS4tB,IAAY19B,GACnB,GAAIH,GAAOxH,KAAK2jC,SACZ36B,EAASxB,EAAa,OAAEG,EAG5B,OADA3H,MAAKyX,KAAOjQ,EAAKiQ,KACVzO,EAYT,QAASs8B,IAAS39B,GAChB,MAAO3H,MAAK2jC,SAAS19B,IAAI0B,GAY3B,QAAS49B,IAAS59B,GAChB,MAAO3H,MAAK2jC,SAAS/O,IAAIjtB,GAa3B,QAAS69B,IAAS79B,EAAK7H,GACrB,GAAI0H,GAAOxH,KAAK2jC,QAChB,IAAIn8B,YAAgBy8B,IAAW,CAC7B,GAAIwB,GAAQj+B,EAAKm8B,QACjB,KAAKe,IAAQe,EAAMllC,OAASy2B,GAAmB,EAG7C,MAFAyO,GAAMhlC,MAAMkH,EAAK7H,IACjBE,KAAKyX,OAASjQ,EAAKiQ,KACZzX,IAETwH,GAAOxH,KAAK2jC,SAAW,GAAIa,IAASiB,GAItC,MAFAj+B,GAAKrB,IAAIwB,EAAK7H,GACdE,KAAKyX,KAAOjQ,EAAKiQ,KACVzX,KAoBT,QAAS0lC,IAAc5lC,EAAO6lC,GAC5B,GAAIhD,GAAQrB,GAAQxhC,GAChB8lC,GAASjD,GAASkD,GAAY/lC,GAC9BgmC,GAAUnD,IAAUiD,GAASG,GAASjmC,GACtCkmC,GAAUrD,IAAUiD,IAAUE,GAAUhF,GAAahhC,GACrDmmC,EAActD,GAASiD,GAASE,GAAUE,EAC1Ch9B,EAASi9B,EAAc5R,EAAUv0B,EAAMS,OAAQwW,OAC/CxW,EAASyI,EAAOzI,MAEpB,KAAK,GAAIoH,KAAO7H,IACT6lC,IAAarkC,GAAeoI,KAAK5J,EAAO6H,IACvCs+B,IAEQ,UAAPt+B,GAECm+B,IAAkB,UAAPn+B,GAA0B,UAAPA,IAE9Bq+B,IAAkB,UAAPr+B,GAA0B,cAAPA,GAA8B,cAAPA,IAEtDu+B,GAAQv+B,EAAKpH,KAElByI,EAAOvI,KAAKkH,EAGhB,OAAOqB,GAUT,QAASm9B,IAAY3f,GACnB,GAAIjmB,GAASimB,EAAMjmB,MACnB,OAAOA,GAASimB,EAAM4f,GAAW,EAAG7lC,EAAS,IAAMoJ,GAWrD,QAAS08B,IAAgB7f,EAAOtf,GAC9B,MAAOo/B,IAAY/D,GAAU/b,GAAQ+f,GAAUr/B,EAAG,EAAGsf,EAAMjmB,SAU7D,QAASimC,IAAahgB,GACpB,MAAO8f,IAAY/D,GAAU/b,IAY/B,QAASigB,IAAiB3S,EAAQnsB,EAAK7H,IAChCA,IAAU6J,IAAc+8B,GAAG5S,EAAOnsB,GAAM7H,MACxCA,IAAU6J,IAAehC,IAAOmsB,KACnC6S,GAAgB7S,EAAQnsB,EAAK7H,GAcjC,QAAS8mC,IAAY9S,EAAQnsB,EAAK7H,GAChC,GAAI+mC,GAAW/S,EAAOnsB,EAChBrG,IAAeoI,KAAKoqB,EAAQnsB,IAAQ++B,GAAGG,EAAU/mC,KAClDA,IAAU6J,IAAehC,IAAOmsB,KACnC6S,GAAgB7S,EAAQnsB,EAAK7H,GAYjC,QAASskC,IAAa5d,EAAO7e,GAE3B,IADA,GAAIpH,GAASimB,EAAMjmB,OACZA,KACL,GAAImmC,GAAGlgB,EAAMjmB,GAAQ,GAAIoH,GACvB,MAAOpH,EAGX,QAAQ,EAcV,QAASumC,IAAe5T,EAAY3B,EAAQC,EAAUC,GAIpD,MAHAsV,IAAS7T,EAAY,SAASpzB,EAAO6H,EAAKurB,GACxC3B,EAAOE,EAAa3xB,EAAO0xB,EAAS1xB,GAAQozB,KAEvCzB,EAYT,QAASuV,IAAWlT,EAAQ0H,GAC1B,MAAO1H,IAAUmT,GAAWzL,EAAQ9zB,GAAK8zB,GAAS1H,GAYpD,QAASoT,IAAapT,EAAQ0H,GAC5B,MAAO1H,IAAUmT,GAAWzL,EAAQ2L,GAAO3L,GAAS1H,GAYtD,QAAS6S,IAAgB7S,EAAQnsB,EAAK7H,GACzB,aAAP6H,GAAsB9H,GACxBA,GAAei0B,EAAQnsB,GACrB,cAAgB,EAChB,YAAc,EACd,MAAS7H,EACT,UAAY,IAGdg0B,EAAOnsB,GAAO7H,EAYlB,QAASsnC,IAAOtT,EAAQuT,GAMtB,IALA,GAAI1mC,IAAS,EACTJ,EAAS8mC,EAAM9mC,OACfyI,EAAS5H,GAAMb,GACf+mC,EAAiB,MAAVxT,IAEFnzB,EAAQJ,GACfyI,EAAOrI,GAAS2mC,EAAO39B,GAAY1D,GAAI6tB,EAAQuT,EAAM1mC,GAEvD,OAAOqI,GAYT,QAASu9B,IAAUgB,EAAQC,EAAOC,GAShC,MARIF,KAAWA,IACTE,IAAU99B,KACZ49B,EAASA,GAAUE,EAAQF,EAASE,GAElCD,IAAU79B,KACZ49B,EAASA,GAAUC,EAAQD,EAASC,IAGjCD,EAmBT,QAASG,IAAU5nC,EAAO6nC,EAASC,EAAYjgC,EAAKmsB,EAAQ+T,GAC1D,GAAI7+B,GACA8+B,EAASH,EAAUtQ,GACnB0Q,EAASJ,EAAUrQ,GACnB0Q,EAASL,EAAUpQ,EAKvB,IAHIqQ,IACF5+B,EAAS8qB,EAAS8T,EAAW9nC,EAAO6H,EAAKmsB,EAAQ+T,GAASD,EAAW9nC,IAEnEkJ,IAAWW,GACb,MAAOX,EAET,KAAKi/B,GAASnoC,GACZ,MAAOA,EAET,IAAI6iC,GAAQrB,GAAQxhC,EACpB,IAAI6iC,GAEF,GADA35B,EAASk/B,GAAepoC,IACnBgoC,EACH,MAAOvF,IAAUziC,EAAOkJ,OAErB,CACL,GAAIm/B,GAAMC,GAAOtoC,GACbuoC,EAASF,GAAO3O,IAAW2O,GAAO1O,EAEtC,IAAIsM,GAASjmC,GACX,MAAOwoC,IAAYxoC,EAAOgoC,EAE5B,IAAIK,GAAOtO,IAAasO,GAAOlP,IAAYoP,IAAWvU,GAEpD,GADA9qB,EAAU++B,GAAUM,KAAeE,GAAgBzoC,IAC9CgoC,EACH,MAAOC,GACHS,GAAc1oC,EAAOonC,GAAal+B,EAAQlJ,IAC1C2oC,GAAY3oC,EAAOknC,GAAWh+B,EAAQlJ,QAEvC,CACL,IAAK8+B,GAAcuJ,GACjB,MAAOrU,GAASh0B,IAElBkJ,GAAS0/B,GAAe5oC,EAAOqoC,EAAKL,IAIxCD,IAAUA,EAAQ,GAAI1C,IACtB,IAAIwD,GAAUd,EAAM5hC,IAAInG,EACxB,IAAI6oC,EACF,MAAOA,EAETd,GAAM1hC,IAAIrG,EAAOkJ,GAEb43B,GAAM9gC,GACRA,EAAMO,QAAQ,SAASuoC,GACrB5/B,EAAOuI,IAAIm2B,GAAUkB,EAAUjB,EAASC,EAAYgB,EAAU9oC,EAAO+nC,MAE9DrH,GAAM1gC,IACfA,EAAMO,QAAQ,SAASuoC,EAAUjhC,GAC/BqB,EAAO7C,IAAIwB,EAAK+/B,GAAUkB,EAAUjB,EAASC,EAAYjgC,EAAK7H,EAAO+nC,KAIzE,IAAIgB,GAAWb,EACVD,EAASe,GAAeC,GACxBhB,EAASZ,GAASz/B,GAEnB6sB,EAAQoO,EAAQh5B,GAAYk/B,EAAS/oC,EASzC,OARA4xB,GAAU6C,GAASz0B,EAAO,SAAS8oC,EAAUjhC,GACvC4sB,IACF5sB,EAAMihC,EACNA,EAAW9oC,EAAM6H,IAGnBi/B,GAAY59B,EAAQrB,EAAK+/B,GAAUkB,EAAUjB,EAASC,EAAYjgC,EAAK7H,EAAO+nC,MAEzE7+B,EAUT,QAASggC,IAAaxN,GACpB,GAAIjH,GAAQ7sB,GAAK8zB,EACjB,OAAO,UAAS1H,GACd,MAAOmV,IAAenV,EAAQ0H,EAAQjH,IAY1C,QAAS0U,IAAenV,EAAQ0H,EAAQjH,GACtC,GAAIh0B,GAASg0B,EAAMh0B,MACnB,IAAc,MAAVuzB,EACF,OAAQvzB,CAGV,KADAuzB,EAASl0B,GAAOk0B,GACTvzB,KAAU,CACf,GAAIoH,GAAM4sB,EAAMh0B,GACZsxB,EAAY2J,EAAO7zB,GACnB7H,EAAQg0B,EAAOnsB,EAEnB,IAAK7H,IAAU6J,MAAehC,IAAOmsB,MAAajC,EAAU/xB,GAC1D,OAAO,EAGX,OAAO,EAaT,QAASopC,IAAU/X,EAAMgY,EAAM9X,GAC7B,GAAmB,kBAARF,GACT,KAAM,IAAIiY,IAAUlS,GAEtB,OAAO1R,IAAW,WAAa2L,EAAK7sB,MAAMqF,GAAW0nB,IAAU8X,GAcjE,QAASE,IAAe7iB,EAAO8L,EAAQd,EAAUW,GAC/C,GAAIxxB,IAAS,EACT2oC,EAAWtX,EACXuX,GAAW,EACXhpC,EAASimB,EAAMjmB,OACfyI,KACAwgC,EAAelX,EAAO/xB,MAE1B,KAAKA,EACH,MAAOyI,EAELwoB,KACFc,EAASF,EAASE,EAAQkC,EAAUhD,KAElCW,GACFmX,EAAWpX,EACXqX,GAAW,GAEJjX,EAAO/xB,QAAUy2B,KACxBsS,EAAW5U,EACX6U,GAAW,EACXjX,EAAS,GAAI0S,IAAS1S,GAExB+Q,GACA,OAAS1iC,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,GACd4iC,EAAuB,MAAZ/R,EAAmB1xB,EAAQ0xB,EAAS1xB,EAGnD,IADAA,EAASqyB,GAAwB,IAAVryB,EAAeA,EAAQ,EAC1CypC,GAAYhG,IAAaA,EAAU,CAErC,IADA,GAAIkG,GAAcD,EACXC,KACL,GAAInX,EAAOmX,KAAiBlG,EAC1B,QAASF,EAGbr6B,GAAOvI,KAAKX,OAEJwpC,GAAShX,EAAQiR,EAAUpR,IACnCnpB,EAAOvI,KAAKX,GAGhB,MAAOkJ,GAgCT,QAAS0gC,IAAUxW,EAAYrB,GAC7B,GAAI7oB,IAAS,CAKb,OAJA+9B,IAAS7T,EAAY,SAASpzB,EAAOa,EAAOuyB,GAE1C,MADAlqB,KAAW6oB,EAAU/xB,EAAOa,EAAOuyB,KAG9BlqB,EAaT,QAAS2gC,IAAanjB,EAAOgL,EAAUW,GAIrC,IAHA,GAAIxxB,IAAS,EACTJ,EAASimB,EAAMjmB,SAEVI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,GACdyzB,EAAU5C,EAAS1xB,EAEvB,IAAe,MAAXs0B,IAAoBmP,IAAa55B,GAC5ByqB,IAAYA,IAAYwV,GAASxV,GAClCjC,EAAWiC,EAASmP,IAE1B,GAAIA,GAAWnP,EACXprB,EAASlJ,EAGjB,MAAOkJ,GAaT,QAAS6gC,IAASrjB,EAAO1mB,EAAOuH,EAAOC,GACrC,GAAI/G,GAASimB,EAAMjmB,MAWnB,KATA8G,EAAQyiC,GAAUziC,GACdA,EAAQ,IACVA,GAASA,EAAQ9G,EAAS,EAAKA,EAAS8G,GAE1CC,EAAOA,IAAQqC,IAAarC,EAAM/G,EAAUA,EAASupC,GAAUxiC,GAC3DA,EAAM,IACRA,GAAO/G,GAET+G,EAAMD,EAAQC,EAAM,EAAIyiC,GAASziC,GAC1BD,EAAQC,GACbkf,EAAMnf,KAAWvH,CAEnB,OAAO0mB,GAWT,QAASwjB,IAAW9W,EAAYrB,GAC9B,GAAI7oB,KAMJ,OALA+9B,IAAS7T,EAAY,SAASpzB,EAAOa,EAAOuyB,GACtCrB,EAAU/xB,EAAOa,EAAOuyB,IAC1BlqB,EAAOvI,KAAKX,KAGTkJ,EAcT,QAASihC,IAAYzjB,EAAO0jB,EAAOrY,EAAWsY,EAAUnhC,GACtD,GAAIrI,IAAS,EACTJ,EAASimB,EAAMjmB,MAKnB,KAHAsxB,IAAcA,EAAYuY,IAC1BphC,IAAWA,QAEFrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EACdupC,GAAQ,GAAKrY,EAAU/xB,GACrBoqC,EAAQ,EAEVD,GAAYnqC,EAAOoqC,EAAQ,EAAGrY,EAAWsY,EAAUnhC,GAEnDqpB,EAAUrpB,EAAQlJ,GAEVqqC,IACVnhC,EAAOA,EAAOzI,QAAUT,GAG5B,MAAOkJ,GAoCT,QAASqhC,IAAWvW,EAAQtC,GAC1B,MAAOsC,IAAUwW,GAAQxW,EAAQtC,EAAU9pB,IAW7C,QAAS6iC,IAAgBzW,EAAQtC,GAC/B,MAAOsC,IAAU0W,GAAa1W,EAAQtC,EAAU9pB,IAYlD,QAAS+iC,IAAc3W,EAAQS,GAC7B,MAAOzC,GAAYyC,EAAO,SAAS5sB,GACjC,MAAO+iC,IAAW5W,EAAOnsB,MAY7B,QAASgjC,IAAQ7W,EAAQ8W,GACvBA,EAAOC,GAASD,EAAM9W,EAKtB,KAHA,GAAInzB,GAAQ,EACRJ,EAASqqC,EAAKrqC,OAED,MAAVuzB,GAAkBnzB,EAAQJ,GAC/BuzB,EAASA,EAAOgX,GAAMF,EAAKjqC,MAE7B,OAAQA,IAASA,GAASJ,EAAUuzB,EAASnqB,GAc/C,QAASohC,IAAejX,EAAQ+U,EAAUmC,GACxC,GAAIhiC,GAAS6/B,EAAS/U,EACtB,OAAOwN,IAAQxN,GAAU9qB,EAASqpB,EAAUrpB,EAAQgiC,EAAYlX,IAUlE,QAASmX,IAAWnrC,GAClB,MAAa,OAATA,EACKA,IAAU6J,GAAYwwB,GAAeP,GAEtCsR,IAAkBA,KAAkBtrC,IAAOE,GAC/CqrC,GAAUrrC,GACVsrC,GAAetrC,GAYrB,QAASurC,IAAOvrC,EAAOwrC,GACrB,MAAOxrC,GAAQwrC,EAWjB,QAASC,IAAQzX,EAAQnsB,GACvB,MAAiB,OAAVmsB,GAAkBxyB,GAAeoI,KAAKoqB,EAAQnsB,GAWvD,QAAS6jC,IAAU1X,EAAQnsB,GACzB,MAAiB,OAAVmsB,GAAkBnsB,IAAO/H,IAAOk0B,GAYzC,QAAS2X,IAAYlE,EAAQlgC,EAAOC,GAClC,MAAOigC,IAAUpE,GAAU97B,EAAOC,IAAQigC,EAASmE,GAAUrkC,EAAOC,GAatE,QAASqkC,IAAiBC,EAAQpa,EAAUW,GAS1C,IARA,GAAImX,GAAWnX,EAAaD,EAAoBF,EAC5CzxB,EAASqrC,EAAO,GAAGrrC,OACnBsrC,EAAYD,EAAOrrC,OACnBurC,EAAWD,EACXE,EAAS3qC,GAAMyqC,GACf/wB,EAAYkxB,IACZhjC,KAEG8iC,KAAY,CACjB,GAAItlB,GAAQolB,EAAOE,EACfA,IAAYta,IACdhL,EAAQ4L,EAAS5L,EAAOgO,EAAUhD,KAEpC1W,EAAYqoB,GAAU3c,EAAMjmB,OAAQua,GACpCixB,EAAOD,IAAa3Z,IAAeX,GAAajxB,GAAU,KAAOimB,EAAMjmB,QAAU,KAC7E,GAAIykC,IAAS8G,GAAYtlB,GACzB7c,GAEN6c,EAAQolB,EAAO,EAEf,IAAIjrC,IAAS,EACTsrC,EAAOF,EAAO,EAElB1I,GACA,OAAS1iC,EAAQJ,GAAUyI,EAAOzI,OAASua,GAAW,CACpD,GAAIhb,GAAQ0mB,EAAM7lB,GACd4iC,EAAW/R,EAAWA,EAAS1xB,GAASA,CAG5C,IADAA,EAASqyB,GAAwB,IAAVryB,EAAeA,EAAQ,IACxCmsC,EACEvX,EAASuX,EAAM1I,GACf+F,EAAStgC,EAAQu6B,EAAUpR,IAC5B,CAEL,IADA2Z,EAAWD,IACFC,GAAU,CACjB,GAAInX,GAAQoX,EAAOD,EACnB,MAAMnX,EACED,EAASC,EAAO4O,GAChB+F,EAASsC,EAAOE,GAAWvI,EAAUpR,IAE3C,QAASkR,GAGT4I,GACFA,EAAKxrC,KAAK8iC,GAEZv6B,EAAOvI,KAAKX,IAGhB,MAAOkJ,GAcT,QAASkjC,IAAapY,EAAQvC,EAAQC,EAAUC,GAI9C,MAHA4Y,IAAWvW,EAAQ,SAASh0B,EAAO6H,EAAKmsB,GACtCvC,EAAOE,EAAaD,EAAS1xB,GAAQ6H,EAAKmsB,KAErCrC,EAaT,QAAS0a,IAAWrY,EAAQ8W,EAAMvZ,GAChCuZ,EAAOC,GAASD,EAAM9W,GACtBA,EAASsY,GAAOtY,EAAQ8W,EACxB,IAAIzZ,GAAiB,MAAV2C,EAAiBA,EAASA,EAAOgX,GAAMtrB,GAAKorB,IACvD,OAAe,OAARzZ,EAAexnB,GAAYrF,EAAM6sB,EAAM2C,EAAQzC,GAUxD,QAASgb,IAAgBvsC,GACvB,MAAOuhC,IAAavhC,IAAUmrC,GAAWnrC,IAAUm5B,GAUrD,QAASqT,IAAkBxsC,GACzB,MAAOuhC,IAAavhC,IAAUmrC,GAAWnrC,IAAUw6B,GAUrD,QAASiS,IAAWzsC,GAClB,MAAOuhC,IAAavhC,IAAUmrC,GAAWnrC,IAAUu5B,GAiBrD,QAASmT,IAAY1sC,EAAOwrC,EAAO3D,EAASC,EAAYC,GACtD,MAAI/nC,KAAUwrC,IAGD,MAATxrC,GAA0B,MAATwrC,IAAmBjK,GAAavhC,KAAWuhC,GAAaiK,GACpExrC,IAAUA,GAASwrC,IAAUA,EAE/BmB,GAAgB3sC,EAAOwrC,EAAO3D,EAASC,EAAY4E,GAAa3E,IAiBzE,QAAS4E,IAAgB3Y,EAAQwX,EAAO3D,EAASC,EAAY8E,EAAW7E,GACtE,GAAI8E,GAAWrL,GAAQxN,GACnB8Y,EAAWtL,GAAQgK,GACnBuB,EAASF,EAAWzT,GAAWkP,GAAOtU,GACtCgZ,EAASF,EAAW1T,GAAWkP,GAAOkD,EAE1CuB,GAASA,GAAU5T,GAAUY,GAAYgT,EACzCC,EAASA,GAAU7T,GAAUY,GAAYiT,CAEzC,IAAIC,GAAWF,GAAUhT,GACrBmT,EAAWF,GAAUjT,GACrBoT,EAAYJ,GAAUC,CAE1B,IAAIG,GAAalH,GAASjS,GAAS,CACjC,IAAKiS,GAASuF,GACZ,OAAO,CAETqB,IAAW,EACXI,GAAW,EAEb,GAAIE,IAAcF,EAEhB,MADAlF,KAAUA,EAAQ,GAAI1C,KACdwH,GAAY7L,GAAahN,GAC7BoZ,GAAYpZ,EAAQwX,EAAO3D,EAASC,EAAY8E,EAAW7E,GAC3DsF,GAAWrZ,EAAQwX,EAAOuB,EAAQlF,EAASC,EAAY8E,EAAW7E,EAExE,MAAMF,EAAUnQ,IAAuB,CACrC,GAAI4V,GAAeL,GAAYzrC,GAAeoI,KAAKoqB,EAAQ,eACvDuZ,EAAeL,GAAY1rC,GAAeoI,KAAK4hC,EAAO,cAE1D,IAAI8B,GAAgBC,EAAc,CAChC,GAAIC,GAAeF,EAAetZ,EAAOh0B,QAAUg0B,EAC/CyZ,EAAeF,EAAe/B,EAAMxrC,QAAUwrC,CAGlD,OADAzD,KAAUA,EAAQ,GAAI1C,KACfuH,EAAUY,EAAcC,EAAc5F,EAASC,EAAYC,IAGtE,QAAKoF,IAGLpF,IAAUA,EAAQ,GAAI1C,KACfqI,GAAa1Z,EAAQwX,EAAO3D,EAASC,EAAY8E,EAAW7E,IAUrE,QAAS4F,IAAU3tC,GACjB,MAAOuhC,IAAavhC,IAAUsoC,GAAOtoC,IAAU45B,GAajD,QAASgU,IAAY5Z,EAAQ0H,EAAQmS,EAAW/F,GAC9C,GAAIjnC,GAAQgtC,EAAUptC,OAClBA,EAASI,EACTitC,GAAgBhG,CAEpB,IAAc,MAAV9T,EACF,OAAQvzB,CAGV,KADAuzB,EAASl0B,GAAOk0B,GACTnzB,KAAS,CACd,GAAI6G,GAAOmmC,EAAUhtC,EACrB,IAAKitC,GAAgBpmC,EAAK,GAClBA,EAAK,KAAOssB,EAAOtsB,EAAK,MACtBA,EAAK,IAAMssB,IAEnB,OAAO,EAGX,OAASnzB,EAAQJ,GAAQ,CACvBiH,EAAOmmC,EAAUhtC,EACjB,IAAIgH,GAAMH,EAAK,GACXq/B,EAAW/S,EAAOnsB,GAClBkmC,EAAWrmC,EAAK,EAEpB,IAAIomC,GAAgBpmC,EAAK,IACvB,GAAIq/B,IAAal9B,MAAehC,IAAOmsB,IACrC,OAAO,MAEJ,CACL,GAAI+T,GAAQ,GAAI1C,GAChB,IAAIyC,EACF,GAAI5+B,GAAS4+B,EAAWf,EAAUgH,EAAUlmC,EAAKmsB,EAAQ0H,EAAQqM,EAEnE,MAAM7+B,IAAWW,GACT6iC,GAAYqB,EAAUhH,EAAUrP,GAAuBC,GAAwBmQ,EAAYC,GAC3F7+B,GAEN,OAAO,GAIb,OAAO,EAWT,QAAS8kC,IAAahuC,GACpB,SAAKmoC,GAASnoC,IAAUiuC,GAASjuC,MAGnB4qC,GAAW5qC,GAASkuC,GAAanR,IAChCpyB,KAAKwjC,GAASnuC,IAU/B,QAASouC,IAAapuC,GACpB,MAAOuhC,IAAavhC,IAAUmrC,GAAWnrC,IAAUi6B,GAUrD,QAASoU,IAAUruC,GACjB,MAAOuhC,IAAavhC,IAAUsoC,GAAOtoC,IAAUk6B,GAUjD,QAASoU,IAAiBtuC,GACxB,MAAOuhC,IAAavhC,IAClBuuC,GAASvuC,EAAMS,WAAao+B,GAAesM,GAAWnrC,IAU1D,QAASwuC,IAAaxuC,GAGpB,MAAoB,kBAATA,GACFA,EAEI,MAATA,EACKyuC,GAEW,gBAATzuC,GACFwhC,GAAQxhC,GACX0uC,GAAoB1uC,EAAM,GAAIA,EAAM,IACpC2uC,GAAY3uC,GAEX4uC,GAAS5uC,GAUlB,QAAS6uC,IAAS7a,GAChB,IAAK8a,GAAY9a,GACf,MAAO+a,IAAW/a,EAEpB,IAAI9qB,KACJ,KAAK,GAAIrB,KAAO/H,IAAOk0B,GACjBxyB,GAAeoI,KAAKoqB,EAAQnsB,IAAe,eAAPA,GACtCqB,EAAOvI,KAAKkH,EAGhB,OAAOqB,GAUT,QAAS8lC,IAAWhb,GAClB,IAAKmU,GAASnU,GACZ,MAAOib,IAAajb,EAEtB,IAAIkb,GAAUJ,GAAY9a,GACtB9qB,IAEJ,KAAK,GAAIrB,KAAOmsB,IACD,eAAPnsB,IAAyBqnC,GAAY1tC,GAAeoI,KAAKoqB,EAAQnsB,KACrEqB,EAAOvI,KAAKkH,EAGhB,OAAOqB,GAYT,QAASimC,IAAOnvC,EAAOwrC,GACrB,MAAOxrC,GAAQwrC,EAWjB,QAAS4D,IAAQhc,EAAY1B,GAC3B,GAAI7wB,IAAS,EACTqI,EAASmmC,GAAYjc,GAAc9xB,GAAM8xB,EAAW3yB,UAKxD,OAHAwmC,IAAS7T,EAAY,SAASpzB,EAAO6H,EAAKurB,GACxClqB,IAASrI,GAAS6wB,EAAS1xB,EAAO6H,EAAKurB,KAElClqB,EAUT,QAASylC,IAAYjT,GACnB,GAAImS,GAAYyB,GAAa5T,EAC7B,OAAwB,IAApBmS,EAAUptC,QAAeotC,EAAU,GAAG,GACjC0B,GAAwB1B,EAAU,GAAG,GAAIA,EAAU,GAAG,IAExD,SAAS7Z,GACd,MAAOA,KAAW0H,GAAUkS,GAAY5Z,EAAQ0H,EAAQmS,IAY5D,QAASa,IAAoB5D,EAAMiD,GACjC,MAAIyB,IAAM1E,IAAS2E,GAAmB1B,GAC7BwB,GAAwBvE,GAAMF,GAAOiD,GAEvC,SAAS/Z,GACd,GAAI+S,GAAW5gC,GAAI6tB,EAAQ8W,EAC3B,OAAQ/D,KAAal9B,IAAak9B,IAAagH,EAC3C2B,GAAM1b,EAAQ8W,GACd4B,GAAYqB,EAAUhH,EAAUrP,GAAuBC,KAe/D,QAASgY,IAAU3b,EAAQ0H,EAAQkU,EAAU9H,EAAYC,GACnD/T,IAAW0H,GAGf8O,GAAQ9O,EAAQ,SAASqS,EAAUlmC,GAEjC,GADAkgC,IAAUA,EAAQ,GAAI1C,KAClB8C,GAAS4F,GACX8B,GAAc7b,EAAQ0H,EAAQ7zB,EAAK+nC,EAAUD,GAAW7H,EAAYC,OAEjE,CACH,GAAI+H,GAAWhI,EACXA,EAAWiI,GAAQ/b,EAAQnsB,GAAMkmC,EAAWlmC,EAAM,GAAKmsB,EAAQ0H,EAAQqM,GACvEl+B,EAEAimC,KAAajmC,KACfimC,EAAW/B,GAEbpH,GAAiB3S,EAAQnsB,EAAKioC,KAE/BzI,IAkBL,QAASwI,IAAc7b,EAAQ0H,EAAQ7zB,EAAK+nC,EAAUI,EAAWlI,EAAYC,GAC3E,GAAIhB,GAAWgJ,GAAQ/b,EAAQnsB,GAC3BkmC,EAAWgC,GAAQrU,EAAQ7zB,GAC3BghC,EAAUd,EAAM5hC,IAAI4nC,EAExB,IAAIlF,EAEF,WADAlC,IAAiB3S,EAAQnsB,EAAKghC,EAGhC,IAAIiH,GAAWhI,EACXA,EAAWf,EAAUgH,EAAWlmC,EAAM,GAAKmsB,EAAQ0H,EAAQqM,GAC3Dl+B,GAEA4/B,EAAWqG,IAAajmC,EAE5B,IAAI4/B,EAAU,CACZ,GAAI5G,GAAQrB,GAAQuM,GAChB/H,GAAUnD,GAASoD,GAAS8H,GAC5BkC,GAAWpN,IAAUmD,GAAUhF,GAAa+M,EAEhD+B,GAAW/B,EACPlL,GAASmD,GAAUiK,EACjBzO,GAAQuF,GACV+I,EAAW/I,EAEJmJ,GAAkBnJ,GACzB+I,EAAWrN,GAAUsE,GAEdf,GACPyD,GAAW,EACXqG,EAAWtH,GAAYuF,GAAU,IAE1BkC,GACPxG,GAAW,EACXqG,EAAWK,GAAgBpC,GAAU,IAGrC+B,KAGKM,GAAcrC,IAAahI,GAAYgI,IAC9C+B,EAAW/I,EACPhB,GAAYgB,GACd+I,EAAWO,GAActJ,GAEjBoB,GAASpB,KAAa6D,GAAW7D,KACzC+I,EAAWrH,GAAgBsF,KAI7BtE,GAAW,EAGXA,IAEF1B,EAAM1hC,IAAI0nC,EAAU+B,GACpBE,EAAUF,EAAU/B,EAAU6B,EAAU9H,EAAYC,GACpDA,EAAc,OAAEgG,IAElBpH,GAAiB3S,EAAQnsB,EAAKioC,GAWhC,QAASQ,IAAQ5pB,EAAOtf,GACtB,GAAI3G,GAASimB,EAAMjmB,MACnB,IAAKA,EAIL,MADA2G,IAAKA,EAAI,EAAI3G,EAAS,EACf2lC,GAAQh/B,EAAG3G,GAAUimB,EAAMtf,GAAKyC,GAYzC,QAAS0mC,IAAYnd,EAAY8P,EAAWsN,GAC1C,GAAI3vC,IAAS,CAUb,OATAqiC,GAAY5Q,EAAS4Q,EAAUziC,OAASyiC,GAAauL,IAAW/Z,EAAU+b,OASnEtc,EAPMib,GAAQhc,EAAY,SAASpzB,EAAO6H,EAAKurB,GAIpD,OAAS,SAHMd,EAAS4Q,EAAW,SAASxR,GAC1C,MAAOA,GAAS1xB,KAEa,QAAWa,EAAO,MAASb,KAGlC,SAASg0B,EAAQwX,GACzC,MAAOkF,IAAgB1c,EAAQwX,EAAOgF,KAa1C,QAASG,IAAS3c,EAAQuT,GACxB,MAAOqJ,IAAW5c,EAAQuT,EAAO,SAASvnC,EAAO8qC,GAC/C,MAAO4E,IAAM1b,EAAQ8W,KAazB,QAAS8F,IAAW5c,EAAQuT,EAAOxV,GAKjC,IAJA,GAAIlxB,IAAS,EACTJ,EAAS8mC,EAAM9mC,OACfyI,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIqqC,GAAOvD,EAAM1mC,GACbb,EAAQ6qC,GAAQ7W,EAAQ8W,EAExB/Y,GAAU/xB,EAAO8qC,IACnB+F,GAAQ3nC,EAAQ6hC,GAASD,EAAM9W,GAASh0B,GAG5C,MAAOkJ,GAUT,QAAS4nC,IAAiBhG,GACxB,MAAO,UAAS9W,GACd,MAAO6W,IAAQ7W,EAAQ8W,IAe3B,QAASiG,IAAYrqB,EAAO8L,EAAQd,EAAUW,GAC5C,GAAIvxB,GAAUuxB,EAAasB,EAAkBxB,EACzCtxB,GAAS,EACTJ,EAAS+xB,EAAO/xB,OAChB0rC,EAAOzlB,CAQX,KANIA,IAAU8L,IACZA,EAASiQ,GAAUjQ,IAEjBd,IACFya,EAAO7Z,EAAS5L,EAAOgO,EAAUhD,OAE1B7wB,EAAQJ,GAKf,IAJA,GAAI8yB,GAAY,EACZvzB,EAAQwyB,EAAO3xB,GACf4iC,EAAW/R,EAAWA,EAAS1xB,GAASA,GAEpCuzB,EAAYzyB,EAAQqrC,EAAM1I,EAAUlQ,EAAWlB,KAAgB,GACjE8Z,IAASzlB,GACX3lB,GAAO6I,KAAKuiC,EAAM5Y,EAAW,GAE/BxyB,GAAO6I,KAAK8c,EAAO6M,EAAW,EAGlC,OAAO7M,GAYT,QAASsqB,IAAWtqB,EAAOuqB,GAIzB,IAHA,GAAIxwC,GAASimB,EAAQuqB,EAAQxwC,OAAS,EAClCs2B,EAAYt2B,EAAS,EAElBA,KAAU,CACf,GAAII,GAAQowC,EAAQxwC,EACpB,IAAIA,GAAUs2B,GAAal2B,IAAUqwC,EAAU,CAC7C,GAAIA,GAAWrwC,CACXulC,IAAQvlC,GACVE,GAAO6I,KAAK8c,EAAO7lB,EAAO,GAE1BswC,GAAUzqB,EAAO7lB,IAIvB,MAAO6lB,GAYT,QAAS4f,IAAWoB,EAAOC,GACzB,MAAOD,GAAQ0J,GAAYC,MAAkB1J,EAAQD,EAAQ,IAc/D,QAAS4J,IAAU/pC,EAAOC,EAAK+pC,EAAM/d,GAKnC,IAJA,GAAI3yB,IAAS,EACTJ,EAASmrC,GAAU4F,IAAYhqC,EAAMD,IAAUgqC,GAAQ,IAAK,GAC5DroC,EAAS5H,GAAMb,GAEZA,KACLyI,EAAOsqB,EAAY/yB,IAAWI,GAAS0G,EACvCA,GAASgqC,CAEX,OAAOroC,GAWT,QAASuoC,IAAW3e,EAAQ1rB,GAC1B,GAAI8B,GAAS,EACb,KAAK4pB,GAAU1rB,EAAI,GAAKA,EAAIyxB,GAC1B,MAAO3vB,EAIT,IACM9B,EAAI,IACN8B,GAAU4pB,IAEZ1rB,EAAIgqC,GAAYhqC,EAAI,MAElB0rB,GAAUA,SAEL1rB,EAET,OAAO8B,GAWT,QAASwoC,IAASrgB,EAAM9pB,GACtB,MAAOoqC,IAAYC,GAASvgB,EAAM9pB,EAAOknC,IAAWpd,EAAO,IAU7D,QAASwgB,IAAWze,GAClB,MAAOiT,IAAY7T,GAAOY,IAW5B,QAAS0e,IAAe1e,EAAYhsB,GAClC,GAAIsf,GAAQ8L,GAAOY,EACnB,OAAOoT,IAAY9f,EAAO+f,GAAUr/B,EAAG,EAAGsf,EAAMjmB,SAalD,QAASowC,IAAQ7c,EAAQ8W,EAAM9qC,EAAO8nC,GACpC,IAAKK,GAASnU,GACZ,MAAOA,EAET8W,GAAOC,GAASD,EAAM9W,EAOtB,KALA,GAAInzB,IAAS,EACTJ,EAASqqC,EAAKrqC,OACds2B,EAAYt2B,EAAS,EACrBsxC,EAAS/d,EAEI,MAAV+d,KAAoBlxC,EAAQJ,GAAQ,CACzC,GAAIoH,GAAMmjC,GAAMF,EAAKjqC,IACjBivC,EAAW9vC,CAEf,IAAIa,GAASk2B,EAAW,CACtB,GAAIgQ,GAAWgL,EAAOlqC,EACtBioC,GAAWhI,EAAaA,EAAWf,EAAUl/B,EAAKkqC,GAAUloC,GACxDimC,IAAajmC,KACfimC,EAAW3H,GAASpB,GAChBA,EACCX,GAAQ0E,EAAKjqC,EAAQ,WAG9BimC,GAAYiL,EAAQlqC,EAAKioC,GACzBiC,EAASA,EAAOlqC,GAElB,MAAOmsB,GAwCT,QAASge,IAAY5e,GACnB,MAAOoT,IAAYhU,GAAOY,IAY5B,QAAS6e,IAAUvrB,EAAOnf,EAAOC,GAC/B,GAAI3G,IAAS,EACTJ,EAASimB,EAAMjmB,MAEf8G,GAAQ,IACVA,GAASA,EAAQ9G,EAAS,EAAKA,EAAS8G,GAE1CC,EAAMA,EAAM/G,EAASA,EAAS+G,EAC1BA,EAAM,IACRA,GAAO/G,GAETA,EAAS8G,EAAQC,EAAM,EAAMA,EAAMD,IAAW,EAC9CA,KAAW,CAGX,KADA,GAAI2B,GAAS5H,GAAMb,KACVI,EAAQJ,GACfyI,EAAOrI,GAAS6lB,EAAM7lB,EAAQ0G,EAEhC,OAAO2B,GAYT,QAASgpC,IAAS9e,EAAYrB,GAC5B,GAAI7oB,EAMJ,OAJA+9B,IAAS7T,EAAY,SAASpzB,EAAOa,EAAOuyB,GAE1C,QADAlqB,EAAS6oB,EAAU/xB,EAAOa,EAAOuyB,QAG1BlqB,EAeX,QAASipC,IAAgBzrB,EAAO1mB,EAAOoyC,GACrC,GAAIC,GAAM,EACNC,EAAgB,MAAT5rB,EAAgB2rB,EAAM3rB,EAAMjmB,MAEvC,IAAoB,gBAATT,IAAqBA,IAAUA,GAASsyC,GAAQrZ,GAAuB,CAChF,KAAOoZ,EAAMC,GAAM,CACjB,GAAIvwB,GAAOswB,EAAMC,IAAU,EACvB7O,EAAW/c,EAAM3E,EAEJ,QAAb0hB,IAAsBqG,GAASrG,KAC9B2O,EAAc3O,GAAYzjC,EAAUyjC,EAAWzjC,GAClDqyC,EAAMtwB,EAAM,EAEZuwB,EAAOvwB,EAGX,MAAOuwB,GAET,MAAOC,IAAkB7rB,EAAO1mB,EAAOyuC,GAAU2D,GAgBnD,QAASG,IAAkB7rB,EAAO1mB,EAAO0xB,EAAU0gB,GACjDpyC,EAAQ0xB,EAAS1xB,EASjB,KAPA,GAAIqyC,GAAM,EACNC,EAAgB,MAAT5rB,EAAgB,EAAIA,EAAMjmB,OACjC+xC,EAAWxyC,IAAUA,EACrByyC,EAAsB,OAAVzyC,EACZ0yC,EAAc5I,GAAS9pC,GACvB2yC,EAAiB3yC,IAAU6J,GAExBwoC,EAAMC,GAAM,CACjB,GAAIvwB,GAAMqvB,IAAaiB,EAAMC,GAAQ,GACjC7O,EAAW/R,EAAShL,EAAM3E,IAC1B6wB,EAAenP,IAAa55B,GAC5BgpC,EAAyB,OAAbpP,EACZqP,EAAiBrP,IAAaA,EAC9BsP,EAAcjJ,GAASrG,EAE3B,IAAI+O,EACF,GAAIQ,GAASZ,GAAcU,MAE3BE,GADSL,EACAG,IAAmBV,GAAcQ,GACjCH,EACAK,GAAkBF,IAAiBR,IAAeS,GAClDH,EACAI,GAAkBF,IAAiBC,IAAcT,IAAeW,IAChEF,IAAaE,IAGbX,EAAc3O,GAAYzjC,EAAUyjC,EAAWzjC,EAEtDgzC,GACFX,EAAMtwB,EAAM,EAEZuwB,EAAOvwB,EAGX,MAAOshB,IAAUiP,EAAMtZ,IAYzB,QAASia,IAAevsB,EAAOgL,GAM7B,IALA,GAAI7wB,IAAS,EACTJ,EAASimB,EAAMjmB,OACfwxB,EAAW,EACX/oB,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,GACd4iC,EAAW/R,EAAWA,EAAS1xB,GAASA,CAE5C,KAAKa,IAAU+lC,GAAGnD,EAAU0I,GAAO,CACjC,GAAIA,GAAO1I,CACXv6B,GAAO+oB,KAAwB,IAAVjyB,EAAc,EAAIA,GAG3C,MAAOkJ,GAWT,QAASgqC,IAAalzC,GACpB,MAAoB,gBAATA,GACFA,EAEL8pC,GAAS9pC,GACJ8zB,IAED9zB,EAWV,QAASmzC,IAAanzC,GAEpB,GAAoB,gBAATA,GACT,MAAOA,EAET,IAAIwhC,GAAQxhC,GAEV,MAAOsyB,GAAStyB,EAAOmzC,IAAgB,EAEzC,IAAIrJ,GAAS9pC,GACX,MAAOozC,IAAiBA,GAAexpC,KAAK5J,GAAS,EAEvD,IAAIkJ,GAAUlJ,EAAQ,EACtB,OAAkB,KAAVkJ,GAAkB,EAAIlJ,IAAW44B,GAAY,KAAO1vB,EAY9D,QAASmqC,IAAS3sB,EAAOgL,EAAUW,GACjC,GAAIxxB,IAAS,EACT2oC,EAAWtX,EACXzxB,EAASimB,EAAMjmB,OACfgpC,GAAW,EACXvgC,KACAijC,EAAOjjC,CAEX,IAAImpB,EACFoX,GAAW,EACXD,EAAWpX,MAER,IAAI3xB,GAAUy2B,GAAkB,CACnC,GAAI7wB,GAAMqrB,EAAW,KAAO4hB,GAAU5sB,EACtC,IAAIrgB,EACF,MAAOiwB,GAAWjwB,EAEpBojC,IAAW,EACXD,EAAW5U,EACXuX,EAAO,GAAIjH,QAGXiH,GAAOza,KAAgBxoB,CAEzBq6B,GACA,OAAS1iC,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,GACd4iC,EAAW/R,EAAWA,EAAS1xB,GAASA,CAG5C,IADAA,EAASqyB,GAAwB,IAAVryB,EAAeA,EAAQ,EAC1CypC,GAAYhG,IAAaA,EAAU,CAErC,IADA,GAAI8P,GAAYpH,EAAK1rC,OACd8yC,KACL,GAAIpH,EAAKoH,KAAe9P,EACtB,QAASF,EAGT7R,IACFya,EAAKxrC,KAAK8iC,GAEZv6B,EAAOvI,KAAKX,OAEJwpC,GAAS2C,EAAM1I,EAAUpR,KAC7B8Z,IAASjjC,GACXijC,EAAKxrC,KAAK8iC,GAEZv6B,EAAOvI,KAAKX,IAGhB,MAAOkJ,GAWT,QAASioC,IAAUnd,EAAQ8W,GAGzB,MAFAA,GAAOC,GAASD,EAAM9W,GAEL,OADjBA,EAASsY,GAAOtY,EAAQ8W,WACQ9W,GAAOgX,GAAMtrB,GAAKorB,KAapD,QAAS0I,IAAWxf,EAAQ8W,EAAM2I,EAAS3L,GACzC,MAAO+I,IAAQ7c,EAAQ8W,EAAM2I,EAAQ5I,GAAQ7W,EAAQ8W,IAAQhD,GAc/D,QAAS4L,IAAUhtB,EAAOqL,EAAW4hB,EAAQngB,GAI3C,IAHA,GAAI/yB,GAASimB,EAAMjmB,OACfI,EAAQ2yB,EAAY/yB,GAAU,GAE1B+yB,EAAY3yB,MAAYA,EAAQJ,IACtCsxB,EAAUrL,EAAM7lB,GAAQA,EAAO6lB,KAEjC,MAAOitB,GACH1B,GAAUvrB,EAAQ8M,EAAY,EAAI3yB,EAAS2yB,EAAY3yB,EAAQ,EAAIJ,GACnEwxC,GAAUvrB,EAAQ8M,EAAY3yB,EAAQ,EAAI,EAAK2yB,EAAY/yB,EAASI,GAa1E,QAASyiC,IAAiBtjC,EAAO4zC,GAC/B,GAAI1qC,GAASlJ,CAIb,OAHIkJ,aAAkBu4B,KACpBv4B,EAASA,EAAOlJ,SAEXyyB,EAAYmhB,EAAS,SAAS1qC,EAAQ2qC,GAC3C,MAAOA,GAAOxiB,KAAK7sB,MAAMqvC,EAAOviB,QAASiB,GAAWrpB,GAAS2qC,EAAOtiB,QACnEroB,GAaL,QAAS4qC,IAAQhI,EAAQpa,EAAUW,GACjC,GAAI5xB,GAASqrC,EAAOrrC,MACpB,IAAIA,EAAS,EACX,MAAOA,GAAS4yC,GAASvH,EAAO,MAKlC,KAHA,GAAIjrC,IAAS,EACTqI,EAAS5H,GAAMb,KAEVI,EAAQJ,GAIf,IAHA,GAAIimB,GAAQolB,EAAOjrC,GACfmrC,GAAY,IAEPA,EAAWvrC,GACdurC,GAAYnrC,IACdqI,EAAOrI,GAAS0oC,GAAergC,EAAOrI,IAAU6lB,EAAOolB,EAAOE,GAAWta,EAAUW,GAIzF,OAAOghB,IAASlJ,GAAYjhC,EAAQ,GAAIwoB,EAAUW,GAYpD,QAAS0hB,IAActf,EAAOjC,EAAQwhB,GAMpC,IALA,GAAInzC,IAAS,EACTJ,EAASg0B,EAAMh0B,OACfwzC,EAAazhB,EAAO/xB,OACpByI,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQa,EAAQozC,EAAazhB,EAAO3xB,GAASgJ,EACjDmqC,GAAW9qC,EAAQurB,EAAM5zB,GAAQb,GAEnC,MAAOkJ,GAUT,QAASgrC,IAAoBl0C,GAC3B,MAAOkwC,IAAkBlwC,GAASA,KAUpC,QAASm0C,IAAan0C,GACpB,MAAuB,kBAATA,GAAsBA,EAAQyuC,GAW9C,QAAS1D,IAAS/qC,EAAOg0B,GACvB,MAAIwN,IAAQxhC,GACHA,EAEFwvC,GAAMxvC,EAAOg0B,IAAWh0B,GAASo0C,GAAaziC,GAAS3R,IAuBhE,QAASq0C,IAAU3tB,EAAOnf,EAAOC,GAC/B,GAAI/G,GAASimB,EAAMjmB,MAEnB,OADA+G,GAAMA,IAAQqC,GAAYpJ,EAAS+G,GAC1BD,GAASC,GAAO/G,EAAUimB,EAAQurB,GAAUvrB,EAAOnf,EAAOC,GAqBrE,QAASghC,IAAY5gB,EAAQogB,GAC3B,GAAIA,EACF,MAAOpgB,GAAOvO,OAEhB,IAAI5Y,GAASmnB,EAAOnnB,OAChByI,EAASorC,GAAcA,GAAY7zC,GAAU,GAAImnB,GAAOlmB,YAAYjB,EAGxE,OADAmnB,GAAO2sB,KAAKrrC,GACLA,EAUT,QAASsrC,IAAiBC,GACxB,GAAIvrC,GAAS,GAAIurC,GAAY/yC,YAAY+yC,EAAYC,WAErD,OADA,IAAI38B,IAAW7O,GAAQ7C,IAAI,GAAI0R,IAAW08B,IACnCvrC,EAWT,QAASyrC,IAAcC,EAAU5M,GAC/B,GAAIpgB,GAASogB,EAASwM,GAAiBI,EAAShtB,QAAUgtB,EAAShtB,MACnE,OAAO,IAAIgtB,GAASlzC,YAAYkmB,EAAQgtB,EAASC,WAAYD,EAASF,YAUxE,QAASI,IAAYC,GACnB,GAAI7rC,GAAS,GAAI6rC,GAAOrzC,YAAYqzC,EAAOrZ,OAAQkB,GAAQoY,KAAKD,GAEhE,OADA7rC,GAAO6tB,UAAYge,EAAOhe,UACnB7tB,EAUT,QAAS+rC,IAAYC,GACnB,MAAOC,IAAgBr1C,GAAOq1C,GAAcvrC,KAAKsrC,OAWnD,QAAS/E,IAAgBiF,EAAYpN,GACnC,GAAIpgB,GAASogB,EAASwM,GAAiBY,EAAWxtB,QAAUwtB,EAAWxtB,MACvE,OAAO,IAAIwtB,GAAW1zC,YAAYkmB,EAAQwtB,EAAWP,WAAYO,EAAW30C,QAW9E,QAAS40C,IAAiBr1C,EAAOwrC,GAC/B,GAAIxrC,IAAUwrC,EAAO,CACnB,GAAI8J,GAAet1C,IAAU6J,GACzB4oC,EAAsB,OAAVzyC,EACZu1C,EAAiBv1C,IAAUA,EAC3B0yC,EAAc5I,GAAS9pC,GAEvB4yC,EAAepH,IAAU3hC,GACzBgpC,EAAsB,OAAVrH,EACZsH,EAAiBtH,IAAUA,EAC3BuH,EAAcjJ,GAAS0B,EAE3B,KAAMqH,IAAcE,IAAgBL,GAAe1yC,EAAQwrC,GACtDkH,GAAeE,GAAgBE,IAAmBD,IAAcE,GAChEN,GAAaG,GAAgBE,IAC5BwC,GAAgBxC,IACjByC,EACH,MAAO,EAET,KAAM9C,IAAcC,IAAgBK,GAAe/yC,EAAQwrC,GACtDuH,GAAeuC,GAAgBC,IAAmB9C,IAAcC,GAChEG,GAAayC,GAAgBC,IAC5B3C,GAAgB2C,IACjBzC,EACH,OAAQ,EAGZ,MAAO,GAiBT,QAASpC,IAAgB1c,EAAQwX,EAAOgF,GAOtC,IANA,GAAI3vC,IAAS,EACT20C,EAAcxhB,EAAOyhB,SACrBC,EAAclK,EAAMiK,SACpBh1C,EAAS+0C,EAAY/0C,OACrBk1C,EAAenF,EAAO/vC,SAEjBI,EAAQJ,GAAQ,CACvB,GAAIyI,GAASmsC,GAAiBG,EAAY30C,GAAQ60C,EAAY70C,GAC9D,IAAIqI,EAAQ,CACV,GAAIrI,GAAS80C,EACX,MAAOzsC,EAGT,OAAOA,IAAmB,QADdsnC,EAAO3vC,IACiB,EAAI,IAU5C,MAAOmzB,GAAOnzB,MAAQ2qC,EAAM3qC,MAc9B,QAAS+0C,IAAYrkB,EAAMskB,EAAUC,EAASC,GAU5C,IATA,GAAIC,IAAa,EACbC,EAAa1kB,EAAK9wB,OAClBy1C,EAAgBJ,EAAQr1C,OACxB01C,GAAa,EACbC,EAAaP,EAASp1C,OACtB41C,EAAczK,GAAUqK,EAAaC,EAAe,GACpDhtC,EAAS5H,GAAM80C,EAAaC,GAC5BC,GAAeP,IAEVI,EAAYC,GACnBltC,EAAOitC,GAAaN,EAASM,EAE/B,QAASH,EAAYE,IACfI,GAAeN,EAAYC,KAC7B/sC,EAAO4sC,EAAQE,IAAczkB,EAAKykB,GAGtC,MAAOK,KACLntC,EAAOitC,KAAe5kB,EAAKykB,IAE7B,OAAO9sC,GAcT,QAASqtC,IAAiBhlB,EAAMskB,EAAUC,EAASC,GAWjD,IAVA,GAAIC,IAAa,EACbC,EAAa1kB,EAAK9wB,OAClB+1C,GAAgB,EAChBN,EAAgBJ,EAAQr1C,OACxBg2C,GAAc,EACdC,EAAcb,EAASp1C,OACvB41C,EAAczK,GAAUqK,EAAaC,EAAe,GACpDhtC,EAAS5H,GAAM+0C,EAAcK,GAC7BJ,GAAeP,IAEVC,EAAYK,GACnBntC,EAAO8sC,GAAazkB,EAAKykB,EAG3B,KADA,GAAI5qB,GAAS4qB,IACJS,EAAaC,GACpBxtC,EAAOkiB,EAASqrB,GAAcZ,EAASY,EAEzC,QAASD,EAAeN,IAClBI,GAAeN,EAAYC,KAC7B/sC,EAAOkiB,EAAS0qB,EAAQU,IAAiBjlB,EAAKykB,KAGlD,OAAO9sC,GAWT,QAASu5B,IAAU/G,EAAQhV,GACzB,GAAI7lB,IAAS,EACTJ,EAASi7B,EAAOj7B,MAGpB,KADAimB,IAAUA,EAAQplB,GAAMb,MACfI,EAAQJ,GACfimB,EAAM7lB,GAAS66B,EAAO76B,EAExB,OAAO6lB,GAaT,QAASygB,IAAWzL,EAAQjH,EAAOT,EAAQ8T,GACzC,GAAI6O,IAAS3iB,CACbA,KAAWA,KAKX,KAHA,GAAInzB,IAAS,EACTJ,EAASg0B,EAAMh0B,SAEVI,EAAQJ,GAAQ,CACvB,GAAIoH,GAAM4sB,EAAM5zB,GAEZivC,EAAWhI,EACXA,EAAW9T,EAAOnsB,GAAM6zB,EAAO7zB,GAAMA,EAAKmsB,EAAQ0H,GAClD7xB,EAEAimC,KAAajmC,KACfimC,EAAWpU,EAAO7zB,IAEhB8uC,EACF9P,GAAgB7S,EAAQnsB,EAAKioC,GAE7BhJ,GAAY9S,EAAQnsB,EAAKioC,GAG7B,MAAO9b,GAWT,QAAS2U,IAAYjN,EAAQ1H,GAC3B,MAAOmT,IAAWzL,EAAQkb,GAAWlb,GAAS1H,GAWhD,QAAS0U,IAAchN,EAAQ1H,GAC7B,MAAOmT,IAAWzL,EAAQmb,GAAanb,GAAS1H,GAWlD,QAAS8iB,IAAiBrlB,EAAQslB,GAChC,MAAO,UAAS3jB,EAAY1B,GAC1B,GAAIL,GAAOmQ,GAAQpO,GAAc5B,EAAkBwV,GAC/CrV,EAAcolB,EAAcA,MAEhC,OAAO1lB,GAAK+B,EAAY3B,EAAQgf,GAAY/e,EAAU,GAAIC,IAW9D,QAASqlB,IAAeC,GACtB,MAAOvF,IAAS,SAAS1d,EAAQkjB,GAC/B,GAAIr2C,IAAS,EACTJ,EAASy2C,EAAQz2C,OACjBqnC,EAAarnC,EAAS,EAAIy2C,EAAQz2C,EAAS,GAAKoJ,GAChDstC,EAAQ12C,EAAS,EAAIy2C,EAAQ,GAAKrtC,EAWtC,KATAi+B,EAAcmP,EAASx2C,OAAS,GAA0B,kBAAdqnC,IACvCrnC,IAAUqnC,GACXj+B,GAEAstC,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClDrP,EAAarnC,EAAS,EAAIoJ,GAAYi+B,EACtCrnC,EAAS,GAEXuzB,EAASl0B,GAAOk0B,KACPnzB,EAAQJ,GAAQ,CACvB,GAAIi7B,GAASwb,EAAQr2C,EACjB66B,IACFub,EAASjjB,EAAQ0H,EAAQ76B,EAAOinC,GAGpC,MAAO9T,KAYX,QAASqjB,IAAehkB,EAAUG,GAChC,MAAO,UAASJ,EAAY1B,GAC1B,GAAkB,MAAd0B,EACF,MAAOA,EAET,KAAKic,GAAYjc,GACf,MAAOC,GAASD,EAAY1B,EAM9B,KAJA,GAAIjxB,GAAS2yB,EAAW3yB,OACpBI,EAAQ2yB,EAAY/yB,GAAU,EAC9B62C,EAAWx3C,GAAOszB,IAEdI,EAAY3yB,MAAYA,EAAQJ,KACa,IAA/CixB,EAAS4lB,EAASz2C,GAAQA,EAAOy2C,KAIvC,MAAOlkB,IAWX,QAASmkB,IAAc/jB,GACrB,MAAO,UAASQ,EAAQtC,EAAUqX,GAMhC,IALA,GAAIloC,IAAS,EACTy2C,EAAWx3C,GAAOk0B,GAClBS,EAAQsU,EAAS/U,GACjBvzB,EAASg0B,EAAMh0B,OAEZA,KAAU,CACf,GAAIoH,GAAM4sB,EAAMjB,EAAY/yB,IAAWI,EACvC,KAA+C,IAA3C6wB,EAAS4lB,EAASzvC,GAAMA,EAAKyvC,GAC/B,MAGJ,MAAOtjB,IAcX,QAASwjB,IAAWnmB,EAAMwW,EAASvW,GAIjC,QAASmmB,KAEP,OADUv3C,MAAQA,OAASu/B,IAAQv/B,eAAgBu3C,GAAWC,EAAOrmB,GAC3D7sB,MAAMmzC,EAASrmB,EAAUpxB,KAAMuE,WAL3C,GAAIkzC,GAAS9P,EAAUjQ,GACnB8f,EAAOE,GAAWvmB,EAMtB,OAAOomB,GAUT,QAASI,IAAgBC,GACvB,MAAO,UAAShlB,GACdA,EAASnhB,GAASmhB,EAElB,IAAIkC,GAAaS,EAAW3C,GACxB8D,EAAc9D,GACdjpB,GAEAyrB,EAAMN,EACNA,EAAW,GACXlC,EAAOilB,OAAO,GAEdC,EAAWhjB,EACXqf,GAAUrf,EAAY,GAAGhf,KAAK,IAC9B8c,EAAOzZ,MAAM,EAEjB,OAAOic,GAAIwiB,KAAgBE,GAW/B,QAASC,IAAiBC,GACxB,MAAO,UAASplB,GACd,MAAOL,GAAY0lB,GAAMC,GAAOtlB,GAAQulB,QAAQ7Z,GAAQ,KAAM0Z,EAAU,KAY5E,QAASN,IAAWF,GAClB,MAAO,YAIL,GAAInmB,GAAO9sB,SACX,QAAQ8sB,EAAK9wB,QACX,IAAK,GAAG,MAAO,IAAIi3C,EACnB,KAAK,GAAG,MAAO,IAAIA,GAAKnmB,EAAK,GAC7B,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GACtC,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAC/C,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GACxD,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GACjE,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAC1E,KAAK,GAAG,MAAO,IAAImmB,GAAKnmB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAErF,GAAI+mB,GAAcC,GAAWb,EAAKr3C,WAC9B6I,EAASwuC,EAAKlzC,MAAM8zC,EAAa/mB,EAIrC,OAAO4W,IAASj/B,GAAUA,EAASovC,GAavC,QAASE,IAAYnnB,EAAMwW,EAAS4Q,GAGlC,QAAShB,KAMP,IALA,GAAIh3C,GAASgE,UAAUhE,OACnB8wB,EAAOjwB,GAAMb,GACbI,EAAQJ,EACR20B,EAAcsjB,GAAUjB,GAErB52C,KACL0wB,EAAK1wB,GAAS4D,UAAU5D,EAE1B,IAAIi1C,GAAWr1C,EAAS,GAAK8wB,EAAK,KAAO6D,GAAe7D,EAAK9wB,EAAS,KAAO20B,KAEzEgB,EAAe7E,EAAM6D,EAGzB,QADA30B,GAAUq1C,EAAQr1C,QACLg4C,EACJE,GACLtnB,EAAMwW,EAAS+Q,GAAcnB,EAAQriB,YAAavrB,GAClD0nB,EAAMukB,EAASjsC,GAAWA,GAAW4uC,EAAQh4C,GAG1C+D,EADGtE,MAAQA,OAASu/B,IAAQv/B,eAAgBu3C,GAAWC,EAAOrmB,EACpDnxB,KAAMqxB,GAtBzB,GAAImmB,GAAOE,GAAWvmB,EAwBtB,OAAOomB,GAUT,QAASoB,IAAWC,GAClB,MAAO,UAAS1lB,EAAYrB,EAAWwB,GACrC,GAAI+jB,GAAWx3C,GAAOszB,EACtB,KAAKic,GAAYjc,GAAa,CAC5B,GAAI1B,GAAW+e,GAAY1e,EAAW,EACtCqB,GAAaxrB,GAAKwrB,GAClBrB,EAAY,SAASlqB,GAAO,MAAO6pB,GAAS4lB,EAASzvC,GAAMA,EAAKyvC,IAElE,GAAIz2C,GAAQi4C,EAAc1lB,EAAYrB,EAAWwB,EACjD,OAAO1yB,IAAS,EAAIy2C,EAAS5lB,EAAW0B,EAAWvyB,GAASA,GAASgJ,IAWzE,QAASkvC,IAAWvlB,GAClB,MAAOwlB,IAAS,SAASC,GACvB,GAAIx4C,GAASw4C,EAAMx4C,OACfI,EAAQJ,EACRy4C,EAASxX,EAAcrhC,UAAU84C,IAKrC,KAHI3lB,GACFylB,EAAMG,UAEDv4C,KAAS,CACd,GAAIwwB,GAAO4nB,EAAMp4C,EACjB,IAAmB,kBAARwwB,GACT,KAAM,IAAIiY,IAAUlS,GAEtB,IAAI8hB,IAAWzB,GAAgC,WAArB4B,GAAYhoB,GACpC,GAAIomB,GAAU,GAAI/V,OAAkB,GAIxC,IADA7gC,EAAQ42C,EAAU52C,EAAQJ,IACjBI,EAAQJ,GAAQ,CACvB4wB,EAAO4nB,EAAMp4C,EAEb,IAAIy4C,GAAWD,GAAYhoB,GACvB3pB,EAAmB,WAAZ4xC,EAAwBC,GAAQloB,GAAQxnB,EAMjD4tC,GAJE/vC,GAAQ8xC,GAAW9xC,EAAK,KACtBA,EAAK,KAAOywB,GAAgBJ,GAAkBE,GAAoBG,MACjE1wB,EAAK,GAAGjH,QAAqB,GAAXiH,EAAK,GAElB+vC,EAAQ4B,GAAY3xC,EAAK,KAAKlD,MAAMizC,EAAS/vC,EAAK,IAElC,GAAf2pB,EAAK5wB,QAAe+4C,GAAWnoB,GACtComB,EAAQ6B,KACR7B,EAAQ0B,KAAK9nB,GAGrB,MAAO,YACL,GAAIE,GAAO9sB,UACPzE,EAAQuxB,EAAK,EAEjB,IAAIkmB,GAA0B,GAAflmB,EAAK9wB,QAAe+gC,GAAQxhC,GACzC,MAAOy3C,GAAQgC,MAAMz5C,GAAOA,OAK9B,KAHA,GAAIa,GAAQ,EACRqI,EAASzI,EAASw4C,EAAMp4C,GAAO2D,MAAMtE,KAAMqxB,GAAQvxB,IAE9Ca,EAAQJ,GACfyI,EAAS+vC,EAAMp4C,GAAO+I,KAAK1J,KAAMgJ,EAEnC,OAAOA,MAwBb,QAAS0vC,IAAavnB,EAAMwW,EAASvW,EAASukB,EAAUC,EAAS4D,EAAeC,EAAcC,EAAQC,EAAKpB,GAQzG,QAAShB,KAKP,IAJA,GAAIh3C,GAASgE,UAAUhE,OACnB8wB,EAAOjwB,GAAMb,GACbI,EAAQJ,EAELI,KACL0wB,EAAK1wB,GAAS4D,UAAU5D,EAE1B,IAAIk1C,EACF,GAAI3gB,GAAcsjB,GAAUjB,GACxBqC,EAAe3kB,EAAa5D,EAAM6D,EASxC,IAPIygB,IACFtkB,EAAOqkB,GAAYrkB,EAAMskB,EAAUC,EAASC,IAE1C2D,IACFnoB,EAAOglB,GAAiBhlB,EAAMmoB,EAAeC,EAAc5D,IAE7Dt1C,GAAUq5C,EACN/D,GAAat1C,EAASg4C,EAAO,CAC/B,GAAIsB,GAAa3jB,EAAe7E,EAAM6D,EACtC,OAAOujB,IACLtnB,EAAMwW,EAAS+Q,GAAcnB,EAAQriB,YAAa9D,EAClDC,EAAMwoB,EAAYH,EAAQC,EAAKpB,EAAQh4C,GAG3C,GAAI63C,GAAcX,EAASrmB,EAAUpxB,KACjC85C,EAAKC,EAAY3B,EAAYjnB,GAAQA,CAczC,OAZA5wB,GAAS8wB,EAAK9wB,OACVm5C,EACFroB,EAAO2oB,GAAQ3oB,EAAMqoB,GACZO,GAAU15C,EAAS,GAC5B8wB,EAAK6nB,UAEHgB,GAASP,EAAMp5C,IACjB8wB,EAAK9wB,OAASo5C,GAEZ35C,MAAQA,OAASu/B,IAAQv/B,eAAgBu3C,KAC3CuC,EAAKtC,GAAQE,GAAWoC,IAEnBA,EAAGx1C,MAAM8zC,EAAa/mB,GAhD/B,GAAI6oB,GAAQvS,EAAU1P,GAClBwf,EAAS9P,EAAUjQ,GACnBqiB,EAAYpS,EAAUhQ,GACtBke,EAAYlO,GAAW9P,GAAkBC,IACzCmiB,EAAStS,EAAUxP,GACnBqf,EAAOuC,EAAYpwC,GAAY+tC,GAAWvmB,EA6C9C,OAAOomB,GAWT,QAAS4C,IAAe5oB,EAAQ6oB,GAC9B,MAAO,UAAStmB,EAAQtC,GACtB,MAAO0a,IAAapY,EAAQvC,EAAQ6oB,EAAW5oB,QAYnD,QAAS6oB,IAAoBC,EAAUC,GACrC,MAAO,UAASz6C,EAAOwrC,GACrB,GAAItiC,EACJ,IAAIlJ,IAAU6J,IAAa2hC,IAAU3hC,GACnC,MAAO4wC,EAKT,IAHIz6C,IAAU6J,KACZX,EAASlJ,GAEPwrC,IAAU3hC,GAAW,CACvB,GAAIX,IAAWW,GACb,MAAO2hC,EAEW,iBAATxrC,IAAqC,gBAATwrC,IACrCxrC,EAAQmzC,GAAanzC,GACrBwrC,EAAQ2H,GAAa3H,KAErBxrC,EAAQkzC,GAAalzC,GACrBwrC,EAAQ0H,GAAa1H,IAEvBtiC,EAASsxC,EAASx6C,EAAOwrC,GAE3B,MAAOtiC,IAWX,QAASwxC,IAAWC,GAClB,MAAO3B,IAAS,SAAS9V,GAEvB,MADAA,GAAY5Q,EAAS4Q,EAAWxO,EAAU+b,OACnCiB,GAAS,SAASngB,GACvB,GAAID,GAAUpxB,IACd,OAAOy6C,GAAUzX,EAAW,SAASxR,GACnC,MAAOltB,GAAMktB,EAAUJ,EAASC,SAexC,QAASqpB,IAAcn6C,EAAQwQ,GAC7BA,EAAQA,IAAUpH,GAAY,IAAMspC,GAAaliC,EAEjD,IAAI4pC,GAAc5pC,EAAMxQ,MACxB,IAAIo6C,EAAc,EAChB,MAAOA,GAAcpJ,GAAWxgC,EAAOxQ,GAAUwQ,CAEnD,IAAI/H,GAASuoC,GAAWxgC,EAAOugC,GAAW/wC,EAASg2B,EAAWxlB,IAC9D,OAAOwkB,GAAWxkB,GACdojC,GAAUzd,EAAc1tB,GAAS,EAAGzI,GAAQuV,KAAK,IACjD9M,EAAOmQ,MAAM,EAAG5Y,GAetB,QAASq6C,IAAczpB,EAAMwW,EAASvW,EAASukB,GAI7C,QAAS4B,KAQP,IAPA,GAAIzB,IAAa,EACbC,EAAaxxC,UAAUhE,OACvB01C,GAAa,EACbC,EAAaP,EAASp1C,OACtB8wB,EAAOjwB,GAAM80C,EAAaH,GAC1B+D,EAAM95C,MAAQA,OAASu/B,IAAQv/B,eAAgBu3C,GAAWC,EAAOrmB,IAE5D8kB,EAAYC,GACnB7kB,EAAK4kB,GAAaN,EAASM,EAE7B,MAAOF,KACL1kB,EAAK4kB,KAAe1xC,YAAYuxC,EAElC,OAAOxxC,GAAMw1C,EAAIrC,EAASrmB,EAAUpxB,KAAMqxB,GAjB5C,GAAIomB,GAAS9P,EAAUjQ,GACnB8f,EAAOE,GAAWvmB,EAkBtB,OAAOomB,GAUT,QAASsD,IAAYvnB,GACnB,MAAO,UAASjsB,EAAOC,EAAK+pC,GAa1B,MAZIA,IAAuB,gBAARA,IAAoB6F,GAAe7vC,EAAOC,EAAK+pC,KAChE/pC,EAAM+pC,EAAO1nC,IAGftC,EAAQyzC,GAASzzC,GACbC,IAAQqC,IACVrC,EAAMD,EACNA,EAAQ,GAERC,EAAMwzC,GAASxzC,GAEjB+pC,EAAOA,IAAS1nC,GAAatC,EAAQC,EAAM,GAAK,EAAKwzC,GAASzJ,GACvDD,GAAU/pC,EAAOC,EAAK+pC,EAAM/d,IAWvC,QAASynB,IAA0BT,GACjC,MAAO,UAASx6C,EAAOwrC,GAKrB,MAJsB,gBAATxrC,IAAqC,gBAATwrC,KACvCxrC,EAAQk7C,GAASl7C,GACjBwrC,EAAQ0P,GAAS1P,IAEZgP,EAASx6C,EAAOwrC,IAqB3B,QAASmN,IAActnB,EAAMwW,EAASsT,EAAU/lB,EAAa9D,EAASukB,EAAUC,EAAS8D,EAAQC,EAAKpB,GACpG,GAAI2C,GAAUvT,EAAU9P,GACpBgiB,EAAaqB,EAAUtF,EAAUjsC,GACjCwxC,EAAkBD,EAAUvxC,GAAYisC,EACxCwF,EAAcF,EAAUvF,EAAWhsC,GACnC0xC,EAAmBH,EAAUvxC,GAAYgsC,CAE7ChO,IAAYuT,EAAUnjB,GAAoBC,IAC1C2P,KAAauT,EAAUljB,GAA0BD,KAEjCH,KACd+P,KAAajQ,GAAiBC,IAEhC,IAAI2jB,IACFnqB,EAAMwW,EAASvW,EAASgqB,EAAavB,EAAYwB,EACjDF,EAAiBzB,EAAQC,EAAKpB,GAG5BvvC,EAASiyC,EAAS32C,MAAMqF,GAAW2xC,EAKvC,OAJIhC,IAAWnoB,IACboqB,GAAQvyC,EAAQsyC,GAElBtyC,EAAOksB,YAAcA,EACdsmB,GAAgBxyC,EAAQmoB,EAAMwW,GAUvC,QAAS8T,IAAY7D,GACnB,GAAIzmB,GAAOroB,GAAK8uC,EAChB,OAAO,UAASrQ,EAAQmU,GAGtB,GAFAnU,EAASyT,GAASzT,IAClBmU,EAAyB,MAAbA,EAAoB,EAAIvY,GAAU2G,GAAU4R,GAAY,OACnDC,GAAepU,GAAS,CAGvC,GAAIqU,IAAQnqC,GAAS81B,GAAU,KAAK1U,MAAM,IAI1C,OADA+oB,IAAQnqC,GAFI0f,EAAKyqB,EAAK,GAAK,MAAQA,EAAK,GAAKF,KAEnB,KAAK7oB,MAAM,OAC5B+oB,EAAK,GAAK,MAAQA,EAAK,GAAKF,IAEvC,MAAOvqB,GAAKoW,IAsBhB,QAASsU,IAAchT,GACrB,MAAO,UAAS/U,GACd,GAAIqU,GAAMC,GAAOtU,EACjB,OAAIqU,IAAOzO,GACF7D,EAAW/B,GAEhBqU,GAAOnO,GACF3D,EAAWvC,GAEbQ,EAAYR,EAAQ+U,EAAS/U,KA6BxC,QAASgoB,IAAW3qB,EAAMwW,EAASvW,EAASukB,EAAUC,EAAS8D,EAAQC,EAAKpB,GAC1E,GAAIwB,GAAYpS,EAAUhQ,EAC1B,KAAKoiB,GAA4B,kBAAR5oB,GACvB,KAAM,IAAIiY,IAAUlS,GAEtB,IAAI32B,GAASo1C,EAAWA,EAASp1C,OAAS,CAS1C,IARKA,IACHonC,KAAa5P,GAAoBC,IACjC2d,EAAWC,EAAUjsC,IAEvBgwC,EAAMA,IAAQhwC,GAAYgwC,EAAMjO,GAAU5B,GAAU6P,GAAM,GAC1DpB,EAAQA,IAAU5uC,GAAY4uC,EAAQzO,GAAUyO,GAChDh4C,GAAUq1C,EAAUA,EAAQr1C,OAAS,EAEjConC,EAAU3P,GAAyB,CACrC,GAAIwhB,GAAgB7D,EAChB8D,EAAe7D,CAEnBD,GAAWC,EAAUjsC,GAEvB,GAAInC,GAAOuyC,EAAYpwC,GAAY0vC,GAAQloB,GAEvCmqB,GACFnqB,EAAMwW,EAASvW,EAASukB,EAAUC,EAAS4D,EAAeC,EAC1DC,EAAQC,EAAKpB,EAkBf,IAfI/wC,GACFu0C,GAAUT,EAAS9zC,GAErB2pB,EAAOmqB,EAAQ,GACf3T,EAAU2T,EAAQ,GAClBlqB,EAAUkqB,EAAQ,GAClB3F,EAAW2F,EAAQ,GACnB1F,EAAU0F,EAAQ,GAClB/C,EAAQ+C,EAAQ,GAAKA,EAAQ,KAAO3xC,GAC/BowC,EAAY,EAAI5oB,EAAK5wB,OACtBmrC,GAAU4P,EAAQ,GAAK/6C,EAAQ,IAE9Bg4C,GAAS5Q,GAAW9P,GAAkBC,MACzC6P,KAAa9P,GAAkBC,KAE5B6P,GAAWA,GAAWjQ,GAGzB1uB,EADS2+B,GAAW9P,IAAmB8P,GAAW7P,GACzCwgB,GAAYnnB,EAAMwW,EAAS4Q,GAC1B5Q,GAAW5P,IAAqB4P,IAAYjQ,GAAiBK,KAAwB6d,EAAQr1C,OAG9Fm4C,GAAap0C,MAAMqF,GAAW2xC,GAF9BV,GAAczpB,EAAMwW,EAASvW,EAASukB,OAJ/C,IAAI3sC,GAASsuC,GAAWnmB,EAAMwW,EAASvW,EASzC,OAAOoqB,KADMh0C,EAAOw0C,GAAcT,IACJvyC,EAAQsyC,GAAUnqB,EAAMwW,GAexD,QAASsU,IAAuBpV,EAAUgH,EAAUlmC,EAAKmsB,GACvD,MAAI+S,KAAal9B,IACZ+8B,GAAGG,EAAUqV,GAAYv0C,MAAUrG,GAAeoI,KAAKoqB,EAAQnsB,GAC3DkmC,EAEFhH,EAiBT,QAASsV,IAAoBtV,EAAUgH,EAAUlmC,EAAKmsB,EAAQ0H,EAAQqM,GAOpE,MANII,IAASpB,IAAaoB,GAAS4F,KAEjChG,EAAM1hC,IAAI0nC,EAAUhH,GACpB4I,GAAU5I,EAAUgH,EAAUlkC,GAAWwyC,GAAqBtU,GAC9DA,EAAc,OAAEgG,IAEXhH,EAYT,QAASuV,IAAgBt8C,GACvB,MAAOowC,IAAcpwC,GAAS6J,GAAY7J,EAgB5C,QAASotC,IAAY1mB,EAAO8kB,EAAO3D,EAASC,EAAY8E,EAAW7E,GACjE,GAAIwU,GAAY1U,EAAUnQ,GACtBqL,EAAYrc,EAAMjmB,OAClBsrC,EAAYP,EAAM/qC,MAEtB,IAAIsiC,GAAagJ,KAAewQ,GAAaxQ,EAAYhJ,GACvD,OAAO,CAGT,IAAI8F,GAAUd,EAAM5hC,IAAIugB,EACxB,IAAImiB,GAAWd,EAAM5hC,IAAIqlC,GACvB,MAAO3C,IAAW2C,CAEpB,IAAI3qC,IAAS,EACTqI,GAAS,EACTijC,EAAQtE,EAAUlQ,GAA0B,GAAIuN,IAAWr7B,EAM/D,KAJAk+B,EAAM1hC,IAAIqgB,EAAO8kB,GACjBzD,EAAM1hC,IAAImlC,EAAO9kB,KAGR7lB,EAAQkiC,GAAW,CAC1B,GAAIyZ,GAAW91B,EAAM7lB,GACjB47C,EAAWjR,EAAM3qC,EAErB,IAAIinC,EACF,GAAI4U,GAAWH,EACXzU,EAAW2U,EAAUD,EAAU37C,EAAO2qC,EAAO9kB,EAAOqhB,GACpDD,EAAW0U,EAAUC,EAAU57C,EAAO6lB,EAAO8kB,EAAOzD,EAE1D,IAAI2U,IAAa7yC,GAAW,CAC1B,GAAI6yC,EACF,QAEFxzC,IAAS,CACT,OAGF,GAAIijC,GACF,IAAKvZ,EAAU4Y,EAAO,SAASiR,EAAUzQ,GACnC,IAAKpX,EAASuX,EAAMH,KACfwQ,IAAaC,GAAY7P,EAAU4P,EAAUC,EAAU5U,EAASC,EAAYC,IAC/E,MAAOoE,GAAKxrC,KAAKqrC,KAEjB,CACN9iC,GAAS,CACT,YAEG,IACDszC,IAAaC,IACX7P,EAAU4P,EAAUC,EAAU5U,EAASC,EAAYC,GACpD,CACL7+B,GAAS,CACT,QAKJ,MAFA6+B,GAAc,OAAErhB,GAChBqhB,EAAc,OAAEyD,GACTtiC,EAoBT,QAASmkC,IAAWrZ,EAAQwX,EAAOnD,EAAKR,EAASC,EAAY8E,EAAW7E,GACtE,OAAQM,GACN,IAAK5N,IACH,GAAKzG,EAAO0gB,YAAclJ,EAAMkJ,YAC3B1gB,EAAO6gB,YAAcrJ,EAAMqJ,WAC9B,OAAO,CAET7gB,GAASA,EAAOpM,OAChB4jB,EAAQA,EAAM5jB,MAEhB,KAAK4S,IACH,QAAKxG,EAAO0gB,YAAclJ,EAAMkJ,aAC3B9H,EAAU,GAAI70B,IAAWic,GAAS,GAAIjc,IAAWyzB,IAKxD,KAAKlS,IACL,IAAKC,IACL,IAAKM,IAGH,MAAO+M,KAAI5S,GAASwX,EAEtB,KAAK/R,IACH,MAAOzF,GAAO2oB,MAAQnR,EAAMmR,MAAQ3oB,EAAO4oB,SAAWpR,EAAMoR,OAE9D,KAAK3iB,IACL,IAAKE,IAIH,MAAOnG,IAAWwX,EAAQ,EAE5B,KAAK5R,IACH,GAAIijB,GAAU9mB,CAEhB,KAAKmE,IACH,GAAIqiB,GAAY1U,EAAUnQ,EAG1B,IAFAmlB,IAAYA,EAAUvmB,GAElBtC,EAAOrc,MAAQ6zB,EAAM7zB,OAAS4kC,EAChC,OAAO,CAGT,IAAI1T,GAAUd,EAAM5hC,IAAI6tB,EACxB,IAAI6U,EACF,MAAOA,IAAW2C,CAEpB3D,IAAWlQ,GAGXoQ,EAAM1hC,IAAI2tB,EAAQwX,EAClB,IAAItiC,GAASkkC,GAAYyP,EAAQ7oB,GAAS6oB,EAAQrR,GAAQ3D,EAASC,EAAY8E,EAAW7E,EAE1F,OADAA,GAAc,OAAE/T,GACT9qB,CAET,KAAKkxB,IACH,GAAI+a,GACF,MAAOA,IAAcvrC,KAAKoqB,IAAWmhB,GAAcvrC,KAAK4hC,GAG9D,OAAO,EAgBT,QAASkC,IAAa1Z,EAAQwX,EAAO3D,EAASC,EAAY8E,EAAW7E,GACnE,GAAIwU,GAAY1U,EAAUnQ,GACtBolB,EAAW7T,GAAWjV,GACtB+oB,EAAYD,EAASr8C,MAIzB,IAAIs8C,GAHW9T,GAAWuC,GACD/qC,SAEM87C,EAC7B,OAAO,CAGT,KADA,GAAI17C,GAAQk8C,EACLl8C,KAAS,CACd,GAAIgH,GAAMi1C,EAASj8C,EACnB,MAAM07C,EAAY10C,IAAO2jC,GAAQhqC,GAAeoI,KAAK4hC,EAAO3jC,IAC1D,OAAO,EAIX,GAAIghC,GAAUd,EAAM5hC,IAAI6tB,EACxB,IAAI6U,GAAWd,EAAM5hC,IAAIqlC,GACvB,MAAO3C,IAAW2C,CAEpB,IAAItiC,IAAS,CACb6+B,GAAM1hC,IAAI2tB,EAAQwX,GAClBzD,EAAM1hC,IAAImlC,EAAOxX,EAGjB,KADA,GAAIgpB,GAAWT,IACN17C,EAAQk8C,GAAW,CAC1Bl1C,EAAMi1C,EAASj8C,EACf,IAAIkmC,GAAW/S,EAAOnsB,GAClB40C,EAAWjR,EAAM3jC,EAErB,IAAIigC,EACF,GAAI4U,GAAWH,EACXzU,EAAW2U,EAAU1V,EAAUl/B,EAAK2jC,EAAOxX,EAAQ+T,GACnDD,EAAWf,EAAU0V,EAAU50C,EAAKmsB,EAAQwX,EAAOzD,EAGzD,MAAM2U,IAAa7yC,GACVk9B,IAAa0V,GAAY7P,EAAU7F,EAAU0V,EAAU5U,EAASC,EAAYC,GAC7E2U,GACD,CACLxzC,GAAS,CACT,OAEF8zC,IAAaA,EAAkB,eAAPn1C,GAE1B,GAAIqB,IAAW8zC,EAAU,CACvB,GAAIC,GAAUjpB,EAAOtyB,YACjBw7C,EAAU1R,EAAM9pC,WAGhBu7C,IAAWC,GACV,eAAiBlpB,IAAU,eAAiBwX,MACzB,kBAAXyR,IAAyBA,YAAmBA,IACjC,kBAAXC,IAAyBA,YAAmBA,MACvDh0C,GAAS,GAKb,MAFA6+B,GAAc,OAAE/T,GAChB+T,EAAc,OAAEyD,GACTtiC,EAUT,QAAS8vC,IAAS3nB,GAChB,MAAOsgB,IAAYC,GAASvgB,EAAMxnB,GAAWszC,IAAU9rB,EAAO,IAUhE,QAAS4X,IAAWjV,GAClB,MAAOiX,IAAejX,EAAQpsB,GAAMgvC,IAWtC,QAAS5N,IAAahV,GACpB,MAAOiX,IAAejX,EAAQqT,GAAQwP,IAqBxC,QAASwC,IAAYhoB,GAKnB,IAJA,GAAInoB,GAAUmoB,EAAKsrB,KAAO,GACtBj2B,EAAQ02B,GAAUl0C,GAClBzI,EAASe,GAAeoI,KAAKwzC,GAAWl0C,GAAUwd,EAAMjmB,OAAS,EAE9DA,KAAU,CACf,GAAIiH,GAAOgf,EAAMjmB,GACb48C,EAAY31C,EAAK2pB,IACrB,IAAiB,MAAbgsB,GAAqBA,GAAahsB,EACpC,MAAO3pB,GAAKi1C,KAGhB,MAAOzzC,GAUT,QAASwvC,IAAUrnB,GAEjB,OADa7vB,GAAeoI,KAAK03B,EAAQ,eAAiBA,EAASjQ,GACrD+D,YAchB,QAASqb,MACP,GAAIvnC,GAASo4B,EAAO5P,UAAYA,EAEhC,OADAxoB,GAASA,IAAWwoB,GAAW8c,GAAetlC,EACvCzE,UAAUhE,OAASyI,EAAOzE,UAAU,GAAIA,UAAU,IAAMyE,EAWjE,QAAS47B,IAAW9O,EAAKnuB,GACvB,GAAIH,GAAOsuB,EAAI6N,QACf,OAAOyZ,IAAUz1C,GACbH,EAAmB,gBAAPG,GAAkB,SAAW,QACzCH,EAAKsuB,IAUX,QAASsZ,IAAatb,GAIpB,IAHA,GAAI9qB,GAAStB,GAAKosB,GACdvzB,EAASyI,EAAOzI,OAEbA,KAAU,CACf,GAAIoH,GAAMqB,EAAOzI,GACbT,EAAQg0B,EAAOnsB,EAEnBqB,GAAOzI,IAAWoH,EAAK7H,EAAOyvC,GAAmBzvC,IAEnD,MAAOkJ,GAWT,QAASq0C,IAAUvpB,EAAQnsB,GACzB,GAAI7H,GAAQw1B,EAASxB,EAAQnsB,EAC7B,OAAOmmC,IAAahuC,GAASA,EAAQ6J,GAUvC,QAASwhC,IAAUrrC,GACjB,GAAIw9C,GAAQh8C,GAAeoI,KAAK5J,EAAOorC,IACnC/C,EAAMroC,EAAMorC,GAEhB,KACEprC,EAAMorC,IAAkBvhC,EACxB,IAAI4zC,IAAW,EACf,MAAOn5B,IAET,GAAIpb,GAASw0C,GAAqB9zC,KAAK5J,EAQvC,OAPIy9C,KACED,EACFx9C,EAAMorC,IAAkB/C,QAEjBroC,GAAMorC,KAGVliC,EA+ET,QAAS+5B,IAAQ17B,EAAOC,EAAKm2C,GAI3B,IAHA,GAAI98C,IAAS,EACTJ,EAASk9C,EAAWl9C,SAEfI,EAAQJ,GAAQ,CACvB,GAAIiH,GAAOi2C,EAAW98C,GAClB8W,EAAOjQ,EAAKiQ,IAEhB,QAAQjQ,EAAK2D,MACX,IAAK,OAAa9D,GAASoQ,CAAM,MACjC,KAAK,YAAanQ,GAAOmQ,CAAM,MAC/B,KAAK,OAAanQ,EAAM67B,GAAU77B,EAAKD,EAAQoQ,EAAO,MACtD,KAAK,YAAapQ,EAAQqkC,GAAUrkC,EAAOC,EAAMmQ,IAGrD,OAAS,MAASpQ,EAAO,IAAOC,GAUlC,QAASo2C,IAAeliB,GACtB,GAAIzI,GAAQyI,EAAOzI,MAAMuJ,GACzB,OAAOvJ,GAAQA,EAAM,GAAGF,MAAM0J,OAYhC,QAASohB,IAAQ7pB,EAAQ8W,EAAMgT,GAC7BhT,EAAOC,GAASD,EAAM9W,EAMtB,KAJA,GAAInzB,IAAS,EACTJ,EAASqqC,EAAKrqC,OACdyI,GAAS,IAEJrI,EAAQJ,GAAQ,CACvB,GAAIoH,GAAMmjC,GAAMF,EAAKjqC,GACrB,MAAMqI,EAAmB,MAAV8qB,GAAkB8pB,EAAQ9pB,EAAQnsB,IAC/C,KAEFmsB,GAASA,EAAOnsB,GAElB,MAAIqB,MAAYrI,GAASJ,EAChByI,KAETzI,EAAmB,MAAVuzB,EAAiB,EAAIA,EAAOvzB,SAClB8tC,GAAS9tC,IAAW2lC,GAAQv+B,EAAKpH,KACjD+gC,GAAQxN,IAAW+R,GAAY/R,IAUpC,QAASoU,IAAe1hB,GACtB,GAAIjmB,GAASimB,EAAMjmB,OACfyI,EAAS,GAAIwd,GAAMhlB,YAAYjB,EAOnC,OAJIA,IAA6B,gBAAZimB,GAAM,IAAkBllB,GAAeoI,KAAK8c,EAAO,WACtExd,EAAOrI,MAAQ6lB,EAAM7lB,MACrBqI,EAAOuO,MAAQiP,EAAMjP,OAEhBvO,EAUT,QAASu/B,IAAgBzU,GACvB,MAAqC,kBAAtBA,GAAOtyB,aAA8BotC,GAAY9a,MAC5DukB,GAAWwF,GAAa/pB,IAgB9B,QAAS4U,IAAe5U,EAAQqU,EAAKL,GACnC,GAAI0P,GAAO1jB,EAAOtyB,WAClB,QAAQ2mC,GACN,IAAK7N,IACH,MAAOga,IAAiBxgB,EAE1B,KAAKsF,IACL,IAAKC,IACH,MAAO,IAAIme,IAAM1jB,EAEnB,KAAKyG,IACH,MAAOka,IAAc3gB,EAAQgU,EAE/B,KAAKtN,IAAY,IAAKC,IACtB,IAAKC,IAAS,IAAKC,IAAU,IAAKC,IAClC,IAAKC,IAAU,IAAKC,IAAiB,IAAKC,IAAW,IAAKC,IACxD,MAAOiV,IAAgBnc,EAAQgU,EAEjC,KAAKpO,IACH,MAAO,IAAI8d,EAEb,KAAK7d,IACL,IAAKM,IACH,MAAO,IAAIud,GAAK1jB,EAElB,KAAKiG,IACH,MAAO6a,IAAY9gB,EAErB,KAAKkG,IACH,MAAO,IAAIwd,EAEb,KAAKtd,IACH,MAAO6a,IAAYjhB,IAYzB,QAASgqB,IAAkBtiB,EAAQuiB,GACjC,GAAIx9C,GAASw9C,EAAQx9C,MACrB,KAAKA,EACH,MAAOi7B,EAET,IAAI3E,GAAYt2B,EAAS,CAGzB,OAFAw9C,GAAQlnB,IAAct2B,EAAS,EAAI,KAAO,IAAMw9C,EAAQlnB,GACxDknB,EAAUA,EAAQjoC,KAAKvV,EAAS,EAAI,KAAO,KACpCi7B,EAAO2c,QAAQ9b,GAAe,uBAAyB0hB,EAAU,UAU1E,QAAS3T,IAActqC,GACrB,MAAOwhC,IAAQxhC,IAAU+lC,GAAY/lC,OAChCk+C,IAAoBl+C,GAASA,EAAMk+C,KAW1C,QAAS9X,IAAQpmC,EAAOS,GACtB,GAAI4K,SAAcrL,EAGlB,UAFAS,EAAmB,MAAVA,EAAiBo4B,GAAmBp4B,KAGlC,UAAR4K,GACU,UAARA,GAAoB4xB,GAAStyB,KAAK3K,KAChCA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQS,EAajD,QAAS22C,IAAep3C,EAAOa,EAAOmzB,GACpC,IAAKmU,GAASnU,GACZ,OAAO,CAET,IAAI3oB,SAAcxK,EAClB,UAAY,UAARwK,EACKgkC,GAAYrb,IAAWoS,GAAQvlC,EAAOmzB,EAAOvzB,QACrC,UAAR4K,GAAoBxK,IAASmzB,KAE7B4S,GAAG5S,EAAOnzB,GAAQb,GAa7B,QAASwvC,IAAMxvC,EAAOg0B,GACpB,GAAIwN,GAAQxhC,GACV,OAAO,CAET,IAAIqL,SAAcrL,EAClB,SAAY,UAARqL,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATrL,IAAiB8pC,GAAS9pC,MAGvBg8B,GAAcrxB,KAAK3K,KAAW+7B,GAAapxB,KAAK3K,IAC1C,MAAVg0B,GAAkBh0B,IAASF,IAAOk0B,IAUvC,QAASspB,IAAUt9C,GACjB,GAAIqL,SAAcrL,EAClB,OAAgB,UAARqL,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAVrL,EACU,OAAVA,EAWP,QAASw5C,IAAWnoB,GAClB,GAAIioB,GAAWD,GAAYhoB,GACvBma,EAAQlK,EAAOgY,EAEnB,IAAoB,kBAAT9N,MAAyB8N,IAAY7X,GAAYphC,WAC1D,OAAO,CAET,IAAIgxB,IAASma,EACX,OAAO,CAET,IAAI9jC,GAAO6xC,GAAQ/N,EACnB,SAAS9jC,GAAQ2pB,IAAS3pB,EAAK,GAUjC,QAASumC,IAAS5c,GAChB,QAAS8sB,IAAeA,KAAc9sB,GAmBxC,QAASyd,IAAY9uC,GACnB,GAAI03C,GAAO13C,GAASA,EAAM0B,WAG1B,OAAO1B,MAFqB,kBAAR03C,IAAsBA,EAAKr3C,WAAc+7C,IAa/D,QAAS3M,IAAmBzvC,GAC1B,MAAOA,KAAUA,IAAUmoC,GAASnoC,GAYtC,QAASuvC,IAAwB1nC,EAAKkmC,GACpC,MAAO,UAAS/Z,GACd,MAAc,OAAVA,IAGGA,EAAOnsB,KAASkmC,IACpBA,IAAalkC,IAAchC,IAAO/H,IAAOk0B,MAwChD,QAASioB,IAAUv0C,EAAMg0B,GACvB,GAAImM,GAAUngC,EAAK,GACf02C,EAAa1iB,EAAO,GACpB2iB,EAAaxW,EAAUuW,EACvB3U,EAAW4U,GAAczmB,GAAiBC,GAAqBM,IAE/DmmB,EACAF,GAAcjmB,IAAmB0P,GAAW9P,IAC5CqmB,GAAcjmB,IAAmB0P,GAAWzP,IAAqB1wB,EAAK,GAAGjH,QAAUi7B,EAAO,IAC1F0iB,IAAejmB,GAAgBC,KAAsBsD,EAAO,GAAGj7B,QAAUi7B,EAAO,IAAQmM,GAAW9P,EAGvG,KAAM0R,IAAY6U,EAChB,MAAO52C,EAGL02C,GAAaxmB,KACflwB,EAAK,GAAKg0B,EAAO,GAEjB2iB,GAAcxW,EAAUjQ,GAAiB,EAAIE,GAG/C,IAAI93B,GAAQ07B,EAAO,EACnB,IAAI17B,EAAO,CACT,GAAI61C,GAAWnuC,EAAK,EACpBA,GAAK,GAAKmuC,EAAWD,GAAYC,EAAU71C,EAAO07B,EAAO,IAAM17B,EAC/D0H,EAAK,GAAKmuC,EAAWzf,EAAe1uB,EAAK,GAAI2uB,IAAeqF,EAAO,GA0BrE,MAvBA17B,GAAQ07B,EAAO,GACX17B,IACF61C,EAAWnuC,EAAK,GAChBA,EAAK,GAAKmuC,EAAWU,GAAiBV,EAAU71C,EAAO07B,EAAO,IAAM17B,EACpE0H,EAAK,GAAKmuC,EAAWzf,EAAe1uB,EAAK,GAAI2uB,IAAeqF,EAAO,IAGrE17B,EAAQ07B,EAAO,GACX17B,IACF0H,EAAK,GAAK1H,GAGRo+C,EAAajmB,KACfzwB,EAAK,GAAgB,MAAXA,EAAK,GAAag0B,EAAO,GAAK2H,GAAU37B,EAAK,GAAIg0B,EAAO,KAGrD,MAAXh0B,EAAK,KACPA,EAAK,GAAKg0B,EAAO,IAGnBh0B,EAAK,GAAKg0B,EAAO,GACjBh0B,EAAK,GAAK22C,EAEH32C,EAYT,QAASunC,IAAajb,GACpB,GAAI9qB,KACJ,IAAc,MAAV8qB,EACF,IAAK,GAAInsB,KAAO/H,IAAOk0B,GACrB9qB,EAAOvI,KAAKkH,EAGhB,OAAOqB,GAUT,QAASoiC,IAAetrC,GACtB,MAAO09C,IAAqB9zC,KAAK5J,GAYnC,QAAS4xC,IAASvgB,EAAM9pB,EAAO2uB,GAE7B,MADA3uB,GAAQqkC,GAAUrkC,IAAUsC,GAAawnB,EAAK5wB,OAAS,EAAK8G,EAAO,GAC5D,WAML,IALA,GAAIgqB,GAAO9sB,UACP5D,GAAS,EACTJ,EAASmrC,GAAUra,EAAK9wB,OAAS8G,EAAO,GACxCmf,EAAQplB,GAAMb,KAETI,EAAQJ,GACfimB,EAAM7lB,GAAS0wB,EAAKhqB,EAAQ1G,EAE9BA,IAAS,CAET,KADA,GAAI09C,GAAYj9C,GAAMiG,EAAQ,KACrB1G,EAAQ0G,GACfg3C,EAAU19C,GAAS0wB,EAAK1wB,EAG1B,OADA09C,GAAUh3C,GAAS2uB,EAAUxP,GACtBliB,EAAM6sB,EAAMnxB,KAAMq+C,IAY7B,QAASjS,IAAOtY,EAAQ8W,GACtB,MAAOA,GAAKrqC,OAAS,EAAIuzB,EAAS6W,GAAQ7W,EAAQie,GAAUnH,EAAM,GAAI,IAaxE,QAASoP,IAAQxzB,EAAOuqB,GAKtB,IAJA,GAAIlO,GAAYrc,EAAMjmB,OAClBA,EAAS4iC,GAAU4N,EAAQxwC,OAAQsiC,GACnCyb,EAAW/b,GAAU/b,GAElBjmB,KAAU,CACf,GAAII,GAAQowC,EAAQxwC,EACpBimB,GAAMjmB,GAAU2lC,GAAQvlC,EAAOkiC,GAAayb,EAAS39C,GAASgJ,GAEhE,MAAO6c,GAWT,QAASqpB,IAAQ/b,EAAQnsB,GACvB,IAAY,gBAARA,GAAgD,kBAAhBmsB,GAAOnsB,KAIhC,aAAPA,EAIJ,MAAOmsB,GAAOnsB,GAmDhB,QAAS6zC,IAAgBjE,EAASgH,EAAW5W,GAC3C,GAAInM,GAAU+iB,EAAY,EAC1B,OAAO9M,IAAY8F,EAASuG,GAAkBtiB,EAAQgjB,GAAkBd,GAAeliB,GAASmM,KAYlG,QAAS8W,IAASttB,GAChB,GAAIutB,GAAQ,EACRC,EAAa,CAEjB,OAAO,YACL,GAAIC,GAAQC,KACRC,EAAYvmB,IAAYqmB,EAAQD,EAGpC,IADAA,EAAaC,EACTE,EAAY,GACd,KAAMJ,GAASpmB,GACb,MAAO/zB,WAAU,OAGnBm6C,GAAQ,CAEV,OAAOvtB,GAAK7sB,MAAMqF,GAAWpF,YAYjC,QAAS+hC,IAAY9f,EAAO/O,GAC1B,GAAI9W,IAAS,EACTJ,EAASimB,EAAMjmB,OACfs2B,EAAYt2B,EAAS,CAGzB,KADAkX,EAAOA,IAAS9N,GAAYpJ,EAASkX,IAC5B9W,EAAQ8W,GAAM,CACrB,GAAIsnC,GAAO3Y,GAAWzlC,EAAOk2B,GACzB/2B,EAAQ0mB,EAAMu4B,EAElBv4B,GAAMu4B,GAAQv4B,EAAM7lB,GACpB6lB,EAAM7lB,GAASb,EAGjB,MADA0mB,GAAMjmB,OAASkX,EACR+O,EA4BT,QAASskB,IAAMhrC,GACb,GAAoB,gBAATA,IAAqB8pC,GAAS9pC,GACvC,MAAOA,EAET,IAAIkJ,GAAUlJ,EAAQ,EACtB,OAAkB,KAAVkJ,GAAkB,EAAIlJ,IAAW44B,GAAY,KAAO1vB,EAU9D,QAASilC,IAAS9c,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,MAAO6tB,IAAat1C,KAAKynB,GACzB,MAAO/M,IACT,IACE,MAAQ+M,GAAO,GACf,MAAO/M,KAEX,MAAO,GAWT,QAASo6B,IAAkBT,EAASpW,GAOlC,MANAjW,GAAUsH,GAAW,SAAS4iB,GAC5B,GAAI97C,GAAQ,KAAO87C,EAAK,EACnBjU,GAAUiU,EAAK,KAAQ5pB,EAAc+rB,EAASj+C,IACjDi+C,EAAQt9C,KAAKX,KAGVi+C,EAAQ5pB,OAUjB,QAASsN,IAAa8V,GACpB,GAAIA,YAAmBhW,GACrB,MAAOgW,GAAQz0C,OAEjB,IAAIkG,GAAS,GAAIw4B,GAAc+V,EAAQ3V,YAAa2V,EAAQzV,UAI5D,OAHA94B,GAAO64B,YAAcU,GAAUgV,EAAQ1V,aACvC74B,EAAO+4B,UAAawV,EAAQxV,UAC5B/4B,EAAOg5B,WAAauV,EAAQvV,WACrBh5B,EA0BT,QAASi2C,IAAMz4B,EAAO/O,EAAMw/B,GAExBx/B,GADGw/B,EAAQC,GAAe1wB,EAAO/O,EAAMw/B,GAASx/B,IAAS9N,IAClD,EAEA+hC,GAAU5B,GAAUryB,GAAO,EAEpC,IAAIlX,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,KAAKA,GAAUkX,EAAO,EACpB,QAMF,KAJA,GAAI9W,GAAQ,EACRoxB,EAAW,EACX/oB,EAAS5H,GAAMkwC,GAAW/wC,EAASkX,IAEhC9W,EAAQJ,GACbyI,EAAO+oB,KAAcggB,GAAUvrB,EAAO7lB,EAAQA,GAAS8W,EAEzD,OAAOzO,GAkBT,QAASk2C,IAAQ14B,GAMf,IALA,GAAI7lB,IAAS,EACTJ,EAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,OACnCwxB,EAAW,EACX/oB,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EACdb,KACFkJ,EAAO+oB,KAAcjyB,GAGzB,MAAOkJ,GAyBT,QAAS0d,MACP,GAAInmB,GAASgE,UAAUhE,MACvB,KAAKA,EACH,QAMF,KAJA,GAAI8wB,GAAOjwB,GAAMb,EAAS,GACtBimB,EAAQjiB,UAAU,GAClB5D,EAAQJ,EAELI,KACL0wB,EAAK1wB,EAAQ,GAAK4D,UAAU5D,EAE9B,OAAO0xB,GAAUiP,GAAQ9a,GAAS+b,GAAU/b,IAAUA,GAAQyjB,GAAY5Y,EAAM,IA4HlF,QAAS8tB,IAAK34B,EAAOtf,EAAG+vC,GACtB,GAAI12C,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAKA,IAGL2G,EAAK+vC,GAAS/vC,IAAMyC,GAAa,EAAImgC,GAAU5iC,GACxC6qC,GAAUvrB,EAAOtf,EAAI,EAAI,EAAIA,EAAG3G,OA4BzC,QAAS6+C,IAAU54B,EAAOtf,EAAG+vC,GAC3B,GAAI12C,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAKA,IAGL2G,EAAK+vC,GAAS/vC,IAAMyC,GAAa,EAAImgC,GAAU5iC,GAC/CA,EAAI3G,EAAS2G,EACN6qC,GAAUvrB,EAAO,EAAGtf,EAAI,EAAI,EAAIA,OAsCzC,QAASm4C,IAAe74B,EAAOqL,GAC7B,MAAQrL,IAASA,EAAMjmB,OACnBizC,GAAUhtB,EAAO+pB,GAAY1e,EAAW,IAAI,GAAM,MAuCxD,QAASytB,IAAU94B,EAAOqL,GACxB,MAAQrL,IAASA,EAAMjmB,OACnBizC,GAAUhtB,EAAO+pB,GAAY1e,EAAW,IAAI,MAiClD,QAAShqB,IAAK2e,EAAO1mB,EAAOuH,EAAOC,GACjC,GAAI/G,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAKA,IAGD8G,GAAyB,gBAATA,IAAqB6vC,GAAe1wB,EAAO1mB,EAAOuH,KACpEA,EAAQ,EACRC,EAAM/G,GAEDspC,GAASrjB,EAAO1mB,EAAOuH,EAAOC,OAsCvC,QAASi4C,IAAU/4B,EAAOqL,EAAWwB,GACnC,GAAI9yB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,KAAKA,EACH,OAAQ,CAEV,IAAII,GAAqB,MAAb0yB,EAAoB,EAAIyW,GAAUzW,EAI9C,OAHI1yB,GAAQ,IACVA,EAAQ+qC,GAAUnrC,EAASI,EAAO,IAE7ByyB,EAAc5M,EAAO+pB,GAAY1e,EAAW,GAAIlxB,GAsCzD,QAAS6+C,IAAch5B,EAAOqL,EAAWwB,GACvC,GAAI9yB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,KAAKA,EACH,OAAQ,CAEV,IAAII,GAAQJ,EAAS,CAOrB,OANI8yB,KAAc1pB,KAChBhJ,EAAQmpC,GAAUzW,GAClB1yB,EAAQ0yB,EAAY,EAChBqY,GAAUnrC,EAASI,EAAO,GAC1BwiC,GAAUxiC,EAAOJ,EAAS,IAEzB6yB,EAAc5M,EAAO+pB,GAAY1e,EAAW,GAAIlxB,GAAO,GAiBhE,QAASs8C,IAAQz2B,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAMjmB,QACvB0pC,GAAYzjB,EAAO,MAiBrC,QAASi5B,IAAYj5B,GAEnB,OADsB,MAATA,EAAgB,EAAIA,EAAMjmB,QACvB0pC,GAAYzjB,EAAOkS,OAuBrC,QAASgnB,IAAal5B,EAAO0jB,GAE3B,OADsB,MAAT1jB,EAAgB,EAAIA,EAAMjmB,SAIvC2pC,EAAQA,IAAUvgC,GAAY,EAAImgC,GAAUI,GACrCD,GAAYzjB,EAAO0jB,OAkB5B,QAASyV,IAAUla,GAKjB,IAJA,GAAI9kC,IAAS,EACTJ,EAAkB,MAATklC,EAAgB,EAAIA,EAAMllC,OACnCyI,OAEKrI,EAAQJ,GAAQ,CACvB,GAAIq7C,GAAOnW,EAAM9kC,EACjBqI,GAAO4yC,EAAK,IAAMA,EAAK,GAEzB,MAAO5yC,GAqBT,QAAS42C,IAAKp5B,GACZ,MAAQA,IAASA,EAAMjmB,OAAUimB,EAAM,GAAK7c,GA0B9C,QAAS/I,IAAQ4lB,EAAO1mB,EAAOuzB,GAC7B,GAAI9yB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,KAAKA,EACH,OAAQ,CAEV,IAAII,GAAqB,MAAb0yB,EAAoB,EAAIyW,GAAUzW,EAI9C,OAHI1yB,GAAQ,IACVA,EAAQ+qC,GAAUnrC,EAASI,EAAO,IAE7BsxB,EAAYzL,EAAO1mB,EAAOa,GAiBnC,QAASk/C,IAAQr5B,GAEf,OADsB,MAATA,EAAgB,EAAIA,EAAMjmB,QACvBwxC,GAAUvrB,EAAO,GAAI,MAiHvC,QAAS1Q,IAAK0Q,EAAOs5B,GACnB,MAAgB,OAATt5B,EAAgB,GAAKu5B,GAAWr2C,KAAK8c,EAAOs5B,GAiBrD,QAAStgC,IAAKgH,GACZ,GAAIjmB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAOA,GAASimB,EAAMjmB,EAAS,GAAKoJ,GAwBtC,QAASq2C,IAAYx5B,EAAO1mB,EAAOuzB,GACjC,GAAI9yB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,KAAKA,EACH,OAAQ,CAEV,IAAII,GAAQJ,CAKZ,OAJI8yB,KAAc1pB,KAChBhJ,EAAQmpC,GAAUzW,GAClB1yB,EAAQA,EAAQ,EAAI+qC,GAAUnrC,EAASI,EAAO,GAAKwiC,GAAUxiC,EAAOJ,EAAS,IAExET,IAAUA,EACbw2B,EAAkB9P,EAAO1mB,EAAOa,GAChCyyB,EAAc5M,EAAOgN,EAAW7yB,GAAO,GAwB7C,QAASs/C,IAAIz5B,EAAOtf,GAClB,MAAQsf,IAASA,EAAMjmB,OAAU6vC,GAAQ5pB,EAAOsjB,GAAU5iC,IAAMyC,GAgDlE,QAASu2C,IAAQ15B,EAAO8L,GACtB,MAAQ9L,IAASA,EAAMjmB,QAAU+xB,GAAUA,EAAO/xB,OAC9CswC,GAAYrqB,EAAO8L,GACnB9L,EA0BN,QAAS25B,IAAU35B,EAAO8L,EAAQd,GAChC,MAAQhL,IAASA,EAAMjmB,QAAU+xB,GAAUA,EAAO/xB,OAC9CswC,GAAYrqB,EAAO8L,EAAQie,GAAY/e,EAAU,IACjDhL,EA0BN,QAAS45B,IAAY55B,EAAO8L,EAAQH,GAClC,MAAQ3L,IAASA,EAAMjmB,QAAU+xB,GAAUA,EAAO/xB,OAC9CswC,GAAYrqB,EAAO8L,EAAQ3oB,GAAWwoB,GACtC3L,EAkEN,QAAS65B,IAAO75B,EAAOqL,GACrB,GAAI7oB,KACJ,KAAMwd,IAASA,EAAMjmB,OACnB,MAAOyI,EAET,IAAIrI,IAAS,EACTowC,KACAxwC,EAASimB,EAAMjmB,MAGnB,KADAsxB,EAAY0e,GAAY1e,EAAW,KAC1BlxB,EAAQJ,GAAQ,CACvB,GAAIT,GAAQ0mB,EAAM7lB,EACdkxB,GAAU/xB,EAAOa,EAAO6lB,KAC1Bxd,EAAOvI,KAAKX,GACZixC,EAAQtwC,KAAKE,IAIjB,MADAmwC,IAAWtqB,EAAOuqB,GACX/nC,EA0BT,QAASkwC,IAAQ1yB,GACf,MAAgB,OAATA,EAAgBA,EAAQ85B,GAAc52C,KAAK8c,GAmBpD,QAASrN,IAAMqN,EAAOnf,EAAOC,GAC3B,GAAI/G,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAKA,IAGD+G,GAAqB,gBAAPA,IAAmB4vC,GAAe1wB,EAAOnf,EAAOC,IAChED,EAAQ,EACRC,EAAM/G,IAGN8G,EAAiB,MAATA,EAAgB,EAAIyiC,GAAUziC,GACtCC,EAAMA,IAAQqC,GAAYpJ,EAASupC,GAAUxiC,IAExCyqC,GAAUvrB,EAAOnf,EAAOC,OAoBjC,QAASi5C,IAAY/5B,EAAO1mB,GAC1B,MAAOmyC,IAAgBzrB,EAAO1mB,GA4BhC,QAAS0gD,IAAch6B,EAAO1mB,EAAO0xB,GACnC,MAAO6gB,IAAkB7rB,EAAO1mB,EAAOywC,GAAY/e,EAAU,IAmB/D,QAASivB,IAAcj6B,EAAO1mB,GAC5B,GAAIS,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,IAAIA,EAAQ,CACV,GAAII,GAAQsxC,GAAgBzrB,EAAO1mB,EACnC,IAAIa,EAAQJ,GAAUmmC,GAAGlgB,EAAM7lB,GAAQb,GACrC,MAAOa,GAGX,OAAQ,EAqBV,QAAS+/C,IAAgBl6B,EAAO1mB,GAC9B,MAAOmyC,IAAgBzrB,EAAO1mB,GAAO,GA4BvC,QAAS6gD,IAAkBn6B,EAAO1mB,EAAO0xB,GACvC,MAAO6gB,IAAkB7rB,EAAO1mB,EAAOywC,GAAY/e,EAAU,IAAI,GAmBnE,QAASovB,IAAkBp6B,EAAO1mB,GAEhC,GADsB,MAAT0mB,EAAgB,EAAIA,EAAMjmB,OAC3B,CACV,GAAII,GAAQsxC,GAAgBzrB,EAAO1mB,GAAO,GAAQ,CAClD,IAAI4mC,GAAGlgB,EAAM7lB,GAAQb,GACnB,MAAOa,GAGX,OAAQ,EAkBV,QAASkgD,IAAWr6B,GAClB,MAAQA,IAASA,EAAMjmB,OACnBwyC,GAAevsB,MAoBrB,QAASs6B,IAAat6B,EAAOgL,GAC3B,MAAQhL,IAASA,EAAMjmB,OACnBwyC,GAAevsB,EAAO+pB,GAAY/e,EAAU,OAkBlD,QAASuvB,IAAKv6B,GACZ,GAAIjmB,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAOA,GAASwxC,GAAUvrB,EAAO,EAAGjmB,MA4BtC,QAASygD,IAAKx6B,EAAOtf,EAAG+vC,GACtB,MAAMzwB,IAASA,EAAMjmB,QAGrB2G,EAAK+vC,GAAS/vC,IAAMyC,GAAa,EAAImgC,GAAU5iC,GACxC6qC,GAAUvrB,EAAO,EAAGtf,EAAI,EAAI,EAAIA,OA4BzC,QAAS+5C,IAAUz6B,EAAOtf,EAAG+vC,GAC3B,GAAI12C,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,MACvC,OAAKA,IAGL2G,EAAK+vC,GAAS/vC,IAAMyC,GAAa,EAAImgC,GAAU5iC,GAC/CA,EAAI3G,EAAS2G,EACN6qC,GAAUvrB,EAAOtf,EAAI,EAAI,EAAIA,EAAG3G,OAsCzC,QAAS2gD,IAAe16B,EAAOqL,GAC7B,MAAQrL,IAASA,EAAMjmB,OACnBizC,GAAUhtB,EAAO+pB,GAAY1e,EAAW,IAAI,GAAO,MAuCzD,QAASsvB,IAAU36B,EAAOqL,GACxB,MAAQrL,IAASA,EAAMjmB,OACnBizC,GAAUhtB,EAAO+pB,GAAY1e,EAAW,OAoG9C,QAASuvB,IAAK56B,GACZ,MAAQA,IAASA,EAAMjmB,OAAU4yC,GAAS3sB,MA0B5C,QAAS66B,IAAO76B,EAAOgL,GACrB,MAAQhL,IAASA,EAAMjmB,OAAU4yC,GAAS3sB,EAAO+pB,GAAY/e,EAAU,OAuBzE,QAAS8vB,IAAS96B,EAAO2L,GAEvB,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaxoB,GACpD6c,GAASA,EAAMjmB,OAAU4yC,GAAS3sB,EAAO7c,GAAWwoB,MAsB9D,QAASovB,IAAM/6B,GACb,IAAMA,IAASA,EAAMjmB,OACnB,QAEF,IAAIA,GAAS,CAOb,OANAimB,GAAQsL,EAAYtL,EAAO,SAASg7B,GAClC,GAAIxR,GAAkBwR,GAEpB,MADAjhD,GAASmrC,GAAU8V,EAAMjhD,OAAQA,IAC1B,IAGJ8zB,EAAU9zB,EAAQ,SAASI,GAChC,MAAOyxB,GAAS5L,EAAOqN,EAAalzB,MAyBxC,QAAS8gD,IAAUj7B,EAAOgL,GACxB,IAAMhL,IAASA,EAAMjmB,OACnB,QAEF,IAAIyI,GAASu4C,GAAM/6B,EACnB,OAAgB,OAAZgL,EACKxoB,EAEFopB,EAASppB,EAAQ,SAASw4C,GAC/B,MAAOl9C,GAAMktB,EAAU7nB,GAAW63C,KAgJtC,QAASE,IAAUntB,EAAOjC,GACxB,MAAOuhB,IAActf,MAAajC,MAAcsU,IAkBlD,QAAS+a,IAAcptB,EAAOjC,GAC5B,MAAOuhB,IAActf,MAAajC,MAAcqe,IA8DlD,QAASiR,IAAM9hD,GACb,GAAIkJ,GAASo4B,EAAOthC,EAEpB,OADAkJ,GAAO84B,WAAY,EACZ94B,EA0BT,QAAS64C,IAAI/hD,EAAOgiD,GAElB,MADAA,GAAYhiD,GACLA,EA0BT,QAASm5C,IAAKn5C,EAAOgiD,GACnB,MAAOA,GAAYhiD,GAsErB,QAASiiD,MACP,MAAOH,IAAM5hD,MA6Bf,QAASgiD,MACP,MAAO,IAAIxgB,GAAcxhC,KAAKF,QAASE,KAAK8hC,WAyB9C,QAASmgB,MACHjiD,KAAKgiC,aAAer4B,KACtB3J,KAAKgiC,WAAakgB,GAAQliD,KAAKF,SAEjC,IAAI81B,GAAO51B,KAAK+hC,WAAa/hC,KAAKgiC,WAAWzhC,MAG7C,QAAS,KAAQq1B,EAAM,MAFXA,EAAOjsB,GAAY3J,KAAKgiC,WAAWhiC,KAAK+hC,cAuBtD,QAASogB,MACP,MAAOniD,MA2BT,QAASoiD,IAAatiD,GAIpB,IAHA,GAAIkJ,GACAojC,EAASpsC,KAENosC,YAAkB1K,IAAY,CACnC,GAAI5+B,GAAQ2+B,GAAa2K,EACzBtpC,GAAMi/B,UAAY,EAClBj/B,EAAMk/B,WAAar4B,GACfX,EACFgoC,EAASpP,YAAc9+B,EAEvBkG,EAASlG,CAEX,IAAIkuC,GAAWluC,CACfspC,GAASA,EAAOxK,YAGlB,MADAoP,GAASpP,YAAc9hC,EAChBkJ,EAuBT,QAASq5C,MACP,GAAIviD,GAAQE,KAAK4hC,WACjB,IAAI9hC,YAAiByhC,GAAa,CAChC,GAAI+gB,GAAUxiD,CAUd,OATIE,MAAK6hC,YAAYthC,SACnB+hD,EAAU,GAAI/gB,GAAYvhC,OAE5BsiD,EAAUA,EAAQpJ,UAClBoJ,EAAQzgB,YAAYphC,MAClB,KAAQw4C,GACR,MAASC,IACT,QAAWvvC,KAEN,GAAI63B,GAAc8gB,EAAStiD,KAAK8hC,WAEzC,MAAO9hC,MAAKi5C,KAAKC,IAiBnB,QAASqJ,MACP,MAAOnf,IAAiBpjC,KAAK4hC,YAAa5hC,KAAK6hC,aA4EjD,QAAS2gB,IAAMtvB,EAAYrB,EAAWolB,GACpC,GAAI9lB,GAAOmQ,GAAQpO,GAActB,EAAa8X,EAI9C,OAHIuN,IAASC,GAAehkB,EAAYrB,EAAWolB,KACjDplB,EAAYloB,IAEPwnB,EAAK+B,EAAYqd,GAAY1e,EAAW,IAwCjD,QAAS4wB,IAAOvvB,EAAYrB,GAE1B,OADWyP,GAAQpO,GAAcpB,EAAckY,IACnC9W,EAAYqd,GAAY1e,EAAW,IAmFjD,QAAS6wB,IAAQxvB,EAAY1B,GAC3B,MAAOyY,IAAYnU,GAAI5C,EAAY1B,GAAW,GAuBhD,QAASmxB,IAAYzvB,EAAY1B,GAC/B,MAAOyY,IAAYnU,GAAI5C,EAAY1B,GAAWkH,IAwBhD,QAASkqB,IAAa1vB,EAAY1B,EAAU0Y,GAE1C,MADAA,GAAQA,IAAUvgC,GAAY,EAAImgC,GAAUI,GACrCD,GAAYnU,GAAI5C,EAAY1B,GAAW0Y,GAiChD,QAAS7pC,IAAQ6yB,EAAY1B,GAE3B,OADW8P,GAAQpO,GAAcxB,EAAYqV,IACjC7T,EAAYqd,GAAY/e,EAAU,IAuBhD,QAASqxB,IAAa3vB,EAAY1B,GAEhC,OADW8P,GAAQpO,GAAcvB,EAAiBmxB,IACtC5vB,EAAYqd,GAAY/e,EAAU,IAgEhD,QAAS8X,IAASpW,EAAYpzB,EAAOuzB,EAAW4jB,GAC9C/jB,EAAaic,GAAYjc,GAAcA,EAAaZ,GAAOY,GAC3DG,EAAaA,IAAc4jB,EAASnN,GAAUzW,GAAa,CAE3D,IAAI9yB,GAAS2yB,EAAW3yB,MAIxB,OAHI8yB,GAAY,IACdA,EAAYqY,GAAUnrC,EAAS8yB,EAAW,IAErC0vB,GAAS7vB,GACXG,GAAa9yB,GAAU2yB,EAAWtyB,QAAQd,EAAOuzB,IAAc,IAC7D9yB,GAAU0xB,EAAYiB,EAAYpzB,EAAOuzB,IAAc,EA+GhE,QAASyC,IAAI5C,EAAY1B,GAEvB,OADW8P,GAAQpO,GAAcd,EAAW8c,IAChChc,EAAYqd,GAAY/e,EAAU,IAgChD,QAASwxB,IAAQ9vB,EAAY8P,EAAWsN,EAAQ2G,GAC9C,MAAkB,OAAd/jB,MAGCoO,GAAQ0B,KACXA,EAAyB,MAAbA,MAA0BA,IAExCsN,EAAS2G,EAAQttC,GAAY2mC,EACxBhP,GAAQgP,KACXA,EAAmB,MAAVA,MAAuBA,IAE3BD,GAAYnd,EAAY8P,EAAWsN,IAgF5C,QAAS2S,IAAO/vB,EAAY1B,EAAUC,GACpC,GAAIN,GAAOmQ,GAAQpO,GAAcX,EAAcyB,EAC3CxB,EAAYjuB,UAAUhE,OAAS,CAEnC,OAAO4wB,GAAK+B,EAAYqd,GAAY/e,EAAU,GAAIC,EAAae,EAAWuU,IAyB5E,QAASmc,IAAYhwB,EAAY1B,EAAUC,GACzC,GAAIN,GAAOmQ,GAAQpO,GAAcT,EAAmBuB,EAChDxB,EAAYjuB,UAAUhE,OAAS,CAEnC,OAAO4wB,GAAK+B,EAAYqd,GAAY/e,EAAU,GAAIC,EAAae,EAAWswB,IAqC5E,QAASK,IAAOjwB,EAAYrB,GAE1B,OADWyP,GAAQpO,GAAcpB,EAAckY,IACnC9W,EAAYkwB,GAAO7S,GAAY1e,EAAW,KAiBxD,QAASwxB,IAAOnwB,GAEd,OADWoO,GAAQpO,GAAciT,GAAcwL,IACnCze,GAuBd,QAASowB,IAAWpwB,EAAYhsB,EAAG+vC,GAOjC,MALE/vC,IADG+vC,EAAQC,GAAehkB,EAAYhsB,EAAG+vC,GAAS/vC,IAAMyC,IACpD,EAEAmgC,GAAU5iC,IAELo6B,GAAQpO,GAAcmT,GAAkBuL,IACvC1e,EAAYhsB,GAkB1B,QAASq8C,IAAQrwB,GAEf,OADWoO,GAAQpO,GAAcsT,GAAesL,IACpC5e,GAwBd,QAASzb,IAAKyb,GACZ,GAAkB,MAAdA,EACF,MAAO,EAET,IAAIic,GAAYjc,GACd,MAAO6vB,IAAS7vB,GAAcqD,EAAWrD,GAAcA,EAAW3yB,MAEpE,IAAI4nC,GAAMC,GAAOlV,EACjB,OAAIiV,IAAOzO,IAAUyO,GAAOnO,GACnB9G,EAAWzb,KAEbk3B,GAASzb,GAAY3yB,OAuC9B,QAASijD,IAAKtwB,EAAYrB,EAAWolB,GACnC,GAAI9lB,GAAOmQ,GAAQpO,GAAcR,EAAYsf,EAI7C,OAHIiF,IAASC,GAAehkB,EAAYrB,EAAWolB,KACjDplB,EAAYloB,IAEPwnB,EAAK+B,EAAYqd,GAAY1e,EAAW,IA6FjD,QAAS4xB,IAAMv8C,EAAGiqB,GAChB,GAAmB,kBAARA,GACT,KAAM,IAAIiY,IAAUlS,GAGtB,OADAhwB,GAAI4iC,GAAU5iC,GACP,WACL,KAAMA,EAAI,EACR,MAAOiqB,GAAK7sB,MAAMtE,KAAMuE,YAsB9B,QAASo1C,IAAIxoB,EAAMjqB,EAAG+vC,GAGpB,MAFA/vC,GAAI+vC,EAAQttC,GAAYzC,EACxBA,EAAKiqB,GAAa,MAALjqB,EAAaiqB,EAAK5wB,OAAS2G,EACjC40C,GAAW3qB,EAAM8G,GAAetuB,GAAWA,GAAWA,GAAWA,GAAWzC,GAoBrF,QAASw8C,IAAOx8C,EAAGiqB,GACjB,GAAInoB,EACJ,IAAmB,kBAARmoB,GACT,KAAM,IAAIiY,IAAUlS,GAGtB,OADAhwB,GAAI4iC,GAAU5iC,GACP,WAOL,QANMA,EAAI,IACR8B,EAASmoB,EAAK7sB,MAAMtE,KAAMuE,YAExB2C,GAAK,IACPiqB,EAAOxnB,IAEFX,GA+IX,QAAS26C,IAAMxyB,EAAMonB,EAAOtB,GAC1BsB,EAAQtB,EAAQttC,GAAY4uC,CAC5B,IAAIvvC,GAAS8yC,GAAW3qB,EAAM0G,GAAiBluB,GAAWA,GAAWA,GAAWA,GAAWA,GAAW4uC,EAEtG,OADAvvC,GAAOksB,YAAcyuB,GAAMzuB,YACpBlsB,EAyCT,QAAS46C,IAAWzyB,EAAMonB,EAAOtB,GAC/BsB,EAAQtB,EAAQttC,GAAY4uC,CAC5B,IAAIvvC,GAAS8yC,GAAW3qB,EAAM2G,GAAuBnuB,GAAWA,GAAWA,GAAWA,GAAWA,GAAW4uC,EAE5G,OADAvvC,GAAOksB,YAAc0uB,GAAW1uB,YACzBlsB,EAyDT,QAAS66C,IAAS1yB,EAAMgY,EAAM1zB,GAuB5B,QAASquC,GAAWC,GAClB,GAAI1yB,GAAO2yB,EACP5yB,EAAU6yB,CAKd,OAHAD,GAAWC,EAAWt6C,GACtBu6C,EAAiBH,EACjB/6C,EAASmoB,EAAK7sB,MAAM8sB,EAASC,GAI/B,QAAS8yB,GAAYJ,GAMnB,MAJAG,GAAiBH,EAEjBK,EAAU5+B,GAAW6+B,EAAclb,GAE5Bmb,EAAUR,EAAWC,GAAQ/6C,EAGtC,QAASu7C,GAAcR,GACrB,GAAIS,GAAoBT,EAAOU,EAC3BC,EAAsBX,EAAOG,EAC7BS,EAAcxb,EAAOqb,CAEzB,OAAOI,GACHzhB,GAAUwhB,EAAaE,EAAUH,GACjCC,EAGN,QAASG,GAAaf,GACpB,GAAIS,GAAoBT,EAAOU,EAC3BC,EAAsBX,EAAOG,CAKjC,OAAQO,KAAiB96C,IAAc66C,GAAqBrb,GACzDqb,EAAoB,GAAOI,GAAUF,GAAuBG,EAGjE,QAASR,KACP,GAAIN,GAAOgB,IACX,IAAID,EAAaf,GACf,MAAOiB,GAAajB,EAGtBK,GAAU5+B,GAAW6+B,EAAcE,EAAcR,IAGnD,QAASiB,GAAajB,GAKpB,MAJAK,GAAUz6C,GAINmuC,GAAYkM,EACPF,EAAWC,IAEpBC,EAAWC,EAAWt6C,GACfX,GAGT,QAASi8C,KACHb,IAAYz6C,IACd2b,GAAa8+B,GAEfF,EAAiB,EACjBF,EAAWS,EAAeR,EAAWG,EAAUz6C,GAGjD,QAASu7C,KACP,MAAOd,KAAYz6C,GAAYX,EAASg8C,EAAaD,MAGvD,QAASI,KACP,GAAIpB,GAAOgB,KACPK,EAAaN,EAAaf,EAM9B,IAJAC,EAAWz/C,UACX0/C,EAAWjkD,KACXykD,EAAeV,EAEXqB,EAAY,CACd,GAAIhB,IAAYz6C,GACd,MAAOw6C,GAAYM,EAErB,IAAIG,EAIF,MAFAt/B,IAAa8+B,GACbA,EAAU5+B,GAAW6+B,EAAclb,GAC5B2a,EAAWW,GAMtB,MAHIL,KAAYz6C,KACdy6C,EAAU5+B,GAAW6+B,EAAclb,IAE9BngC,EArHT,GAAIg7C,GACAC,EACAY,EACA77C,EACAo7C,EACAK,EACAP,EAAiB,EACjBI,GAAU,EACVM,GAAS,EACT9M,GAAW,CAEf,IAAmB,kBAAR3mB,GACT,KAAM,IAAIiY,IAAUlS,GA6GtB,OA3GAiS,GAAO6R,GAAS7R,IAAS,EACrBlB,GAASxyB,KACX6uC,IAAY7uC,EAAQ6uC,QACpBM,EAAS,WAAanvC,GACtBovC,EAAUD,EAASlZ,GAAUsP,GAASvlC,EAAQovC,UAAY,EAAG1b,GAAQ0b,EACrE/M,EAAW,YAAcriC,KAAYA,EAAQqiC,SAAWA,GAoG1DqN,EAAUF,OAASA,EACnBE,EAAUD,MAAQA,EACXC,EAkET,QAASE,IAAKl0B,GACZ,MAAO2qB,IAAW3qB,EAAMgH,IA+C1B,QAASmtB,IAAQn0B,EAAMo0B,GACrB,GAAmB,kBAARp0B,IAAmC,MAAZo0B,GAAuC,kBAAZA,GAC3D,KAAM,IAAInc,IAAUlS,GAEtB,IAAIsuB,GAAW,WACb,GAAIn0B,GAAO9sB,UACPoD,EAAM49C,EAAWA,EAASjhD,MAAMtE,KAAMqxB,GAAQA,EAAK,GACnDsD,EAAQ6wB,EAAS7wB,KAErB,IAAIA,EAAMC,IAAIjtB,GACZ,MAAOgtB,GAAM1uB,IAAI0B,EAEnB,IAAIqB,GAASmoB,EAAK7sB,MAAMtE,KAAMqxB,EAE9B,OADAm0B,GAAS7wB,MAAQA,EAAMxuB,IAAIwB,EAAKqB,IAAW2rB,EACpC3rB,EAGT,OADAw8C,GAAS7wB,MAAQ,IAAK2wB,GAAQG,OAASjhB,IAChCghB,EA0BT,QAASpC,IAAOvxB,GACd,GAAwB,kBAAbA,GACT,KAAM,IAAIuX,IAAUlS,GAEtB,OAAO,YACL,GAAI7F,GAAO9sB,SACX,QAAQ8sB,EAAK9wB,QACX,IAAK,GAAG,OAAQsxB,EAAUnoB,KAAK1J,KAC/B,KAAK,GAAG,OAAQ6xB,EAAUnoB,KAAK1J,KAAMqxB,EAAK,GAC1C,KAAK,GAAG,OAAQQ,EAAUnoB,KAAK1J,KAAMqxB,EAAK,GAAIA,EAAK,GACnD,KAAK,GAAG,OAAQQ,EAAUnoB,KAAK1J,KAAMqxB,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE9D,OAAQQ,EAAUvtB,MAAMtE,KAAMqxB,IAsBlC,QAASq0B,IAAKv0B,GACZ,MAAOuyB,IAAO,EAAGvyB,GAiLnB,QAASw0B,IAAKx0B,EAAM9pB,GAClB,GAAmB,kBAAR8pB,GACT,KAAM,IAAIiY,IAAUlS,GAGtB,OADA7vB,GAAQA,IAAUsC,GAAYtC,EAAQyiC,GAAUziC,GACzCmqC,GAASrgB,EAAM9pB,GAqCxB,QAASu+C,IAAOz0B,EAAM9pB,GACpB,GAAmB,kBAAR8pB,GACT,KAAM,IAAIiY,IAAUlS,GAGtB,OADA7vB,GAAiB,MAATA,EAAgB,EAAIqkC,GAAU5B,GAAUziC,GAAQ,GACjDmqC,GAAS,SAASngB,GACvB,GAAI7K,GAAQ6K,EAAKhqB,GACbg3C,EAAYlK,GAAU9iB,EAAM,EAAGhqB,EAKnC,OAHImf,IACF6L,EAAUgsB,EAAW73B,GAEhBliB,EAAM6sB,EAAMnxB,KAAMq+C,KAgD7B,QAASwH,IAAS10B,EAAMgY,EAAM1zB,GAC5B,GAAI6uC,IAAU,EACVxM,GAAW,CAEf,IAAmB,kBAAR3mB,GACT,KAAM,IAAIiY,IAAUlS,GAMtB,OAJI+Q,IAASxyB,KACX6uC,EAAU,WAAa7uC,KAAYA,EAAQ6uC,QAAUA,EACrDxM,EAAW,YAAcriC,KAAYA,EAAQqiC,SAAWA,GAEnD+L,GAAS1yB,EAAMgY,GACpB,QAAWmb,EACX,QAAWnb,EACX,SAAY2O,IAmBhB,QAASgO,IAAM30B,GACb,MAAOwoB,IAAIxoB,EAAM,GAyBnB,QAAS40B,IAAKjmD,EAAOy3C,GACnB,MAAOyO,IAAQ/R,GAAasD,GAAUz3C,GAsCxC,QAASmmD,MACP,IAAK1hD,UAAUhE,OACb,QAEF,IAAIT,GAAQyE,UAAU,EACtB,OAAO+8B,IAAQxhC,GAASA,GAASA,GA6BnC,QAASgD,IAAMhD,GACb,MAAO4nC,IAAU5nC,EAAOy3B,IAkC1B,QAAS2uB,IAAUpmD,EAAO8nC,GAExB,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaj+B,GACrD+9B,GAAU5nC,EAAOy3B,GAAoBqQ,GAqB9C,QAASue,IAAUrmD,GACjB,MAAO4nC,IAAU5nC,EAAOu3B,GAAkBE,IA+B5C,QAAS6uB,IAActmD,EAAO8nC,GAE5B,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaj+B,GACrD+9B,GAAU5nC,EAAOu3B,GAAkBE,GAAoBqQ,GA2BhE,QAASye,IAAWvyB,EAAQ0H,GAC1B,MAAiB,OAAVA,GAAkByN,GAAenV,EAAQ0H,EAAQ9zB,GAAK8zB,IAmC/D,QAASkL,IAAG5mC,EAAOwrC,GACjB,MAAOxrC,KAAUwrC,GAAUxrC,IAAUA,GAASwrC,IAAUA,EAmJ1D,QAAS6D,IAAYrvC,GACnB,MAAgB,OAATA,GAAiBuuC,GAASvuC,EAAMS,UAAYmqC,GAAW5qC,GA4BhE,QAASkwC,IAAkBlwC,GACzB,MAAOuhC,IAAavhC,IAAUqvC,GAAYrvC,GAoB5C,QAASwmD,IAAUxmD,GACjB,OAAiB,IAAVA,IAA4B,IAAVA,GACtBuhC,GAAavhC,IAAUmrC,GAAWnrC,IAAUs5B,GA0DjD,QAASmtB,IAAUzmD,GACjB,MAAOuhC,IAAavhC,IAA6B,IAAnBA,EAAM4/B,WAAmBwQ,GAAcpwC,GAoCvE,QAASkrB,IAAQlrB,GACf,GAAa,MAATA,EACF,OAAO,CAET,IAAIqvC,GAAYrvC,KACXwhC,GAAQxhC,IAA0B,gBAATA,IAA4C,kBAAhBA,GAAMe,QAC1DklC,GAASjmC,IAAUghC,GAAahhC,IAAU+lC,GAAY/lC,IAC1D,OAAQA,EAAMS,MAEhB,IAAI4nC,GAAMC,GAAOtoC,EACjB,IAAIqoC,GAAOzO,IAAUyO,GAAOnO,GAC1B,OAAQl6B,EAAM2X,IAEhB,IAAIm3B,GAAY9uC,GACd,OAAQ6uC,GAAS7uC,GAAOS,MAE1B,KAAK,GAAIoH,KAAO7H,GACd,GAAIwB,GAAeoI,KAAK5J,EAAO6H,GAC7B,OAAO,CAGX,QAAO,EA+BT,QAAS6+C,IAAQ1mD,EAAOwrC,GACtB,MAAOkB,IAAY1sC,EAAOwrC,GAmC5B,QAASmb,IAAY3mD,EAAOwrC,EAAO1D,GACjCA,EAAkC,kBAAdA,GAA2BA,EAAaj+B,EAC5D,IAAIX,GAAS4+B,EAAaA,EAAW9nC,EAAOwrC,GAAS3hC,EACrD,OAAOX,KAAWW,GAAY6iC,GAAY1sC,EAAOwrC,EAAO3hC,GAAWi+B,KAAgB5+B,EAqBrF,QAAS09C,IAAQ5mD,GACf,IAAKuhC,GAAavhC,GAChB,OAAO,CAET,IAAIqoC,GAAM8C,GAAWnrC,EACrB,OAAOqoC,IAAO5O,IAAY4O,GAAO7O,IACN,gBAAjBx5B,GAAM48C,SAA4C,gBAAd58C,GAAM28C,OAAqBvM,GAAcpwC,GA6BzF,QAAS6mD,IAAS7mD,GAChB,MAAuB,gBAATA,IAAqB67C,GAAe77C,GAoBpD,QAAS4qC,IAAW5qC,GAClB,IAAKmoC,GAASnoC,GACZ,OAAO,CAIT,IAAIqoC,GAAM8C,GAAWnrC,EACrB,OAAOqoC,IAAO3O,IAAW2O,GAAO1O,IAAU0O,GAAOhP,IAAYgP,GAAOrO,GA6BtE,QAAS8sB,IAAU9mD,GACjB,MAAuB,gBAATA,IAAqBA,GAASgqC,GAAUhqC,GA6BxD,QAASuuC,IAASvuC,GAChB,MAAuB,gBAATA,IACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAAS64B,GA4B7C,QAASsP,IAASnoC,GAChB,GAAIqL,SAAcrL,EAClB,OAAgB,OAATA,IAA0B,UAARqL,GAA4B,YAARA,GA2B/C,QAASk2B,IAAavhC,GACpB,MAAgB,OAATA,GAAiC,gBAATA,GAkDjC,QAAS+mD,IAAQ/yB,EAAQ0H,GACvB,MAAO1H,KAAW0H,GAAUkS,GAAY5Z,EAAQ0H,EAAQ4T,GAAa5T,IAmCvE,QAASsrB,IAAYhzB,EAAQ0H,EAAQoM,GAEnC,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaj+B,GACrD+jC,GAAY5Z,EAAQ0H,EAAQ4T,GAAa5T,GAASoM,GA+B3D,QAASmf,IAAMjnD,GAIb,MAAOknD,IAASlnD,IAAUA,IAAUA,EA6BtC,QAASmnD,IAASnnD,GAChB,GAAIonD,GAAWpnD,GACb,KAAM,IAAIinB,IAAMkQ,GAElB,OAAO6W,IAAahuC,GAoBtB,QAASqnD,IAAOrnD,GACd,MAAiB,QAAVA,EAuBT,QAASsnD,IAAMtnD,GACb,MAAgB,OAATA,EA6BT,QAASknD,IAASlnD,GAChB,MAAuB,gBAATA,IACXuhC,GAAavhC,IAAUmrC,GAAWnrC,IAAU65B,GA+BjD,QAASuW,IAAcpwC,GACrB,IAAKuhC,GAAavhC,IAAUmrC,GAAWnrC,IAAU+5B,GAC/C,OAAO,CAET,IAAIwtB,GAAQxJ,GAAa/9C,EACzB,IAAc,OAAVunD,EACF,OAAO,CAET,IAAI7P,GAAOl2C,GAAeoI,KAAK29C,EAAO,gBAAkBA,EAAM7lD,WAC9D,OAAsB,kBAARg2C,IAAsBA,YAAgBA,IAClDwH,GAAat1C,KAAK8tC,IAAS8P,GAiD/B,QAASC,IAAcznD,GACrB,MAAO8mD,IAAU9mD,IAAUA,IAAU64B,IAAoB74B,GAAS64B,GAuCpE,QAASoqB,IAASjjD,GAChB,MAAuB,gBAATA,KACVwhC,GAAQxhC,IAAUuhC,GAAavhC,IAAUmrC,GAAWnrC,IAAUm6B,GAoBpE,QAAS2P,IAAS9pC,GAChB,MAAuB,gBAATA,IACXuhC,GAAavhC,IAAUmrC,GAAWnrC,IAAUo6B,GAuCjD,QAASstB,IAAY1nD,GACnB,MAAOA,KAAU6J,GAoBnB,QAAS89C,IAAU3nD,GACjB,MAAOuhC,IAAavhC,IAAUsoC,GAAOtoC,IAAUs6B,GAoBjD,QAASstB,IAAU5nD,GACjB,MAAOuhC,IAAavhC,IAAUmrC,GAAWnrC,IAAUu6B,GA8ErD,QAAS6nB,IAAQpiD,GACf,IAAKA,EACH,QAEF,IAAIqvC,GAAYrvC,GACd,MAAOijD,IAASjjD,GAAS42B,EAAc52B,GAASyiC,GAAUziC,EAE5D,IAAI6nD,IAAe7nD,EAAM6nD,IACvB,MAAOhyB,GAAgB71B,EAAM6nD,MAE/B,IAAIxf,GAAMC,GAAOtoC,EAGjB,QAFWqoC,GAAOzO,GAAS7D,EAAcsS,GAAOnO,GAAS5D,EAAa9D,IAE1DxyB,GA0Bd,QAASg7C,IAASh7C,GAChB,IAAKA,EACH,MAAiB,KAAVA,EAAcA,EAAQ,CAG/B,KADAA,EAAQk7C,GAASl7C,MACH44B,IAAY54B,KAAW44B,GAAU,CAE7C,OADY54B,EAAQ,GAAK,EAAI,GACf84B,GAEhB,MAAO94B,KAAUA,EAAQA,EAAQ,EA6BnC,QAASgqC,IAAUhqC,GACjB,GAAIkJ,GAAS8xC,GAASh7C,GAClB8nD,EAAY5+C,EAAS,CAEzB,OAAOA,KAAWA,EAAU4+C,EAAY5+C,EAAS4+C,EAAY5+C,EAAU,EA8BzE,QAAS+gC,IAASjqC,GAChB,MAAOA,GAAQymC,GAAUuD,GAAUhqC,GAAQ,EAAG+4B,IAAoB,EA0BpE,QAASmiB,IAASl7C,GAChB,GAAoB,gBAATA,GACT,MAAOA,EAET,IAAI8pC,GAAS9pC,GACX,MAAO8zB,GAET,IAAIqU,GAASnoC,GAAQ,CACnB,GAAIwrC,GAAgC,kBAAjBxrC,GAAM+nD,QAAwB/nD,EAAM+nD,UAAY/nD,CACnEA,GAAQmoC,GAASqD,GAAUA,EAAQ,GAAMA,EAE3C,GAAoB,gBAATxrC,GACT,MAAiB,KAAVA,EAAcA,GAASA,CAEhCA,GAAQA,EAAMq4C,QAAQjc,GAAQ,GAC9B,IAAI4rB,GAAWlrB,GAAWnyB,KAAK3K,EAC/B,OAAQgoD,IAAYhrB,GAAUryB,KAAK3K,GAC/Bo/B,GAAap/B,EAAMqZ,MAAM,GAAI2uC,EAAW,EAAI,GAC3CnrB,GAAWlyB,KAAK3K,GAAS8zB,IAAO9zB,EA2BvC,QAASqwC,IAAcrwC,GACrB,MAAOmnC,IAAWnnC,EAAOqnC,GAAOrnC,IA2BlC,QAASioD,IAAcjoD,GACrB,MAAOA,GACHymC,GAAUuD,GAAUhqC,IAAS64B,GAAkBA,IACpC,IAAV74B,EAAcA,EAAQ,EAwB7B,QAAS2R,IAAS3R,GAChB,MAAgB,OAATA,EAAgB,GAAKmzC,GAAanzC,GA0M3C,QAAS2B,IAAOtB,EAAW6nD,GACzB,GAAIh/C,GAASqvC,GAAWl4C,EACxB,OAAqB,OAAd6nD,EAAqBh/C,EAASg+B,GAAWh+B,EAAQg/C,GAkH1D,QAASC,IAAQn0B,EAAQjC,GACvB,MAAOoB,GAAYa,EAAQyc,GAAY1e,EAAW,GAAIwY,IAsCxD,QAAS6d,IAAYp0B,EAAQjC,GAC3B,MAAOoB,GAAYa,EAAQyc,GAAY1e,EAAW,GAAI0Y,IA+BxD,QAAS4d,IAAMr0B,EAAQtC,GACrB,MAAiB,OAAVsC,EACHA,EACAwW,GAAQxW,EAAQyc,GAAY/e,EAAU,GAAI2V,IA6BhD,QAASihB,IAAWt0B,EAAQtC,GAC1B,MAAiB,OAAVsC,EACHA,EACA0W,GAAa1W,EAAQyc,GAAY/e,EAAU,GAAI2V,IA+BrD,QAASkhB,IAAOv0B,EAAQtC,GACtB,MAAOsC,IAAUuW,GAAWvW,EAAQyc,GAAY/e,EAAU,IA6B5D,QAAS82B,IAAYx0B,EAAQtC,GAC3B,MAAOsC,IAAUyW,GAAgBzW,EAAQyc,GAAY/e,EAAU,IA0BjE,QAAS+2B,IAAUz0B,GACjB,MAAiB,OAAVA,KAAsB2W,GAAc3W,EAAQpsB,GAAKosB,IA0B1D,QAAS00B,IAAY10B,GACnB,MAAiB,OAAVA,KAAsB2W,GAAc3W,EAAQqT,GAAOrT,IA4B5D,QAAS7tB,IAAI6tB,EAAQ8W,EAAM2P,GACzB,GAAIvxC,GAAmB,MAAV8qB,EAAiBnqB,GAAYghC,GAAQ7W,EAAQ8W,EAC1D,OAAO5hC,KAAWW,GAAY4wC,EAAevxC,EA8B/C,QAAS4rB,IAAId,EAAQ8W,GACnB,MAAiB,OAAV9W,GAAkB6pB,GAAQ7pB,EAAQ8W,EAAMW,IA6BjD,QAASiE,IAAM1b,EAAQ8W,GACrB,MAAiB,OAAV9W,GAAkB6pB,GAAQ7pB,EAAQ8W,EAAMY,IAqHjD,QAAS9jC,IAAKosB,GACZ,MAAOqb,IAAYrb,GAAU4R,GAAc5R,GAAU6a,GAAS7a,GA0BhE,QAASqT,IAAOrT,GACd,MAAOqb,IAAYrb,GAAU4R,GAAc5R,GAAQ,GAAQgb,GAAWhb,GAwBxE,QAAS20B,IAAQ30B,EAAQtC,GACvB,GAAIxoB,KAMJ,OALAwoB,GAAW+e,GAAY/e,EAAU,GAEjC6Y,GAAWvW,EAAQ,SAASh0B,EAAO6H,EAAKmsB,GACtC6S,GAAgB39B,EAAQwoB,EAAS1xB,EAAO6H,EAAKmsB,GAASh0B,KAEjDkJ,EA+BT,QAAS0/C,IAAU50B,EAAQtC,GACzB,GAAIxoB,KAMJ,OALAwoB,GAAW+e,GAAY/e,EAAU,GAEjC6Y,GAAWvW,EAAQ,SAASh0B,EAAO6H,EAAKmsB,GACtC6S,GAAgB39B,EAAQrB,EAAK6pB,EAAS1xB,EAAO6H,EAAKmsB,MAE7C9qB,EAuIT,QAAS2/C,IAAO70B,EAAQjC,GACtB,MAAO+2B,IAAO90B,EAAQsvB,GAAO7S,GAAY1e,KA0C3C,QAAS+2B,IAAO90B,EAAQjC,GACtB,GAAc,MAAViC,EACF,QAEF,IAAIS,GAAQnC,EAAS0W,GAAahV,GAAS,SAAS+0B,GAClD,OAAQA,IAGV,OADAh3B,GAAY0e,GAAY1e,GACjB6e,GAAW5c,EAAQS,EAAO,SAASz0B,EAAO8qC,GAC/C,MAAO/Y,GAAU/xB,EAAO8qC,EAAK,MAiCjC,QAAS5hC,IAAO8qB,EAAQ8W,EAAM2P,GAC5B3P,EAAOC,GAASD,EAAM9W,EAEtB,IAAInzB,IAAS,EACTJ,EAASqqC,EAAKrqC,MAOlB,KAJKA,IACHA,EAAS,EACTuzB,EAASnqB,MAEFhJ,EAAQJ,GAAQ,CACvB,GAAIT,GAAkB,MAAVg0B,EAAiBnqB,GAAYmqB,EAAOgX,GAAMF,EAAKjqC,IACvDb,KAAU6J,KACZhJ,EAAQJ,EACRT,EAAQy6C,GAEVzmB,EAAS4W,GAAW5qC,GAASA,EAAM4J,KAAKoqB,GAAUh0B,EAEpD,MAAOg0B,GA+BT,QAAS3tB,IAAI2tB,EAAQ8W,EAAM9qC,GACzB,MAAiB,OAAVg0B,EAAiBA,EAAS6c,GAAQ7c,EAAQ8W,EAAM9qC,GA2BzD,QAASgpD,IAAQh1B,EAAQ8W,EAAM9qC,EAAO8nC,GAEpC,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaj+B,GAC3C,MAAVmqB,EAAiBA,EAAS6c,GAAQ7c,EAAQ8W,EAAM9qC,EAAO8nC,GAqFhE,QAAS5R,IAAUlC,EAAQtC,EAAUC,GACnC,GAAIkR,GAAQrB,GAAQxN,GAChBi1B,EAAYpmB,GAASoD,GAASjS,IAAWgN,GAAahN,EAG1D,IADAtC,EAAW+e,GAAY/e,EAAU,GACd,MAAfC,EAAqB,CACvB,GAAI+lB,GAAO1jB,GAAUA,EAAOtyB,WAE1BiwB,GADEs3B,EACYpmB,EAAQ,GAAI6U,MAEnBvP,GAASnU,IACF4W,GAAW8M,GAAQa,GAAWwF,GAAa/pB,OAS7D,OAHCi1B,EAAYr3B,EAAY2Y,IAAYvW,EAAQ,SAASh0B,EAAOa,EAAOmzB,GAClE,MAAOtC,GAASC,EAAa3xB,EAAOa,EAAOmzB,KAEtCrC,EA8BT,QAASu3B,IAAMl1B,EAAQ8W,GACrB,MAAiB,OAAV9W,GAAwBmd,GAAUnd,EAAQ8W,GA8BnD,QAASqe,IAAOn1B,EAAQ8W,EAAM2I,GAC5B,MAAiB,OAAVzf,EAAiBA,EAASwf,GAAWxf,EAAQ8W,EAAMqJ,GAAaV,IA2BzE,QAAS2V,IAAWp1B,EAAQ8W,EAAM2I,EAAS3L,GAEzC,MADAA,GAAkC,kBAAdA,GAA2BA,EAAaj+B,GAC3C,MAAVmqB,EAAiBA,EAASwf,GAAWxf,EAAQ8W,EAAMqJ,GAAaV,GAAU3L,GA6BnF,QAAStV,IAAOwB,GACd,MAAiB,OAAVA,KAAsBW,EAAWX,EAAQpsB,GAAKosB,IA2BvD,QAASq1B,IAASr1B,GAChB,MAAiB,OAAVA,KAAsBW,EAAWX,EAAQqT,GAAOrT,IAwBzD,QAASs1B,IAAM7hB,EAAQC,EAAOC,GAa5B,MAZIA,KAAU99B,KACZ89B,EAAQD,EACRA,EAAQ79B,IAEN89B,IAAU99B,KACZ89B,EAAQuT,GAASvT,GACjBA,EAAQA,IAAUA,EAAQA,EAAQ,GAEhCD,IAAU79B,KACZ69B,EAAQwT,GAASxT,GACjBA,EAAQA,IAAUA,EAAQA,EAAQ,GAE7BjB,GAAUyU,GAASzT,GAASC,EAAOC,GAyC5C,QAAS1e,IAAQwe,EAAQlgC,EAAOC,GAS9B,MARAD,GAAQyzC,GAASzzC,GACbC,IAAQqC,IACVrC,EAAMD,EACNA,EAAQ,GAERC,EAAMwzC,GAASxzC,GAEjBigC,EAASyT,GAASzT,GACXkE,GAAYlE,EAAQlgC,EAAOC,GAkCpC,QAAS+hD,IAAO7hB,EAAOC,EAAO6hB,GA2B5B,GA1BIA,GAA+B,iBAAZA,IAAyBpS,GAAe1P,EAAOC,EAAO6hB,KAC3E7hB,EAAQ6hB,EAAW3/C,IAEjB2/C,IAAa3/C,KACK,iBAAT89B,IACT6hB,EAAW7hB,EACXA,EAAQ99B,IAEe,iBAAT69B,KACd8hB,EAAW9hB,EACXA,EAAQ79B,KAGR69B,IAAU79B,IAAa89B,IAAU99B,IACnC69B,EAAQ,EACRC,EAAQ,IAGRD,EAAQsT,GAAStT,GACbC,IAAU99B,IACZ89B,EAAQD,EACRA,EAAQ,GAERC,EAAQqT,GAASrT,IAGjBD,EAAQC,EAAO,CACjB,GAAI8hB,GAAO/hB,CACXA,GAAQC,EACRA,EAAQ8hB,EAEV,GAAID,GAAY9hB,EAAQ,GAAKC,EAAQ,EAAG,CACtC,GAAIsX,GAAO5N,IACX,OAAOhO,IAAUqE,EAASuX,GAAQtX,EAAQD,EAAQxI,GAAe,QAAU+f,EAAO,IAAIx+C,OAAS,KAAOknC,GAExG,MAAOrB,IAAWoB,EAAOC,GA6C3B,QAAS+hB,IAAW52B,GAClB,MAAO62B,IAAWh4C,GAASmhB,GAAQ82B,eAqBrC,QAASxR,IAAOtlB,GAEd,OADAA,EAASnhB,GAASmhB,KACDA,EAAOulB,QAAQnb,GAAS+D,IAAcoX,QAAQ5Z,GAAa,IA0B9E,QAASorB,IAAS/2B,EAAQpb,EAAQoyC,GAChCh3B,EAASnhB,GAASmhB,GAClBpb,EAASy7B,GAAaz7B,EAEtB,IAAIjX,GAASqyB,EAAOryB,MACpBqpD,GAAWA,IAAajgD,GACpBpJ,EACAgmC,GAAUuD,GAAU8f,GAAW,EAAGrpD,EAEtC,IAAI+G,GAAMsiD,CAEV,QADAA,GAAYpyC,EAAOjX,SACA,GAAKqyB,EAAOzZ,MAAMywC,EAAUtiD,IAAQkQ,EA+BzD,QAASqyC,IAAOj3B,GAEd,MADAA,GAASnhB,GAASmhB,GACVA,GAAU6I,GAAmBhxB,KAAKmoB,GACtCA,EAAOulB,QAAQ9c,GAAiB2F,IAChCpO,EAkBN,QAASk3B,IAAal3B,GAEpB,MADAA,GAASnhB,GAASmhB,GACVA,GAAUqJ,GAAgBxxB,KAAKmoB,GACnCA,EAAOulB,QAAQnc,GAAc,QAC7BpJ,EA8FN,QAASm3B,IAAIn3B,EAAQryB,EAAQwQ,GAC3B6hB,EAASnhB,GAASmhB,GAClBryB,EAASupC,GAAUvpC,EAEnB,IAAIypD,GAAYzpD,EAASg2B,EAAW3D,GAAU,CAC9C,KAAKryB,GAAUypD,GAAazpD,EAC1B,MAAOqyB,EAET,IAAI/Q,IAAOthB,EAASypD,GAAa,CACjC,OACEtP,IAAcxJ,GAAYrvB,GAAM9Q,GAChC6hB,EACA8nB,GAAcpJ,GAAWzvB,GAAM9Q,GA2BnC,QAASk5C,IAAOr3B,EAAQryB,EAAQwQ,GAC9B6hB,EAASnhB,GAASmhB,GAClBryB,EAASupC,GAAUvpC,EAEnB,IAAIypD,GAAYzpD,EAASg2B,EAAW3D,GAAU,CAC9C,OAAQryB,IAAUypD,EAAYzpD,EACzBqyB,EAAS8nB,GAAcn6C,EAASypD,EAAWj5C,GAC5C6hB,EA0BN,QAASs3B,IAASt3B,EAAQryB,EAAQwQ,GAChC6hB,EAASnhB,GAASmhB,GAClBryB,EAASupC,GAAUvpC,EAEnB,IAAIypD,GAAYzpD,EAASg2B,EAAW3D,GAAU,CAC9C,OAAQryB,IAAUypD,EAAYzpD,EACzBm6C,GAAcn6C,EAASypD,EAAWj5C,GAAS6hB,EAC5CA,EA2BN,QAAShrB,IAASgrB,EAAQu3B,EAAOlT,GAM/B,MALIA,IAAkB,MAATkT,EACXA,EAAQ,EACCA,IACTA,GAASA,GAEJC,GAAe34C,GAASmhB,GAAQulB,QAAQhc,GAAa,IAAKguB,GAAS,GAyB5E,QAASE,IAAOz3B,EAAQ1rB,EAAG+vC,GAMzB,MAJE/vC,IADG+vC,EAAQC,GAAetkB,EAAQ1rB,EAAG+vC,GAAS/vC,IAAMyC,IAChD,EAEAmgC,GAAU5iC,GAETqqC,GAAW9/B,GAASmhB,GAAS1rB,GAsBtC,QAASixC,MACP,GAAI9mB,GAAO9sB,UACPquB,EAASnhB,GAAS4f,EAAK,GAE3B,OAAOA,GAAK9wB,OAAS,EAAIqyB,EAASA,EAAOulB,QAAQ9mB,EAAK,GAAIA,EAAK,IA+CjE,QAASwB,IAAMD,EAAQktB,EAAWwK,GAKhC,MAJIA,IAAyB,gBAATA,IAAqBpT,GAAetkB,EAAQktB,EAAWwK,KACzExK,EAAYwK,EAAQ3gD,KAEtB2gD,EAAQA,IAAU3gD,GAAYkvB,GAAmByxB,IAAU,IAI3D13B,EAASnhB,GAASmhB,GACdA,IACsB,gBAAbktB,IACO,MAAbA,IAAsBpf,GAASof,OAEpCA,EAAY7M,GAAa6M,KACPvqB,EAAW3C,GACpBuhB,GAAUzd,EAAc9D,GAAS,EAAG03B,GAGxC13B,EAAOC,MAAMitB,EAAWwK,OAmDjC,QAASC,IAAW33B,EAAQpb,EAAQoyC,GAOlC,MANAh3B,GAASnhB,GAASmhB,GAClBg3B,EAAuB,MAAZA,EACP,EACArjB,GAAUuD,GAAU8f,GAAW,EAAGh3B,EAAOryB,QAE7CiX,EAASy7B,GAAaz7B,GACfob,EAAOzZ,MAAMywC,EAAUA,EAAWpyC,EAAOjX,SAAWiX,EA2G7D,QAASgzC,IAAS53B,EAAQnd,EAASwhC,GAIjC,GAAIwT,GAAWrpB,EAAOspB,gBAElBzT,IAASC,GAAetkB,EAAQnd,EAASwhC,KAC3CxhC,EAAU9L,IAEZipB,EAASnhB,GAASmhB,GAClBnd,EAAUk1C,MAAiBl1C,EAASg1C,EAAUxO,GAE9C,IAII2O,GACAC,EALAC,EAAUH,MAAiBl1C,EAAQq1C,QAASL,EAASK,QAAS7O,IAC9D8O,EAAcrjD,GAAKojD,GACnBE,EAAgBv2B,EAAWq2B,EAASC,GAIpCpqD,EAAQ,EACRsqD,EAAcx1C,EAAQw1C,aAAehuB,GACrCzB,EAAS,WAGT0vB,EAAe3vB,IAChB9lB,EAAQo0C,QAAU5sB,IAAWzB,OAAS,IACvCyvB,EAAYzvB,OAAS,KACpByvB,IAAgBrvB,GAAgBa,GAAeQ,IAAWzB,OAAS,KACnE/lB,EAAQ01C,UAAYluB,IAAWzB,OAAS,KACzC,KAME4vB,EAAY,kBACb9pD,GAAeoI,KAAK+L,EAAS,cACzBA,EAAQ21C,UAAY,IAAIjT,QAAQ,UAAW,KAC3C,6BAA+BzZ,GAAmB,KACnD,IAEN9L,GAAOulB,QAAQ+S,EAAc,SAASn4B,EAAOs4B,EAAaC,EAAkBC,EAAiBC,EAAetgC,GAsB1G,MArBAogC,KAAqBA,EAAmBC,GAGxC/vB,GAAU5I,EAAOzZ,MAAMxY,EAAOuqB,GAAQitB,QAAQjb,GAAmB/H,GAG7Dk2B,IACFT,GAAa,EACbpvB,GAAU,YAAc6vB,EAAc,UAEpCG,IACFX,GAAe,EACfrvB,GAAU,OAASgwB,EAAgB,eAEjCF,IACF9vB,GAAU,iBAAmB8vB,EAAmB,+BAElD3qD,EAAQuqB,EAAS6H,EAAMxyB,OAIhBwyB,IAGTyI,GAAU,MAMV,IAAIiwB,GAAWnqD,GAAeoI,KAAK+L,EAAS,aAAeA,EAAQg2C,QAC9DA,KACHjwB,EAAS,iBAAmBA,EAAS,SAGvCA,GAAUqvB,EAAervB,EAAO2c,QAAQld,GAAsB,IAAMO,GACjE2c,QAAQjd,GAAqB,MAC7Bid,QAAQhd,GAAuB,OAGlCK,EAAS,aAAeiwB,GAAY,OAAS,SAC1CA,EACG,GACA,wBAEJ,qBACCb,EACI,mBACA,KAEJC,EACG,uFAEA,OAEJrvB,EACA,eAEF,IAAIxyB,GAAS0iD,GAAQ,WACnB,MAAOlsB,IAASurB,EAAaK,EAAY,UAAY5vB,GAClDl3B,MAAMqF,GAAWqhD,IAMtB,IADAhiD,EAAOwyB,OAASA,EACZkrB,GAAQ19C,GACV,KAAMA,EAER,OAAOA,GAwBT,QAAS2iD,IAAQ7rD,GACf,MAAO2R,IAAS3R,GAAO4pD,cAwBzB,QAASkC,IAAQ9rD,GACf,MAAO2R,IAAS3R,GAAO+rD,cAyBzB,QAASC,IAAKl5B,EAAQ7hB,EAAOkmC,GAE3B,IADArkB,EAASnhB,GAASmhB,MACHqkB,GAASlmC,IAAUpH,IAChC,MAAOipB,GAAOulB,QAAQjc,GAAQ,GAEhC,KAAKtJ,KAAY7hB,EAAQkiC,GAAaliC,IACpC,MAAO6hB,EAET,IAAIkC,GAAa4B,EAAc9D,GAC3BmC,EAAa2B,EAAc3lB,EAI/B,OAAOojC,IAAUrf,EAHLD,EAAgBC,EAAYC,GAC9BC,EAAcF,EAAYC,GAAc,GAETjf,KAAK,IAsBhD,QAASi2C,IAAQn5B,EAAQ7hB,EAAOkmC,GAE9B,IADArkB,EAASnhB,GAASmhB,MACHqkB,GAASlmC,IAAUpH,IAChC,MAAOipB,GAAOulB,QAAQ/b,GAAW,GAEnC,KAAKxJ,KAAY7hB,EAAQkiC,GAAaliC,IACpC,MAAO6hB,EAET,IAAIkC,GAAa4B,EAAc9D,EAG/B,OAAOuhB,IAAUrf,EAAY,EAFnBE,EAAcF,EAAY4B,EAAc3lB,IAAU,GAEvB+E,KAAK,IAsB5C,QAASqG,IAAUyW,EAAQ7hB,EAAOkmC,GAEhC,IADArkB,EAASnhB,GAASmhB,MACHqkB,GAASlmC,IAAUpH,IAChC,MAAOipB,GAAOulB,QAAQhc,GAAa,GAErC,KAAKvJ,KAAY7hB,EAAQkiC,GAAaliC,IACpC,MAAO6hB,EAET,IAAIkC,GAAa4B,EAAc9D,EAG/B,OAAOuhB,IAAUrf,EAFLD,EAAgBC,EAAY4B,EAAc3lB,KAElB+E,KAAK,IAwC3C,QAASk2C,IAASp5B,EAAQnd,GACxB,GAAIlV,GAAS63B,GACT6zB,EAAW5zB,EAEf,IAAI4P,GAASxyB,GAAU,CACrB,GAAIqqC,GAAY,aAAerqC,GAAUA,EAAQqqC,UAAYA,CAC7Dv/C,GAAS,UAAYkV,GAAUq0B,GAAUr0B,EAAQlV,QAAUA,EAC3D0rD,EAAW,YAAcx2C,GAAUw9B,GAAax9B,EAAQw2C,UAAYA,EAEtEr5B,EAASnhB,GAASmhB,EAElB,IAAIo3B,GAAYp3B,EAAOryB,MACvB,IAAIg1B,EAAW3C,GAAS,CACtB,GAAIkC,GAAa4B,EAAc9D,EAC/Bo3B,GAAYl1B,EAAWv0B,OAEzB,GAAIA,GAAUypD,EACZ,MAAOp3B,EAET,IAAItrB,GAAM/G,EAASg2B,EAAW01B,EAC9B,IAAI3kD,EAAM,EACR,MAAO2kD,EAET,IAAIjjD,GAAS8rB,EACTqf,GAAUrf,EAAY,EAAGxtB,GAAKwO,KAAK,IACnC8c,EAAOzZ,MAAM,EAAG7R,EAEpB,IAAIw4C,IAAcn2C,GAChB,MAAOX,GAASijD,CAKlB,IAHIn3B,IACFxtB,GAAQ0B,EAAOzI,OAAS+G,GAEtBo5B,GAASof,IACX,GAAIltB,EAAOzZ,MAAM7R,GAAK4kD,OAAOpM,GAAY,CACvC,GAAI/sB,GACAzK,EAAYtf,CAMhB,KAJK82C,EAAU1gB,SACb0gB,EAAYvkB,GAAOukB,EAAUtkB,OAAQ/pB,GAASirB,GAAQoY,KAAKgL,IAAc,MAE3EA,EAAUjpB,UAAY,EACd9D,EAAQ+sB,EAAUhL,KAAKxsB,IAC7B,GAAI6jC,GAASp5B,EAAMpyB,KAErBqI,GAASA,EAAOmQ,MAAM,EAAGgzC,IAAWxiD,GAAYrC,EAAM6kD,QAEnD,IAAIv5B,EAAOhyB,QAAQqyC,GAAa6M,GAAYx4C,IAAQA,EAAK,CAC9D,GAAI3G,GAAQqI,EAAOg3C,YAAYF,EAC3Bn/C,IAAS,IACXqI,EAASA,EAAOmQ,MAAM,EAAGxY,IAG7B,MAAOqI,GAASijD,EAsBlB,QAASG,IAASx5B,GAEhB,MADAA,GAASnhB,GAASmhB,GACVA,GAAU0I,GAAiB7wB,KAAKmoB,GACpCA,EAAOulB,QAAQ/c,GAAe6F,IAC9BrO,EAiEN,QAASqlB,IAAMrlB,EAAQy5B,EAASpV,GAI9B,MAHArkB,GAASnhB,GAASmhB,GAClBy5B,EAAUpV,EAAQttC,GAAY0iD,EAE1BA,IAAY1iD,GACP8rB,EAAe7C,GAAUkE,GAAalE,GAAUE,EAAWF,GAE7DA,EAAOG,MAAMs5B,OAkGtB,QAASC,IAAK7mB,GACZ,GAAIllC,GAAkB,MAATklC,EAAgB,EAAIA,EAAMllC,OACnC65C,EAAa7J,IASjB,OAPA9K,GAASllC,EAAc6xB,EAASqT,EAAO,SAASmW,GAC9C,GAAsB,kBAAXA,GAAK,GACd,KAAM,IAAIxS,IAAUlS,GAEtB,QAAQkjB,EAAWwB,EAAK,IAAKA,EAAK,SAG7BpK,GAAS,SAASngB,GAEvB,IADA,GAAI1wB,IAAS,IACJA,EAAQJ,GAAQ,CACvB,GAAIq7C,GAAOnW,EAAM9kC,EACjB,IAAI2D,EAAMs3C,EAAK,GAAI57C,KAAMqxB,GACvB,MAAO/sB,GAAMs3C,EAAK,GAAI57C,KAAMqxB,MA8BpC,QAASk7B,IAAS/wB,GAChB,MAAOwN,IAAatB,GAAUlM,EAAQnE,KAsBxC,QAASm1B,IAAS1sD,GAChB,MAAO,YACL,MAAOA,IAwBX,QAAS2sD,IAAU3sD,EAAOy6C,GACxB,MAAiB,OAATz6C,GAAiBA,IAAUA,EAASy6C,EAAez6C,EAkE7D,QAASyuC,IAASzuC,GAChB,MAAOA,GA6CT,QAAS0xB,IAASL,GAChB,MAAOmd,IAA4B,kBAARnd,GAAqBA,EAAOuW,GAAUvW,EAAMkG,KA+BzE,QAASq1B,IAAQlxB,GACf,MAAOiT,IAAY/G,GAAUlM,EAAQnE,KA6BvC,QAASs1B,IAAgB/hB,EAAMiD,GAC7B,MAAOW,IAAoB5D,EAAMlD,GAAUmG,EAAUxW,KAkGvD,QAASu1B,IAAM94B,EAAQ0H,EAAQ/lB,GAC7B,GAAI8e,GAAQ7sB,GAAK8zB,GACbqxB,EAAcpiB,GAAcjP,EAAQjH,EAEzB,OAAX9e,GACEwyB,GAASzM,KAAYqxB,EAAYtsD,SAAWg0B,EAAMh0B,UACtDkV,EAAU+lB,EACVA,EAAS1H,EACTA,EAAS9zB,KACT6sD,EAAcpiB,GAAcjP,EAAQ9zB,GAAK8zB,IAE3C,IAAIomB,KAAU3Z,GAASxyB,IAAY,SAAWA,KAAcA,EAAQmsC,OAChEvZ,EAASqC,GAAW5W,EAqBxB,OAnBApC,GAAUm7B,EAAa,SAASjV,GAC9B,GAAIzmB,GAAOqK,EAAOoc,EAClB9jB,GAAO8jB,GAAczmB,EACjBkX,IACFvU,EAAO3zB,UAAUy3C,GAAc,WAC7B,GAAIjW,GAAW3hC,KAAK8hC,SACpB,IAAI8f,GAASjgB,EAAU,CACrB,GAAI34B,GAAS8qB,EAAO9zB,KAAK4hC,YAKzB,QAJc54B,EAAO64B,YAAcU,GAAUviC,KAAK6hC,cAE1CphC,MAAO,KAAQ0wB,EAAM,KAAQ5sB,UAAW,QAAWuvB,IAC3D9qB,EAAO84B,UAAYH,EACZ34B,EAET,MAAOmoB,GAAK7sB,MAAMwvB,EAAQzB,GAAWryB,KAAKF,SAAUyE,gBAKnDuvB,EAgBT,QAASg5B,MAIP,MAHIvtB,IAAK2B,IAAMlhC,OACbu/B,GAAK2B,EAAI6rB,IAEJ/sD,KAeT,QAASgtD,OAwBT,QAASC,IAAO/lD,GAEd,MADAA,GAAI4iC,GAAU5iC,GACPsqC,GAAS,SAASngB,GACvB,MAAO+e,IAAQ/e,EAAMnqB,KAkGzB,QAASwnC,IAAS9D,GAChB,MAAO0E,IAAM1E,GAAQ/W,EAAaiX,GAAMF,IAASgG,GAAiBhG,GAwBpE,QAASsiB,IAAWp5B,GAClB,MAAO,UAAS8W,GACd,MAAiB,OAAV9W,EAAiBnqB,GAAYghC,GAAQ7W,EAAQ8W,IAuGxD,QAASuiB,MACP,SAgBF,QAASC,MACP,OAAO,EAqBT,QAASC,MACP,SAgBF,QAASC,MACP,MAAO,GAgBT,QAASC,MACP,OAAO,EAsBT,QAASC,IAAMtmD,EAAGsqB,GAEhB,IADAtqB,EAAI4iC,GAAU5iC,IACN,GAAKA,EAAIyxB,GACf,QAEF,IAAIh4B,GAAQk4B,GACRt4B,EAAS4iC,GAAUj8B,EAAG2xB,GAE1BrH,GAAW+e,GAAY/e,GACvBtqB,GAAK2xB,EAGL,KADA,GAAI7vB,GAASqrB,EAAU9zB,EAAQixB,KACtB7wB,EAAQuG,GACfsqB,EAAS7wB,EAEX,OAAOqI,GAoBT,QAASykD,IAAO3tD,GACd,MAAIwhC,IAAQxhC,GACHsyB,EAAStyB,EAAOgrC,IAElBlB,GAAS9pC,IAAUA,GAASyiC,GAAU2R,GAAaziC,GAAS3R,KAoBrE,QAAS4tD,IAASC,GAChB,GAAIv9C,KAAOw9C,EACX,OAAOn8C,IAASk8C,GAAUv9C,EA2G5B,QAASgM,IAAIoK,GACX,MAAQA,IAASA,EAAMjmB,OACnBopC,GAAanjB,EAAO+nB,GAAUlD,IAC9B1hC,GA0BN,QAASkkD,IAAMrnC,EAAOgL,GACpB,MAAQhL,IAASA,EAAMjmB,OACnBopC,GAAanjB,EAAO+pB,GAAY/e,EAAU,GAAI6Z,IAC9C1hC,GAiBN,QAASmkD,IAAKtnC,GACZ,MAAOkN,GAASlN,EAAO+nB,IA0BzB,QAASwf,IAAOvnC,EAAOgL,GACrB,MAAOkC,GAASlN,EAAO+pB,GAAY/e,EAAU,IAqB/C,QAASzoB,IAAIyd,GACX,MAAQA,IAASA,EAAMjmB,OACnBopC,GAAanjB,EAAO+nB,GAAUU,IAC9BtlC,GA0BN,QAASqkD,IAAMxnC,EAAOgL,GACpB,MAAQhL,IAASA,EAAMjmB,OACnBopC,GAAanjB,EAAO+pB,GAAY/e,EAAU,GAAIyd,IAC9CtlC,GA8EN,QAASskD,IAAIznC,GACX,MAAQA,IAASA,EAAMjmB,OACnBozB,EAAQnN,EAAO+nB,IACf,EA0BN,QAAS2f,IAAM1nC,EAAOgL,GACpB,MAAQhL,IAASA,EAAMjmB,OACnBozB,EAAQnN,EAAO+pB,GAAY/e,EAAU,IACrC,EAxwdNvH,EAAqB,MAAXA,EAAkBsV,GAAO2B,GAAEitB,SAAS5uB,GAAK3/B,SAAUqqB,EAASiX,GAAEktB,KAAK7uB,GAAMd,IAGnF,IAAIr9B,IAAQ6oB,EAAQ7oB,MAChBitD,GAAOpkC,EAAQokC,KACftnC,GAAQkD,EAAQlD,MAChByY,GAAWvV,EAAQuV,SACnB12B,GAAOmhB,EAAQnhB,KACflJ,GAASqqB,EAAQrqB,OACjB27B,GAAStR,EAAQsR,OACjBxkB,GAASkT,EAAQlT,OACjBqyB,GAAYnf,EAAQmf,UAGpBklB,GAAaltD,GAAMjB,UACnBouD,GAAY/uB,GAASr/B,UACrB+7C,GAAct8C,GAAOO,UAGrBquD,GAAavkC,EAAQ,sBAGrB+0B,GAAeuP,GAAU98C,SAGzBnQ,GAAiB46C,GAAY56C,eAG7BssD,GAAY,EAGZ3P,GAAc,WAChB,GAAIwQ,GAAM,SAAS3Z,KAAK0Z,IAAcA,GAAW9mD,MAAQ8mD,GAAW9mD,KAAKgnD,UAAY,GACrF,OAAOD,GAAO,iBAAmBA,EAAO,MAQtCjR,GAAuBtB,GAAYzqC,SAGnC61C,GAAmBtI,GAAat1C,KAAK9J,IAGrCmtD,GAAUxtB,GAAK2B,EAGf8M,GAAazS,GAAO,IACtByjB,GAAat1C,KAAKpI,IAAgB62C,QAAQnc,GAAc,QACvDmc,QAAQ,yDAA0D,SAAW,KAI5En+B,GAAS4lB,GAAgB3V,EAAQjQ,OAASrQ,GAC1CglD,GAAS1kC,EAAQ0kC,OACjB92C,GAAaoS,EAAQpS,WACrBu8B,GAAcp6B,GAASA,GAAOo6B,YAAczqC,GAC5Ck0C,GAAe9nB,EAAQn2B,GAAOgvD,eAAgBhvD,IAC9CivD,GAAejvD,GAAO6B,OACtBqtD,GAAuB5S,GAAY4S,qBACnCjuD,GAASytD,GAAWztD,OACpBm9C,GAAmB2Q,GAASA,GAAOI,mBAAqBplD,GACxDg+C,GAAcgH,GAASA,GAAOruC,SAAW3W,GACzCuhC,GAAiByjB,GAASA,GAAOK,YAAcrlD,GAE/C9J,GAAkB,WACpB,IACE,GAAIsxB,GAAOksB,GAAUz9C,GAAQ,iBAE7B,OADAuxB,MAAS,OACFA,EACP,MAAO/M,QAIP6qC,GAAkBhlC,EAAQ3E,eAAiBia,GAAKja,cAAgB2E,EAAQ3E,aACxE4pC,GAASb,IAAQA,GAAKtJ,MAAQxlB,GAAK8uB,KAAKtJ,KAAOsJ,GAAKtJ,IACpDoK,GAAgBllC,EAAQzE,aAAe+Z,GAAK/Z,YAAcyE,EAAQzE,WAGlE8rB,GAAaxoC,GAAKwa,KAClB4tB,GAAcpoC,GAAKsmD,MACnBC,GAAmBzvD,GAAO0vD,sBAC1BC,GAAiBv1C,GAASA,GAAO+rB,SAAWp8B,GAC5CgyC,GAAiB1xB,EAAQ08B,SACzB5G,GAAauO,GAAWx4C,KACxB+4B,GAAa9Y,EAAQn2B,GAAO8H,KAAM9H,IAClC8rC,GAAY5iC,GAAKsT,IACjB+mB,GAAYr6B,GAAKC,IACjB81C,GAAYwP,GAAKtJ,IACjBqF,GAAiBngC,EAAQriB,SACzBupC,GAAeroC,GAAKugD,OACpB/I,GAAgBgO,GAAWpV,QAG3BsW,GAAWnS,GAAUpzB,EAAS,YAC9Bya,GAAM2Y,GAAUpzB,EAAS,OACzBwlC,GAAUpS,GAAUpzB,EAAS,WAC7BylC,GAAMrS,GAAUpzB,EAAS,OACzB0lC,GAAUtS,GAAUpzB,EAAS,WAC7B2Z,GAAeyZ,GAAUz9C,GAAQ,UAGjCgwD,GAAUD,IAAW,GAAIA,IAGzBzS,MAGA2S,GAAqB5hB,GAASuhB,IAC9BM,GAAgB7hB,GAASvJ,IACzBqrB,GAAoB9hB,GAASwhB,IAC7BO,GAAgB/hB,GAASyhB,IACzBO,GAAoBhiB,GAAS0hB,IAG7BO,GAAcvB,GAASA,GAAOxuD,UAAYwJ,GAC1CsrC,GAAgBib,GAAcA,GAAYrI,QAAUl+C,GACpDupC,GAAiBgd,GAAcA,GAAYz+C,SAAW9H,GA6ItD0uC,GAAc,WAChB,QAASvkB,MACT,MAAO,UAASuzB,GACd,IAAKpf,GAASof,GACZ,QAEF,IAAIwH,GACF,MAAOA,IAAaxH,EAEtBvzB,GAAO3zB,UAAYknD,CACnB,IAAIr+C,GAAS,GAAI8qB,EAEjB,OADAA,GAAO3zB,UAAYwJ,GACZX,KAqCXo4B,GAAOspB,kBAQL,OAAUhvB,GAQV,SAAYC,GAQZ,YAAeC,GAQf,SAAY,GAQZ,SAQE,EAAKwF,IAKTA,EAAOjhC,UAAYuhC,EAAWvhC,UAC9BihC,EAAOjhC,UAAUqB,YAAc4/B,EAE/BI,EAAcrhC,UAAYk4C,GAAW3W,EAAWvhC,WAChDqhC,EAAcrhC,UAAUqB,YAAcggC,EAsHtCD,EAAYphC,UAAYk4C,GAAW3W,EAAWvhC,WAC9CohC,EAAYphC,UAAUqB,YAAc+/B,EAoGpCiC,GAAKrjC,UAAUkX,MAAQqsB,GACvBF,GAAKrjC,UAAkB,OAAI0jC,GAC3BL,GAAKrjC,UAAU8F,IAAM69B,GACrBN,GAAKrjC,UAAUy0B,IAAMmP,GACrBP,GAAKrjC,UAAUgG,IAAM69B,GAiHrBC,GAAU9jC,UAAUkX,MAAQ6sB,GAC5BD,GAAU9jC,UAAkB,OAAIgkC,GAChCF,GAAU9jC,UAAU8F,IAAMo+B,GAC1BJ,GAAU9jC,UAAUy0B,IAAM0P,GAC1BL,GAAU9jC,UAAUgG,IAAMo+B,GAmG1BC,GAASrkC,UAAUkX,MAAQotB,GAC3BD,GAASrkC,UAAkB,OAAIwkC,GAC/BH,GAASrkC,UAAU8F,IAAM4+B,GACzBL,GAASrkC,UAAUy0B,IAAMkQ,GACzBN,GAASrkC,UAAUgG,IAAM4+B,GAmDzBC,GAAS7kC,UAAUoR,IAAMyzB,GAAS7kC,UAAUM,KAAOwkC,GACnDD,GAAS7kC,UAAUy0B,IAAMsQ,GAkGzBC,GAAMhlC,UAAUkX,MAAQ+tB,GACxBD,GAAMhlC,UAAkB,OAAIklC,GAC5BF,GAAMhlC,UAAU8F,IAAMq/B,GACtBH,GAAMhlC,UAAUy0B,IAAM2Q,GACtBJ,GAAMhlC,UAAUgG,IAAMq/B,EA8btB,IAAIuB,IAAWoQ,GAAe9M,IAU1ByY,GAAgB3L,GAAe5M,IAAiB,GA4IhDD,GAAU+M,KAYV7M,GAAe6M,IAAc,GAggC7B2E,GAAe4T,GAAqB,SAASz+B,EAAM3pB,GAErD,MADAooD,IAAQzpD,IAAIgrB,EAAM3pB,GACX2pB,GAFoBod,GAazB4hB,GAAmBtwD,GAA4B,SAASsxB,EAAMyB,GAChE,MAAO/yB,IAAesxB,EAAM,YAC1B,cAAgB,EAChB,YAAc,EACd,MAASq7B,GAAS55B,GAClB,UAAY,KALwB2b,GAucpC6hB,GAAW5e,GAuBXlsB,GAAe2pC,IAAmB,SAAS7+C,GAC7C,MAAOmvB,IAAKja,aAAalV,IAg7BvBgjC,GAAcsc,IAAQ,EAAIt5B,EAAW,GAAIs5B,KAAK,EAAE,KAAK,IAAOh3B,GAAmB,SAASpG,GAC1F,MAAO,IAAIo9B,IAAIp9B,IAD2D06B,GAmbxE3T,GAAWuW,GAAiB,SAASz+B,GACvC,MAAOy+B,IAAQ3pD,IAAIkrB,IADI67B,GAyIrBtW,GAAc2Y,GAA+B,SAASv7B,GACxD,MAAc,OAAVA,MAGJA,EAASl0B,GAAOk0B,GACThC,EAAYu9B,GAAiBv7B,GAAS,SAASkhB,GACpD,MAAO8Z,IAAqBplD,KAAKoqB,EAAQkhB,OANRmY,GAiBjCxW,GAAgB0Y,GAA+B,SAASv7B,GAE1D,IADA,GAAI9qB,MACG8qB,GACLzB,EAAUrpB,EAAQ0tC,GAAW5iB,IAC7BA,EAAS+pB,GAAa/pB,EAExB,OAAO9qB,IAN8BmkD,GAgBnC/kB,GAAS6C,IAGRukB,IAAYpnB,GAAO,GAAIonB,IAAS,GAAIa,aAAY,MAAQ91B,IACxDmK,IAAO0D,GAAO,GAAI1D,MAAQhL,IAC1B+1B,IAxzLU,oBAwzLCrnB,GAAOqnB,GAAQa,YAC1BZ,IAAOtnB,GAAO,GAAIsnB,MAAQ11B,IAC1B21B,IAAWvnB,GAAO,GAAIunB,MAAYv1B,MACrCgO,GAAS,SAAStoC,GAChB,GAAIkJ,GAASiiC,GAAWnrC,GACpB03C,EAAOxuC,GAAU6wB,GAAY/5B,EAAM0B,YAAcmI,GACjD4mD,EAAa/Y,EAAOvJ,GAASuJ,GAAQ,EAEzC,IAAI+Y,EACF,OAAQA,GACN,IAAKV,IAAoB,MAAOt1B,GAChC,KAAKu1B,IAAe,MAAOp2B,GAC3B,KAAKq2B,IAAmB,MAp0LjB,kBAq0LP,KAAKC,IAAe,MAAOh2B,GAC3B,KAAKi2B,IAAmB,MAAO71B,IAGnC,MAAOpxB,IA+SX,IAAIk+C,IAAasH,GAAa9jB,GAAa0iB,GA0QvC7R,GAAUkD,GAASzC,IAUnBx2B,GAAa2pC,IAAiB,SAASh+B,EAAMgY,GAC/C,MAAO5J,IAAK/Z,WAAW2L,EAAMgY,IAW3BsI,GAAcgN,GAAS0R,IA8EvBjc,GAvTJ,SAAuB/iB,GACrB,GAAInoB,GAASs8C,GAAQn0B,EAAM,SAASxpB,GAIlC,MAHIgtB,GAAMld,OAAS2f,IACjBzC,EAAMtd,QAED1P,IAGLgtB,EAAQ3rB,EAAO2rB,KACnB,OAAO3rB,IA8SwB,SAAS4pB,GACxC,GAAI5pB,KAOJ,OAN6B,MAAzB4pB,EAAO1tB,WAAW,IACpB8D,EAAOvI,KAAK,IAEdmyB,EAAOulB,QAAQpc,GAAY,SAAShJ,EAAOwU,EAAQipB,EAAOC,GACxDznD,EAAOvI,KAAK+vD,EAAQC,EAAUtY,QAAQ3b,GAAc,MAAS+K,GAAUxU,KAElE/pB,IA4ML0nD,GAAalf,GAAS,SAAShrB,EAAO8L,GACxC,MAAO0d,IAAkBxpB,GACrB6iB,GAAe7iB,EAAOyjB,GAAY3X,EAAQ,EAAG0d,IAAmB,SA8BlE2gB,GAAenf,GAAS,SAAShrB,EAAO8L,GAC1C,GAAId,GAAWhS,GAAK8S,EAIpB,OAHI0d,IAAkBxe,KACpBA,EAAW7nB,IAENqmC,GAAkBxpB,GACrB6iB,GAAe7iB,EAAOyjB,GAAY3X,EAAQ,EAAG0d,IAAmB,GAAOO,GAAY/e,EAAU,SA2B/Fo/B,GAAiBpf,GAAS,SAAShrB,EAAO8L,GAC5C,GAAIH,GAAa3S,GAAK8S,EAItB,OAHI0d,IAAkB7d,KACpBA,EAAaxoB,IAERqmC,GAAkBxpB,GACrB6iB,GAAe7iB,EAAOyjB,GAAY3X,EAAQ,EAAG0d,IAAmB,GAAOrmC,GAAWwoB,QAgepF0+B,GAAerf,GAAS,SAAS5F,GACnC,GAAIklB,GAAS1+B,EAASwZ,EAAQoI,GAC9B,OAAQ8c,GAAOvwD,QAAUuwD,EAAO,KAAOllB,EAAO,GAC1CD,GAAiBmlB,QA2BnBC,GAAiBvf,GAAS,SAAS5F,GACrC,GAAIpa,GAAWhS,GAAKosB,GAChBklB,EAAS1+B,EAASwZ,EAAQoI,GAO9B,OALIxiB,KAAahS,GAAKsxC,GACpBt/B,EAAW7nB,GAEXmnD,EAAO70C,MAED60C,EAAOvwD,QAAUuwD,EAAO,KAAOllB,EAAO,GAC1CD,GAAiBmlB,EAAQvgB,GAAY/e,EAAU,SAyBjDw/B,GAAmBxf,GAAS,SAAS5F,GACvC,GAAIzZ,GAAa3S,GAAKosB,GAClBklB,EAAS1+B,EAASwZ,EAAQoI,GAM9B,OAJA7hB,GAAkC,kBAAdA,GAA2BA,EAAaxoB,GACxDwoB,GACF2+B,EAAO70C,MAED60C,EAAOvwD,QAAUuwD,EAAO,KAAOllB,EAAO,GAC1CD,GAAiBmlB,EAAQnnD,GAAWwoB,QA8HtC8+B,GAAOzf,GAAS0O,IA8GhBgR,GAASpY,GAAS,SAAStyB,EAAOuqB,GACpC,GAAIxwC,GAAkB,MAATimB,EAAgB,EAAIA,EAAMjmB,OACnCyI,EAASo+B,GAAO5gB,EAAOuqB,EAM3B,OAJAD,IAAWtqB,EAAO4L,EAAS2e,EAAS,SAASpwC,GAC3C,MAAOulC,IAAQvlC,EAAOJ,IAAWI,EAAQA,IACxCwzB,KAAKghB,KAEDnsC,IA8eLmoD,GAAQ3f,GAAS,SAAS5F,GAC5B,MAAOuH,IAASlJ,GAAY2B,EAAQ,EAAGoE,IAAmB,MA0BxDohB,GAAU5f,GAAS,SAAS5F,GAC9B,GAAIpa,GAAWhS,GAAKosB,EAIpB,OAHIoE,IAAkBxe,KACpBA,EAAW7nB,IAENwpC,GAASlJ,GAAY2B,EAAQ,EAAGoE,IAAmB,GAAOO,GAAY/e,EAAU,MAwBrF6/B,GAAY7f,GAAS,SAAS5F,GAChC,GAAIzZ,GAAa3S,GAAKosB,EAEtB,OADAzZ,GAAkC,kBAAdA,GAA2BA,EAAaxoB,GACrDwpC,GAASlJ,GAAY2B,EAAQ,EAAGoE,IAAmB,GAAOrmC,GAAWwoB,KAsK1Em/B,GAAU9f,GAAS,SAAShrB,EAAO8L,GACrC,MAAO0d,IAAkBxpB,GACrB6iB,GAAe7iB,EAAO8L,QAsBxBi/B,GAAM/f,GAAS,SAAS5F,GAC1B,MAAOgI,IAAQ9hB,EAAY8Z,EAAQoE,OA0BjCwhB,GAAQhgB,GAAS,SAAS5F,GAC5B,GAAIpa,GAAWhS,GAAKosB,EAIpB,OAHIoE,IAAkBxe,KACpBA,EAAW7nB,IAENiqC,GAAQ9hB,EAAY8Z,EAAQoE,IAAoBO,GAAY/e,EAAU,MAwB3EigC,GAAUjgB,GAAS,SAAS5F,GAC9B,GAAIzZ,GAAa3S,GAAKosB,EAEtB,OADAzZ,GAAkC,kBAAdA,GAA2BA,EAAaxoB,GACrDiqC,GAAQ9hB,EAAY8Z,EAAQoE,IAAoBrmC,GAAWwoB,KAmBhEu/B,GAAMlgB,GAAS+P,IA6DfoQ,GAAUngB,GAAS,SAAS5F,GAC9B,GAAIrrC,GAASqrC,EAAOrrC,OAChBixB,EAAWjxB,EAAS,EAAIqrC,EAAOrrC,EAAS,GAAKoJ,EAGjD,OADA6nB,GAA8B,kBAAZA,IAA0Boa,EAAO3vB,MAAOuV,GAAY7nB,GAC/D83C,GAAU7V,EAAQpa,KA+GvBogC,GAAY9Y,GAAS,SAASzR,GAChC,GAAI9mC,GAAS8mC,EAAM9mC,OACf8G,EAAQ9G,EAAS8mC,EAAM,GAAK,EAC5BvnC,EAAQE,KAAK4hC,YACbkgB,EAAc,SAAShuB,GAAU,MAAOsT,IAAOtT,EAAQuT,GAE3D,SAAI9mC,EAAS,GAAKP,KAAK6hC,YAAYthC,SAC7BT,YAAiByhC,IAAiB2E,GAAQ7+B,IAGhDvH,EAAQA,EAAMqZ,MAAM9R,GAAQA,GAAS9G,EAAS,EAAI,IAClDT,EAAM+hC,YAAYphC,MAChB,KAAQw4C,GACR,MAAS6I,GACT,QAAWn4C,KAEN,GAAI63B,GAAc1hC,EAAOE,KAAK8hC,WAAWmX,KAAK,SAASzyB,GAI5D,MAHIjmB,KAAWimB,EAAMjmB,QACnBimB,EAAM/lB,KAAKkJ,IAEN6c,KAZAxmB,KAAKi5C,KAAK6I,KA+PjB+P,GAAUjb,GAAiB,SAAS5tC,EAAQlJ,EAAO6H,GACjDrG,GAAeoI,KAAKV,EAAQrB,KAC5BqB,EAAOrB,GAETg/B,GAAgB39B,EAAQrB,EAAK,KAmI7BmqD,GAAOnZ,GAAW4G,IAqBlBwS,GAAWpZ,GAAW6G,IAgKtBwS,GAAUpb,GAAiB,SAAS5tC,EAAQlJ,EAAO6H,GACjDrG,GAAeoI,KAAKV,EAAQrB,GAC9BqB,EAAOrB,GAAKlH,KAAKX,GAEjB6mC,GAAgB39B,EAAQrB,GAAM7H,MAsE9BmyD,GAAYzgB,GAAS,SAASte,EAAY0X,EAAMvZ,GAClD,GAAI1wB,IAAS,EACT0nC,EAAwB,kBAARuC,GAChB5hC,EAASmmC,GAAYjc,GAAc9xB,GAAM8xB,EAAW3yB,UAKxD,OAHAwmC,IAAS7T,EAAY,SAASpzB,GAC5BkJ,IAASrI,GAAS0nC,EAAS/jC,EAAMsmC,EAAM9qC,EAAOuxB,GAAQ8a,GAAWrsC,EAAO8qC,EAAMvZ,KAEzEroB,IA+BLkpD,GAAQtb,GAAiB,SAAS5tC,EAAQlJ,EAAO6H,GACnDg/B,GAAgB39B,EAAQrB,EAAK7H,KAiI3BqyD,GAAYvb,GAAiB,SAAS5tC,EAAQlJ,EAAO6H,GACvDqB,EAAOrB,EAAM,EAAI,GAAGlH,KAAKX,IACxB,WAAa,gBAmSZsyD,GAAS5gB,GAAS,SAASte,EAAY8P,GACzC,GAAkB,MAAd9P,EACF,QAEF,IAAI3yB,GAASyiC,EAAUziC,MAMvB,OALIA,GAAS,GAAK22C,GAAehkB,EAAY8P,EAAU,GAAIA,EAAU,IACnEA,KACSziC,EAAS,GAAK22C,GAAelU,EAAU,GAAIA,EAAU,GAAIA,EAAU,MAC5EA,GAAaA,EAAU,KAElBqN,GAAYnd,EAAY+W,GAAYjH,EAAW,SAqBpD+hB,GAAMmK,IAAU,WAClB,MAAO3vB,IAAK8uB,KAAKtJ,OAqIfsN,GAAO7gB,GAAS,SAASrgB,EAAMC,EAASukB,GAC1C,GAAIhO,GAAUjQ,EACd,IAAIie,EAASp1C,OAAQ,CACnB,GAAIq1C,GAAU1f,EAAeyf,EAAU6C,GAAU6Z,IACjD1qB,IAAW5P,GAEb,MAAO+jB,IAAW3qB,EAAMwW,EAASvW,EAASukB,EAAUC,KAgDlD0c,GAAU9gB,GAAS,SAAS1d,EAAQnsB,EAAKguC,GAC3C,GAAIhO,GAAUjQ,GAAiBC,EAC/B,IAAIge,EAASp1C,OAAQ,CACnB,GAAIq1C,GAAU1f,EAAeyf,EAAU6C,GAAU8Z,IACjD3qB,IAAW5P,GAEb,MAAO+jB,IAAWn0C,EAAKggC,EAAS7T,EAAQ6hB,EAAUC,KAqShD2c,GAAQ/gB,GAAS,SAASrgB,EAAME,GAClC,MAAO6X,IAAU/X,EAAM,EAAGE,KAsBxBmhC,GAAQhhB,GAAS,SAASrgB,EAAMgY,EAAM9X,GACxC,MAAO6X,IAAU/X,EAAM6pB,GAAS7R,IAAS,EAAG9X,IA0F9Ci0B,IAAQG,MAAQjhB,EA2FhB,IAAIiuB,IAAWrC,GAAS,SAASj/B,EAAMssB,GACrCA,EAAmC,GAArBA,EAAWl9C,QAAe+gC,GAAQmc,EAAW,IACvDrrB,EAASqrB,EAAW,GAAIjpB,EAAU+b,OAClCne,EAAS6X,GAAYwT,EAAY,GAAIjpB,EAAU+b,MAEnD,IAAImiB,GAAcjV,EAAWl9C,MAC7B,OAAOixC,IAAS,SAASngB,GAIvB,IAHA,GAAI1wB,IAAS,EACTJ,EAAS4iC,GAAU9R,EAAK9wB,OAAQmyD,KAE3B/xD,EAAQJ,GACf8wB,EAAK1wB,GAAS88C,EAAW98C,GAAO+I,KAAK1J,KAAMqxB,EAAK1wB,GAElD,OAAO2D,GAAM6sB,EAAMnxB,KAAMqxB,OAqCzB20B,GAAUxU,GAAS,SAASrgB,EAAMwkB,GACpC,GAAIC,GAAU1f,EAAeyf,EAAU6C,GAAUwN,IACjD,OAAOlK,IAAW3qB,EAAM4G,GAAmBpuB,GAAWgsC,EAAUC,KAmC9D+c,GAAenhB,GAAS,SAASrgB,EAAMwkB,GACzC,GAAIC,GAAU1f,EAAeyf,EAAU6C,GAAUma,IACjD,OAAO7W,IAAW3qB,EAAM6G,GAAyBruB,GAAWgsC,EAAUC,KAyBpEgd,GAAQ9Z,GAAS,SAAS3nB,EAAM4f,GAClC,MAAO+K,IAAW3qB,EAAM+G,GAAiBvuB,GAAWA,GAAWA,GAAWonC,KA4bxE8hB,GAAK9X,GAA0B1P,IAyB/BynB,GAAM/X,GAA0B,SAASj7C,EAAOwrC,GAClD,MAAOxrC,IAASwrC,IAqBdzF,GAAcwG,GAAgB,WAAa,MAAO9nC,eAAkB8nC,GAAkB,SAASvsC,GACjG,MAAOuhC,IAAavhC,IAAUwB,GAAeoI,KAAK5J,EAAO,YACtDgvD,GAAqBplD,KAAK5J,EAAO,WA0BlCwhC,GAAUlgC,GAAMkgC,QAmBhBlB,GAAgBD,GAAoB3L,EAAU2L,IAAqBmM,GAmGnEvG,GAAWwpB,IAAkBnC,GAmB7B9sB,GAASD,GAAa7L,EAAU6L,IAAckM,GAkX9C/L,GAAQD,GAAY/L,EAAU+L,IAAakN,GAiR3C/M,GAAWD,GAAejM,EAAUiM,IAAgByN,GAkDpDtN,GAAQD,GAAYnM,EAAUmM,IAAawN,GA+D3CrN,GAAeD,GAAmBrM,EAAUqM,IAAoBuN,GAwFhE2kB,GAAKhY,GAA0B9L,IAyB/B+jB,GAAMjY,GAA0B,SAASj7C,EAAOwrC,GAClD,MAAOxrC,IAASwrC,IA8Sd2nB,GAASnc,GAAe,SAAShjB,EAAQ0H,GAC3C,GAAIoT,GAAYpT,IAAW2T,GAAY3T,GAErC,WADAyL,IAAWzL,EAAQ9zB,GAAK8zB,GAAS1H,EAGnC,KAAK,GAAInsB,KAAO6zB,GACVl6B,GAAeoI,KAAK8xB,EAAQ7zB,IAC9Bi/B,GAAY9S,EAAQnsB,EAAK6zB,EAAO7zB,MAoClCurD,GAAWpc,GAAe,SAAShjB,EAAQ0H,GAC7CyL,GAAWzL,EAAQ2L,GAAO3L,GAAS1H,KAgCjC62B,GAAe7T,GAAe,SAAShjB,EAAQ0H,EAAQkU,EAAU9H,GACnEX,GAAWzL,EAAQ2L,GAAO3L,GAAS1H,EAAQ8T,KA+BzCurB,GAAarc,GAAe,SAAShjB,EAAQ0H,EAAQkU,EAAU9H,GACjEX,GAAWzL,EAAQ9zB,GAAK8zB,GAAS1H,EAAQ8T,KAoBvCwrB,GAAKta,GAAS1R,IA8Dd+mB,GAAW3c,GAAS,SAAS1d,EAAQkjB,GACvCljB,EAASl0B,GAAOk0B,EAEhB,IAAInzB,IAAS,EACTJ,EAASy2C,EAAQz2C,OACjB02C,EAAQ12C,EAAS,EAAIy2C,EAAQ,GAAKrtC,EAMtC,KAJIstC,GAASC,GAAeF,EAAQ,GAAIA,EAAQ,GAAIC,KAClD12C,EAAS,KAGFI,EAAQJ,GAMf,IALA,GAAIi7B,GAASwb,EAAQr2C,GACjB4zB,EAAQ4S,GAAO3L,GACf63B,GAAc,EACdC,EAAc/+B,EAAMh0B,SAEf8yD,EAAaC,GAAa,CACjC,GAAI3rD,GAAM4sB,EAAM8+B,GACZvzD,EAAQg0B,EAAOnsB,IAEf7H,IAAU6J,IACT+8B,GAAG5mC,EAAOo8C,GAAYv0C,MAAUrG,GAAeoI,KAAKoqB,EAAQnsB,MAC/DmsB,EAAOnsB,GAAO6zB,EAAO7zB,IAK3B,MAAOmsB,KAsBLy/B,GAAe/hB,GAAS,SAASngB,GAEnC,MADAA,GAAK5wB,KAAKkJ,GAAWwyC,IACd73C,EAAMkvD,GAAW7pD,GAAW0nB,KAoXjCoiC,GAAStZ,GAAe,SAASnxC,EAAQlJ,EAAO6H,GACrC,MAAT7H,GACyB,kBAAlBA,GAAM2R,WACf3R,EAAQ09C,GAAqB9zC,KAAK5J,IAGpCkJ,EAAOlJ,GAAS6H,GACf6kD,GAASje,KA4BRmlB,GAAWvZ,GAAe,SAASnxC,EAAQlJ,EAAO6H,GACvC,MAAT7H,GACyB,kBAAlBA,GAAM2R,WACf3R,EAAQ09C,GAAqB9zC,KAAK5J,IAGhCwB,GAAeoI,KAAKV,EAAQlJ,GAC9BkJ,EAAOlJ,GAAOW,KAAKkH,GAEnBqB,EAAOlJ,IAAU6H,IAElB4oC,IAoBCojB,GAASniB,GAASrF,IAiKlBynB,GAAQ9c,GAAe,SAAShjB,EAAQ0H,EAAQkU,GAClDD,GAAU3b,EAAQ0H,EAAQkU,KAkCxB8jB,GAAY1c,GAAe,SAAShjB,EAAQ0H,EAAQkU,EAAU9H,GAChE6H,GAAU3b,EAAQ0H,EAAQkU,EAAU9H,KAuBlCisB,GAAO/a,GAAS,SAAShlB,EAAQuT,GACnC,GAAIr+B,KACJ,IAAc,MAAV8qB,EACF,MAAO9qB,EAET,IAAI8+B,IAAS,CACbT,GAAQjV,EAASiV,EAAO,SAASuD,GAG/B,MAFAA,GAAOC,GAASD,EAAM9W,GACtBgU,IAAWA,EAAS8C,EAAKrqC,OAAS,GAC3BqqC,IAET3D,GAAWnT,EAAQgV,GAAahV,GAAS9qB,GACrC8+B,IACF9+B,EAAS0+B,GAAU1+B,EAAQquB,GAAkBC,GAAkBC,GAAoB6kB,IAGrF,KADA,GAAI77C,GAAS8mC,EAAM9mC,OACZA,KACL0wC,GAAUjoC,EAAQq+B,EAAM9mC,GAE1B,OAAOyI,KA4CLolD,GAAOtV,GAAS,SAAShlB,EAAQuT,GACnC,MAAiB,OAAVvT,KAAsB2c,GAAS3c,EAAQuT,KA0K5CysB,GAAUjY,GAAcn0C,IA0BxBqsD,GAAYlY,GAAc1U,IA+X1B6sB,GAAYjc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GAEtD,MADAszD,GAAOA,EAAKvK,cACL1gD,GAAUrI,EAAQ6oD,GAAWyK,GAAQA,KAgK1CC,GAAYnc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GACtD,MAAOqI,IAAUrI,EAAQ,IAAM,IAAMszD,EAAKvK,gBAuBxCyK,GAAYpc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GACtD,MAAOqI,IAAUrI,EAAQ,IAAM,IAAMszD,EAAKvK,gBAoBxC0K,GAAazc,GAAgB,eA0N7B0c,GAAYtc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GACtD,MAAOqI,IAAUrI,EAAQ,IAAM,IAAMszD,EAAKvK,gBAgExC4K,GAAYvc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GACtD,MAAOqI,IAAUrI,EAAQ,IAAM,IAAM8oD,GAAWwK,KAkiB9CM,GAAYxc,GAAiB,SAAS/uC,EAAQirD,EAAMtzD,GACtD,MAAOqI,IAAUrI,EAAQ,IAAM,IAAMszD,EAAKpI,gBAoBxCpC,GAAa9R,GAAgB,eAuD7B+T,GAAUla,GAAS,SAASrgB,EAAME,GACpC,IACE,MAAO/sB,GAAM6sB,EAAMxnB,GAAW0nB,GAC9B,MAAOjN,GACP,MAAOsiC,IAAQtiC,GAAKA,EAAI,GAAI2C,IAAM3C,MA8BlCowC,GAAU1b,GAAS,SAAShlB,EAAQ+4B,GAKtC,MAJAn7B,GAAUm7B,EAAa,SAASllD,GAC9BA,EAAMmjC,GAAMnjC,GACZg/B,GAAgB7S,EAAQnsB,EAAK0qD,GAAKv+B,EAAOnsB,GAAMmsB,MAE1CA,IAyJL2gC,GAAO5b,KAuBP6b,GAAY7b,IAAW,GA0JvB8b,GAASnjB,GAAS,SAAS5G,EAAMvZ,GACnC,MAAO,UAASyC,GACd,MAAOqY,IAAWrY,EAAQ8W,EAAMvZ,MA2BhCujC,GAAWpjB,GAAS,SAAS1d,EAAQzC,GACvC,MAAO,UAASuZ,GACd,MAAOuB,IAAWrY,EAAQ8W,EAAMvZ,MA6JhCwjC,GAAOra,GAAWpoB,GA0BlB0iC,GAAYta,GAAW5oB,GA0BvBmjC,GAAWva,GAAW9nB,GAgGtBtR,GAAQy5B,KAsCRma,GAAana,IAAY,GAqMzBtpC,GAAM8oC,GAAoB,SAAS4a,EAAQC,GAC7C,MAAOD,GAASC,GACf,GAuBC5xC,GAAOm4B,GAAY,QAiBnB0Z,GAAS9a,GAAoB,SAAS+a,EAAUC,GAClD,MAAOD,GAAWC,GACjB,GAuBCjG,GAAQ3T,GAAY,SAwKpB6Z,GAAWjb,GAAoB,SAASkb,EAAYC,GACtD,MAAOD,GAAaC,GACnB,GAuBCC,GAAQha,GAAY,SAiBpBia,GAAWrb,GAAoB,SAASsb,EAASC,GACnD,MAAOD,GAAUC,GAChB,EAgmBH,OA1iBAx0B,GAAOqiB,MAAQA,GACfriB,EAAOuY,IAAMA,GACbvY,EAAO6xB,OAASA,GAChB7xB,EAAO8xB,SAAWA,GAClB9xB,EAAOupB,aAAeA,GACtBvpB,EAAO+xB,WAAaA,GACpB/xB,EAAOgyB,GAAKA,GACZhyB,EAAOsiB,OAASA,GAChBtiB,EAAOixB,KAAOA,GACdjxB,EAAOozB,QAAUA,GACjBpzB,EAAOkxB,QAAUA,GACjBlxB,EAAO6kB,UAAYA,GACnB7kB,EAAOwgB,MAAQA,GACfxgB,EAAO6d,MAAQA,GACf7d,EAAO8d,QAAUA,GACjB9d,EAAO1a,OAASA,GAChB0a,EAAOkrB,KAAOA,GACdlrB,EAAOmrB,SAAWA,GAClBnrB,EAAOorB,SAAWA,GAClBprB,EAAOywB,QAAUA,GACjBzwB,EAAO3/B,OAASA,GAChB2/B,EAAOuiB,MAAQA,GACfviB,EAAOwiB,WAAaA,GACpBxiB,EAAOyiB,SAAWA,GAClBziB,EAAO+sB,SAAWA,GAClB/sB,EAAOmyB,aAAeA,GACtBnyB,EAAOmxB,MAAQA,GACfnxB,EAAOoxB,MAAQA,GACfpxB,EAAOsvB,WAAaA,GACpBtvB,EAAOuvB,aAAeA,GACtBvvB,EAAOwvB,eAAiBA,GACxBxvB,EAAO+d,KAAOA,GACd/d,EAAOge,UAAYA,GACnBhe,EAAOie,eAAiBA,GACxBje,EAAOke,UAAYA,GACnBle,EAAOv5B,KAAOA,GACdu5B,EAAOqhB,OAASA,GAChBrhB,EAAOshB,QAAUA,GACjBthB,EAAOuhB,YAAcA,GACrBvhB,EAAOwhB,aAAeA,GACtBxhB,EAAO6b,QAAUA,GACjB7b,EAAOqe,YAAcA,GACrBre,EAAOse,aAAeA,GACtBte,EAAOikB,KAAOA,GACdjkB,EAAOqzB,KAAOA,GACdrzB,EAAOszB,UAAYA,GACnBtzB,EAAOue,UAAYA,GACnBve,EAAOmnB,UAAYA,GACnBnnB,EAAOonB,YAAcA,GACrBpnB,EAAO4wB,QAAUA,GACjB5wB,EAAOye,QAAUA,GACjBze,EAAOyvB,aAAeA,GACtBzvB,EAAO2vB,eAAiBA,GACxB3vB,EAAO4vB,iBAAmBA,GAC1B5vB,EAAOqyB,OAASA,GAChBryB,EAAOsyB,SAAWA,GAClBtyB,EAAO6wB,UAAYA,GACnB7wB,EAAO5P,SAAWA,GAClB4P,EAAO8wB,MAAQA,GACf9wB,EAAO15B,KAAOA,GACd05B,EAAO+F,OAASA,GAChB/F,EAAOtL,IAAMA,GACbsL,EAAOqnB,QAAUA,GACjBrnB,EAAOsnB,UAAYA,GACnBtnB,EAAOsrB,QAAUA,GACjBtrB,EAAOurB,gBAAkBA,GACzBvrB,EAAOkkB,QAAUA,GACjBlkB,EAAOwyB,MAAQA,GACfxyB,EAAOoyB,UAAYA,GACnBpyB,EAAOuzB,OAASA,GAChBvzB,EAAOwzB,SAAWA,GAClBxzB,EAAOwrB,MAAQA,GACfxrB,EAAOgiB,OAASA,GAChBhiB,EAAO6rB,OAASA,GAChB7rB,EAAOyyB,KAAOA,GACdzyB,EAAOunB,OAASA,GAChBvnB,EAAOskB,KAAOA,GACdtkB,EAAO4hB,QAAUA,GACjB5hB,EAAOyzB,KAAOA,GACdzzB,EAAOqxB,SAAWA,GAClBrxB,EAAO0zB,UAAYA,GACnB1zB,EAAO2zB,SAAWA,GAClB3zB,EAAO4kB,QAAUA,GACjB5kB,EAAOuxB,aAAeA,GACtBvxB,EAAO+wB,UAAYA,GACnB/wB,EAAOgtB,KAAOA,GACdhtB,EAAOwnB,OAASA,GAChBxnB,EAAOsN,SAAWA,GAClBtN,EAAO8rB,WAAaA,GACpB9rB,EAAO6vB,KAAOA,GACd7vB,EAAO8e,QAAUA,GACjB9e,EAAO+e,UAAYA,GACnB/e,EAAOgf,YAAcA,GACrBhf,EAAO8vB,OAASA,GAChB9vB,EAAOhgB,MAAQA,GACfggB,EAAO4zB,WAAaA,GACpB5zB,EAAOwxB,MAAQA,GACfxxB,EAAO+hB,OAASA,GAChB/hB,EAAOif,OAASA,GAChBjf,EAAOukB,KAAOA,GACdvkB,EAAO8X,QAAUA,GACjB9X,EAAOkiB,WAAaA,GACpBliB,EAAOj7B,IAAMA,GACbi7B,EAAO0nB,QAAUA,GACjB1nB,EAAOmiB,QAAUA,GACjBniB,EAAOjoB,MAAQA,GACfioB,EAAOgxB,OAASA,GAChBhxB,EAAOyf,WAAaA,GACpBzf,EAAO0f,aAAeA,GACtB1f,EAAOvO,MAAQA,GACfuO,EAAOwkB,OAASA,GAChBxkB,EAAO2f,KAAOA,GACd3f,EAAO4f,KAAOA,GACd5f,EAAO6f,UAAYA,GACnB7f,EAAO8f,eAAiBA,GACxB9f,EAAO+f,UAAYA,GACnB/f,EAAOygB,IAAMA,GACbzgB,EAAOykB,SAAWA,GAClBzkB,EAAO6X,KAAOA,GACd7X,EAAO8gB,QAAUA,GACjB9gB,EAAO0yB,QAAUA,GACjB1yB,EAAO2yB,UAAYA,GACnB3yB,EAAOqsB,OAASA,GAChBrsB,EAAO+O,cAAgBA,GACvB/O,EAAOpL,UAAYA,GACnBoL,EAAO0kB,MAAQA,GACf1kB,EAAO+vB,MAAQA,GACf/vB,EAAOgwB,QAAUA,GACjBhwB,EAAOiwB,UAAYA,GACnBjwB,EAAOggB,KAAOA,GACdhgB,EAAOigB,OAASA,GAChBjgB,EAAOkgB,SAAWA,GAClBlgB,EAAO4nB,MAAQA,GACf5nB,EAAOmgB,MAAQA,GACfngB,EAAOqgB,UAAYA,GACnBrgB,EAAO6nB,OAASA,GAChB7nB,EAAO8nB,WAAaA,GACpB9nB,EAAO9O,OAASA,GAChB8O,EAAO+nB,SAAWA,GAClB/nB,EAAOkwB,QAAUA,GACjBlwB,EAAO6W,MAAQA,GACf7W,EAAO2kB,KAAOA,GACd3kB,EAAOmwB,IAAMA,GACbnwB,EAAOowB,MAAQA,GACfpwB,EAAOqwB,QAAUA,GACjBrwB,EAAOswB,IAAMA,GACbtwB,EAAOsgB,UAAYA,GACnBtgB,EAAOugB,cAAgBA,GACvBvgB,EAAOuwB,QAAUA,GAGjBvwB,EAAOqC,QAAUqwB,GACjB1yB,EAAOy0B,UAAY9B,GACnB3yB,EAAO00B,OAAS5C,GAChB9xB,EAAO20B,WAAapL,GAGpBiC,GAAMxrB,EAAQA,GAKdA,EAAO7vB,IAAMA,GACb6vB,EAAOsqB,QAAUA,GACjBtqB,EAAO4yB,UAAYA,GACnB5yB,EAAOooB,WAAaA,GACpBpoB,EAAO9d,KAAOA,GACd8d,EAAOgoB,MAAQA,GACfhoB,EAAOt+B,MAAQA,GACfs+B,EAAO+kB,UAAYA,GACnB/kB,EAAOglB,cAAgBA,GACvBhlB,EAAO8kB,UAAYA,GACnB9kB,EAAOilB,WAAaA,GACpBjlB,EAAO8W,OAASA,GAChB9W,EAAOqrB,UAAYA,GACnBrrB,EAAO+zB,OAASA,GAChB/zB,EAAOuoB,SAAWA,GAClBvoB,EAAOsF,GAAKA,GACZtF,EAAOyoB,OAASA,GAChBzoB,EAAO0oB,aAAeA,GACtB1oB,EAAOohB,MAAQA,GACfphB,EAAO0wB,KAAOA,GACd1wB,EAAOme,UAAYA,GACnBne,EAAO6mB,QAAUA,GACjB7mB,EAAO2wB,SAAWA,GAClB3wB,EAAOoe,cAAgBA,GACvBpe,EAAO8mB,YAAcA,GACrB9mB,EAAOguB,MAAQA,GACfhuB,EAAO/gC,QAAUA,GACjB+gC,EAAOyhB,aAAeA,GACtBzhB,EAAO+mB,MAAQA,GACf/mB,EAAOgnB,WAAaA,GACpBhnB,EAAOinB,OAASA,GAChBjnB,EAAOknB,YAAcA,GACrBlnB,EAAOn7B,IAAMA,GACbm7B,EAAOyxB,GAAKA,GACZzxB,EAAO0xB,IAAMA,GACb1xB,EAAOxM,IAAMA,GACbwM,EAAOoO,MAAQA,GACfpO,EAAOwe,KAAOA,GACdxe,EAAOmN,SAAWA,GAClBnN,EAAOkI,SAAWA,GAClBlI,EAAOxgC,QAAUA,GACjBwgC,EAAOrY,QAAUA,GACjBqY,EAAOuyB,OAASA,GAChBvyB,EAAOyE,YAAcA,GACrBzE,EAAOE,QAAUA,GACjBF,EAAOhB,cAAgBA,GACvBgB,EAAO+N,YAAcA,GACrB/N,EAAO4O,kBAAoBA,GAC3B5O,EAAOklB,UAAYA,GACnBllB,EAAO2E,SAAWA,GAClB3E,EAAOd,OAASA,GAChBc,EAAOmlB,UAAYA,GACnBnlB,EAAOpW,QAAUA,GACjBoW,EAAOolB,QAAUA,GACjBplB,EAAOqlB,YAAcA,GACrBrlB,EAAOslB,QAAUA,GACjBtlB,EAAOulB,SAAWA,GAClBvlB,EAAOsJ,WAAaA,GACpBtJ,EAAOwlB,UAAYA,GACnBxlB,EAAOiN,SAAWA,GAClBjN,EAAOZ,MAAQA,GACfY,EAAOylB,QAAUA,GACjBzlB,EAAO0lB,YAAcA,GACrB1lB,EAAO2lB,MAAQA,GACf3lB,EAAO6lB,SAAWA,GAClB7lB,EAAOgmB,MAAQA,GACfhmB,EAAO+lB,OAASA,GAChB/lB,EAAO4lB,SAAWA,GAClB5lB,EAAO6G,SAAWA,GAClB7G,EAAOC,aAAeA,GACtBD,EAAO8O,cAAgBA,GACvB9O,EAAOV,SAAWA,GAClBU,EAAOmmB,cAAgBA,GACvBnmB,EAAOR,MAAQA,GACfQ,EAAO2hB,SAAWA,GAClB3hB,EAAOwI,SAAWA,GAClBxI,EAAON,aAAeA,GACtBM,EAAOomB,YAAcA,GACrBpmB,EAAOqmB,UAAYA,GACnBrmB,EAAOsmB,UAAYA,GACnBtmB,EAAOtrB,KAAOA,GACdsrB,EAAO8yB,UAAYA,GACnB9yB,EAAO5hB,KAAOA,GACd4hB,EAAO4e,YAAcA,GACrB5e,EAAO+yB,UAAYA,GACnB/yB,EAAOgzB,WAAaA,GACpBhzB,EAAO2xB,GAAKA,GACZ3xB,EAAO4xB,IAAMA,GACb5xB,EAAOhlB,IAAMA,GACbglB,EAAOysB,MAAQA,GACfzsB,EAAO0sB,KAAOA,GACd1sB,EAAO2sB,OAASA,GAChB3sB,EAAOr4B,IAAMA,GACbq4B,EAAO4sB,MAAQA,GACf5sB,EAAO+rB,UAAYA,GACnB/rB,EAAOgsB,UAAYA,GACnBhsB,EAAOisB,WAAaA,GACpBjsB,EAAOksB,WAAaA,GACpBlsB,EAAOmsB,SAAWA,GAClBnsB,EAAOk0B,SAAWA,GAClBl0B,EAAO6e,IAAMA,GACb7e,EAAO0rB,WAAaA,GACpB1rB,EAAO4rB,KAAOA,GACd5rB,EAAO2jB,IAAMA,GACb3jB,EAAO2oB,IAAMA,GACb3oB,EAAO6oB,OAASA,GAChB7oB,EAAO8oB,SAAWA,GAClB9oB,EAAOx5B,SAAWA,GAClBw5B,EAAOioB,OAASA,GAChBjoB,EAAO6hB,OAASA,GAChB7hB,EAAO8hB,YAAcA,GACrB9hB,EAAOipB,OAASA,GAChBjpB,EAAO+W,QAAUA,GACjB/W,EAAOp4B,OAASA,GAChBo4B,EAAOq0B,MAAQA,GACfr0B,EAAOD,aAAeA,EACtBC,EAAOiiB,OAASA,GAChBjiB,EAAO3pB,KAAOA,GACd2pB,EAAOizB,UAAYA,GACnBjzB,EAAOoiB,KAAOA,GACdpiB,EAAOmf,YAAcA,GACrBnf,EAAOof,cAAgBA,GACvBpf,EAAOqf,cAAgBA,GACvBrf,EAAOsf,gBAAkBA,GACzBtf,EAAOuf,kBAAoBA,GAC3Bvf,EAAOwf,kBAAoBA,GAC3Bxf,EAAOkzB,UAAYA,GACnBlzB,EAAOmpB,WAAaA,GACpBnpB,EAAOs0B,SAAWA,GAClBt0B,EAAO6sB,IAAMA,GACb7sB,EAAO8sB,MAAQA,GACf9sB,EAAOopB,SAAWA,GAClBppB,EAAOosB,MAAQA,GACfpsB,EAAO0Z,SAAWA,GAClB1Z,EAAO0I,UAAYA,GACnB1I,EAAO2I,SAAWA,GAClB3I,EAAOuqB,QAAUA,GACjBvqB,EAAO4Z,SAAWA,GAClB5Z,EAAO2mB,cAAgBA,GACvB3mB,EAAO3vB,SAAWA,GAClB2vB,EAAOwqB,QAAUA,GACjBxqB,EAAO0qB,KAAOA,GACd1qB,EAAO2qB,QAAUA,GACjB3qB,EAAOjlB,UAAYA,GACnBilB,EAAO4qB,SAAWA,GAClB5qB,EAAOgrB,SAAWA,GAClBhrB,EAAOssB,SAAWA,GAClBtsB,EAAOmzB,UAAYA,GACnBnzB,EAAOqoB,WAAaA,GAGpBroB,EAAO40B,KAAO31D,GACd+gC,EAAO60B,UAAYpT,GACnBzhB,EAAO7hB,MAAQqgC,GAEfgN,GAAMxrB,EAAS,WACb,GAAI5F,KAMJ,OALA6O,IAAWjJ,EAAQ,SAASjQ,EAAMymB,GAC3Bt2C,GAAeoI,KAAK03B,EAAOjhC,UAAWy3C,KACzCpc,EAAOoc,GAAczmB,KAGlBqK,MACD,OAAS,IAWjB4F,EAAO80B,QA98gBK,UAi9gBZxkC,GAAW,OAAQ,UAAW,QAAS,aAAc,UAAW,gBAAiB,SAASkmB,GACxFxW,EAAOwW,GAAY1iB,YAAckM,IAInC1P,GAAW,OAAQ,QAAS,SAASkmB,EAAYj3C,GAC/C4gC,EAAYphC,UAAUy3C,GAAc,SAAS1wC,GAC3CA,EAAIA,IAAMyC,GAAY,EAAI+hC,GAAU5B,GAAU5iC,GAAI,EAElD,IAAI8B,GAAUhJ,KAAKkiC,eAAiBvhC,EAChC,GAAI4gC,GAAYvhC,MAChBA,KAAK8C,OAUT,OARIkG,GAAOk5B,aACTl5B,EAAOo5B,cAAgBe,GAAUj8B,EAAG8B,EAAOo5B,eAE3Cp5B,EAAOq5B,UAAU5hC,MACf,KAAQ0iC,GAAUj8B,EAAG2xB,IACrB,KAAQ+e,GAAc5uC,EAAOi5B,QAAU,EAAI,QAAU,MAGlDj5B,GAGTu4B,EAAYphC,UAAUy3C,EAAa,SAAW,SAAS1wC,GACrD,MAAOlH,MAAKk5C,UAAUtB,GAAY1wC,GAAGgyC,aAKzCxnB,GAAW,SAAU,MAAO,aAAc,SAASkmB,EAAYj3C,GAC7D,GAAIwK,GAAOxK,EAAQ,EACfw1D,EAAWhrD,GAAQqtB,IA/7gBL,GA+7gByBrtB,CAE3Co2B,GAAYphC,UAAUy3C,GAAc,SAASpmB,GAC3C,GAAIxoB,GAAShJ,KAAK8C,OAMlB,OALAkG,GAAOm5B,cAAc1hC,MACnB,SAAY8vC,GAAY/e,EAAU,GAClC,KAAQrmB,IAEVnC,EAAOk5B,aAAel5B,EAAOk5B,cAAgBi0B,EACtCntD,KAKX0oB,GAAW,OAAQ,QAAS,SAASkmB,EAAYj3C,GAC/C,GAAIy1D,GAAW,QAAUz1D,EAAQ,QAAU,GAE3C4gC,GAAYphC,UAAUy3C,GAAc,WAClC,MAAO53C,MAAKo2D,GAAU,GAAGt2D,QAAQ,MAKrC4xB,GAAW,UAAW,QAAS,SAASkmB,EAAYj3C,GAClD,GAAI01D,GAAW,QAAU11D,EAAQ,GAAK,QAEtC4gC,GAAYphC,UAAUy3C,GAAc,WAClC,MAAO53C,MAAKkiC,aAAe,GAAIX,GAAYvhC,MAAQA,KAAKq2D,GAAU,MAItE90B,EAAYphC,UAAU++C,QAAU,WAC9B,MAAOl/C,MAAKyiD,OAAOlU,KAGrBhN,EAAYphC,UAAU2xD,KAAO,SAASjgC,GACpC,MAAO7xB,MAAKyiD,OAAO5wB,GAAW+tB,QAGhCre,EAAYphC,UAAU4xD,SAAW,SAASlgC,GACxC,MAAO7xB,MAAKk5C,UAAU4Y,KAAKjgC,IAG7B0P,EAAYphC,UAAU8xD,UAAYzgB,GAAS,SAAS5G,EAAMvZ,GACxD,MAAmB,kBAARuZ,GACF,GAAIrJ,GAAYvhC,MAElBA,KAAK81B,IAAI,SAASh2B,GACvB,MAAOqsC,IAAWrsC,EAAO8qC,EAAMvZ,OAInCkQ,EAAYphC,UAAUgjD,OAAS,SAAStxB,GACtC,MAAO7xB,MAAKyiD,OAAOW,GAAO7S,GAAY1e,MAGxC0P,EAAYphC,UAAUgZ,MAAQ,SAAS9R,EAAOC,GAC5CD,EAAQyiC,GAAUziC,EAElB,IAAI2B,GAAShJ,IACb,OAAIgJ,GAAOk5B,eAAiB76B,EAAQ,GAAKC,EAAM,GACtC,GAAIi6B,GAAYv4B,IAErB3B,EAAQ,EACV2B,EAASA,EAAOi4C,WAAW55C,GAClBA,IACT2B,EAASA,EAAOm2C,KAAK93C,IAEnBC,IAAQqC,KACVrC,EAAMwiC,GAAUxiC,GAChB0B,EAAS1B,EAAM,EAAI0B,EAAOo2C,WAAW93C,GAAO0B,EAAOg4C,KAAK15C,EAAMD,IAEzD2B,IAGTu4B,EAAYphC,UAAU+gD,eAAiB,SAASrvB,GAC9C,MAAO7xB,MAAKk5C,UAAUiI,UAAUtvB,GAAWqnB,WAG7C3X,EAAYphC,UAAU+hD,QAAU,WAC9B,MAAOliD,MAAKghD,KAAKnoB,KAInBwR,GAAW9I,EAAYphC,UAAW,SAASgxB,EAAMymB,GAC/C,GAAI0e,GAAgB,qCAAqC7rD,KAAKmtC,GAC1D2e,EAAU,kBAAkB9rD,KAAKmtC,GACjC4e,EAAap1B,EAAOm1B,EAAW,QAAwB,QAAd3e,EAAuB,QAAU,IAAOA,GACjF6e,EAAeF,GAAW,QAAQ9rD,KAAKmtC,EAEtC4e,KAGLp1B,EAAOjhC,UAAUy3C,GAAc,WAC7B,GAAI93C,GAAQE,KAAK4hC,YACbvQ,EAAOklC,GAAW,GAAKhyD,UACvBmyD,EAAS52D,YAAiByhC,GAC1B/P,EAAWH,EAAK,GAChBslC,EAAUD,GAAUp1B,GAAQxhC,GAE5BgiD,EAAc,SAAShiD,GACzB,GAAIkJ,GAASwtD,EAAWlyD,MAAM88B,EAAQ/O,GAAWvyB,GAAQuxB,GACzD,OAAQklC,IAAW50B,EAAY34B,EAAO,GAAKA,EAGzC2tD,IAAWL,GAAoC,kBAAZ9kC,IAA6C,GAAnBA,EAASjxB,SAExEm2D,EAASC,GAAU,EAErB,IAAIh1B,GAAW3hC,KAAK8hC,UAChB80B,IAAa52D,KAAK6hC,YAAYthC,OAC9Bs2D,EAAcJ,IAAiB90B,EAC/Bm1B,EAAWJ,IAAWE,CAE1B,KAAKH,GAAgBE,EAAS,CAC5B72D,EAAQg3D,EAAWh3D,EAAQ,GAAIyhC,GAAYvhC,KAC3C,IAAIgJ,GAASmoB,EAAK7sB,MAAMxE,EAAOuxB,EAE/B,OADAroB,GAAO64B,YAAYphC,MAAO,KAAQw4C,GAAM,MAAS6I,GAAc,QAAWn4C,KACnE,GAAI63B,GAAcx4B,EAAQ24B,GAEnC,MAAIk1B,IAAeC,EACV3lC,EAAK7sB,MAAMtE,KAAMqxB,IAE1BroB,EAAShJ,KAAKi5C,KAAK6I,GACZ+U,EAAeN,EAAUvtD,EAAOlJ,QAAQ,GAAKkJ,EAAOlJ,QAAWkJ,OAK1E0oB,GAAW,MAAO,OAAQ,QAAS,OAAQ,SAAU,WAAY,SAASkmB,GACxE,GAAIzmB,GAAOm9B,GAAW1W,GAClBmf,EAAY,0BAA0BtsD,KAAKmtC,GAAc,MAAQ,OACjE6e,EAAe,kBAAkBhsD,KAAKmtC,EAE1CxW,GAAOjhC,UAAUy3C,GAAc,WAC7B,GAAIvmB,GAAO9sB,SACX,IAAIkyD,IAAiBz2D,KAAK8hC,UAAW,CACnC,GAAIhiC,GAAQE,KAAKF,OACjB,OAAOqxB,GAAK7sB,MAAMg9B,GAAQxhC,GAASA,KAAYuxB,GAEjD,MAAOrxB,MAAK+2D,GAAW,SAASj3D,GAC9B,MAAOqxB,GAAK7sB,MAAMg9B,GAAQxhC,GAASA,KAAYuxB,QAMrDgZ,GAAW9I,EAAYphC,UAAW,SAASgxB,EAAMymB,GAC/C,GAAI4e,GAAap1B,EAAOwW,EACxB,IAAI4e,EAAY,CACd,GAAI7uD,GAAM6uD,EAAW/Z,KAAO,EACvBn7C,IAAeoI,KAAKwzC,GAAWv1C,KAClCu1C,GAAUv1C,OAEZu1C,GAAUv1C,GAAKlH,MAAO,KAAQm3C,EAAY,KAAQ4e,OAItDtZ,GAAUxE,GAAa/uC,GAAWguB,IAAoB8kB,QACpD,KAAQ,UACR,KAAQ9yC,KAIV43B,EAAYphC,UAAU2C,MAAQw/B,EAC9Bf,EAAYphC,UAAU+4C,QAAU1W,EAChCjB,EAAYphC,UAAUL,MAAQ2iC,EAG9BrB,EAAOjhC,UAAUizD,GAAKxB,GACtBxwB,EAAOjhC,UAAUyhD,MAAQG,GACzB3gB,EAAOjhC,UAAU62D,OAAShV,GAC1B5gB,EAAOjhC,UAAUghB,KAAO8gC,GACxB7gB,EAAOjhC,UAAUo5C,MAAQ6I,GACzBhhB,EAAOjhC,UAAU+4C,QAAUmJ,GAC3BjhB,EAAOjhC,UAAU82D,OAAS71B,EAAOjhC,UAAU0nD,QAAUzmB,EAAOjhC,UAAUL,MAAQyiD,GAG9EnhB,EAAOjhC,UAAUof,MAAQ6hB,EAAOjhC,UAAUy/C,KAEtC+H,KACFvmB,EAAOjhC,UAAUwnD,IAAexF,IAE3B/gB,IAcP7B,IAAK2B,EAAIA,IAIT,EAAO,WACL,MAAOA,KACR,qCAaHx3B,KAAK1J,QlCs9HsB0J,KAAKlK,EAASC,EAAoB,IAAKA,EAAoB,IAAIF,KAItF23D,IACA,SAAU33D,EAAQC,EAASC,GmClrpBjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,SnCyrpBrB23D,IACA,SAAU53D,EAAQC,EAASC,GoCvspBjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,SpC8spBrB43D,IACA,SAAU73D,EAAQC,EAASC,GqC5tpBjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,SrCmupBrB63D,IACA,SAAU93D,EAAQC,EAASC,GsCjvpBjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,StCwvpBrB83D,IACA,SAAU/3D,EAAQC,EAASC,GuCtwpBjC,GAAIC,GAAY,EAAQ,KAEtB,EAAQ,KAER,EAAQ,KAER,KAEA,KAEA,KAGFH,GAAOC,QAAUE,EAAUF,SvC6wpBrB+3D,IACA,SAAUh4D,EAAQC,GwC3xpBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,eACRE,OACE,MAAS,GACT,eAAgB,MAEhBF,EAAG,SACLE,OACE,SAAY,GACZ,KAAQ,GACR,IAAO,GACP,IAAO,GACP,MAAS,GACT,MAAS,GACT,MAAS,QAEXC,IACE,MAASN,EAAIO,eAEbJ,EAAG,UAAWH,EAAIQ,GAAG,cAAe,GAAIR,EAAIQ,GAAG,KAAML,EAAG,YAC1DE,OACE,IAAO,MAEPF,EAAG,UACLE,OACE,IAAO,GACP,IAAO,GACP,IAAO,GACP,IAAO,GACP,KAAQ,MAERF,EAAG,UACLE,OACE,WAAY,GACZ,UAAa,MAEbF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAiCV,EAAIQ,GAAG,KAAML,EAAG,eAC3FE,OACE,WAAY,MAEZF,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,6BAA8BV,EAAIQ,GAAG,KAAML,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,SAAS3b,UAAW,IAAK,GAAIgb,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAiCV,EAAIQ,GAAG,KAAML,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIY,WAAWZ,EAAIW,SAASE,iBAAkB,IAAK,GAAIb,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+BAAgCV,EAAIQ,GAAG,KAAML,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,SAASG,YAAa,IAAK,IAAK,IAAK,GAAId,EAAIQ,GAAG,KAAML,EAAG,UACtrBE,OACE,IAAO,GACP,IAAO,GACP,IAAO,GACP,IAAO,GACP,KAAQ,MAERF,EAAG,UACLE,OACE,WAAY,GACZ,UAAa,MAEbF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+BAAgCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,2BAA4BV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAe,SAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOivC,aAAeZ,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mCAAoCV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAoB,cAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOkvC,kBAAoBb,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mCAAoCV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAoB,cAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOmvC,kBAAoBd,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,IAAK,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,UACj/BE,OACE,IAAO,GACP,IAAO,GACP,IAAO,GACP,IAAO,GACP,KAAQ,MAERF,EAAG,UACLE,OACE,WAAY,GACZ,UAAa,MAEbF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+BAAgCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,4BAA6BV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAiB,WAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOovC,eAAiBf,EAAG,wBAAyBH,EAAIQ,GAAG,mBAAoB,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+BAAgCV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAoB,cAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOqvC,kBAAoBhB,EAAG,wBAAyBH,EAAIQ,GAAG,mBAAoB,IAAK,GAAIR,EAAIQ,GAAG,KAAOR,EAAY,SAAIG,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,6BAA8BV,EAAIQ,GAAG,KAAkC,MAA3BR,EAAIluC,OAAOsvC,YAAuBjB,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAOsvC,gBAAkBjB,EAAG,wBAAyBH,EAAIQ,GAAG,mBAAoB,IAAK,GAAKR,EAAIqB,MAAO,IAAK,GAAIrB,EAAIQ,GAAG,KAAML,EAAG,UAC7iCE,OACE,IAAO,GACP,IAAO,GACP,IAAO,GACP,IAAO,GACP,KAAQ,MAERF,EAAG,UACLE,OACE,WAAY,GACZ,UAAa,MAEbF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAiCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAG,UAAWR,EAAIQ,GAAG,KAAOR,EAAIsB,IAAI,GAAMnB,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIsB,IAAI,GAAGC,YAAcpB,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAG,UAAWR,EAAIQ,GAAG,KAAOR,EAAIsB,IAAI,GAAMnB,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIsB,IAAI,GAAGC,YAAcpB,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,GAAIR,EAAIQ,GAAG,KAAOR,EAAa,UAAIG,EAAG,eAAgBA,EAAG,uBAAwBA,EAAG,qBAAsBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,8BAA+BV,EAAIQ,GAAG,KAAOR,EAAIluC,OAAiB,WAAIquC,EAAG,wBAAyBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIluC,OAAO0vC,eAAiBrB,EAAG,wBAAyBH,EAAIQ,GAAG,QAAS,IAAK,GAAKR,EAAIqB,MAAO,IAAK,IAAK,GAAIrB,EAAIQ,GAAG,KAAML,EAAG,YACr6BE,OACE,IAAO,GACP,iBAAkB,GAClB,eAAgB,MAEhBL,EAAIyB,GAAIzB,EAAoB,iBAAG,SAAS0B,GAC1C,OAAQvB,EAAG,SACTwB,YAAa,cACbtB,OACE,QAAWL,EAAI4B,QACf,SAAYF,EAAOG,QACnB,MAASH,EAAOpuC,OAElBgtC,IACE,MAAS,SAASwB,GAEhB,MADAA,GAAOzzC,iBACAqzC,EAAOxlB,OAAO8jB,EAAIrnD,QAG3BwnD,EAAG,UACLE,OACE,KAAQ,MAERL,EAAIQ,GAAGR,EAAIS,GAAGiB,EAAOK,MAAQ,OAAQ/B,EAAIQ,GAAG,UAAYR,EAAIS,GAAGiB,EAAO1c,MAAQ,YAAa,OAC5F,IAAK,IACVgd,qBxCiypBIC,IACA,SAAUn6D,EAAQC,GyC34pBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,OAAQA,EAAG,OAAQH,EAAIkC,MAAO,OAAQlC,EAAImC,QAAQ,KAAU,IACtEH,qBzCi5pBII,IACA,SAAUt6D,EAAQC,G0Cp5pBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,eACRE,OACE,MAAS,GACT,eAAgB,MAEhBF,EAAG,YACLE,OACE,iBAAkB,GAClB,IAAO,MAEPF,EAAG,SACLwB,YAAa,6BACbU,aACE,OAAU,OAEZhC,OACE,SAAYL,EAAIsC,UAChB,IAAO,GACP,QAAWtC,EAAI4B,SAEjBW,UACE,MAAS,SAAST,GAChB,MAAO9B,GAAIwC,mBAGZxC,EAAkB,eAAIG,EAAG,OAAQH,EAAIQ,GAAG,yCAA2CL,EAAG,OAAQH,EAAIQ,GAAG,2CAA4C,GAAIR,EAAIQ,GAAG,KAAML,EAAG,YACxKE,OACE,iBAAkB,GAClB,IAAO,MAEPF,EAAG,UACLE,OACE,KAAQ,GACR,KAAQ,GACR,KAAQ,GACR,KAAQ,GACR,KAAQ,GACR,uBAAwB,MAExBF,EAAG,OACLE,OACE,GAAM,iBAEH,IAAK,IACZ2B,qB1C05pBIS,IACA,SAAU36D,EAAQC,G2Cx8pBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,OAAQA,EAAG,eACnBE,OACE,MAAS,GACT,eAAgB,MAEhBF,EAAG,SACLE,OACE,SAAY,GACZ,KAAQ,GACR,IAAO,GACP,IAAO,GACP,MAAS,GACT,MAAS,GACT,MAAS,QAEXC,IACE,MAASN,EAAIO,eAEbJ,EAAG,UAAWH,EAAIQ,GAAG,cAAe,GAAIR,EAAIQ,GAAG,KAAML,EAAG,YAC1DE,OACE,IAAO,MAEPF,EAAG,UACLE,OACE,IAAO,GACP,aAAc,MAEdF,EAAG,SACLE,OACE,MAAS,WAEXC,IACE,MAAS,SAASwB,GAChB,MAAO9B,GAAI0C,iBAGb1C,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mCAAoC,GAAIV,EAAIQ,GAAG,KAAML,EAAG,UAC/EE,OACE,IAAO,MAEPF,EAAG,gBACLE,OACE,KAAQ,gBACR,MAASL,EAAIU,GAAG,4BAChB,GAAM,YAERiC,OACEt6D,MAAQ23D,EAAiB,cACzBzf,SAAU,SAASqiB,GACjB5C,EAAI6C,cAAgBD,GAEtBE,WAAY,oBAEX,IAAK,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,YAC5BE,OACE,IAAO,MAEPF,EAAG,UACLE,OACE,KAAQ,GACR,aAAc,MAEbL,EAAS,MAAIG,EAAG,gBACnBE,OACE,QAAWL,EAAI+C,QACf,MAAS/C,EAAIgD,MACb,OAAUhD,EAAIvL,QAEhBwO,YAAajD,EAAIkD,KACfhzD,IAAK,eACLmyC,GAAI,SAAS8gB,GACX,GAAIC,GAAOD,EAAIC,IAEf,QAAQjD,EAAG,SACTE,OACE,MAAS,GACT,MAAS,QAEXC,IACE,MAAS,SAASwB,GAChB,MAAO9B,GAAIqD,cAAcD,OAG3BpD,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,iCAAkCV,EAAIQ,GAAG,KAAML,EAAG,SACzEE,OACE,MAAS,GACT,MAAS,SAEXC,IACE,MAAS,SAASwB,GAChB,MAAO9B,GAAIsD,aAAaF,OAG1BpD,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,oCAG3BxwD,IAAK,kBACLmyC,GAAI,SAAS8gB,GACX,GAAIC,GAAOD,EAAIC,IAEf,QAAQpD,EAAIQ,GAAG,eAAiBR,EAAIS,GAAGT,EAAIY,WAAWwC,EAAKvC,aAAe,kBAE1E,MAAM,EAAO,cACdb,EAAIqB,MAAO,GAAIrB,EAAIQ,GAAG,KAAML,EAAG,YAClCE,OACE,YAAa,OAEfsC,OACEt6D,MAAQ23D,EAAkB,eAC1Bzf,SAAU,SAASqiB,GACjB5C,EAAIuD,eAAiBX,GAEvBE,WAAY,oBAEZ3C,EAAG,UAAWA,EAAG,gBACnBwB,YAAa,aACX3B,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,6CAA8CV,EAAIQ,GAAG,KAAML,EAAG,eAAgBH,EAAIQ,GAAG,eAAiBR,EAAIS,GAAGT,EAAIU,GAAG,yCAA2C,gBAAiBV,EAAIQ,GAAG,KAAML,EAAG,kBAAmBA,EAAG,YAAaH,EAAIQ,GAAG,KAAML,EAAG,SAC1QE,OACE,MAAS,iBACT,KAAQ,IAEVC,IACE,MAAS,SAASwB,GAChB9B,EAAIuD,gBAAiB,MAGvBvD,EAAIQ,GAAG,iBAAmBR,EAAIS,GAAGT,EAAIU,GAAG,qBAAuB,kBAAmBV,EAAIQ,GAAG,KAAML,EAAG,SACpGE,OACE,MAAS,eACT,KAAQ,IAEVC,IACE,MAAS,SAASwB,GAChB,MAAO9B,GAAIwD,WAAWxD,EAAIyD,eAG9BlB,UACE,MAAS,SAAST,GAChB9B,EAAIuD,gBAAiB,MAGvBvD,EAAIQ,GAAG,iBAAmBR,EAAIS,GAAGT,EAAIU,GAAG,kBAAoB,mBAAoB,IAAK,IAAK,GAAIV,EAAIQ,GAAG,KAAML,EAAG,YAChHE,OACE,YAAa,OAEfsC,OACEt6D,MAAQ23D,EAAkB,eAC1Bzf,SAAU,SAASqiB,GACjB5C,EAAI0D,eAAiBd,GAEvBE,WAAY,oBAEZ3C,EAAG,UAAWA,EAAG,gBACnBwB,YAAa,aACX3B,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,8CAA+CV,EAAIQ,GAAG,KAAML,EAAG,eAAgBH,EAAIQ,GAAG,eAAiBR,EAAIS,GAAGT,EAAIU,GAAG,0CAA4C,gBAAiBV,EAAIQ,GAAG,KAAML,EAAG,kBAAmBA,EAAG,YAAaH,EAAIQ,GAAG,KAAML,EAAG,SAC5QE,OACE,MAAS,iBACT,KAAQ,IAEVC,IACE,MAAS,SAASwB,GAChB9B,EAAI0D,gBAAiB,MAGvB1D,EAAIQ,GAAG,iBAAmBR,EAAIS,GAAGT,EAAIU,GAAG,qBAAuB,kBAAmBV,EAAIQ,GAAG,KAAML,EAAG,SACpGE,OACE,MAAS,eACT,KAAQ,IAEVC,IACE,MAAS,SAASwB,GAChB,MAAO9B,GAAI2D,YAAY3D,EAAIyD,eAG/BlB,UACE,MAAS,SAAST,GAChB9B,EAAI0D,gBAAiB,MAGvB1D,EAAIQ,GAAG,iBAAmBR,EAAIS,GAAGT,EAAIU,GAAG,kBAAoB,mBAAoB,IAAK,IAAK,IAAK,IAAK,IAAK,IAC7GsB,qB3C88pBI4B,IACA,SAAU97D,EAAQC,G4CpoqBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,eACRE,OACE,eAAgB,MAEhBF,EAAG,UACLE,OACE,iBAAkB,GAClB,aAAc,MAEdF,EAAG,SACLE,OACE,KAAQ,YAERL,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,wBAA0B,UAAWP,EAAG,UAAWH,EAAIQ,GAAG,WAAY,GAAIR,EAAIQ,GAAG,KAAML,EAAG,SAC5HE,OACE,KAAQ,YAERL,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,2BAA6B,UAAWP,EAAG,UAAWH,EAAIQ,GAAG,WAAY,GAAIR,EAAIQ,GAAG,KAAML,EAAG,SAC/HE,OACE,KAAQ,YAERL,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,4BAA8B,UAAWP,EAAG,UAAWH,EAAIQ,GAAG,eAAgB,GAAIR,EAAIQ,GAAG,KAAOR,EAAiB,cAAIG,EAAG,SAC1JE,OACE,KAAQ,YAERL,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,6BAA+B,UAAWP,EAAG,UAAWH,EAAIQ,GAAG,mBAAoB,GAAKR,EAAIqB,KAAMrB,EAAIQ,GAAG,KAAMR,EAAIyB,GAAIzB,EAAc,WAAG,SAAS1xD,GACnL,MAAO6xD,GAAG,cACRjwD,IAAK5B,EACL+xD,OACE,MAAS,OAAS/xD,KAEX,IAANA,EAAW6xD,EAAG,UACjBE,OACE,KAAQ,MAERF,EAAG,WAAYH,EAAIkC,MAAO,WAAYlC,EAAImC,QAAQ,KAAU,GAAKnC,EAAIqB,KAAMrB,EAAIQ,GAAG,KAAa,IAANlyD,EAAW6xD,EAAG,UACzGE,OACE,KAAQ,MAERF,EAAG,cAAeH,EAAIkC,MAAO,cAAelC,EAAImC,QAAQ,KAAU,GAAKnC,EAAIqB,KAAMrB,EAAIQ,GAAG,KAAa,IAANlyD,EAAW6xD,EAAG,UAC/GE,OACE,KAAQ,MAERF,EAAG,eAAgBH,EAAIkC,MAAO,eAAgBlC,EAAImC,QAAQ,KAAU,GAAKnC,EAAIqB,KAAMrB,EAAIQ,GAAG,KAAa,IAANlyD,EAAW6xD,EAAG,UACjHE,OACE,KAAQ,MAERF,EAAG,gBAAiBH,EAAIkC,MAAO,gBAAiBlC,EAAImC,QAAQ,KAAU,GAAKnC,EAAIqB,MAAO,MACvF,IAAK,IACVW,qB5C0oqBI6B,IACA,SAAU/7D,EAAQC,G6C7rqBxBD,EAAOC,SAASg4D,OAAO,WAAY,GAAIC,GAAIz3D,KAAS03D,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,CAC7F,OAAOE,GAAG,eACRE,OACE,MAAS,MAETF,EAAG,YACLE,OACE,IAAO,MAEPF,EAAG,UACLwB,YAAa,6BACXxB,EAAG,SACLE,OACE,MAAS,YACT,QAAWL,EAAI4B,QACf,SAAY5B,EAAI4B,SAElBtB,IACE,MAAS,SAASwB,GAChBA,EAAOgC,kBACP9D,EAAI+D,gBAAiB,MAGvB/D,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,8BAAgC,UAAWV,EAAIQ,GAAG,KAAML,EAAG,SAC7FwB,YAAa,cACbtB,OACE,QAAWL,EAAIgE,SACf,SAAYhE,EAAIgE,SAChB,MAAS,aAEX1D,IACE,MAAS,SAASwB,GAChBA,EAAOgC,kBACP9D,EAAIiE,cAAe,MAGrBjE,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,4BAA8B,UAAWP,EAAG,UAC9EE,OACE,MAAS,GACT,KAAQ,MAERL,EAAIQ,GAAG,mBAAoB,GAAIR,EAAIQ,GAAG,KAAML,EAAG,SACjDwB,YAAa,cACbtB,OACE,QAAWL,EAAIgE,SACf,SAAYhE,EAAIgE,SAChB,MAAS,OAEX1D,IACE,MAAS,SAASwB,GAChBA,EAAOgC,kBACP9D,EAAIuD,gBAAiB,MAGvBvD,EAAIQ,GAAG,SAAWR,EAAIS,GAAGT,EAAIU,GAAG,8BAAgC,UAAWP,EAAG,UAChFE,OACE,MAAS,GACT,KAAQ,MAERL,EAAIQ,GAAG,aAAc,IAAK,IAAK,GAAIR,EAAIQ,GAAG,KAAML,EAAG,YACrDE,OACE,IAAO,GACP,iBAAkB,MAElBF,EAAG,YACLE,OACE,YAAa,OAEfsC,OACEt6D,MAAQ23D,EAAkB,eAC1Bzf,SAAU,SAASqiB,GACjB5C,EAAIuD,eAAiBX,GAEvBE,WAAY,oBAEZ3C,EAAG,UAAWA,EAAG,gBACnBwB,YAAa,aACX3B,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,iCAAkCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBH,EAAIQ,GAAG,aAAeR,EAAIS,GAAGT,EAAIU,GAAG,2CAA6C,cAAeV,EAAIQ,GAAG,KAAML,EAAG,kBAAmBA,EAAG,YAAaH,EAAIQ,GAAG,KAAML,EAAG,SAC5PE,OACE,MAAS,iBACT,KAAQ,IAEVC,IACE,MAAS,SAASwB,GAChB9B,EAAIuD,gBAAiB,MAGvBvD,EAAIQ,GAAG,eAAiBR,EAAIS,GAAGT,EAAIU,GAAG,qBAAuB,gBAAiBV,EAAIQ,GAAG,KAAML,EAAG,SAChGE,OACE,MAAS,eACT,KAAQ,IAEVC,IACE,MAASN,EAAIkE,oBAEf3B,UACE,MAAS,SAAST,GAChB9B,EAAIuD,gBAAiB,MAGvBvD,EAAIQ,GAAG,eAAiBR,EAAIS,GAAGT,EAAIU,GAAG,kBAAoB,iBAAkB,IAAK,IAAK,IAAK,GAAIV,EAAIQ,GAAG,KAAML,EAAG,YACjHE,OACE,IAAO,GACP,iBAAkB,MAElBF,EAAG,YACLE,OACE,YAAa,SAEfsC,OACEt6D,MAAQ23D,EAAgB,aACxBzf,SAAU,SAASqiB,GACjB5C,EAAIiE,aAAerB,GAErBE,WAAY,kBAEZ3C,EAAG,UAAWA,EAAG,gBAAiBA,EAAG,QACvCwB,YAAa,aACX3B,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,iCAAkCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,eAC5FE,OACE,eAAgB,MAEhBF,EAAG,YACLE,OACE,KAAQ,MAERF,EAAG,UACLE,OACE,KAAQ,MAERF,EAAG,gBACLE,OACE,MAASL,EAAIU,GAAG,uCAChB,SAAY,GACZ,MAASV,EAAImE,iBAEZ,GAAInE,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,KAAQ,MAERF,EAAG,gBACLE,OACE,MAASL,EAAIU,GAAG,8CAElBiC,OACEt6D,MAAQ23D,EAAiB,cACzBzf,SAAU,SAASqiB,GACjB5C,EAAIoE,cAAgBxB,GAEtBE,WAAY,oBAEX,IAAK,IAAK,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,SAAUH,EAAIQ,GAAG,gCAAiC,GAAIR,EAAIQ,GAAG,KAAML,EAAG,kBAAmBA,EAAG,YAAaH,EAAIQ,GAAG,KAAML,EAAG,SAC1JE,OACE,MAAS,gBACT,KAAQ,IAEVkC,UACE,MAAS,SAAST,GAChB9B,EAAIiE,cAAe,MAGrBjE,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,qBAAsBV,EAAIQ,GAAG,KAAML,EAAG,SAC7DE,OACE,MAAS,gBACT,KAAQ,IAEVC,IACE,MAASN,EAAIqE,kBAEf9B,UACE,MAAS,SAAST,GAChB9B,EAAIiE,cAAe,MAGrBjE,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,uBAAwB,IAAK,IAAK,IAAK,GAAIV,EAAIQ,GAAG,KAAML,EAAG,YAClFE,OACE,IAAO,GACP,iBAAkB,MAElBF,EAAG,YACLE,OACE,YAAa,SAEfsC,OACEt6D,MAAQ23D,EAAkB,eAC1Bzf,SAAU,SAASqiB,GACjB5C,EAAI+D,eAAiBnB,GAEvBE,WAAY,oBAEZ3C,EAAG,UAAWA,EAAG,gBAAiBA,EAAG,QACvCwB,YAAa,aACX3B,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mCAAoCV,EAAIQ,GAAG,KAAML,EAAG,eAAgBA,EAAG,eAC9FE,OACE,eAAgB,MAEhBF,EAAG,YACLE,OACE,KAAQ,MAERF,EAAG,UACLE,OACE,KAAQ,MAERF,EAAG,gBACLE,OACE,MAASL,EAAIU,GAAG,uCAChB,SAAY,GACZ,MAASV,EAAImE,iBAEZ,GAAInE,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,KAAQ,MAERF,EAAG,YACLE,OACE,IAAO,IACP,IAAO,IACP,KAAQ,IACR,MAAS,QAEXsC,OACEt6D,MAAQ23D,EAAO,IACfzf,SAAU,SAASqiB,GACjB5C,EAAIsE,IAAM1B,GAEZE,WAAY,UAEX,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,IAAO,MAEPF,EAAG,gBACLE,OACE,KAAQ,OACR,OAAU,QAEZsC,OACEt6D,MAAQ23D,EAAO,IACfzf,SAAU,SAASqiB,GACjB5C,EAAIsE,IAAM1B,GAEZE,WAAY,UAEX,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,KAAQ,MAERF,EAAG,YACLE,OACE,IAAO,MACP,IAAO,OACP,KAAQ,MACR,MAAS,OAEXsC,OACEt6D,MAAQ23D,EAAU,OAClBzf,SAAU,SAASqiB,GACjB5C,EAAIuE,OAAS3B,GAEfE,WAAY,aAEX,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,IAAO,MAEPF,EAAG,gBACLE,OACE,KAAQ,KACR,OAAU,MAEZsC,OACEt6D,MAAQ23D,EAAU,OAClBzf,SAAU,SAASqiB,GACjB5C,EAAIuE,OAAS3B,GAEfE,WAAY,aAEX,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,KAAQ,MAEPL,EAAe,YAAIG,EAAG,YACzBE,OACE,IAAO,KACP,IAAO,MACP,KAAQ,KACR,MAAS,QAEXsC,OACEt6D,MAAQ23D,EAAQ,KAChBzf,SAAU,SAASqiB,GACjB5C,EAAIwE,KAAO5B,GAEbE,WAAY,UAEX9C,EAAIqB,MAAO,GAAIrB,EAAIQ,GAAG,KAAML,EAAG,UAClCE,OACE,IAAO,MAENL,EAAe,YAAIG,EAAG,gBACzBE,OACE,KAAQ,OACR,OAAU,MAEZsC,OACEt6D,MAAQ23D,EAAQ,KAChBzf,SAAU,SAASqiB,GACjB5C,EAAIwE,KAAO5B,GAEbE,WAAY,UAEX9C,EAAIqB,MAAO,GAAIrB,EAAIQ,GAAG,KAAOR,EAAa,WAAKG,EAAG,UACrDE,OACE,IAAO,MAEPF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,6CAA8C,GAAIV,EAAIQ,GAAG,KAAML,EAAG,UAC5GE,OACE,IAAO,MAEPF,EAAG,YACLE,OACE,MAASL,EAAIyE,SACb,MAAS,UAEX9B,OACEt6D,MAAQ23D,EAAU,OAClBzf,SAAU,SAASqiB,GACjB5C,EAAI0E,OAAS9B,GAEfE,WAAY,aAEX,GAAI9C,EAAIQ,GAAG,KAAML,EAAG,UACvBE,OACE,IAAO,MAEPF,EAAG,eAAgBH,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+CAAgD,GAAIV,EAAIQ,GAAG,KAAML,EAAG,UAC9GE,OACE,IAAO,MAEPF,EAAG,gBACLE,OACE,MAAS,QACT,MAASL,EAAI2E,MACb,OAAU,QAET,IAAM3E,EAAIqB,MAAO,IAAK,IAAK,GAAIrB,EAAIQ,GAAG,KAAML,EAAG,kBAAmBA,EAAG,SACxEE,OACE,MAAS,gBACT,KAAQ,IAEVC,IACE,MAASN,EAAI4E,qBAEb5E,EAAIQ,GAAG,WAAYR,EAAIQ,GAAG,KAAML,EAAG,YAAaH,EAAIQ,GAAG,KAAML,EAAG,SAClEE,OACE,MAAS,gBACT,KAAQ,IAEVkC,UACE,MAAS,SAAST,GAChB9B,EAAI+D,gBAAiB,MAGvB/D,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,qBAAsBV,EAAIQ,GAAG,KAAML,EAAG,SAC7DE,OACE,MAAS,gBACT,KAAQ,IAEVC,IACE,MAASN,EAAI6E,oBAEftC,UACE,MAAS,SAAST,GAChB9B,EAAI+D,gBAAiB,MAGvB/D,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,uBAAwB,IAAK,IAAK,IAAK,IAAK,IACrEsB,qB7CmsqBI8C,IACA,SAAUh9D,EAAQC,EAASC,GAEjC,Y8C/jrBA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI08D,GAAU,EAAQ,KAClB/xC,EAAa,EAAQ,KACrBgyC,EAAoB,EAAQ,KAC5B74C,EAAc,EAAQ,KACtBC,EAAc,EAAQ,KACtB64C,EAAqB,EAAQ,KAE7BC,EAAwB,SAAUv4D,GAElC,QAASu4D,GAAqB1iD,EAAW2iD,GACrC,GAAIv4D,GAAQD,EAAOsF,KAAK1J,OAASA,IACjCqE,GAAM4V,UAAYA,EAClB5V,EAAMu4D,YAAcA,EACpBv4D,EAAMw4D,qBAAuB,EAC7Bx4D,EAAMy4D,mBACNz4D,EAAM04D,iBAAmB,GACzB14D,EAAM24D,uBAAyB5rD,SAASC,cAAc,OACtDhN,EAAM24D,uBAAuB1rD,UAAUC,IAAI,uBAC3ClN,EAAM44D,cAAgB7rD,SAASC,cAAc,OAC7ChN,EAAM44D,cAAc3rD,UAAUC,IAAI,4BAClClN,EAAM64D,eACN,KAAK,GAAIn3D,GAAI,EAAGA,EAAI1B,EAAM4V,UAAU9G,KAAMpN,IACtC1B,EAAM64D,aAAan3D,GAAK1B,EAAM84D,+BAC9B94D,EAAM44D,cAActrD,YAAYtN,EAAM64D,aAAan3D,GA4BvD,OA1BA1B,GAAM+4D,0BAA4B,SAAUh5C,GAAK,MAAO/f,GAAMg5D,iBAAiBj5C,EAAG,IAClF/f,EAAMi5D,6BAA+B,SAAUl5C,GAAK,MAAO/f,GAAMg5D,iBAAiBj5C,EAAG,IACrF/f,EAAM64D,aAAa,GAAG5xD,iBAAiB,QAASjH,EAAM+4D,2BACtD/4D,EAAM64D,aAAa74D,EAAM64D,aAAa38D,OAAS,GAAG+K,iBAAiB,QAASjH,EAAMi5D,8BAClFj5D,EAAMk5D,yBACNl5D,EAAM24D,uBAAuBrrD,YAAYtN,EAAM44D,eAC/C54D,EAAMm5D,qBAAuB,GAAIf,GAAkB/uC,gBAAgBrpB,EAAMo5D,YAAYpL,KAAKhuD,IAC1FA,EAAMq5D,eACNr5D,EAAMs5D,YAAcvsD,SAASC,cAAc,OAC3ChN,EAAMs5D,YAAYrsD,UAAUC,IAAI,eAChClN,EAAMs5D,YAAYC,aAAa,YAAa,aAC5Cv5D,EAAM24D,uBAAuBrrD,YAAYtN,EAAMs5D,aAC/Ct5D,EAAM4V,UAAUyI,QAAQm7C,sBAAsB,aAAcx5D,EAAM24D,wBAClE34D,EAAM7D,SAAS6D,EAAMm5D,sBACrBn5D,EAAM7D,SAAS6D,EAAM4V,UAAU6jD,SAAS,SAAU15C,GAAK,MAAO/f,GAAM05D,UAAU35C,EAAEjR,SAChF9O,EAAM7D,SAAS6D,EAAM4V,UAAU+jD,SAAS,SAAU55C,GAAK,MAAO/f,GAAMq5D,aAAat5C,EAAE/c,MAAO+c,EAAE9c,QAC5FjD,EAAM7D,SAAS6D,EAAM4V,UAAUgkD,SAAS,WAAc,MAAO55D,GAAMq5D,kBACnEr5D,EAAM7D,SAAS6D,EAAM4V,UAAUikD,sBAAsB,YAAa,SAAUC,GAAQ,MAAO95D,GAAM+5D,QAAQD,MACzG95D,EAAM7D,SAAS6D,EAAM4V,UAAUokD,WAAW,WAAc,MAAOh6D,GAAM+5D,QAAQ,SAC7E/5D,EAAM7D,SAAS6D,EAAM4V,UAAUikD,sBAAsB,WAAY,SAAUI,GAAc,MAAOj6D,GAAMk6D,OAAOD,MAC7Gj6D,EAAM7D,SAAS6D,EAAM4V,UAAUukD,MAAM,SAAUp6C,GAAK,MAAO/f,GAAMo6D,OAAOr6C,EAAEzc,QAC1EtD,EAAM7D,SAAS6D,EAAM4V,UAAUikD,sBAAsB,OAAQ,WAAc,MAAO75D,GAAMq6D,sBACxFr6D,EAAMs6D,kBAAoB,GAAIjC,GAAmBnuC,iBACjDlqB,EAAM7D,SAAS6D,EAAMs6D,mBACrBt6D,EAAMs6D,kBAAkBlwC,YAAY,WAAc,MAAOpqB,GAAMk5D,2BAC/Dl5D,EAAM7D,SAASojB,EAAY3Y,yBAAyBqJ,OAAQ,SAAU,WAAc,MAAOjQ,GAAMk5D,4BAC1Fl5D,EA4JX,MAvMAtD,GAAU47D,EAAsBv4D,GA6ChCu4D,EAAqBx8D,UAAUC,QAAU,WACrCgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAKia,UAAUyI,QAAQ9Q,YAAY5R,KAAKg9D,wBACxCh9D,KAAKk9D,aAAa38D,OAAS,GAE/Bo8D,EAAqBx8D,UAAUk9D,iBAAmB,SAAUj5C,EAAGwlC,GAC3D,GAAIgV,GAAkBx6C,EAAE5M,OACpBqnD,EAAwB7+D,KAAKk9D,aAA0B,IAAbtT,EAAiB,EAAI5pD,KAAKk9D,aAAa38D,OAAS,EAG9F,IAFeq+D,EAAgBE,aAAa,oBACd,IAAblV,EAAiB,IAAM,GAAK5pD,KAAKia,UAAUyN,OAAO7M,MAAMta,SAIrE6jB,EAAE26C,gBAAkBF,EAAxB,CAGA,GAAIG,GACAC,CAaJ,IAZiB,IAAbrV,GACAoV,EAAqBJ,EACrBK,EAAwBj/D,KAAKk9D,aAAajhD,MAC1Cjc,KAAKi9D,cAAcrrD,YAAYqtD,KAG/BD,EAAqBh/D,KAAKk9D,aAAagC,QACvCD,EAAwBL,EACxB5+D,KAAKi9D,cAAcrrD,YAAYotD,IAEnCA,EAAmBzzD,oBAAoB,QAASvL,KAAKo9D,2BACrD6B,EAAsB1zD,oBAAoB,QAASvL,KAAKs9D,8BACvC,IAAb1T,EAAgB,CAChB,GAAIuV,GAAan/D,KAAKm9D,8BACtBn9D,MAAKk9D,aAAaz/C,QAAQ0hD,GAC1Bn/D,KAAKi9D,cAAcY,sBAAsB,aAAcsB,OAEtD,CACD,GAAIA,GAAan/D,KAAKm9D,8BACtBn9D,MAAKk9D,aAAaz8D,KAAK0+D,GACvBn/D,KAAKi9D,cAActrD,YAAYwtD,GAEnCn/D,KAAKk9D,aAAa,GAAG5xD,iBAAiB,QAAStL,KAAKo9D,2BACpDp9D,KAAKk9D,aAAal9D,KAAKk9D,aAAa38D,OAAS,GAAG+K,iBAAiB,QAAStL,KAAKs9D,8BAC/Et9D,KAAKia,UAAUmlD,YAAyB,IAAbxV,GAAkB,EAAI,GACjD5pD,KAAKk9D,aAA0B,IAAbtT,EAAiB,EAAI5pD,KAAKk9D,aAAa38D,OAAS,GAAG8+D,QACrEj7C,EAAE0B,iBACF1B,EAAE2B,6BAEN42C,EAAqBx8D,UAAU49D,UAAY,SAAU5qD,GACjDnT,KAAKk9D,aAAal9D,KAAKk9D,aAAa38D,OAAS,GAAGgL,oBAAoB,QAASvL,KAAKs9D,6BAClF,KAAK,GAAIv3D,GAAI/F,KAAKi9D,cAAcqC,SAAS/+D,OAAQwF,EAAI/F,KAAKia,UAAU9G,KAAMpN,IACtE/F,KAAKk9D,aAAan3D,GAAK/F,KAAKm9D,+BAC5Bn9D,KAAKi9D,cAActrD,YAAY3R,KAAKk9D,aAAan3D,GAErD,MAAO/F,KAAKk9D,aAAa38D,OAAS4S,GAC9BnT,KAAKi9D,cAAcrrD,YAAY5R,KAAKk9D,aAAajhD,MAErDjc,MAAKk9D,aAAal9D,KAAKk9D,aAAa38D,OAAS,GAAG+K,iBAAiB,QAAStL,KAAKs9D,8BAC/Et9D,KAAKu9D,0BAETZ,EAAqBx8D,UAAUg9D,6BAA+B,WAC1D,GAAIz6C,GAAUtR,SAASC,cAAc,MAIrC,OAHAqR,GAAQk7C,aAAa,OAAQ,YAC7Bl7C,EAAQ68C,UAAY,EACpBv/D,KAAKw/D,sBAAsB98C,GACpBA,GAEXi6C,EAAqBx8D,UAAUo+D,OAAS,SAAUD,GAC9C,IAAK,GAAIv4D,GAAI,EAAGA,EAAIu4D,EAAYv4D,IAC5B/F,KAAKo+D,QAAQ,MAGrBzB,EAAqBx8D,UAAUi+D,QAAU,SAAUD,GAC/C,GAAI95D,GAAQrE,IACZ,IAAIA,KAAK68D,qBAAuB4C,GAAsB,CAClD,GAAIz/D,KAAK88D,gBAAgBv8D,OAAS,EAAG,CACfP,KAAK88D,gBAAgBoC,UACnBf,IAChBn+D,KAAK+8D,kBAAoBoB,OAI7Bn+D,MAAK+8D,kBAAoBoB,CAEhB,QAATA,GAEkCsB,OADlCz/D,KAAK68D,uBAED78D,KAAK29D,YAAY+B,aAAelD,EAAQ3lD,eAG5C4T,EAAW9f,OACP3K,KAAK29D,YAAY+B,aAAe1/D,KAAK29D,YAAY+B,YAAYn/D,OAAS,IAAMP,KAAK29D,YAAYgC,YAC7Fn6C,WAAW,WACPnhB,EAAM24D,uBAAuBrrD,YAAYtN,EAAMs5D,cAChD,KAKnBhB,EAAqBx8D,UAAUu+D,iBAAmB,WAC9C1+D,KAAK29D,YAAY+B,YAAc,GAC/B1/D,KAAK68D,qBAAuB,EACxBpyC,EAAW9f,OACP3K,KAAK29D,YAAYgC,YACjB3/D,KAAKg9D,uBAAuBprD,YAAY5R,KAAK29D,cAIzDhB,EAAqBx8D,UAAUs+D,OAAS,SAAUmB,GAC9C5/D,KAAK0+D,mBACL1+D,KAAK88D,gBAAgBr8D,KAAKm/D,IAE9BjD,EAAqBx8D,UAAUu9D,aAAe,SAAUr2D,EAAOC,GAC3DtH,KAAKw9D,qBAAqB1vC,QAAQzmB,EAAOC,EAAKtH,KAAKia,UAAU9G,OAEjEwpD,EAAqBx8D,UAAUs9D,YAAc,SAAUp2D,EAAOC,GAG1D,IAAK,GAFDogB,GAAS1nB,KAAKia,UAAUyN,OACxBm4C,EAAUn4C,EAAO7M,MAAMta,OAAOkR,WACzB1L,EAAIsB,EAAOtB,GAAKuB,EAAKvB,IAAK,CAC/B,GAAIqiB,GAAWV,EAAOrI,4BAA4BqI,EAAOxM,MAAQnV,GAAG,GAChE+5D,GAAYp4C,EAAOxM,MAAQnV,EAAI,GAAG0L,WAClCiR,EAAU1iB,KAAKk9D,aAAan3D,EAC5B2c,KACAA,EAAQg9C,YAAkC,IAApBt3C,EAAS7nB,OAAei8D,EAAQ7lD,UAAYyR,EAClE1F,EAAQk7C,aAAa,gBAAiBkC,GACtCp9C,EAAQk7C,aAAa,eAAgBiC,IAG7C7/D,KAAK+/D,uBAETpD,EAAqBx8D,UAAUo9D,uBAAyB,WACpD,GAAKv9D,KAAK48D,YAAYn5C,iBAAtB,CAGIzjB,KAAKk9D,aAAa38D,SAAWP,KAAKia,UAAU9G,MAC5CnT,KAAK+9D,UAAU/9D,KAAKia,UAAU9G,KAElC,KAAK,GAAIpN,GAAI,EAAGA,EAAI/F,KAAKia,UAAU9G,KAAMpN,IACrC/F,KAAKw/D,sBAAsBx/D,KAAKk9D,aAAan3D,MAGrD42D,EAAqBx8D,UAAU6/D,cAAgB,SAAUz8C,GACrDvjB,KAAK48D,YAAcr5C,EACnBvjB,KAAKu9D,0BAETZ,EAAqBx8D,UAAUq/D,sBAAwB,SAAU98C,GAC7DA,EAAQlR,MAAMqC,OAAS7T,KAAK48D,YAAYn5C,iBAAmB,MAE/Dk5C,EAAqBx8D,UAAU4/D,oBAAsB,WACZ,IAAjC//D,KAAK+8D,iBAAiBx8D,SAG1BP,KAAK29D,YAAY+B,aAAe1/D,KAAK+8D,iBACrC/8D,KAAK+8D,iBAAmB,KAErBJ,GACT94C,EAAY9jB,WACdP,GAAQm9D,qBAAuBA,G9CskrBzBsD,IACA,SAAU1gE,EAAQC,EAASC,GAEjC,Y+CxyrBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIogE,GAAW,EAAQ,KACnBC,EAAkB,EAAQ,KAC1BC,EAAa,WACb,QAASA,GAAUnmD,GACfja,KAAKia,UAAYA,EACjBja,KAAKqgE,kBAAoB,GAAIF,GAAgBj3D,cAC7ClJ,KAAKsgE,QAAU,GAAIJ,GAASlmD,OAAOha,KAAKia,WAAW,GACnDja,KAAKsgE,QAAQhlD,mBACbtb,KAAKugE,KAAO,GAAIL,GAASlmD,OAAOha,KAAKia,WAAW,GAChDja,KAAKwgE,cAAgBxgE,KAAKsgE,QAC1BtgE,KAAK2b,gBA8DT,MA5DA/b,QAAOC,eAAeugE,EAAUjgE,UAAW,oBACvC8F,IAAK,WAAc,MAAOjG,MAAKqgE,kBAAkBngD,OACjD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeugE,EAAUjgE,UAAW,OACvC8F,IAAK,WACD,MAAOjG,MAAKugE,MAEhBj3D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeugE,EAAUjgE,UAAW,UACvC8F,IAAK,WACD,MAAOjG,MAAKwgE,eAEhBl3D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeugE,EAAUjgE,UAAW,UACvC8F,IAAK,WACD,MAAOjG,MAAKsgE,SAEhBh3D,YAAY,EACZC,cAAc,IAElB62D,EAAUjgE,UAAUsgE,qBAAuB,WACnCzgE,KAAKwgE,gBAAkBxgE,KAAKsgE,UAGhCtgE,KAAKsgE,QAAQpsD,EAAIlU,KAAKugE,KAAKrsD,EAC3BlU,KAAKsgE,QAAQnsD,EAAInU,KAAKugE,KAAKpsD,EAC3BnU,KAAKugE,KAAKlpD,QACVrX,KAAKwgE,cAAgBxgE,KAAKsgE,QAC1BtgE,KAAKqgE,kBAAkB72D,MACnBk3D,aAAc1gE,KAAKsgE,QACnBK,eAAgB3gE,KAAKugE,SAG7BH,EAAUjgE,UAAUygE,kBAAoB,SAAUrlD,GAC1Cvb,KAAKwgE,gBAAkBxgE,KAAKugE,OAGhCvgE,KAAKugE,KAAKjlD,iBAAiBC,GAC3Bvb,KAAKugE,KAAKrsD,EAAIlU,KAAKsgE,QAAQpsD,EAC3BlU,KAAKugE,KAAKpsD,EAAInU,KAAKsgE,QAAQnsD,EAC3BnU,KAAKwgE,cAAgBxgE,KAAKugE,KAC1BvgE,KAAKqgE,kBAAkB72D,MACnBk3D,aAAc1gE,KAAKugE,KACnBI,eAAgB3gE,KAAKsgE,YAG7BF,EAAUjgE,UAAUoH,OAAS,SAAUqU,EAASC,GAC5C7b,KAAKsgE,QAAQ/4D,OAAOqU,EAASC,GAC7B7b,KAAKugE,KAAKh5D,OAAOqU,EAASC,IAE9BukD,EAAUjgE,UAAUwb,cAAgB,SAAU5V,GAC1C/F,KAAKsgE,QAAQ3kD,cAAc5V,GAC3B/F,KAAKugE,KAAK5kD,cAAc5V,IAErBq6D,IAEX5gE,GAAQ4gE,UAAYA,G/C+yrBdS,IACA,SAAUthE,EAAQC,EAASC,GAEjC,YgD73rBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIqgE,GAAkB,EAAQ,KAC1BW,EAAe,WACf,QAASA,GAAY1vD,EAAU2vD,GAC3B/gE,KAAKghE,mBAAqB,GAAIb,GAAgBj3D,cAC9ClJ,KAAKihE,UAAY7vD,EACjBpR,KAAKkhE,eAAiBH,EACtB/gE,KAAKmhE,gBAAkBnhE,KAAKihE,UAAU5vD,cAAc,QACpDrR,KAAKmhE,gBAAgB7vD,UAAUC,IAAI,8BACnCvR,KAAKmhE,gBAAgBzB,YAAc,IACnC1/D,KAAKmhE,gBAAgBvD,aAAa,cAAe,QACjD59D,KAAKkhE,eAAevvD,YAAY3R,KAAKmhE,iBAmCzC,MAjCAvhE,QAAOC,eAAeihE,EAAY3gE,UAAW,qBACzC8F,IAAK,WAAc,MAAOjG,MAAKghE,mBAAmB9gD,OAClD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeihE,EAAY3gE,UAAW,SACzC8F,IAAK,WACD,MAAOjG,MAAK8mB,QAEhBxd,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeihE,EAAY3gE,UAAW,UACzC8F,IAAK,WACD,MAAOjG,MAAKohE,SAEhB93D,YAAY,EACZC,cAAc,IAElBu3D,EAAY3gE,UAAUkhE,QAAU,SAAU5rD,GACtCzV,KAAKmhE,gBAAgB3vD,MAAMiF,WAAahB,EAAQgB,WAChDzW,KAAKmhE,gBAAgB3vD,MAAMgF,SAAWf,EAAQe,SAAW,IACzD,IAAI8qD,GAAWthE,KAAKmhE,gBAAgBx+C,uBACpC,IAAuB,IAAnB2+C,EAASx6D,OAAmC,IAApBw6D,EAASztD,OAArC,CAGA,GAAI0tD,GAAiBz4D,KAAKwa,KAAKg+C,EAASztD,OACpC7T,MAAK8mB,SAAWw6C,EAASx6D,OAAS9G,KAAKohE,UAAYG,IACnDvhE,KAAK8mB,OAASw6C,EAASx6D,MACvB9G,KAAKohE,QAAUG,EACfvhE,KAAKghE,mBAAmBx3D,UAGzBs3D,IAEXthE,GAAQshE,YAAcA,GhDo4rBhBU,IACA,SAAUjiE,EAAQC,EAASC,GAEjC,YiDt7rBA,SAASgiE,GAAuBp5C,GAC5B,MAAOA,GAAK8vB,QAAQ,SAAU,MAGlC,QAASupB,GAAoBr5C,EAAMs5C,GAC/B,MAAIA,GACO,SAAct5C,EAAO,SAEzBA,EAGX,QAASu5C,GAAYC,EAAIC,EAAMC,GACvBD,EAAKE,QAAQt3D,OACb4J,OAAO2tD,cAAc1mB,QAAQ,OAAQwmB,EAAiBG,eAGtDL,EAAGI,cAAc1mB,QAAQ,aAAcwmB,EAAiBG,eAE5DL,EAAG/7C,iBAGP,QAASq8C,GAAaN,EAAIC,GACtBD,EAAGtG,iBACH,IAAIlzC,GACA+5C,EAAgB,SAAU/5C,GAC1BA,EAAOo5C,EAAuBp5C,GAC9BA,EAAOq5C,EAAoBr5C,EAAMy5C,EAAKH,oBACtCG,EAAK12D,QAAQid,GACby5C,EAAKO,SAASviE,MAAQ,GACtBgiE,EAAKQ,KAAK,QAASj6C,GACnBy5C,EAAK7c,OAAO4c,GAEZC,GAAKE,QAAQt3D,OACT4J,OAAO2tD,gBACP55C,EAAO/T,OAAO2tD,cAAc5oB,QAAQ,QACpC+oB,EAAc/5C,IAIdw5C,EAAGI,gBACH55C,EAAOw5C,EAAGI,cAAc5oB,QAAQ,cAChC+oB,EAAc/5C,IAK1B,QAASk6C,GAA6BV,EAAIC,GACtC,GAAI76D,GAAM66D,EAAK37C,cAAcxD,wBACzBE,EAAOg/C,EAAGj/C,QAAU3b,EAAI4b,KAAO,GAC/BE,EAAM8+C,EAAG/+C,QAAU7b,EAAI8b,IAAM,EACjC++C,GAAKO,SAAS7wD,MAAMo4C,SAAW,WAC/BkY,EAAKO,SAAS7wD,MAAM1K,MAAQ,OAC5Bg7D,EAAKO,SAAS7wD,MAAMqC,OAAS,OAC7BiuD,EAAKO,SAAS7wD,MAAMqR,KAAOA,EAAO,KAClCi/C,EAAKO,SAAS7wD,MAAMuR,IAAMA,EAAM,KAChC++C,EAAKO,SAAS7wD,MAAMnB,OAAS,OAC7ByxD,EAAKO,SAAShD,QACd75C,WAAW,WACPs8C,EAAKO,SAAS7wD,MAAMo4C,SAAW,KAC/BkY,EAAKO,SAAS7wD,MAAM1K,MAAQ,KAC5Bg7D,EAAKO,SAAS7wD,MAAMqC,OAAS,KAC7BiuD,EAAKO,SAAS7wD,MAAMqR,KAAO,KAC3Bi/C,EAAKO,SAAS7wD,MAAMuR,IAAM,KAC1B++C,EAAKO,SAAS7wD,MAAMnB,OAAS,MAC9B,KAGP,QAASmyD,GAAkBX,EAAIC,EAAMC,EAAkBU,GACnDF,EAA6BV,EAAIC,GAC7BW,IAAqBV,EAAiBW,mBAAmBb,IACzDE,EAAiBY,mBAAmBd,GAExCC,EAAKO,SAASviE,MAAQiiE,EAAiBG,cACvCJ,EAAKO,SAASO,SA1ElBhjE,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAItDN,EAAQiiE,uBAAyBA,EAOjCjiE,EAAQkiE,oBAAsBA,EAU9BliE,EAAQoiE,YAAcA,EAyBtBpiE,EAAQ2iE,aAAeA,EAqBvB3iE,EAAQ+iE,6BAA+BA,EASvC/iE,EAAQgjE,kBAAoBA,GjD87rBtBK,IACA,SAAUtjE,EAAQC,EAASC,GAEjC,YkD7gsBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIgjE,GAAqB,WACrB,QAASA,GAAkBC,EAAWC,EAAkB/oD,GACpDja,KAAK+iE,UAAYA,EACjB/iE,KAAKgjE,iBAAmBA,EACxBhjE,KAAKia,UAAYA,EACjBja,KAAKijE,cAAe,EACpBjjE,KAAKkjE,uBAAwB,EAC7BljE,KAAKmjE,sBAAyB97D,MAAO,KAAMC,IAAK,MA6GpD,MA3GAw7D,GAAkB3iE,UAAUijE,iBAAmB,WAC3CpjE,KAAKijE,cAAe,EACpBjjE,KAAKmjE,qBAAqB97D,MAAQrH,KAAK+iE,UAAUjjE,MAAMS,OACvDP,KAAKgjE,iBAAiBtD,YAAc,GACpC1/D,KAAKgjE,iBAAiB1xD,UAAUC,IAAI,WAExCuxD,EAAkB3iE,UAAUkjE,kBAAoB,SAAUxB,GACtD,GAAIx9D,GAAQrE,IACZA,MAAKgjE,iBAAiBtD,YAAcmC,EAAGr6D,KACvCxH,KAAKsjE,4BACL99C,WAAW,WACPnhB,EAAM8+D,qBAAqB77D,IAAMjD,EAAM0+D,UAAUjjE,MAAMS,QACxD,IAEPuiE,EAAkB3iE,UAAUojE,eAAiB,WACzCvjE,KAAKwjE,sBAAqB,IAE9BV,EAAkB3iE,UAAUsjE,QAAU,SAAU5B,GAC5C,GAAI7hE,KAAKijE,cAAgBjjE,KAAKkjE,sBAAuB,CACjD,GAAmB,MAAfrB,EAAG6B,QACH,OAAO,CAEN,IAAmB,KAAf7B,EAAG6B,SAAiC,KAAf7B,EAAG6B,SAAiC,KAAf7B,EAAG6B,QAClD,OAAO,CAEX1jE,MAAKwjE,sBAAqB,GAE9B,MAAmB,OAAf3B,EAAG6B,UACH1jE,KAAK2jE,6BACE,IAIfb,EAAkB3iE,UAAUqjE,qBAAuB,SAAUI,GACzD,GAAIv/D,GAAQrE,IAIZ,IAHAA,KAAKgjE,iBAAiB1xD,UAAU+uC,OAAO,UACvCrgD,KAAKijE,cAAe,EACpBjjE,KAAK6jE,yBACAD,EAKA,CACD,GAAIE,IACAz8D,MAAOrH,KAAKmjE,qBAAqB97D,MACjCC,IAAKtH,KAAKmjE,qBAAqB77D,IAEnCtH,MAAKkjE,uBAAwB,EAC7B19C,WAAW,WACP,GAAInhB,EAAM6+D,sBAAuB,CAC7B7+D,EAAM6+D,uBAAwB,CAC9B,IAAI3rD,OAAQ,EAERA,GADAlT,EAAM4+D,aACE5+D,EAAM0+D,UAAUjjE,MAAMwoB,UAAUw7C,EAA6Bz8D,MAAOy8D,EAA6Bx8D,KAGjGjD,EAAM0+D,UAAUjjE,MAAMwoB,UAAUw7C,EAA6Bz8D,OAEzEhD,EAAM4V,UAAU7O,QAAQmM,KAE7B,OAvBkB,CACrBvX,KAAKkjE,uBAAwB,CAC7B,IAAI3rD,GAAQvX,KAAK+iE,UAAUjjE,MAAMwoB,UAAUtoB,KAAKmjE,qBAAqB97D,MAAOrH,KAAKmjE,qBAAqB77D,IACtGtH,MAAKia,UAAU7O,QAAQmM,KAuB/BurD,EAAkB3iE,UAAUwjE,0BAA4B,WACpD,GAAIt/D,GAAQrE,KACR+jE,EAAW/jE,KAAK+iE,UAAUjjE,KAC9B0lB,YAAW,WACP,IAAKnhB,EAAM4+D,aAAc,CACrB,GAAIrzB,GAAWvrC,EAAM0+D,UAAUjjE,MAC3BkkE,EAAOp0B,EAASuI,QAAQ4rB,EAAU,GAClCC,GAAKzjE,OAAS,GACd8D,EAAM4V,UAAU7O,QAAQ44D,KAGjC,IAEPlB,EAAkB3iE,UAAUmjE,0BAA4B,SAAUW,GAC9D,GAAI5/D,GAAQrE,IACZ,IAAKA,KAAKijE,aAAV,CAGA,GAAIjjE,KAAKia,UAAUyN,OAAOw8C,mBAAoB,CAC1C,GAAI95C,GAAathB,KAAKwa,KAAKtjB,KAAKia,UAAUgJ,YAAYpP,OAAS7T,KAAKia,UAAUxE,QAAQ0uD,YAClFC,EAAYpkE,KAAKia,UAAUyN,OAAOvT,EAAIiW,EACtCi6C,EAAarkE,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUgJ,YAAYnc,KACtE9G,MAAKgjE,iBAAiBxxD,MAAMqR,KAAOwhD,EAAa,KAChDrkE,KAAKgjE,iBAAiBxxD,MAAMuR,IAAMqhD,EAAY,KAC9CpkE,KAAKgjE,iBAAiBxxD,MAAMqC,OAASuW,EAAa,KAClDpqB,KAAKgjE,iBAAiBxxD,MAAM2yD,WAAa/5C,EAAa,KACtDpqB,KAAKgjE,iBAAiBxxD,MAAMiF,WAAazW,KAAKia,UAAUxE,QAAQgB,WAChEzW,KAAKgjE,iBAAiBxxD,MAAMgF,SAAWxW,KAAKia,UAAUxE,QAAQe,SAAW,IACzE,IAAI8tD,GAAwBtkE,KAAKgjE,iBAAiBrgD,uBAClD3iB,MAAK+iE,UAAUvxD,MAAMqR,KAAOwhD,EAAa,KACzCrkE,KAAK+iE,UAAUvxD,MAAMuR,IAAMqhD,EAAY,KACvCpkE,KAAK+iE,UAAUvxD,MAAM1K,MAAQw9D,EAAsBx9D,MAAQ,KAC3D9G,KAAK+iE,UAAUvxD,MAAMqC,OAASywD,EAAsBzwD,OAAS,KAC7D7T,KAAK+iE,UAAUvxD,MAAM2yD,WAAaG,EAAsBzwD,OAAS,KAEhEowD,GACDz+C,WAAW,WAAc,MAAOnhB,GAAMi/D,2BAA0B,IAAU,KAGlFR,EAAkB3iE,UAAU0jE,uBAAyB,WACjD7jE,KAAK+iE,UAAUvxD,MAAMqR,KAAO,GAC5B7iB,KAAK+iE,UAAUvxD,MAAMuR,IAAM,IAExB+/C,IAEXtjE,GAAQsjE,kBAAoBA,GlDohsBtByB,IACA,SAAUhlE,EAAQC,EAASC,GAEjC,YmD9nsBA,SAAS2iB,GAAE+vB,EAAKC,GAGZ,IAFA,GAAI9mB,GAAI8mB,EAAOD,EACXjoC,EAAM,GAAI9I,OAAMkqB,GACbA,KACHphB,EAAIohB,KAAO8mB,CAEf,OAAOloC,GAtBX,GAAInJ,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8jB,GAAc,EAAQ,KACtBliB,EAAgB,EAAQ,KASxB8iE,EAAmB,WACnB,QAASA,GAAgBjkE,GACrBP,KAAKkiB,MAA+B,mBAAfrK,YACf,GAAIzW,OAAMb,GACV,GAAIsX,YAAWtX,GAUzB,MARAikE,GAAgBrkE,UAAUoR,IAAM,SAAUnM,EAAMq/D,EAAO9wB,EAAQxyB,GAC3DnhB,KAAKkiB,MAAMuiD,GAAS,EAAIr/D,IAAmB,EAATuuC,IAAe,OAAgBhqC,KAATwX,EAAsBsjD,EAAQtjD,IAE1FqjD,EAAgBrkE,UAAUukE,QAAU,SAAUC,EAAOF,EAAO9wB,EAAQxyB,GAChE,IAAK,GAAIpb,GAAI,EAAGA,EAAI4+D,EAAMpkE,OAAQwF,IAC9B/F,KAAKuR,IAAIozD,EAAM5+D,GAAI0+D,EAAO9wB,EAAQxyB,IAGnCqjD,IAEXhlE,GAAQglE,gBAAkBA,CAC1B,IAAII,GAAaxiD,EAAE,GAAM,KACrByiD,EAAcziD,EAAE,EAAM,GAC1ByiD,GAAYpkE,KAAK,IACjBokE,EAAYpkE,KAAK6D,MAAMugE,EAAaziD,EAAE,GAAM,IAE5C5iB,GAAQslE,uBAAyB,WAC7B,GAEIL,GAFAviD,EAAQ,GAAIsiD,GAAgB,MAC5BO,EAAS3iD,EAAE,EAAG,GAElB,KAAKqiD,IAASM,GACV,IAAK,GAAI3/D,GAAO,EAAGA,GAND,MAMgCA,EAC9C8c,EAAM3Q,IAAInM,EAAMq/D,EAAO,EAAG,EAGlCviD,GAAMwiD,QAAQE,EAAY,EAAG,EAAG,EAChC,KAAKH,IAASM,GACV7iD,EAAMwiD,SAAS,GAAM,GAAM,IAAM,KAAOD,EAAO,EAAG,GAClDviD,EAAMwiD,QAAQtiD,EAAE,IAAM,KAAOqiD,EAAO,EAAG,GACvCviD,EAAMwiD,QAAQtiD,EAAE,IAAM,KAAOqiD,EAAO,EAAG,GACvCviD,EAAM3Q,IAAI,IAAMkzD,EAAO,EAAG,GAC1BviD,EAAM3Q,IAAI,GAAMkzD,EAAO,GAAI,GAC3BviD,EAAM3Q,IAAI,IAAMkzD,EAAO,EAAG,GAC1BviD,EAAMwiD,SAAS,IAAM,IAAM,KAAOD,EAAO,EAAG,GAC5CviD,EAAM3Q,IAAI,IAAMkzD,EAAO,GAAI,GAC3BviD,EAAM3Q,IAAI,IAAMkzD,EAAO,GAAI,EAkF/B,OAhFAviD,GAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAM3Q,IAAI,GAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQE,EAAY,EAAG,EAAG,GAChC1iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,SAAS,IAAM,GAAM,GAAM,GAAM,GAAO,EAAG,EAAG,GACpDxiD,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,SAAS,GAAM,GAAM,IAAO,EAAG,EAAG,GACxCxiD,EAAMwiD,QAAQE,EAAY,EAAG,EAAG,GAChC1iD,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAM3Q,IAAI,GAAM,EAAG,GAAI,GACvB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAM3Q,IAAI,GAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,SAAS,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,GAC9CxiD,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAM3Q,IAAI,GAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCF,EAAMwiD,SAAS,GAAM,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,GACpDxiD,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCF,EAAM3Q,IAAI,GAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,GAAI,GACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,GAAI,GACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,GAAI,GACpCF,EAAMwiD,SAAS,GAAM,GAAM,IAAO,EAAG,GAAI,GACzCxiD,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,GAAI,GACpCF,EAAM3Q,IAAI,GAAM,EAAG,GAAI,GACvB2Q,EAAMwiD,QAAQG,EAAa,EAAG,EAAG,GACjC3iD,EAAM3Q,IAAI,IAAM,EAAG,EAAG,GACtB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,GACnCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,IACnCF,EAAM3Q,IAAI,GAAM,EAAG,EAAG,IACtB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,EAAG,EAAG,IACnCF,EAAM3Q,IAAI,GAAM,EAAG,EAAG,IACtB2Q,EAAMwiD,SAAS,GAAM,GAAM,GAAM,IAAO,EAAG,EAAG,IAC9CxiD,EAAMwiD,QAAQG,EAAa,GAAI,EAAG,IAClC3iD,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQG,EAAa,GAAI,EAAG,IAClC3iD,EAAM3Q,IAAI,IAAM,GAAI,EAAG,IACvB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAM3Q,IAAI,GAAM,GAAI,EAAG,IACvB2Q,EAAMwiD,SAAS,GAAM,GAAM,GAAM,GAAM,IAAO,GAAI,EAAG,IACrDxiD,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQG,EAAa,GAAI,EAAG,IAClC3iD,EAAM3Q,IAAI,IAAM,GAAI,EAAG,IACvB2Q,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,IAAO,GAAI,EAAG,IACpCF,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,GAAI,GAAI,IACrCF,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,GAAI,GAAI,IACrCF,EAAMwiD,QAAQtiD,EAAE,GAAM,KAAO,EAAG,GAAI,IACpCF,EAAMwiD,QAAQG,EAAa,GAAI,GAAI,IACnC3iD,EAAMwiD,QAAQE,EAAY,GAAI,GAAI,IAClC1iD,EAAM3Q,IAAI,IAAM,GAAI,EAAG,IACvB2Q,EAAMwiD,SAAS,GAAM,KAAO,GAAI,GAAI,GACpCxiD,EAAM3Q,IArGgB,IAqGS,EAAG,EAAG,GAC9B2Q,IAEX,IAAI8iD,GAAY,WACZ,QAASA,MAKT,MAHAA,GAAS7kE,UAAU8kE,KAAO,SAAUC,EAASC,EAAQC,KACrDJ,EAAS7kE,UAAUklE,IAAM,SAAU79D,EAAMH,EAAOC,KAChD09D,EAAS7kE,UAAUmlE,OAAS,aACrBN,KAEPO,EAAwB,SAAUnhE,GAElC,QAASmhE,GAAqBC,OACN,KAAhBA,IAA0BA,EAAchmE,EAAQslE,uBACpD,IAAIzgE,GAAQD,EAAOsF,KAAK1J,OAASA,IAuBjC,OAtBAqE,GAAMmhE,YAAcA,EACpBnhE,EAAMohE,aAAe,EACrBphE,EAAMqhE,aAAerhE,EAAMohE,aAC3BphE,EAAMshE,KAAO,GACbthE,EAAMuhE,SAAW,GACjBvhE,EAAMwhE,SAAW,GACjBxhE,EAAMyhE,gBAAkB,SAAUt+D,EAAMH,EAAOC,KAC/CjD,EAAM0hE,kBAAoB,SAAU3gE,KACpCf,EAAM2hE,cAAgB,SAAUd,EAASC,EAAQC,KACjD/gE,EAAM4hE,cAAgB,SAAUf,EAASE,KACzC/gE,EAAM6hE,cAAgB,SAAUC,EAAY3+D,KAC5CnD,EAAM+hE,cAAgB,GAAIpB,GAC1B3gE,EAAMgiE,gBAAkB,SAAU5B,GAAS,MAAOA,IAClDpgE,EAAMiiE,cAAgBjiE,EAAMyhE,gBAC5BzhE,EAAMkiE,iBAAmB3mE,OAAO6B,OAAO,MACvC4C,EAAMmiE,aAAe5mE,OAAO6B,OAAO,MACnC4C,EAAMoiE,aAAe7mE,OAAO6B,OAAO,MACnC4C,EAAMqiE,aAAe9mE,OAAO6B,OAAO,MACnC4C,EAAMsiE,aAAe/mE,OAAO6B,OAAO,MACnC4C,EAAMuiE,kBAAoB,KAC1BviE,EAAMwiE,cAAgBxiE,EAAMgiE,gBAC5BhiE,EAAMyiE,cAAc,KAAM,cACnBziE,EA8UX,MAxWAtD,GAAUwkE,EAAsBnhE,GA4BhCmhE,EAAqBplE,UAAUC,QAAU,WACrCJ,KAAK8lE,gBAAkB,KACvB9lE,KAAK+lE,kBAAoB,KACzB/lE,KAAKgmE,cAAgB,KACrBhmE,KAAKimE,cAAgB,KACrBjmE,KAAKkmE,cAAgB,KACrBlmE,KAAKomE,cAAgB,KACrBpmE,KAAKqmE,gBAAkB,KACvBrmE,KAAKsmE,cAAgB,KACrBtmE,KAAKumE,iBAAmB,KACxBvmE,KAAKymE,aAAe,KACpBzmE,KAAKwmE,aAAe,KACpBxmE,KAAK0mE,aAAe,KACpB1mE,KAAK2mE,aAAe,KACpB3mE,KAAK4mE,kBAAoB,KACzB5mE,KAAK6mE,cAAgB,MAEzBtB,EAAqBplE,UAAU4mE,gBAAkB,SAAU/uB,GACvDh4C,KAAKsmE,cAAgBtuB,GAEzButB,EAAqBplE,UAAU6mE,kBAAoB,WAC/ChnE,KAAKsmE,cAAgBtmE,KAAK8lE,iBAE9BP,EAAqBplE,UAAU8mE,kBAAoB,SAAU7B,EAAMptB,GAC/Dh4C,KAAKumE,iBAAiBnB,EAAKlgE,WAAW,IAAM8yC,GAEhDutB,EAAqBplE,UAAU+mE,oBAAsB,SAAU9B,GACvDplE,KAAKumE,iBAAiBnB,EAAKlgE,WAAW,WAC/BlF,MAAKumE,iBAAiBnB,EAAKlgE,WAAW,KAErDqgE,EAAqBplE,UAAUgnE,0BAA4B,SAAUnvB,GACjEh4C,KAAK+lE,kBAAoB/tB,GAE7ButB,EAAqBplE,UAAUinE,cAAgB,SAAUhC,EAAMptB,GAC3D,GAAIr3C,GAAQykE,EAAKlgE,WAAW,OACKyE,KAA7B3J,KAAKwmE,aAAa7lE,KAClBX,KAAKwmE,aAAa7lE,MAEtB,IAAI0mE,GAAcrnE,KAAKwmE,aAAa7lE,EAEpC,OADA0mE,GAAY5mE,KAAKu3C,IAEb53C,QAAS,WACL,GAAIknE,GAAeD,EAAYzmE,QAAQo3C,IACjB,IAAlBsvB,GACAD,EAAYxmE,OAAOymE,EAAc,MAKjD/B,EAAqBplE,UAAUonE,cAAgB,SAAUnC,EAAMptB,GAC3Dh4C,KAAKwmE,aAAapB,EAAKlgE,WAAW,KAAO8yC,IAE7CutB,EAAqBplE,UAAUqnE,gBAAkB,SAAUpC,GACnDplE,KAAKwmE,aAAapB,EAAKlgE,WAAW,WAC3BlF,MAAKwmE,aAAapB,EAAKlgE,WAAW,KAEjDqgE,EAAqBplE,UAAUsnE,sBAAwB,SAAUzvB,GAC7Dh4C,KAAKgmE,cAAgBhuB,GAEzButB,EAAqBplE,UAAU2mE,cAAgB,SAAUY,EAAgB1vB,GACrEh4C,KAAKymE,aAAaiB,GAAkB1vB,GAExCutB,EAAqBplE,UAAUwnE,gBAAkB,SAAUD,GACnD1nE,KAAKymE,aAAaiB,UACX1nE,MAAKymE,aAAaiB,IAEjCnC,EAAqBplE,UAAUynE,sBAAwB,SAAU5vB,GAC7Dh4C,KAAKimE,cAAgBjuB,GAEzButB,EAAqBplE,UAAU0nE,cAAgB,SAAUC,EAAO9vB,OAC3BruC,KAA7B3J,KAAK0mE,aAAaoB,KAClB9nE,KAAK0mE,aAAaoB,MAEtB,IAAIT,GAAcrnE,KAAK0mE,aAAaoB,EAEpC,OADAT,GAAY5mE,KAAKu3C,IAEb53C,QAAS,WACL,GAAIknE,GAAeD,EAAYzmE,QAAQo3C,IACjB,IAAlBsvB,GACAD,EAAYxmE,OAAOymE,EAAc,MAKjD/B,EAAqBplE,UAAU4nE,cAAgB,SAAUD,EAAO9vB,GAC5Dh4C,KAAK0mE,aAAaoB,IAAU9vB,IAEhCutB,EAAqBplE,UAAU6nE,gBAAkB,SAAUF,GACnD9nE,KAAK0mE,aAAaoB,UACX9nE,MAAK0mE,aAAaoB,IAEjCvC,EAAqBplE,UAAU8nE,sBAAwB,SAAUjwB,GAC7Dh4C,KAAKkmE,cAAgBluB,GAEzButB,EAAqBplE,UAAU+nE,cAAgB,SAAUR,EAAgBt8D,GACrEpL,KAAK2mE,aAAae,GAAkBt8D,GAExCm6D,EAAqBplE,UAAUgoE,gBAAkB,SAAUT,GACnD1nE,KAAK2mE,aAAae,UACX1nE,MAAK2mE,aAAae,IAEjCnC,EAAqBplE,UAAUioE,sBAAwB,SAAUh9D,GAC7DpL,KAAKomE,cAAgBh7D,GAEzBm6D,EAAqBplE,UAAUkoE,gBAAkB,SAAUrwB,GACvDh4C,KAAK6mE,cAAgB7uB,GAEzButB,EAAqBplE,UAAUmoE,kBAAoB,WAC/CtoE,KAAK6mE,cAAgB7mE,KAAKqmE,iBAE9Bd,EAAqBplE,UAAUooE,MAAQ,WACnCvoE,KAAK0lE,aAAe1lE,KAAKylE,aACzBzlE,KAAK2lE,KAAO,GACZ3lE,KAAK4lE,SAAW,GAChB5lE,KAAK6lE,SAAW,GAChB7lE,KAAK4mE,kBAAoB,MAE7BrB,EAAqBplE,UAAUqoE,MAAQ,SAAUhhE,EAAMjH,GAanD,IAAK,GAZD6E,GAAO,EACPqjE,EAAa,EACbC,GAAQ,EACRhD,EAAe1lE,KAAK0lE,aACpBiD,GAAS,EACTC,GAAO,EACPC,EAAM7oE,KAAK2lE,KACXT,EAAUllE,KAAK6lE,SACfV,EAASnlE,KAAK4lE,QACd1jD,EAAQliB,KAAKwlE,YAAYtjD,MACzB4mD,EAAa9oE,KAAK4mE,kBAClB5uB,EAAW,KACNjyC,EAAI,EAAGA,EAAIxF,IAAUwF,EAE1B,GADAX,EAAOoC,EAAKzB,GACS,IAAjB2/D,GAAsBtgE,EAAO,IAAQA,EAAO,IAAhD,CACIujE,GAAUA,EAASA,EAAQ5iE,CAC3B,IACIA,UACGA,EAAIxF,GAAUiH,EAAKzB,GAAK,IAAQyB,EAAKzB,GAAK,IACjDA,SAGJ,IAAqB,IAAjB2/D,GAAuBtgE,EAAO,IAAQA,EAAO,GAC7C+/D,EAAOA,EAAO5kE,OAAS,GAAiC,GAA5B4kE,EAAOA,EAAO5kE,OAAS,GAAU6E,EAAO,OADxE,CAKA,QADAqjE,EAAavmD,EAAMwjD,GAAgB,GAAKtgE,EAAO,IAAOA,EA7RxC,QA8RQ,GAClB,IAAK,GACDujE,GAAUA,EAASA,EAAQ5iE,CAC3B,MACJ,KAAK,IACI4iE,IACD3oE,KAAKsmE,cAAc9+D,EAAMmhE,EAAO5iE,GAChC4iE,GAAS,GAEb3wB,EAAWh4C,KAAKumE,iBAAiBnhE,GAC7B4yC,EACAA,IAEAh4C,KAAK+lE,kBAAkB3gE,EAC3B,MACJ,KAAK,IACIujE,GACD3oE,KAAKsmE,cAAc9+D,EAAMmhE,EAAO5iE,GAChC4iE,GAAS,IAEHC,IACNE,EAAWzD,IAAI79D,EAAMohE,EAAK7iE,GAC1B6iE,GAAO,EAEX,MACJ,KAAK,GACD,GAAIxjE,EAAO,IACP,OAAQsgE,GACJ,IAAK,GACDiD,GAAUA,EAASA,EAAQ5iE,CAC3B,MACJ,KAAK,GACD0iE,GAAc,CACd,MACJ,KAAK,IACDA,GAAc,EACd,MACJ,KAAK,IACDG,GAAQA,EAAOA,EAAM7iE,EACrB0iE,GAAc,EACd,MACJ,SACIC,GAAQ,MAIhBA,IAAQ,CAEZ,IAAIA,EAAO,CACP,GAAIK,GAAS/oE,KAAK6mE,eACdjd,SAAU7jD,EACVX,KAAMA,EACNsgE,aAAcA,EACdiD,MAAOA,EACPC,IAAKA,EACLC,IAAKA,EACL3D,QAASA,EACTC,OAAQA,EACR6D,OAAO,GAEX,IAAID,EAAOC,MACP,MACJN,IAAQ,EAEZ,KACJ,KAAK,GAGD,IAFA,GAAIO,GAAWjpE,KAAKwmE,aAAaphE,GAC7BojB,EAAIygD,EAAWA,EAAS1oE,OAAS,GAAK,EACnCioB,GAAK,IAC6B,IAAjCygD,EAASzgD,GAAG28C,EAAQD,GADb18C,KAKXA,EAAI,GACJxoB,KAAKgmE,cAAcd,EAASC,EAAQ//D,EAExC,MACJ,KAAK,GACY,KAATA,EACA+/D,EAAO1kE,KAAK,GAEZ0kE,EAAOA,EAAO5kE,OAAS,GAAiC,GAA5B4kE,EAAOA,EAAO5kE,OAAS,GAAU6E,EAAO,EACxE,MACJ,KAAK,GACD8/D,GAAWnuD,OAAOC,aAAa5R,EAC/B,MACJ,KAAK,IACD4yC,EAAWh4C,KAAKymE,aAAavB,EAAUnuD,OAAOC,aAAa5R,IACvD4yC,EACAA,EAASktB,EAAS9/D,GAElBpF,KAAKimE,cAAcf,EAAS9/D,EAChC,MACJ,KAAK,KACIujE,IACD3oE,KAAKsmE,cAAc9+D,EAAMmhE,EAAO5iE,GAChC4iE,GAAS,GAEbE,EAAM,GACN1D,GAAU,GACVD,EAAU,GACV0D,GAAO,CACP,MACJ,KAAK,IACDE,EAAa9oE,KAAK2mE,aAAazB,EAAUnuD,OAAOC,aAAa5R,IACxD0jE,IACDA,EAAa9oE,KAAKomE,eACtB0C,EAAW7D,KAAKC,EAASC,EAAQ//D,EACjC,MACJ,KAAK,IACDwjE,GAAQA,EAAOA,EAAM7iE,CACrB,MACJ,KAAK,IACG+iE,KACKF,GACDE,EAAWzD,IAAI79D,EAAMohE,EAAK7iE,GAC9B+iE,EAAWxD,SACXwD,EAAa,MAEJ,KAAT1jE,IACAqjE,GAAc,GAClBI,EAAM,GACN1D,GAAU,GACVD,EAAU,GACV0D,GAAO,CACP,MACJ,KAAK,IACID,IACD3oE,KAAKsmE,cAAc9+D,EAAMmhE,EAAO5iE,GAChC4iE,GAAS,GAEbE,EAAM,EACN,MACJ,KAAK,GACD,IAAK,GAAIK,GAAMnjE,EAAI,GAAImjE,IACnB,GAAIA,GAAO3oE,IACH6E,EAAOoC,EAAK0hE,IAAQ,IACpB9jE,EAAO,KAAQA,GAAQ,IAAO,CAClCyjE,GAAOnnE,EAAcuV,cAAczP,EAAMzB,EAAGmjE,GAC5CnjE,EAAImjE,EAAM,CACV,OAGR,KACJ,KAAK,GACD,GAAIL,GAAgB,KAATzjE,GAA0B,KAATA,EAAe,CACvC,GAAI+jE,GAAMN,EAAIjoE,QAAQ,IACtB,KAAa,IAATuoE,EACAnpE,KAAKkmE,eAAe,EAAG2C,OAEtB,CAKD,IAJA,GAAI1C,GAAav+D,SAASihE,EAAIvgD,UAAU,EAAG6gD,IACvC3kE,EAAUqkE,EAAIvgD,UAAU6gD,EAAM,GAC9BC,EAAappE,KAAK0mE,aAAaP,GAC/BkD,EAAMD,EAAaA,EAAW7oE,OAAS,GAAK,EACzC8oE,GAAO,IACuB,IAA7BD,EAAWC,GAAK7kE,GADP6kE,KAKbA,EAAM,GACNrpE,KAAKkmE,cAAcC,EAAY3hE,IAI9B,KAATY,IACAqjE,GAAc,GAClBI,EAAM,GACN1D,GAAU,GACVD,EAAU,GACV0D,GAAO,EAGflD,EAA4B,GAAb+C,EAEE,IAAjB/C,IAAuBiD,EACvB3oE,KAAKsmE,cAAc9+D,EAAMmhE,EAAOpoE,GAEV,KAAjBmlE,IAAwBkD,GAAOE,GACpCA,EAAWzD,IAAI79D,EAAMohE,EAAKroE,GAE9BP,KAAK2lE,KAAOkD,EACZ7oE,KAAK6lE,SAAWX,EAChBllE,KAAK4lE,QAAUT,EACfnlE,KAAK4mE,kBAAoBkC,EACzB9oE,KAAK0lE,aAAeA,GAEjBH,GACT3hD,EAAY7jB,WACdP,GAAQ+lE,qBAAuBA,GnDqpsBzB+D,IACA,SAAU/pE,EAAQC,EAASC,GAEjC,YoDhqtBA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIypE,GAAoB,EAAQ,KAC5BC,EAAa,EAAQ,KACrBC,EAAc,EAAQ,KACtBC,EAAyB,EAAQ,KACjC9lD,EAAc,EAAQ,KACtBnC,EAAoB,EAAQ,KAC5B/f,EAAgB,EAAQ,KACxBuO,EAAe,EAAQ,KACvBkwD,EAAkB,EAAQ,KAC1BwJ,GAAW,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,GACxDC,EAAW,WACX,QAASA,GAAQ3vD,GACbja,KAAKia,UAAYA,EACjBja,KAAK4F,MAAQ,GAAIC,aAAY,GAgCjC,MA9BA+jE,GAAQzpE,UAAU8kE,KAAO,SAAUC,EAASC,EAAQC,GAChDplE,KAAK4F,MAAQ,GAAIC,aAAY,IAEjC+jE,EAAQzpE,UAAUklE,IAAM,SAAU79D,EAAMH,EAAOC,GAC3CtH,KAAK4F,MAAQ6b,EAAkBiF,OAAO1mB,KAAK4F,MAAO4B,EAAKC,SAASJ,EAAOC,KAE3EsiE,EAAQzpE,UAAUmlE,OAAS,WACvB,GAAI99D,GAAO9F,EAAcuV,cAAcjX,KAAK4F,MAE5C,QADA5F,KAAK4F,MAAQ,GAAIC,aAAY,GACrB2B,GACJ,IAAK,KACD,MAAOxH,MAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,UAAai8D,EAAkB79D,GAAG4B,IAAM,KACrG,KAAK,KACD,MAAOtN,MAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,WAAci8D,EAAkB79D,GAAG4B,IAAM,KACtG,KAAK,IACD,GAAIu8D,GAAW7pE,KAAKia,UAAUyN,OAAOjM,UAAY,EAC7C,KAAOzb,KAAKia,UAAUyN,OAAOhM,aAAe,GAAK,GACrD,OAAO1b,MAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,OAASu8D,EAAKN,EAAkB79D,GAAG4B,IAAM,KACtG,KAAK,IACD,MAAOtN,MAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,SAAWi8D,EAAkB79D,GAAG4B,IAAM,KACnG,KAAK,KACD,GAAIw8D,IAAW,MAAS,EAAG,UAAa,EAAG,IAAO,GAC9Ct4D,EAAQs4D,EAAO9pE,KAAKia,UAAU8vD,UAAU,eAE5C,OADAv4D,IAASxR,KAAKia,UAAU8vD,UAAU,eAC3B/pE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,OAASkE,EAAQ,KAAO+3D,EAAkB79D,GAAG4B,IAAM,KAChH,SACItN,KAAKia,UAAUyuD,MAAM,oBAAqBlhE,GAC1CxH,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,OAASi8D,EAAkB79D,GAAG4B,IAAM,QAG3Fs8D,KAEPI,EAAgB,SAAU5lE,GAE1B,QAAS4lE,GAAa/vD,EAAWgwD,OACb,KAAZA,IAAsBA,EAAU,GAAIP,GAAuBnE,qBAC/D,IAAIlhE,GAAQD,EAAOsF,KAAK1J,OAASA,IACjCqE,GAAM4V,UAAYA,EAClB5V,EAAM4lE,QAAUA,EAChB5lE,EAAM6lE,aAAe,GAAIrkE,aAAY,MACrCxB,EAAM8lE,eAAiB,GAAIzoE,GAAcyV,cACzC9S,EAAM+lE,aAAe,GAAI1oE,GAAciW,YACvCtT,EAAM8iB,UAAY,GAAIlX,GAAa9L,SACnCE,EAAMgmE,cAAgB,GAAIlK,GAAgBj3D,cAC1C7E,EAAMimE,QAAU,GAAInK,GAAgBj3D,cACpC7E,EAAMkmE,YAAc,GAAIpK,GAAgBj3D,cACxC7E,EAAMmmE,UAAY,GAAIrK,GAAgBj3D,cACtC7E,EAAM7D,SAAS6D,EAAM4lE,SACrB5lE,EAAM4lE,QAAQxC,sBAAsB,SAAUvC,EAASC,EAAQC,GAC3D/gE,EAAM4V,UAAUyuD,MAAM,sBAAwBxD,QAASA,EAASC,OAAQA,EAAQC,KAAMruD,OAAOC,aAAaouD,OAE9G/gE,EAAM4lE,QAAQrC,sBAAsB,SAAU1C,EAASE,GACnD/gE,EAAM4V,UAAUyuD,MAAM,sBAAwBxD,QAASA,EAASE,KAAMruD,OAAOC,aAAaouD,OAE9F/gE,EAAM4lE,QAAQ9C,0BAA0B,SAAU/hE,GAC9Cf,EAAM4V,UAAUyuD,MAAM,0BAA4BtjE,KAAMA,MAE5Df,EAAM4lE,QAAQhC,sBAAsB,SAAU9B,EAAY3+D,GACtDnD,EAAM4V,UAAUyuD,MAAM,sBAAwBvC,WAAYA,EAAY3+D,KAAMA,MAEhFnD,EAAM4lE,QAAQlD,gBAAgB,SAAUv/D,EAAMH,EAAOC,GAAO,MAAOjD,GAAMskE,MAAMnhE,EAAMH,EAAOC,KAC5FjD,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMomE,YAAYtF,KACvF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMqmE,SAASvF,KACpF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMsmE,WAAWxF,KACtF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMumE,cAAczF,KACzF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMwmE,eAAe1F,KAC1F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMymE,eAAe3F,KAC1F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM0mE,oBAAoB5F,KAC/F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM2mE,mBAAmB7F,KAC9F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM4mE,eAAe9F,KAC1F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM6mE,iBAAiB/F,KAC5F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM8mE,eAAehG,KAC1F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM+mE,YAAYjG,KACvF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMgnE,YAAYlG,KACvF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMinE,YAAYnG,KACvF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMknE,YAAYpG,KACvF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMmnE,SAASrG,KACpF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMonE,WAAWtG,EAAQD,KAC9F7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMqnE,WAAWvG,KACtF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMsnE,kBAAkBxG,KAC7F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMunE,gBAAgBzG,KAC3F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMwnE,kBAAkB1G,KAC7F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMynE,yBAAyB3G,KACpG9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM0nE,qBAAqB5G,EAAQD,KACxG7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM2nE,gBAAgB7G,KAC3F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM4nE,kBAAkB9G,KAC7F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM6nE,WAAW/G,KACtF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM8nE,SAAShH,KACpF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAM+nE,QAAQjH,EAAQD,KAC3F7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMgoE,UAAUlH,EAAQD,KAC7F7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMioE,eAAenH,KAC1F9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMkoE,aAAapH,EAAQD,KAChG7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMmoE,UAAUrH,EAAQD,KAC7F7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMooE,eAAetH,EAAQD,KAClG7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMqoE,gBAAgBvH,EAAQD,KACnG7gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMsoE,WAAWxH,KACtF9gE,EAAM4lE,QAAQ1C,cAAc,IAAK,SAAUpC,EAAQD,GAAW,MAAO7gE,GAAMuoE,cAAczH,KACzF9gE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGQ,IAAK,WAAc,MAAO7H,GAAMwoE,SACrFxoE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGW,GAAI,WAAc,MAAOhI,GAAMyoE,aACpFzoE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGY,GAAI,WAAc,MAAOjI,GAAMyoE,aACpFzoE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGa,GAAI,WAAc,MAAOlI,GAAMyoE,aACpFzoE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGc,GAAI,WAAc,MAAOnI,GAAM0oE,mBACpF1oE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGS,GAAI,WAAc,MAAO9H,GAAM2oE,cACpF3oE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGU,GAAI,WAAc,MAAO/H,GAAM4oE,QACpF5oE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGe,GAAI,WAAc,MAAOpI,GAAM6oE,aACpF7oE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB79D,GAAGgB,GAAI,WAAc,MAAOrI,GAAM8oE,YACpF9oE,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB17D,GAAGK,IAAK,WAAc,MAAO7J,GAAM1D,UACrF0D,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB17D,GAAGM,IAAK,WAAc,MAAO9J,GAAMkZ,aACrFlZ,EAAM4lE,QAAQhD,kBAAkBsC,EAAkB17D,GAAGS,IAAK,WAAc,MAAOjK,GAAM+oE,WACrF/oE,EAAM4lE,QAAQlC,cAAc,EAAG,SAAUvgE,GAAQ,MAAOnD,GAAMgpE,SAAS7lE,KACvEnD,EAAM4lE,QAAQlC,cAAc,EAAG,SAAUvgE,GAAQ,MAAOnD,GAAMgpE,SAAS7lE,KACvEnD,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMsoE,iBAC5DtoE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMuoE,oBAC5DvoE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAM1D,UAC5D0D,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMkZ,aAC5DlZ,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAM+oE,WAC5D/oE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMipE,iBAC5DjpE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMkpE,0BAC5DlpE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMmpE,sBAC5DnpE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMkkE,UAC5DlkE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMopE,UAAU,KACtEppE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMopE,UAAU,KACtEppE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMopE,UAAU,KACtEppE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMopE,UAAU,KACtEppE,EAAM4lE,QAAQnD,cAAc,IAAK,WAAc,MAAOziE,GAAMopE,UAAU,KACtEppE,EAAM4lE,QAAQnD,cAAc,KAAM,WAAc,MAAOziE,GAAMqpE,yBAC7DrpE,EAAM4lE,QAAQnD,cAAc,KAAM,WAAc,MAAOziE,GAAMqpE,wBAC7D,IASIC,GAAS3tE,IACb,KAAK,GAAIolE,KAAQoE,GAAWoE,UAVd,SAAUxI,GACpBuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,KACxFuI,EAAO1D,QAAQnD,cAAc,IAAM1B,EAAM,WAAc,MAAO/gE,GAAMwpE,cAAc,IAAMzI,MAIhFA,EAOZ,OALA/gE,GAAM4lE,QAAQ5B,gBAAgB,SAAU5D,GAEpC,MADApgE,GAAM4V,UAAUyuD,MAAM,kBAAmBjE,GAClCA,IAEXpgE,EAAM4lE,QAAQ/B,cAAc,KAAM,GAAI0B,GAAQvlE,EAAM4V,YAC7C5V,EAi9BX,MAjkCAtD,GAAUipE,EAAc5lE,GAkHxBxE,OAAOC,eAAemqE,EAAa7pE,UAAW,gBAC1C8F,IAAK,WAAc,MAAOjG,MAAKqqE,cAAcnqD,OAC7C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAemqE,EAAa7pE,UAAW,UAC1C8F,IAAK,WAAc,MAAOjG,MAAKsqE,QAAQpqD,OACvC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAemqE,EAAa7pE,UAAW,cAC1C8F,IAAK,WAAc,MAAOjG,MAAKuqE,YAAYrqD,OAC3C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAemqE,EAAa7pE,UAAW,YAC1C8F,IAAK,WAAc,MAAOjG,MAAKwqE,UAAUtqD,OACzC5W,YAAY,EACZC,cAAc,IAElBygE,EAAa7pE,UAAUC,QAAU,WAC7BgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAKia,UAAY,MAErB+vD,EAAa7pE,UAAUqoE,MAAQ,SAAUhhE,GACrC,GAAKxH,KAAKia,UAAV,CAGA,GAAIyN,GAAS1nB,KAAKia,UAAUyN,OACxBomD,EAAepmD,EAAOxT,EACtB65D,EAAermD,EAAOvT,CACtBnU,MAAKia,UAAU+zD,OACfhuE,KAAKia,UAAUg0D,IAAI,SAAWzmE,GAE9BxH,KAAKkqE,aAAa3pE,OAASiH,EAAKjH,SAChCP,KAAKkqE,aAAe,GAAIrkE,aAAY2B,EAAKjH,SAE7CP,KAAKiqE,QAAQzB,MAAMxoE,KAAKkqE,aAAclqE,KAAKmqE,eAAe7yD,OAAO9P,EAAMxH,KAAKkqE,eAC5ExiD,EAAS1nB,KAAKia,UAAUyN,OACpBA,EAAOxT,IAAM45D,GAAgBpmD,EAAOvT,IAAM45D,GAC1C/tE,KAAKqqE,cAAc7gE,SAG3BwgE,EAAa7pE,UAAU+tE,UAAY,SAAU1mE,GACzC,GAAKxH,KAAKia,UAAV,CAGA,GAAIyN,GAAS1nB,KAAKia,UAAUyN,OACxBomD,EAAepmD,EAAOxT,EACtB65D,EAAermD,EAAOvT,CACtBnU,MAAKia,UAAU+zD,OACfhuE,KAAKia,UAAUg0D,IAAI,SAAWzmE,GAE9BxH,KAAKkqE,aAAa3pE,OAASiH,EAAKjH,SAChCP,KAAKkqE,aAAe,GAAIrkE,aAAY2B,EAAKjH,SAE7CP,KAAKiqE,QAAQzB,MAAMxoE,KAAKkqE,aAAclqE,KAAKoqE,aAAa9yD,OAAO9P,EAAMxH,KAAKkqE,eAC1ExiD,EAAS1nB,KAAKia,UAAUyN,OACpBA,EAAOxT,IAAM45D,GAAgBpmD,EAAOvT,IAAM45D,GAC1C/tE,KAAKia,UAAUqoD,KAAK,gBAG5B0H,EAAa7pE,UAAUwoE,MAAQ,SAAUnhE,EAAMH,EAAOC,GAClD,GAAIlC,GACA+oE,EACAzmD,EAAS1nB,KAAKia,UAAUyN,OACxB0mD,EAAUpuE,KAAKia,UAAUm0D,QACzBC,EAAmBruE,KAAKia,UAAUxE,QAAQ44D,iBAC1C7oE,EAAOxF,KAAKia,UAAUzU,KACtB8oE,EAAiBtuE,KAAKia,UAAUq0D,eAChCC,EAAavuE,KAAKia,UAAUs0D,WAC5BC,EAAUxuE,KAAKia,UAAUw0D,YACzBC,EAAYhnD,EAAO7M,MAAM5U,IAAIyhB,EAAOvT,EAAIuT,EAAO1M,MACnDhb,MAAKia,UAAU00D,YAAYjnD,EAAOvT,EAClC,KAAK,GAAIlN,GAAMI,EAAOJ,EAAMK,IAAOL,EAAK,CAGpC,GAFA7B,EAAOoC,EAAKP,GACZknE,EAAU1E,EAAYjoD,QAAQpc,GAC1BA,EAAO,KAAOgpE,EAAS,CACvB,GAAItiD,GAAKsiD,EAAQr3D,OAAOC,aAAa5R,GACjC0mB,KACA1mB,EAAO0mB,EAAG5mB,WAAW,IAM7B,GAHImpE,GACAruE,KAAKia,UAAUqoD,KAAK,YAAa5gE,EAAcsD,oBAAoBI,IAElE+oE,IAAWzmD,EAAOxT,EAAvB,CASA,GAAIwT,EAAOxT,EAAIi6D,EAAU,GAAK3oE,EAC1B,GAAI8oE,EACA5mD,EAAOxT,EAAI,EACXwT,EAAOvT,IACHuT,EAAOvT,EAAIuT,EAAOhM,cAClBgM,EAAOvT,IACPnU,KAAKia,UAAU20D,QAAO,IAGtBlnD,EAAO7M,MAAM5U,IAAIyhB,EAAOvT,GAAGzO,WAAY,EAE3CgpE,EAAYhnD,EAAO7M,MAAM5U,IAAIyhB,EAAOvT,EAAIuT,EAAO1M,WAG/C,IAAgB,IAAZmzD,EACA,QAWZ,IAPII,IACAG,EAAU1nE,YAAY0gB,EAAOxT,EAAGi6D,EAASzmD,EAAOjN,YAAY+zD,IACvB,IAAjCE,EAAU5pE,SAASU,EAAO,IAC1BkpE,EAAU9nE,qBAAqBpB,EAAO,EAAGyK,EAAa7N,eAAgB6N,EAAa9N,gBAAiBqsE,EAAQ9rE,GAAI8rE,EAAQ7rE,KAGhI+rE,EAAU9nE,qBAAqB8gB,EAAOxT,IAAK9O,EAAM+oE,EAASK,EAAQ9rE,GAAI8rE,EAAQ7rE,IAC1EwrE,EAAU,EACV,OAASA,GACLO,EAAU9nE,qBAAqB8gB,EAAOxT,IAAK,EAAG,EAAGs6D,EAAQ9rE,GAAI8rE,EAAQ7rE,QApCpE+rE,GAAU5pE,SAAS4iB,EAAOxT,EAAI,GAI/Bw6D,EAAU3nE,mBAAmB2gB,EAAOxT,EAAI,EAAG9O,GAH3CspE,EAAU3nE,mBAAmB2gB,EAAOxT,EAAI,EAAG9O,GAuCvDpF,KAAKia,UAAU00D,YAAYjnD,EAAOvT,IAEtC61D,EAAa7pE,UAAUinE,cAAgB,SAAUhC,EAAMptB,GACnD,MAAOh4C,MAAKiqE,QAAQ7C,cAAchC,EAAMptB,IAE5CgyB,EAAa7pE,UAAU0nE,cAAgB,SAAUC,EAAO9vB,GACpD,MAAOh4C,MAAKiqE,QAAQpC,cAAcC,EAAO9vB,IAE7CgyB,EAAa7pE,UAAU0sE,KAAO,WAC1B7sE,KAAKia,UAAU4yD,QAEnB7C,EAAa7pE,UAAU2sE,SAAW,WAC9B,GAAIplD,GAAS1nB,KAAKia,UAAUyN,MACxB1nB,MAAKia,UAAUxE,QAAQo5D,aACvBnnD,EAAOxT,EAAI,GAEfwT,EAAOvT,IACHuT,EAAOvT,EAAIuT,EAAOhM,eAClBgM,EAAOvT,IACPnU,KAAKia,UAAU20D,UAEflnD,EAAOxT,GAAKlU,KAAKia,UAAUzU,MAC3BkiB,EAAOxT,IAEXlU,KAAKuqE,YAAY/gE,QAErBwgE,EAAa7pE,UAAU4sE,eAAiB,WACpC/sE,KAAKia,UAAUyN,OAAOxT,EAAI,GAE9B81D,EAAa7pE,UAAU6sE,UAAY,WAC3BhtE,KAAKia,UAAUyN,OAAOxT,EAAI,GAC1BlU,KAAKia,UAAUyN,OAAOxT,KAG9B81D,EAAa7pE,UAAU8sE,IAAM,WACzB,GAAI6B,GAAY9uE,KAAKia,UAAUyN,OAAOxT,CACtClU,MAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUyN,OAAO9H,WAC5C5f,KAAKia,UAAUxE,QAAQ44D,kBACvBruE,KAAKia,UAAUqoD,KAAK,WAAYtiE,KAAKia,UAAUyN,OAAOxT,EAAI46D,IAGlE9E,EAAa7pE,UAAU+sE,SAAW,WAC9BltE,KAAKia,UAAUwzD,UAAU,IAE7BzD,EAAa7pE,UAAUgtE,QAAU,WAC7BntE,KAAKia,UAAUwzD,UAAU,IAE7BzD,EAAa7pE,UAAUsqE,YAAc,SAAUtF,GAC3CnlE,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIjG,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAUyN,OAAO1M,OAAOhU,YAAYhH,KAAKia,UAAUyN,OAAOxT,EAAGixD,EAAO,IAAM,EAAGnlE,KAAKia,UAAUyN,OAAOjN,YAAYza,KAAKia,UAAU80D,kBAC7L/uE,KAAKia,UAAU00D,YAAY3uE,KAAKia,UAAUyN,OAAOvT,IAErD61D,EAAa7pE,UAAUuqE,SAAW,SAAUvF,GACxC,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,GAAK66D,EACvBhvE,KAAKia,UAAUyN,OAAOvT,EAAI,IAC1BnU,KAAKia,UAAUyN,OAAOvT,EAAI,IAGlC61D,EAAa7pE,UAAUwqE,WAAa,SAAUxF,GAC1C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,GAAK66D,EACvBhvE,KAAKia,UAAUyN,OAAOvT,GAAKnU,KAAKia,UAAU9G,OAC1CnT,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAU9G,KAAO,GAEhDnT,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,MAC1CxF,KAAKia,UAAUyN,OAAOxT,KAG9B81D,EAAa7pE,UAAUyqE,cAAgB,SAAUzF,GAC7C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOxT,GAAK86D,EACvBhvE,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,OAC1CxF,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUzU,KAAO,IAGxDwkE,EAAa7pE,UAAU0qE,eAAiB,SAAU1F,GAC9C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAERhvE,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,MAC1CxF,KAAKia,UAAUyN,OAAOxT,IAE1BlU,KAAKia,UAAUyN,OAAOxT,GAAK86D,EACvBhvE,KAAKia,UAAUyN,OAAOxT,EAAI,IAC1BlU,KAAKia,UAAUyN,OAAOxT,EAAI,IAGlC81D,EAAa7pE,UAAU2qE,eAAiB,SAAU3F,GAC9C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,GAAK66D,EACvBhvE,KAAKia,UAAUyN,OAAOvT,GAAKnU,KAAKia,UAAU9G,OAC1CnT,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAU9G,KAAO,GAEpDnT,KAAKia,UAAUyN,OAAOxT,EAAI,GAE9B81D,EAAa7pE,UAAU4qE,oBAAsB,SAAU5F,GACnD,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,GAAK66D,EACvBhvE,KAAKia,UAAUyN,OAAOvT,EAAI,IAC1BnU,KAAKia,UAAUyN,OAAOvT,EAAI,GAE9BnU,KAAKia,UAAUyN,OAAOxT,EAAI,GAE9B81D,EAAa7pE,UAAU6qE,mBAAqB,SAAU7F,GAClD,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOxT,EAAI86D,EAAQ,GAEtChF,EAAa7pE,UAAU8qE,eAAiB,SAAU9F,GAC9C,GAAI8J,GACAxnD,EAAM09C,EAAO,GAAK,CAElB8J,GADA9J,EAAO5kE,QAAU,EACX4kE,EAAO,GAAK,EAGZ,EAEN19C,EAAM,EACNA,EAAM,EAEDA,GAAOznB,KAAKia,UAAU9G,OAC3BsU,EAAMznB,KAAKia,UAAU9G,KAAO,GAE5B87D,EAAM,EACNA,EAAM,EAEDA,GAAOjvE,KAAKia,UAAUzU,OAC3BypE,EAAMjvE,KAAKia,UAAUzU,KAAO,GAEhCxF,KAAKia,UAAUyN,OAAOxT,EAAI+6D,EAC1BjvE,KAAKia,UAAUyN,OAAOvT,EAAIsT,GAE9BuiD,EAAa7pE,UAAU+qE,iBAAmB,SAAU/F,GAEhD,IADA,GAAI6J,GAAQ7J,EAAO,IAAM,EAClB6J,KACHhvE,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUyN,OAAO9H,YAGxDoqD,EAAa7pE,UAAU+uE,mBAAqB,SAAU/6D,EAAG9M,EAAOC,EAAK6nE,OAC/C,KAAdA,IAAwBA,GAAY,EACxC,IAAIpnE,GAAO/H,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIjG,KAAKia,UAAUyN,OAAO1M,MAAQ7G,EACzEpM,GAAKX,aAAaC,EAAOC,EAAKtH,KAAKia,UAAUyN,OAAOjN,YAAYza,KAAKia,UAAU80D,kBAC3EI,IACApnE,EAAKrC,WAAY,IAGzBskE,EAAa7pE,UAAUivE,iBAAmB,SAAUj7D,GAChDnU,KAAKkvE,mBAAmB/6D,EAAG,EAAGnU,KAAKia,UAAUzU,MAAM,IAEvDwkE,EAAa7pE,UAAUgrE,eAAiB,SAAUhG,GAC9C,GAAI38C,EACJ,QAAQ28C,EAAO,IACX,IAAK,GAID,IAHA38C,EAAIxoB,KAAKia,UAAUyN,OAAOvT,EAC1BnU,KAAKia,UAAU00D,YAAYnmD,GAC3BxoB,KAAKkvE,mBAAmB1mD,IAAKxoB,KAAKia,UAAUyN,OAAOxT,EAAGlU,KAAKia,UAAUzU,KAAkC,IAA5BxF,KAAKia,UAAUyN,OAAOxT,GAC1FsU,EAAIxoB,KAAKia,UAAU9G,KAAMqV,IAC5BxoB,KAAKovE,iBAAiB5mD,EAE1BxoB,MAAKia,UAAU00D,YAAYnmD,EAC3B,MACJ,KAAK,GAOD,IANAA,EAAIxoB,KAAKia,UAAUyN,OAAOvT,EAC1BnU,KAAKia,UAAU00D,YAAYnmD,GAC3BxoB,KAAKkvE,mBAAmB1mD,EAAG,EAAGxoB,KAAKia,UAAUyN,OAAOxT,EAAI,GAAG,GACvDlU,KAAKia,UAAUyN,OAAOxT,EAAI,GAAKlU,KAAKia,UAAUzU,OAC9CxF,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIuiB,EAAI,GAAG9iB,WAAY,GAEhD8iB,KACHxoB,KAAKovE,iBAAiB5mD,EAE1BxoB,MAAKia,UAAU00D,YAAY,EAC3B,MACJ,KAAK,GAGD,IAFAnmD,EAAIxoB,KAAKia,UAAU9G,KACnBnT,KAAKia,UAAU00D,YAAYnmD,EAAI,GACxBA,KACHxoB,KAAKovE,iBAAiB5mD,EAE1BxoB,MAAKia,UAAU00D,YAAY,EAC3B,MACJ,KAAK,GACD,GAAIU,GAAiBrvE,KAAKia,UAAUyN,OAAO7M,MAAMta,OAASP,KAAKia,UAAU9G,IACrEk8D,GAAiB,IACjBrvE,KAAKia,UAAUyN,OAAO7M,MAAMsB,UAAUkzD,GACtCrvE,KAAKia,UAAUyN,OAAO1M,MAAQlS,KAAKsT,IAAIpc,KAAKia,UAAUyN,OAAO1M,MAAQq0D,EAAgB,GACrFrvE,KAAKia,UAAUyN,OAAOxM,MAAQpS,KAAKsT,IAAIpc,KAAKia,UAAUyN,OAAOxM,MAAQm0D,EAAgB,GACrFrvE,KAAKwqE,UAAUhhE,KAAK,MAKpCwgE,EAAa7pE,UAAUirE,YAAc,SAAUjG,GAC3C,OAAQA,EAAO,IACX,IAAK,GACDnlE,KAAKkvE,mBAAmBlvE,KAAKia,UAAUyN,OAAOvT,EAAGnU,KAAKia,UAAUyN,OAAOxT,EAAGlU,KAAKia,UAAUzU,KACzF,MACJ,KAAK,GACDxF,KAAKkvE,mBAAmBlvE,KAAKia,UAAUyN,OAAOvT,EAAG,EAAGnU,KAAKia,UAAUyN,OAAOxT,EAAI,EAC9E,MACJ,KAAK,GACDlU,KAAKkvE,mBAAmBlvE,KAAKia,UAAUyN,OAAOvT,EAAG,EAAGnU,KAAKia,UAAUzU,MAG3ExF,KAAKia,UAAU00D,YAAY3uE,KAAKia,UAAUyN,OAAOvT,IAErD61D,EAAa7pE,UAAUkrE,YAAc,SAAUlG,GAC3C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,EAMZ,KAJA,GAAItnD,GAAS1nB,KAAKia,UAAUyN,OACxBD,EAAMC,EAAOvT,EAAIuT,EAAO1M,MACxBs0D,EAAyBtvE,KAAKia,UAAU9G,KAAO,EAAIuU,EAAOhM,aAC1D6zD,EAAuBvvE,KAAKia,UAAU9G,KAAO,EAAIuU,EAAO1M,MAAQs0D,EAAyB,EACtFN,KACHtnD,EAAO7M,MAAMha,OAAO0uE,EAAuB,EAAG,GAC9C7nD,EAAO7M,MAAMha,OAAO4mB,EAAK,EAAGC,EAAO9M,aAAa5a,KAAKia,UAAU80D,iBAEnE/uE,MAAKia,UAAU00D,YAAYjnD,EAAOvT,GAClCnU,KAAKia,UAAU00D,YAAYjnD,EAAOhM,eAEtCsuD,EAAa7pE,UAAUmrE,YAAc,SAAUnG,GAC3C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,EAEZ,IAEIxmD,GAFAd,EAAS1nB,KAAKia,UAAUyN,OACxBD,EAAMC,EAAOvT,EAAIuT,EAAO1M,KAI5B,KAFAwN,EAAIxoB,KAAKia,UAAU9G,KAAO,EAAIuU,EAAOhM,aACrC8M,EAAIxoB,KAAKia,UAAU9G,KAAO,EAAIuU,EAAO1M,MAAQwN,EACtCwmD,KACHtnD,EAAO7M,MAAMha,OAAO4mB,EAAK,GACzBC,EAAO7M,MAAMha,OAAO2nB,EAAG,EAAGd,EAAO9M,aAAa5a,KAAKia,UAAU80D,iBAEjE/uE,MAAKia,UAAU00D,YAAYjnD,EAAOvT,GAClCnU,KAAKia,UAAU00D,YAAYjnD,EAAOhM,eAEtCsuD,EAAa7pE,UAAUorE,YAAc,SAAUpG,GAC3CnlE,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIjG,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAUyN,OAAO1M,OAAO7T,YAAYnH,KAAKia,UAAUyN,OAAOxT,EAAGixD,EAAO,IAAM,EAAGnlE,KAAKia,UAAUyN,OAAOjN,YAAYza,KAAKia,UAAU80D,kBAC7L/uE,KAAKia,UAAU00D,YAAY3uE,KAAKia,UAAUyN,OAAOvT,IAErD61D,EAAa7pE,UAAUqrE,SAAW,SAAUrG,GAGxC,IAFA,GAAI6J,GAAQ7J,EAAO,IAAM,EACrBz9C,EAAS1nB,KAAKia,UAAUyN,OACrBsnD,KACHtnD,EAAO7M,MAAMha,OAAO6mB,EAAO1M,MAAQ0M,EAAOjM,UAAW,GACrDiM,EAAO7M,MAAMha,OAAO6mB,EAAO1M,MAAQ0M,EAAOhM,aAAc,EAAGgM,EAAO9M,aAAa3K,EAAahM,mBAEhGjE,MAAKia,UAAU00D,YAAYjnD,EAAOjM,WAClCzb,KAAKia,UAAU00D,YAAYjnD,EAAOhM,eAEtCsuD,EAAa7pE,UAAUsrE,WAAa,SAAUtG,EAAQD,GAClD,GAAIC,EAAO5kE,OAAS,IAAM2kE,EAAS,CAG/B,IAFA,GAAI8J,GAAQ7J,EAAO,IAAM,EACrBz9C,EAAS1nB,KAAKia,UAAUyN,OACrBsnD,KACHtnD,EAAO7M,MAAMha,OAAO6mB,EAAO1M,MAAQ0M,EAAOhM,aAAc,GACxDgM,EAAO7M,MAAMha,OAAO6mB,EAAO1M,MAAQ0M,EAAOjM,UAAW,EAAGiM,EAAO9M,aAAa3K,EAAahM,mBAE7FjE,MAAKia,UAAU00D,YAAYjnD,EAAOjM,WAClCzb,KAAKia,UAAU00D,YAAYjnD,EAAOhM,gBAG1CsuD,EAAa7pE,UAAUurE,WAAa,SAAUvG,GAC1CnlE,KAAKia,UAAUyN,OAAO7M,MAAM5U,IAAIjG,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAUyN,OAAO1M,OAAO5T,aAAapH,KAAKia,UAAUyN,OAAOxT,EAAGlU,KAAKia,UAAUyN,OAAOxT,GAAKixD,EAAO,IAAM,GAAInlE,KAAKia,UAAUyN,OAAOjN,YAAYza,KAAKia,UAAU80D,mBAE9N/E,EAAa7pE,UAAUwrE,kBAAoB,SAAUxG,GAGjD,IAFA,GAAI6J,GAAQ7J,EAAO,IAAM,EACrBz9C,EAAS1nB,KAAKia,UAAUyN,OACrBsnD,KACHtnD,EAAOxT,EAAIwT,EAAOhI,YAG1BsqD,EAAa7pE,UAAUyrE,gBAAkB,SAAUzG,GAC/C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOxT,EAAI86D,EAAQ,EAC9BhvE,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,OAC1CxF,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUzU,KAAO,IAGxDwkE,EAAa7pE,UAAU0rE,kBAAoB,SAAU1G,GACjD,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOxT,GAAK86D,EACvBhvE,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,OAC1CxF,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUzU,KAAO,IAGxDwkE,EAAa7pE,UAAU2rE,yBAA2B,SAAU3G,GACxD,GAAIz9C,GAAS1nB,KAAKia,UAAUyN,OACxB3f,EAAO2f,EAAO7M,MAAM5U,IAAIyhB,EAAO1M,MAAQ0M,EAAOvT,EAClDpM,GAAKrB,SAASghB,EAAOxT,EAAI,EAAGlU,KAAKmnB,WACjCpf,EAAKX,aAAasgB,EAAOxT,EAAGwT,EAAOxT,GAAKixD,EAAO,IAAM,OAAgCx7D,KAA3B3J,KAAKmnB,UAAU3iB,QAAyBxE,KAAKmnB,UAAYO,EAAOjN,YAAYxK,EAAahM,qBAEvJ+lE,EAAa7pE,UAAU4rE,qBAAuB,SAAU5G,EAAQD,GACxDC,EAAO,GAAK,IAGXD,EAQgB,MAAZA,IACDllE,KAAKia,UAAUu1D,GAAG,SAClBxvE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,cAE7CtN,KAAKia,UAAUu1D,GAAG,gBACvBxvE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,cAE7CtN,KAAKia,UAAUu1D,GAAG,SACvBxvE,KAAKia,UAAU7O,QAAQ+5D,EAAO,GAAK,KAE9BnlE,KAAKia,UAAUu1D,GAAG,WACvBxvE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,kBAlBlDtN,KAAKia,UAAUu1D,GAAG,UAAYxvE,KAAKia,UAAUu1D,GAAG,iBAAmBxvE,KAAKia,UAAUu1D,GAAG,UACrFxvE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,UAE7CtN,KAAKia,UAAUu1D,GAAG,UACvBxvE,KAAKia,UAAU7O,QAAQm+D,EAAkB79D,GAAG4B,IAAM,UAkB9D08D,EAAa7pE,UAAU6rE,gBAAkB,SAAU7G,GAC/C,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,EAAI66D,EAAQ,EAC9BhvE,KAAKia,UAAUyN,OAAOvT,GAAKnU,KAAKia,UAAU9G,OAC1CnT,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAU9G,KAAO,IAGxD62D,EAAa7pE,UAAU8rE,kBAAoB,SAAU9G,GACjD,GAAI6J,GAAQ7J,EAAO,EACf6J,GAAQ,IACRA,EAAQ,GAEZhvE,KAAKia,UAAUyN,OAAOvT,GAAK66D,EACvBhvE,KAAKia,UAAUyN,OAAOvT,GAAKnU,KAAKia,UAAU9G,OAC1CnT,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAU9G,KAAO,GAEhDnT,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,MAC1CxF,KAAKia,UAAUyN,OAAOxT,KAG9B81D,EAAa7pE,UAAU+rE,WAAa,SAAU/G,GACtCA,EAAO,GAAK,IACZA,EAAO,GAAK,GACZA,EAAO,GAAK,IACZA,EAAO,GAAK,GAChBnlE,KAAKia,UAAUyN,OAAOvT,EAAIgxD,EAAO,GAAK,EAClCnlE,KAAKia,UAAUyN,OAAOvT,GAAKnU,KAAKia,UAAU9G,OAC1CnT,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAU9G,KAAO,GAEpDnT,KAAKia,UAAUyN,OAAOxT,EAAIixD,EAAO,GAAK,EAClCnlE,KAAKia,UAAUyN,OAAOxT,GAAKlU,KAAKia,UAAUzU,OAC1CxF,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUzU,KAAO,IAGxDwkE,EAAa7pE,UAAUgsE,SAAW,SAAUhH,GACxC,GAAI6J,GAAQ7J,EAAO,EACf6J,IAAS,QACFhvE,MAAKia,UAAUyN,OAAOjI,KAAKzf,KAAKia,UAAUyN,OAAOxT,GAEzC,IAAV86D,IACLhvE,KAAKia,UAAUyN,OAAOjI,UAG9BuqD,EAAa7pE,UAAUisE,QAAU,SAAUjH,EAAQD,GAC/C,GAAIC,EAAO5kE,OAAS,EAChB,IAAK,GAAIwF,GAAI,EAAGA,EAAIo/D,EAAO5kE,OAAQwF,IAC/B/F,KAAKosE,SAASjH,EAAOp/D,SAI7B,IAAKm/D,GASA,GAAgB,MAAZA,EACL,OAAQC,EAAO,IACX,IAAK,GACDnlE,KAAKia,UAAUw1D,mBAAoB,CACnC,MACJ,KAAK,GACDzvE,KAAKia,UAAUy1D,YAAY,EAAGlG,EAAWmG,iBACzC3vE,KAAKia,UAAUy1D,YAAY,EAAGlG,EAAWmG,iBACzC3vE,KAAKia,UAAUy1D,YAAY,EAAGlG,EAAWmG,iBACzC3vE,KAAKia,UAAUy1D,YAAY,EAAGlG,EAAWmG,gBACzC,MACJ,KAAK,GACD3vE,KAAKia,UAAU21D,UAAY5vE,KAAKia,UAAUzU,KAC1CxF,KAAKia,UAAU1S,OAAO,IAAKvH,KAAKia,UAAU9G,KAC1C,MACJ,KAAK,GACDnT,KAAKia,UAAU41D,YAAa,CAC5B,MACJ,KAAK,GACD7vE,KAAKia,UAAUq0D,gBAAiB,CAChC,MACJ,KAAK,IACD,KACJ,KAAK,IACDtuE,KAAKia,UAAUg0D,IAAI,6CACnBjuE,KAAKia,UAAU61D,mBAAoB,EAC/B9vE,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,gBAE5B,MACJ,KAAK,GACL,IAAK,KACL,IAAK,MACL,IAAK,MACDhwE,KAAKia,UAAUg2D,SAAyB,IAAd9K,EAAO,GACjCnlE,KAAKia,UAAUi2D,WAA2B,MAAd/K,EAAO,GACnCnlE,KAAKia,UAAUk2D,YAAchL,EAAO,GAAK,IACzCnlE,KAAKia,UAAUm2D,aAAc,EACzBpwE,KAAKia,UAAUyI,SACf1iB,KAAKia,UAAUyI,QAAQpR,UAAUC,IAAI,uBAErCvR,KAAKia,UAAU8nD,kBACf/hE,KAAKia,UAAU8nD,iBAAiBzI,UAEpCt5D,KAAKia,UAAUg0D,IAAI,2BACnB,MACJ,KAAK,MACDjuE,KAAKia,UAAUo2D,WAAY,CAC3B,MACJ,KAAK,MACDrwE,KAAKia,UAAUq2D,UAAW,CAC1B,MACJ,KAAK,MACDtwE,KAAKia,UAAUs2D,UAAW,CAC1B,MACJ,KAAK,MACDvwE,KAAKia,UAAUu2D,YAAa,CAC5B,MACJ,KAAK,IACDxwE,KAAKia,UAAUw2D,cAAe,CAC9B,MACJ,KAAK,MACDzwE,KAAK2sE,WAAWxH,EAChB,MACJ,KAAK,MACDnlE,KAAK2sE,WAAWxH,EACpB,KAAK,IACL,IAAK,MACDnlE,KAAKia,UAAUy2D,QAAQ9P,kBAAkB5gE,KAAKia,UAAU80D,iBACxD/uE,KAAKia,UAAU6T,QAAQ,EAAG9tB,KAAKia,UAAU9G,KAAO,GAC5CnT,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,iBAE5BhwE,KAAKia,UAAU02D,YACf,MACJ,KAAK,MACD3wE,KAAKia,UAAU0nD,oBAAqB,OApF5C,QAAQwD,EAAO,IACX,IAAK,GACDnlE,KAAKia,UAAUs0D,YAAa,IAuF5CvE,EAAa7pE,UAAUksE,UAAY,SAAUlH,EAAQD,GACjD,GAAIC,EAAO5kE,OAAS,EAChB,IAAK,GAAIwF,GAAI,EAAGA,EAAIo/D,EAAO5kE,OAAQwF,IAC/B/F,KAAKqsE,WAAWlH,EAAOp/D,SAI/B,IAAKm/D,GASA,GAAgB,MAAZA,EACL,OAAQC,EAAO,IACX,IAAK,GACDnlE,KAAKia,UAAUw1D,mBAAoB,CACnC,MACJ,KAAK,GAC2B,MAAxBzvE,KAAKia,UAAUzU,MAAgBxF,KAAKia,UAAU21D,WAC9C5vE,KAAKia,UAAU1S,OAAOvH,KAAKia,UAAU21D,UAAW5vE,KAAKia,UAAU9G,YAE5DnT,MAAKia,UAAU21D,SACtB,MACJ,KAAK,GACD5vE,KAAKia,UAAU41D,YAAa,CAC5B,MACJ,KAAK,GACD7vE,KAAKia,UAAUq0D,gBAAiB,CAChC,MACJ,KAAK,IACD,KACJ,KAAK,IACDtuE,KAAKia,UAAUg0D,IAAI,oCACnBjuE,KAAKia,UAAU61D,mBAAoB,EAC/B9vE,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,gBAE5B,MACJ,KAAK,GACL,IAAK,KACL,IAAK,MACL,IAAK,MACDhwE,KAAKia,UAAUg2D,UAAW,EAC1BjwE,KAAKia,UAAUi2D,YAAa,EAC5BlwE,KAAKia,UAAUk2D,aAAc,EAC7BnwE,KAAKia,UAAUm2D,aAAc,EACzBpwE,KAAKia,UAAUyI,SACf1iB,KAAKia,UAAUyI,QAAQpR,UAAU+uC,OAAO,uBAExCrgD,KAAKia,UAAU8nD,kBACf/hE,KAAKia,UAAU8nD,iBAAiB6O,QAEpC,MACJ,KAAK,MACD5wE,KAAKia,UAAUo2D,WAAY,CAC3B,MACJ,KAAK,MACDrwE,KAAKia,UAAUq2D,UAAW,CAC1B,MACJ,KAAK,MACDtwE,KAAKia,UAAUs2D,UAAW,CAC1B,MACJ,KAAK,MACDvwE,KAAKia,UAAUu2D,YAAa,CAC5B,MACJ,KAAK,IACDxwE,KAAKia,UAAUw2D,cAAe,CAC9B,MACJ,KAAK,MACDzwE,KAAK4sE,cAAczH,EACnB,MACJ,KAAK,MACL,IAAK,IACL,IAAK,MACDnlE,KAAKia,UAAUy2D,QAAQjQ,uBACL,OAAd0E,EAAO,IACPnlE,KAAK4sE,cAAczH,GAEvBnlE,KAAKia,UAAU6T,QAAQ,EAAG9tB,KAAKia,UAAU9G,KAAO,GAC5CnT,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,iBAE5BhwE,KAAKia,UAAU02D,YACf,MACJ,KAAK,MACD3wE,KAAKia,UAAU0nD,oBAAqB,OAjF5C,QAAQwD,EAAO,IACX,IAAK,GACDnlE,KAAKia,UAAUs0D,YAAa,IAoF5CvE,EAAa7pE,UAAUmsE,eAAiB,SAAUnH,GAC9C,GAAsB,IAAlBA,EAAO5kE,QAA8B,IAAd4kE,EAAO,GAG9B,MAFAnlE,MAAKia,UAAUw0D,YAAY/rE,GAAKuN,EAAahM,kBAAkBvB,QAC/D1C,KAAKia,UAAUw0D,YAAY9rE,GAAKsN,EAAahM,kBAAkBtB,GAMnE,KAAK,GAFDtB,GADAwvE,EAAI1L,EAAO5kE,OAEXma,EAAO1a,KAAKia,UAAUw0D,YACjB1oE,EAAI,EAAGA,EAAI8qE,EAAG9qE,IACnB1E,EAAI8jE,EAAOp/D,GACP1E,GAAK,IAAMA,GAAK,IAChBqZ,EAAKhY,KAAM,SACXgY,EAAKhY,IAAM,SAAYrB,EAAI,IAEtBA,GAAK,IAAMA,GAAK,IACrBqZ,EAAK/X,KAAM,SACX+X,EAAK/X,IAAM,SAAYtB,EAAI,IAEtBA,GAAK,IAAMA,GAAK,IACrBqZ,EAAKhY,KAAM,SACXgY,EAAKhY,IAAM,SAAYrB,EAAI,IAEtBA,GAAK,KAAOA,GAAK,KACtBqZ,EAAK/X,KAAM,SACX+X,EAAK/X,IAAM,SAAYtB,EAAI,KAEhB,IAANA,GACLqZ,EAAKhY,GAAKuN,EAAahM,kBAAkBvB,GACzCgY,EAAK/X,GAAKsN,EAAahM,kBAAkBtB,IAE9B,IAANtB,EACLqZ,EAAKhY,IAAM,UAEA,IAANrB,EACLqZ,EAAK/X,IAAM,SAEA,IAANtB,EACLqZ,EAAKhY,IAAM,UAEA,IAANrB,EACLqZ,EAAKhY,IAAM,UAEA,IAANrB,EACLqZ,EAAKhY,IAAM,SAEA,IAANrB,EACLqZ,EAAKhY,IAAM,WAEA,IAANrB,EACLqZ,EAAK/X,IAAM,UAEA,KAANtB,GACLqZ,EAAKhY,KAAM,UACXgY,EAAK/X,KAAM,WAEA,KAANtB,EACLqZ,EAAK/X,KAAM,SAEA,KAANtB,EACLqZ,EAAKhY,KAAM,UAEA,KAANrB,EACLqZ,EAAKhY,KAAM,UAEA,KAANrB,EACLqZ,EAAKhY,KAAM,SAEA,KAANrB,EACLqZ,EAAKhY,KAAM,WAEA,KAANrB,GACLqZ,EAAKhY,KAAM,SACXgY,EAAKhY,IAA0C,SAApCuN,EAAahM,kBAAkBvB,IAE/B,KAANrB,GACLqZ,EAAK/X,KAAM,SACX+X,EAAK/X,IAA0C,SAApCsN,EAAahM,kBAAkBtB,IAE/B,KAANtB,EACiB,IAAlB8jE,EAAOp/D,EAAI,IACXA,GAAK,EACL2U,EAAKhY,IAAM,SACXgY,EAAKhY,KAAM,SACXgY,EAAKhY,IAAMuN,EAAaxN,cAAcI,cAAcsiE,EAAOp/D,GAAIo/D,EAAOp/D,EAAI,GAAIo/D,EAAOp/D,EAAI,KACzFA,GAAK,GAEkB,IAAlBo/D,EAAOp/D,EAAI,KAChBA,GAAK,EACL1E,EAAgB,IAAZ8jE,EAAOp/D,GACX2U,EAAKhY,KAAM,SACXgY,EAAKhY,IAAM,SAAWrB,GAGf,KAANA,EACiB,IAAlB8jE,EAAOp/D,EAAI,IACXA,GAAK,EACL2U,EAAK/X,IAAM,SACX+X,EAAK/X,KAAM,SACX+X,EAAK/X,IAAMsN,EAAaxN,cAAcI,cAAcsiE,EAAOp/D,GAAIo/D,EAAOp/D,EAAI,GAAIo/D,EAAOp/D,EAAI,KACzFA,GAAK,GAEkB,IAAlBo/D,EAAOp/D,EAAI,KAChBA,GAAK,EACL1E,EAAgB,IAAZ8jE,EAAOp/D,GACX2U,EAAK/X,KAAM,SACX+X,EAAK/X,IAAM,SAAWtB,GAGf,MAANA,GACLqZ,EAAKhY,KAAM,SACXgY,EAAKhY,IAA0C,SAApCuN,EAAahM,kBAAkBvB,GAC1CgY,EAAK/X,KAAM,SACX+X,EAAK/X,IAA0C,SAApCsN,EAAahM,kBAAkBtB,IAG1C3C,KAAKia,UAAUyuD,MAAM,6BAA8BrnE,IAI/D2oE,EAAa7pE,UAAUosE,aAAe,SAAUpH,EAAQD,GACpD,GAAKA,GAYA,GAAgB,MAAZA,EACL,OAAQC,EAAO,IACX,IAAK,GACD,GAAIhxD,GAAInU,KAAKia,UAAUyN,OAAOvT,EAAI,EAC9BD,EAAIlU,KAAKia,UAAUyN,OAAOxT,EAAI,CAClClU,MAAKsqE,QAAQ9gE,KAAK+/D,EAAkB79D,GAAG4B,IAAM,KAAO6G,EAAI,IAAMD,EAAI,UAhB1E,QAAQixD,EAAO,IACX,IAAK,GACDnlE,KAAKsqE,QAAQ9gE,KAAK+/D,EAAkB79D,GAAG4B,IAAM,MAC7C,MACJ,KAAK,GACD,GAAI6G,GAAInU,KAAKia,UAAUyN,OAAOvT,EAAI,EAC9BD,EAAIlU,KAAKia,UAAUyN,OAAOxT,EAAI,CAClClU,MAAKsqE,QAAQ9gE,KAAK+/D,EAAkB79D,GAAG4B,IAAM,IAAM6G,EAAI,IAAMD,EAAI,OAsBjF81D,EAAa7pE,UAAUqsE,UAAY,SAAUrH,EAAQD,GACjC,MAAZA,IACAllE,KAAKia,UAAUw2D,cAAe,EAC9BzwE,KAAKia,UAAUs0D,YAAa,EAC5BvuE,KAAKia,UAAU41D,YAAa,EAC5B7vE,KAAKia,UAAUq0D,gBAAiB,EAChCtuE,KAAKia,UAAU61D,mBAAoB,EAC/B9vE,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,iBAE5BhwE,KAAKia,UAAUw1D,mBAAoB,EACnCzvE,KAAKia,UAAUyN,OAAOjM,UAAY,EAClCzb,KAAKia,UAAUyN,OAAOhM,aAAe1b,KAAKia,UAAU9G,KAAO,EAC3DnT,KAAKia,UAAUw0D,YAAcx+D,EAAahM,kBAAkBnB,QAC5D9C,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUyN,OAAOvT,EAAI,EACpDnU,KAAKia,UAAUm0D,QAAU,KACzBpuE,KAAKia,UAAU62D,OAAS,EACxB9wE,KAAKia,UAAU82D,UAAY,QAGnC/G,EAAa7pE,UAAUssE,eAAiB,SAAUtH,EAAQD,GACtD,GAAgB,MAAZA,EAAiB,CACjB,GAAI8J,GAAQ7J,EAAO,GAAK,EAAI,EAAIA,EAAO,EACvC,QAAQ6J,GACJ,IAAK,GACL,IAAK,GACDhvE,KAAKia,UAAU+2D,UAAU,cAAe,QACxC,MACJ,KAAK,GACL,IAAK,GACDhxE,KAAKia,UAAU+2D,UAAU,cAAe,YACxC,MACJ,KAAK,GACL,IAAK,GACDhxE,KAAKia,UAAU+2D,UAAU,cAAe,OAGhD,GAAIC,GAAajC,EAAQ,GAAM,CAC/BhvE,MAAKia,UAAU+2D,UAAU,cAAeC,KAGhDjH,EAAa7pE,UAAUusE,gBAAkB,SAAUvH,EAAQD,GACnDA,IAGJllE,KAAKia,UAAUyN,OAAOjM,WAAa0pD,EAAO,IAAM,GAAK,EACrDnlE,KAAKia,UAAUyN,OAAOhM,cAAgBypD,EAAO,IAAMA,EAAO,IAAMnlE,KAAKia,UAAU9G,KAAOgyD,EAAO,GAAKnlE,KAAKia,UAAU9G,MAAQ,EACzHnT,KAAKia,UAAUyN,OAAOxT,EAAI,EAC1BlU,KAAKia,UAAUyN,OAAOvT,EAAI,IAE9B61D,EAAa7pE,UAAUwsE,WAAa,SAAUxH,GAC1CnlE,KAAKia,UAAUyN,OAAOpL,OAAStc,KAAKia,UAAUyN,OAAOxT,EACrDlU,KAAKia,UAAUyN,OAAOrL,OAASrc,KAAKia,UAAUyN,OAAOvT,EACrDnU,KAAKia,UAAUyN,OAAOvN,iBAAiBzX,GAAK1C,KAAKia,UAAUw0D,YAAY/rE,GACvE1C,KAAKia,UAAUyN,OAAOvN,iBAAiBxX,GAAK3C,KAAKia,UAAUw0D,YAAY9rE,IAE3EqnE,EAAa7pE,UAAUysE,cAAgB,SAAUzH,GAC7CnlE,KAAKia,UAAUyN,OAAOxT,EAAIlU,KAAKia,UAAUyN,OAAOpL,QAAU,EAC1Dtc,KAAKia,UAAUyN,OAAOvT,EAAInU,KAAKia,UAAUyN,OAAOrL,QAAU,EAC1Drc,KAAKia,UAAUw0D,YAAY/rE,GAAK1C,KAAKia,UAAUyN,OAAOvN,iBAAiBzX,GACvE1C,KAAKia,UAAUw0D,YAAY9rE,GAAK3C,KAAKia,UAAUyN,OAAOvN,iBAAiBxX,IAE3EqnE,EAAa7pE,UAAUktE,SAAW,SAAU7lE,GACxCxH,KAAKia,UAAUi3D,YAAY1pE,IAE/BwiE,EAAa7pE,UAAUod,SAAW,WAC9Bvd,KAAKia,UAAUyN,OAAOxT,EAAI,EAC1BlU,KAAKW,SAETqpE,EAAa7pE,UAAUotE,sBAAwB,WAC3CvtE,KAAKia,UAAUg0D,IAAI,6CACnBjuE,KAAKia,UAAU61D,mBAAoB,EAC/B9vE,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,kBAGhChG,EAAa7pE,UAAUqtE,kBAAoB,WACvCxtE,KAAKia,UAAUg0D,IAAI,oCACnBjuE,KAAKia,UAAU61D,mBAAoB,EAC/B9vE,KAAKia,UAAU81D,UACf/vE,KAAKia,UAAU81D,SAASC,kBAGhChG,EAAa7pE,UAAUutE,qBAAuB,WAC1C1tE,KAAKia,UAAUwzD,UAAU,GACzBztE,KAAKia,UAAUy1D,YAAY,EAAGlG,EAAWmG,kBAE7C3F,EAAa7pE,UAAU0tE,cAAgB,SAAUnG,GAC7C,GAA8B,IAA1BA,EAAennE,OAEf,WADAP,MAAK0tE,sBAGiB,OAAtBhG,EAAe,IAGnB1nE,KAAKia,UAAUy1D,YAAY/F,EAAOjC,EAAe,IAAK8B,EAAWoE,SAASlG,EAAe,KAAO8B,EAAWmG,kBAG/G3F,EAAa7pE,UAAUQ,MAAQ,WAC3BX,KAAKia,UAAUtZ,SAEnBqpE,EAAa7pE,UAAUitE,OAAS,WAC5BptE,KAAKia,UAAUmzD,UAEnBpD,EAAa7pE,UAAUmtE,aAAe,WAClCttE,KAAKia,UAAUqzD,gBAEnBtD,EAAa7pE,UAAUooE,MAAQ,WAC3BvoE,KAAKiqE,QAAQ1B,QACbvoE,KAAKia,UAAUsuD,SAEnByB,EAAa7pE,UAAUstE,UAAY,SAAU0D,GACzCnxE,KAAKia,UAAUwzD,UAAU0D,IAEtBnH,GACTpmD,EAAY7jB,WACdP,GAAQwqE,aAAeA,GpDuqtBjBoH,IACA,SAAU7xE,EAAQC,EAASC,GAEjC,YqD3yvBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIuxE,GAAqB,EAAQ,KAC7B5H,EAAc,EAAQ,KACtBtJ,EAAkB,EAAQ,KAC1BmR,EAAa,WACb,QAASA,GAAUr3D,GACfja,KAAKia,UAAYA,EACjBja,KAAKuxE,iBACLvxE,KAAKwxE,mBAAqB,EAC1BxxE,KAAKyxE,aAAe,GAAItR,GAAgBj3D,cACxClJ,KAAK0xE,aAAe,GAAIvR,GAAgBj3D,cACxClJ,KAAK2xE,eAAiB,GAAIxR,GAAgBj3D,cAC1ClJ,KAAK4xE,gBACDvqE,MAAO,KACPC,IAAK,MAgMb,MA7LA1H,QAAOC,eAAeyxE,EAAUnxE,UAAW,eACvC8F,IAAK,WAAc,MAAOjG,MAAKyxE,aAAavxD,OAC5C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeyxE,EAAUnxE,UAAW,eACvC8F,IAAK,WAAc,MAAOjG,MAAK0xE,aAAaxxD,OAC5C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeyxE,EAAUnxE,UAAW,iBACvC8F,IAAK,WAAc,MAAOjG,MAAK2xE,eAAezxD,OAC9C5W,YAAY,EACZC,cAAc,IAElB+nE,EAAUnxE,UAAU0xE,YAAc,SAAUC,GACxC9xE,KAAK+xE,kBAAoBD,GAE7BR,EAAUnxE,UAAU6xE,YAAc,SAAU3qE,EAAOC,GAC/C,GAAIjD,GAAQrE,IACPA,MAAK+xE,oBAGwB,OAA9B/xE,KAAK4xE,eAAevqE,OACpBrH,KAAK4xE,eAAevqE,MAAQA,EAC5BrH,KAAK4xE,eAAetqE,IAAMA,IAG1BtH,KAAK4xE,eAAevqE,MAAQyB,KAAKC,IAAI/I,KAAK4xE,eAAevqE,MAAOA,GAChErH,KAAK4xE,eAAetqE,IAAMwB,KAAKsT,IAAIpc,KAAK4xE,eAAetqE,IAAKA,IAEhEtH,KAAK+xE,kBAAkB9/D,SAAS5K,EAAOC,GACnCtH,KAAKiyE,gBACL3sD,aAAatlB,KAAKiyE,gBAEtBjyE,KAAKiyE,eAAiBzsD,WAAW,WAAc,MAAOnhB,GAAM6tE,gBAAmBZ,EAAUa,uBAE7Fb,EAAUnxE,UAAU+xE,aAAe,WAC/BlyE,KAAKiyE,eAAiB,IACtB,IAAIvqD,GAAS1nB,KAAKia,UAAUyN,OACxB0qD,EAAwB1qD,EAAOxM,MAAQlb,KAAK4xE,eAAevqE,KAC/D,MAAI+qE,GAAyB1qD,EAAO7M,MAAMta,QAA1C,CAMA,IAHA,GAAI8xE,GAAsB3qD,EAAOxM,MAAQpS,KAAKC,IAAI/I,KAAK4xE,eAAetqE,IAAKtH,KAAKia,UAAU9G,MAAQ,EAC9Fm/D,EAAoBxpE,KAAKwa,KAAKguD,EAAUiB,oBAAsBvyE,KAAKia,UAAUzU,MAC7E8a,EAAWtgB,KAAKia,UAAUyN,OAAOpH,UAAS,EAAO8xD,EAAuBC,EAAqBC,EAAmBA,GAC7GhyD,EAASY,WAEZ,IAAK,GADDkH,GAAW9H,EAASa,OACfpb,EAAI,EAAGA,EAAI/F,KAAKuxE,cAAchxE,OAAQwF,IAC3C/F,KAAKwyE,cAAcpqD,EAAShH,MAAM7B,MAAO6I,EAAS5jB,QAASxE,KAAKuxE,cAAcxrE,GAGtF/F,MAAK4xE,eAAevqE,MAAQ,KAC5BrH,KAAK4xE,eAAetqE,IAAM,OAE9BgqE,EAAUnxE,UAAUsyE,oBAAsB,SAAUC,EAAOtnE,EAASqK,GAEhE,OADgB,KAAZA,IAAsBA,OACrBrK,EACD,KAAM,IAAI2b,OAAM,0BAEpB,IAAI4rD,IACAviE,GAAIpQ,KAAKwxE,qBACTkB,MAAOA,EACPtnE,QAASA,EACTwnE,WAAYn9D,EAAQm9D,WACpBC,mBAAoBp9D,EAAQo9D,mBAC5BC,qBAAsBr9D,EAAQiQ,gBAC9BqtD,mBAAoBt9D,EAAQwP,cAC5BY,iBAAkBpQ,EAAQoQ,iBAC1BmtD,SAAUv9D,EAAQu9D,UAAY,EAGlC,OADAhzE,MAAKizE,sBAAsBN,GACpBA,EAAQviE,IAEnBkhE,EAAUnxE,UAAU8yE,sBAAwB,SAAUN,GAClD,GAAkC,IAA9B3yE,KAAKuxE,cAAchxE,OAEnB,WADAP,MAAKuxE,cAAc9wE,KAAKkyE,EAG5B,KAAK,GAAI5sE,GAAI/F,KAAKuxE,cAAchxE,OAAS,EAAGwF,GAAK,EAAGA,IAChD,GAAI4sE,EAAQK,UAAYhzE,KAAKuxE,cAAcxrE,GAAGitE,SAE1C,WADAhzE,MAAKuxE,cAAc1wE,OAAOkF,EAAI,EAAG,EAAG4sE,EAI5C3yE,MAAKuxE,cAAc1wE,OAAO,EAAG,EAAG8xE,IAEpCrB,EAAUnxE,UAAU+yE,sBAAwB,SAAUC,GAClD,IAAK,GAAIptE,GAAI,EAAGA,EAAI/F,KAAKuxE,cAAchxE,OAAQwF,IAC3C,GAAI/F,KAAKuxE,cAAcxrE,GAAGqK,KAAO+iE,EAE7B,MADAnzE,MAAKuxE,cAAc1wE,OAAOkF,EAAG,IACtB,CAGf,QAAO,GAEXurE,EAAUnxE,UAAUqyE,cAAgB,SAAUY,EAAU/qD,EAAMsqD,GA4C1D,IA3CA,GAEI5/C,GAFA1uB,EAAQrE,KACRqzE,EAAM,GAAI93C,QAAOo3C,EAAQD,MAAMl3C,OAAQm3C,EAAQD,MAAMY,MAAQ,KAE7Dn0D,GAAe,EAuCfwuD,EAAS3tE,KACuB,QAA5B+yB,EAAQsgD,EAAIv+B,KAAKzsB,KAAiB,CAEtC,GAAgB,UAzCN,WACV,GAAIkrD,GAAMxgD,EAAoC,gBAAvB4/C,GAAQC,WAA0B,EAAID,EAAQC,WACrE,KAAKW,EAAK,CACN,GAAI5F,EAAO1zD,UAAU+zD,MAEjB,KADAzgD,SAAQ0gD,KAAMl7C,MAAOA,EAAO4/C,QAASA,IAC/B,GAAI5rD,OAAM,+CAEpB,OAAO,QAIX,GAFA5H,EAAckJ,EAAKznB,QAAQ2yE,EAAKp0D,EAAc,GAC9Ck0D,EAAIx8C,UAAY1X,EAAco0D,EAAIhzE,OAC9B4e,EAAc,EACd,MAAO,OAEX,IAAIq0D,GAAc7F,EAAO1zD,UAAUyN,OAAOzI,yBAAyBm0D,EAAUj0D,EAC7E,IAAIq0D,EAAY,GAAK,EACjB,MAAO,OAEX,IAEI9wE,GAFAqF,EAAO4lE,EAAO1zD,UAAUyN,OAAO7M,MAAM5U,IAAIutE,EAAY,IACrD94D,EAAO3S,EAAK1B,MAAMmtE,EAAY,GAE9B94D,KACAhY,EAAMgY,GAAQ,EAAK,KAEnBi4D,EAAQE,mBACRF,EAAQE,mBAAmBU,EAAK,SAAUE,GAClCpvE,EAAM4tE,gBAGNwB,GACApvE,EAAMqvE,SAASF,EAAY,GAAIA,EAAY,GAAKnvE,EAAM4V,UAAUyN,OAAOxM,MAAOq4D,EAAKZ,EAASjwE,KAKpGirE,EAAO+F,SAASF,EAAY,GAAIA,EAAY,GAAK7F,EAAO1zD,UAAUyN,OAAOxM,MAAOq4D,EAAKZ,EAASjwE,MAO9F,QAGZ4uE,EAAUnxE,UAAUuzE,SAAW,SAAUx/D,EAAGC,EAAGo/D,EAAKZ,EAASjwE,GACzD,GAAI2B,GAAQrE,KACR8G,EAAQ2iE,EAAYnoD,mBAAmBiyD,GACvCntD,EAAKlS,EAAIlU,KAAKia,UAAUzU,KACxBuf,EAAK5Q,EAAIrL,KAAKsmD,MAAMl7C,EAAIlU,KAAKia,UAAUzU,MACvC6gB,GAAMD,EAAKtf,GAAS9G,KAAKia,UAAUzU,KACnCwf,EAAKD,EAAKjc,KAAKsmD,OAAOhpC,EAAKtf,GAAS9G,KAAKia,UAAUzU,KAC5C,KAAP6gB,IACAA,EAAKrmB,KAAKia,UAAUzU,KACpBwf,KAEJhlB,KAAK+xE,kBAAkBxgE,IAAI,GAAI8/D,GAAmB/qD,UAAUF,EAAK,EAAGrB,EAAK,EAAGsB,EAAK,EAAGrB,EAAK,EAAG,SAAUZ,GAClG,GAAIuuD,EAAQvnE,QACR,MAAOunE,GAAQvnE,QAAQgZ,EAAGmvD,EAE9Bj/D,QAAOq/D,KAAKJ,EAAK,WAClB,WACClvE,EAAMotE,aAAajoE,KAAKnF,EAAMuvE,sBAAsBxtD,EAAIrB,EAAIsB,EAAIrB,EAAItiB,IACpE2B,EAAM4V,UAAUyI,QAAQpR,UAAUC,IAAI,yBACvC,SAAU6S,GACT/f,EAAMstE,eAAenoE,KAAKnF,EAAMuvE,sBAAsBxtD,EAAIrB,EAAIsB,EAAIrB,EAAItiB,IAClEiwE,EAAQG,sBACRH,EAAQG,qBAAqB1uD,EAAGmvD,IAErC,WACClvE,EAAMqtE,aAAaloE,KAAKnF,EAAMuvE,sBAAsBxtD,EAAIrB,EAAIsB,EAAIrB,EAAItiB,IACpE2B,EAAM4V,UAAUyI,QAAQpR,UAAU+uC,OAAO,wBACrCsyB,EAAQI,oBACRJ,EAAQI,sBAEb,SAAU3uD,GACT,OAAIuuD,EAAQ9sD,kBACD8sD,EAAQ9sD,iBAAiBzB,EAAGmvD,OAK/CjC,EAAUnxE,UAAUyzE,sBAAwB,SAAUxtD,EAAIrB,EAAIsB,EAAIrB,EAAItiB,GAClE,OAAS0jB,GAAIA,EAAIrB,GAAIA,EAAIsB,GAAIA,EAAIrB,GAAIA,EAAIxf,KAAMxF,KAAKia,UAAUzU,KAAM9C,GAAIA,IAE5E4uE,EAAUa,oBAAsB,IAChCb,EAAUiB,oBAAsB,IACzBjB,IAEX9xE,GAAQ8xE,UAAYA,GrDkzvBduC,IACA,SAAUt0E,EAAQC,EAASC,GAEjC,YsDrgwBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIg0E,GAAgB,EAAQ,KACxBC,EAAU,EAAQ,KAClBC,EAAmB,EAAQ,KAC3BC,EAAoB,EAAQ,KAC5BhkE,EAAe,EAAQ,KACvBkwD,EAAkB,EAAQ,KAK1B+T,EAAkB,aAClBC,EAA0Bp9D,OAAOC,aAAa,KAC9Co9D,EAA+B,GAAI74C,QAAO44C,EAAyB,KACnEE,EAAoB,WACpB,QAASA,GAAiBp6D,EAAWq6D,GACjCt0E,KAAKia,UAAYA,EACjBja,KAAKs0E,aAAeA,EACpBt0E,KAAKu0E,UAAW,EAChBv0E,KAAKmnB,UAAY,GAAIlX,GAAa9L,SAClCnE,KAAKw0E,uBAAyB,GAAIrU,GAAgBj3D,cAClDlJ,KAAKy0E,iBAAmB,GAAItU,GAAgBj3D,cAC5ClJ,KAAK00E,mBAAqB,GAAIvU,GAAgBj3D,cAC9ClJ,KAAK20E,iBACL30E,KAAK4wE,SACL5wE,KAAK40E,OAAS,GAAIZ,GAAiBa,eAAe56D,GAClDja,KAAK80E,qBAAuB,EAqiBhC,MAniBAl1E,QAAOC,eAAew0E,EAAiBl0E,UAAW,yBAC9C8F,IAAK,WAAc,MAAOjG,MAAKw0E,uBAAuBt0D,OACtD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAew0E,EAAiBl0E,UAAW,mBAC9C8F,IAAK,WAAc,MAAOjG,MAAKy0E,iBAAiBv0D,OAChD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAew0E,EAAiBl0E,UAAW,qBAC9C8F,IAAK,WAAc,MAAOjG,MAAK00E,mBAAmBx0D,OAClD5W,YAAY,EACZC,cAAc,IAElB8qE,EAAiBl0E,UAAUC,QAAU,WACjCJ,KAAK+0E,6BAETn1E,OAAOC,eAAew0E,EAAiBl0E,UAAW,WAC9C8F,IAAK,WACD,MAAOjG,MAAKia,UAAUy2D,QAAQsE,QAElC1rE,YAAY,EACZC,cAAc,IAElB8qE,EAAiBl0E,UAAUw0E,eAAiB,WACxC,GAAItwE,GAAQrE,IACZA,MAAKskB,mBAAqB,SAAUpE,GAAS,MAAO7b,GAAMkgB,aAAarE,IACvElgB,KAAKi1E,iBAAmB,SAAU/0D,GAAS,MAAO7b,GAAM6wE,WAAWh1D,IACnElgB,KAAKm1E,wBAETd,EAAiBl0E,UAAUg1E,qBAAuB,WAC9C,GAAI9wE,GAAQrE,IACZA,MAAKo1E,cAAgBp1E,KAAKia,UAAUyN,OAAO7M,MAAMmF,OAAO,SAAUnB,GAAU,MAAOxa,GAAMgxE,QAAQx2D,KACjG7e,KAAKia,UAAUy2D,QAAQ4E,iBAAiB,SAAUlxD,GAAK,MAAO/f,GAAMg8D,kBAAkBj8C,MAE1FiwD,EAAiBl0E,UAAUm5D,QAAU,WACjCt5D,KAAKu1E,iBACLv1E,KAAKu0E,UAAW,GAEpBF,EAAiBl0E,UAAUywE,OAAS,WAChC5wE,KAAKu0E,UAAW,GAEpB30E,OAAOC,eAAew0E,EAAiBl0E,UAAW,kBAC9C8F,IAAK,WAAc,MAAOjG,MAAK40E,OAAOY,qBACtClsE,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAew0E,EAAiBl0E,UAAW,gBAC9C8F,IAAK,WAAc,MAAOjG,MAAK40E,OAAOa,mBACtCnsE,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAew0E,EAAiBl0E,UAAW,gBAC9C8F,IAAK,WACD,GAAIoB,GAAQrH,KAAK40E,OAAOY,oBACpBluE,EAAMtH,KAAK40E,OAAOa,iBACtB,UAAKpuE,IAAUC,KAGRD,EAAM,KAAOC,EAAI,IAAMD,EAAM,KAAOC,EAAI,KAEnDgC,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAew0E,EAAiBl0E,UAAW,iBAC9C8F,IAAK,WACD,GAAIoB,GAAQrH,KAAK40E,OAAOY,oBACpBluE,EAAMtH,KAAK40E,OAAOa,iBACtB,KAAKpuE,IAAUC,EACX,MAAO,EAEX,IAAI0B,KACJ,IAAkC,IAA9BhJ,KAAK80E,qBAA4B,CACjC,GAAIztE,EAAM,KAAOC,EAAI,GACjB,MAAO,EAEX,KAAK,GAAIvB,GAAIsB,EAAM,GAAItB,GAAKuB,EAAI,GAAIvB,IAAK,CACrC,GAAI2vE,GAAW11E,KAAK2gB,QAAQtB,4BAA4BtZ,GAAG,EAAMsB,EAAM,GAAIC,EAAI,GAC/E0B,GAAOvI,KAAKi1E,QAGf,CACD,GAAIC,GAAiBtuE,EAAM,KAAOC,EAAI,GAAKA,EAAI,OAAKqC,EACpDX,GAAOvI,KAAKT,KAAK2gB,QAAQtB,4BAA4BhY,EAAM,IAAI,EAAMA,EAAM,GAAIsuE,GAC/E,KAAK,GAAI5vE,GAAIsB,EAAM,GAAK,EAAGtB,GAAKuB,EAAI,GAAK,EAAGvB,IAAK,CAC7C,GAAI6vE,GAAa51E,KAAK2gB,QAAQ9F,MAAM5U,IAAIF,GACpC2vE,EAAW11E,KAAK2gB,QAAQtB,4BAA4BtZ,GAAG,EACvD6vE,GAAWlwE,UACXsD,EAAOA,EAAOzI,OAAS,IAAMm1E,EAG7B1sE,EAAOvI,KAAKi1E,GAGpB,GAAIruE,EAAM,KAAOC,EAAI,GAAI,CACrB,GAAIsuE,GAAa51E,KAAK2gB,QAAQ9F,MAAM5U,IAAIqB,EAAI,IACxCouE,EAAW11E,KAAK2gB,QAAQtB,4BAA4B/X,EAAI,IAAI,EAAM,EAAGA,EAAI,GACzEsuE,GAAWlwE,UACXsD,EAAOA,EAAOzI,OAAS,IAAMm1E,EAG7B1sE,EAAOvI,KAAKi1E,IAOxB,MAHsB1sE,GAAO8sB,IAAI,SAAU/tB,GACvC,MAAOA,GAAKowC,QAAQi8B,EAA8B,OACnDt+D,KAAKi+D,EAAQjpE,YAAc,OAAS,OAG3CxB,YAAY,EACZC,cAAc,IAElB8qE,EAAiBl0E,UAAUo1E,eAAiB,WACxCv1E,KAAK40E,OAAOW,iBACZv1E,KAAK+0E,4BACL/0E,KAAK8tB,UACL9tB,KAAK00E,mBAAmBlrE,QAE5B6qE,EAAiBl0E,UAAU2tB,QAAU,SAAU+nD,GAC3C,GAAIxxE,GAAQrE,IAIZ,IAHKA,KAAK81E,yBACN91E,KAAK81E,uBAAyBxhE,OAAO8Z,sBAAsB,WAAc,MAAO/pB,GAAM0xE,cAEtFhC,EAAQhpE,SAAW8qE,EAAuB,CACtB71E,KAAKkiE,cACP3hE,QACdP,KAAKw0E,uBAAuBhrE,KAAKxJ,KAAKkiE,iBAIlDmS,EAAiBl0E,UAAU41E,SAAW,WAClC/1E,KAAK81E,uBAAyB,KAC9B91E,KAAKy0E,iBAAiBjrE,MAClBnC,MAAOrH,KAAK40E,OAAOY,oBACnBluE,IAAKtH,KAAK40E,OAAOa,kBACjB9iE,iBAAgD,IAA9B3S,KAAK80E,wBAG/BT,EAAiBl0E,UAAUuiE,mBAAqB,SAAUxiD,GACtD,GAAImD,GAASrjB,KAAKg2E,sBAAsB91D,GACpC7Y,EAAQrH,KAAK40E,OAAOY,oBACpBluE,EAAMtH,KAAK40E,OAAOa,iBACtB,UAAKpuE,IAAUC,IAGRtH,KAAKi2E,sBAAsB5yD,EAAQhc,EAAOC,IAErD+sE,EAAiBl0E,UAAU81E,sBAAwB,SAAU5yD,EAAQhc,EAAOC,GACxE,MAAQ+b,GAAO,GAAKhc,EAAM,IAAMgc,EAAO,GAAK/b,EAAI,IAC3CD,EAAM,KAAOC,EAAI,IAAM+b,EAAO,KAAOhc,EAAM,IAAMgc,EAAO,IAAMhc,EAAM,IAAMgc,EAAO,GAAK/b,EAAI,IAC1FD,EAAM,GAAKC,EAAI,IAAM+b,EAAO,KAAO/b,EAAI,IAAM+b,EAAO,GAAK/b,EAAI,IAC7DD,EAAM,GAAKC,EAAI,IAAM+b,EAAO,KAAOhc,EAAM,IAAMgc,EAAO,IAAMhc,EAAM,IAE3EgtE,EAAiBl0E,UAAUwiE,mBAAqB,SAAUziD,GACtD,GAAImD,GAASrjB,KAAKg2E,sBAAsB91D,EACpCmD,KACArjB,KAAKk2E,cAAc7yD,GAAQ,GAC3BrjB,KAAK40E,OAAOuB,aAAe,KAC3Bn2E,KAAK8tB,SAAQ,KAGrBumD,EAAiBl0E,UAAUi2E,UAAY,WACnCp2E,KAAK40E,OAAOyB,mBAAoB,EAChCr2E,KAAK8tB,UACL9tB,KAAK00E,mBAAmBlrE,QAE5B6qE,EAAiBl0E,UAAUm2E,YAAc,SAAUjvE,EAAOC,GACtDtH,KAAK40E,OAAOW,iBACZluE,EAAQyB,KAAKsT,IAAI/U,EAAO,GACxBC,EAAMwB,KAAKC,IAAIzB,EAAKtH,KAAKia,UAAUyN,OAAO7M,MAAMta,OAAS,GACzDP,KAAK40E,OAAO2B,gBAAkB,EAAGlvE,GACjCrH,KAAK40E,OAAOuB,cAAgBn2E,KAAKia,UAAUzU,KAAM8B,GACjDtH,KAAK8tB,UACL9tB,KAAK00E,mBAAmBlrE,QAE5B6qE,EAAiBl0E,UAAUk1E,QAAU,SAAUx2D,GACxB7e,KAAK40E,OAAO50D,OAAOnB,IAElC7e,KAAK8tB,WAGbumD,EAAiBl0E,UAAU61E,sBAAwB,SAAU91D,GACzD,GAAImD,GAASrjB,KAAKia,UAAUiM,YAAYlD,UAAU9C,EAAOlgB,KAAKia,UAAUkM,cAAenmB,KAAKs0E,aAAct0E,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAU9G,MAAM,EACpJ,OAAKkQ,IAGLA,EAAO,KACPA,EAAO,KACPA,EAAO,IAAMrjB,KAAKia,UAAUyN,OAAOxM,MAC5BmI,GALI,MAOfgxD,EAAiBl0E,UAAUq2E,2BAA6B,SAAUt2D,GAC9D,GAAIgL,GAAS4oD,EAAcvxD,YAAYE,2BAA2BvC,EAAOlgB,KAAKia,UAAUkM,eAAe,GACnGswD,EAAiBz2E,KAAKia,UAAU9G,KAAOrK,KAAKwa,KAAKtjB,KAAKs0E,aAAazgE,OAAS7T,KAAKia,UAAUxE,QAAQ0uD,WACvG,OAAIj5C,IAAU,GAAKA,GAAUurD,EAClB,GAEPvrD,EAASurD,IACTvrD,GAAUurD,GAEdvrD,EAASpiB,KAAKC,IAAID,KAAKsT,IAAI8O,GA/NH,SAgOxBA,GAhOwB,IAiOPpiB,KAAK4tE,IAAIxrD,GAAWpiB,KAAK2sD,MAAe,GAATvqC,KAEpDmpD,EAAiBl0E,UAAUw2E,qBAAuB,SAAUz2D,GACxD,MAAI6zD,GAAQppE,MACDuV,EAAM02D,QAAU52E,KAAKia,UAAUxE,QAAQohE,8BAE3C32D,EAAM42D,UAEjBzC,EAAiBl0E,UAAU42E,YAAc,SAAU72D,GAE/C,GADAlgB,KAAKg3E,oBAAsB92D,EAAM+2D,WACZ,IAAjB/2D,EAAMi5C,SAAgBn5D,KAAKk3E,eAGV,IAAjBh3D,EAAMi5C,OAAV,CAGA,IAAKn5D,KAAKu0E,SAAU,CAChB,IAAKv0E,KAAK22E,qBAAqBz2D,GAC3B,MAEJA,GAAMq7C,kBAEVr7C,EAAM4F,iBACN9lB,KAAKm3E,kBAAoB,EACrBn3E,KAAKu0E,UAAYr0D,EAAM42D,SACvB92E,KAAKo3E,oBAAoBl3D,GAGJ,IAAjBA,EAAMm3D,OACNr3E,KAAKs3E,eAAep3D,GAEE,IAAjBA,EAAMm3D,OACXr3E,KAAKu3E,eAAer3D,GAEE,IAAjBA,EAAMm3D,QACXr3E,KAAKw3E,eAAet3D,GAG5BlgB,KAAKy3E,yBACLz3E,KAAK8tB,SAAQ,KAEjBumD,EAAiBl0E,UAAUs3E,uBAAyB,WAChD,GAAIpzE,GAAQrE,IACZA,MAAKia,UAAUyI,QAAQg1D,cAAcpsE,iBAAiB,YAAatL,KAAKskB,oBACxEtkB,KAAKia,UAAUyI,QAAQg1D,cAAcpsE,iBAAiB,UAAWtL,KAAKi1E,kBACtEj1E,KAAK23E,yBAA2BC,YAAY,WAAc,MAAOvzE,GAAMwzE,eA5QpD,KA8QvBxD,EAAiBl0E,UAAU40E,0BAA4B,WAC/C/0E,KAAKia,UAAUyI,QAAQg1D,gBACvB13E,KAAKia,UAAUyI,QAAQg1D,cAAcnsE,oBAAoB,YAAavL,KAAKskB,oBAC3EtkB,KAAKia,UAAUyI,QAAQg1D,cAAcnsE,oBAAoB,UAAWvL,KAAKi1E,mBAE7E6C,cAAc93E,KAAK23E,0BACnB33E,KAAK23E,yBAA2B,MAEpCtD,EAAiBl0E,UAAUi3E,oBAAsB,SAAUl3D,GACnDlgB,KAAK40E,OAAO2B,iBACZv2E,KAAK40E,OAAOuB,aAAen2E,KAAKg2E,sBAAsB91D,KAG9Dm0D,EAAiBl0E,UAAUm3E,eAAiB,SAAUp3D,GAKlD,GAJAlgB,KAAK40E,OAAOmD,qBAAuB,EACnC/3E,KAAK40E,OAAOyB,mBAAoB,EAChCr2E,KAAK80E,qBAAuB90E,KAAKg4E,mBAAmB93D,GAAS,EAAI,EACjElgB,KAAK40E,OAAO2B,eAAiBv2E,KAAKg2E,sBAAsB91D,GACnDlgB,KAAK40E,OAAO2B,eAAjB,CAGAv2E,KAAK40E,OAAOuB,aAAe,IAC3B,IAAIpuE,GAAO/H,KAAK2gB,QAAQ9F,MAAM5U,IAAIjG,KAAK40E,OAAO2B,eAAe,GACxDxuE,KAGDA,EAAKxH,QAAUP,KAAK40E,OAAO2B,eAAe,IAGO,IAAjDxuE,EAAK3B,SAASpG,KAAK40E,OAAO2B,eAAe,KACzCv2E,KAAK40E,OAAO2B,eAAe,QAGnClC,EAAiBl0E,UAAUo3E,eAAiB,SAAUr3D,GAClD,GAAImD,GAASrjB,KAAKg2E,sBAAsB91D,EACpCmD,KACArjB,KAAK80E,qBAAuB,EAC5B90E,KAAKk2E,cAAc7yD,GAAQ,KAGnCgxD,EAAiBl0E,UAAUq3E,eAAiB,SAAUt3D,GAClD,GAAImD,GAASrjB,KAAKg2E,sBAAsB91D,EACpCmD,KACArjB,KAAK80E,qBAAuB,EAC5B90E,KAAKi4E,cAAc50D,EAAO,MAGlCgxD,EAAiBl0E,UAAU63E,mBAAqB,SAAU93D,GACtD,MAAOA,GAAM02D,UAAY7C,EAAQppE,OAAS3K,KAAKia,UAAUxE,QAAQohE,gCAErExC,EAAiBl0E,UAAUokB,aAAe,SAAUrE,GAChDA,EAAM6F,0BACN,IAAImyD,GAAuBl4E,KAAK40E,OAAOuB,cAAgBn2E,KAAK40E,OAAOuB,aAAa,GAAIn2E,KAAK40E,OAAOuB,aAAa,IAAM,IAEnH,IADAn2E,KAAK40E,OAAOuB,aAAen2E,KAAKg2E,sBAAsB91D,IACjDlgB,KAAK40E,OAAOuB,aAEb,WADAn2E,MAAK8tB,SAAQ,EAGiB,KAA9B9tB,KAAK80E,qBACD90E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAK40E,OAAO2B,eAAe,GACzDv2E,KAAK40E,OAAOuB,aAAa,GAAK,EAG9Bn2E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAKia,UAAUzU,KAGd,IAA9BxF,KAAK80E,sBACV90E,KAAKm4E,gBAAgBn4E,KAAK40E,OAAOuB,cAErCn2E,KAAKm3E,kBAAoBn3E,KAAKw2E,2BAA2Bt2D,GACvB,IAA9BlgB,KAAK80E,uBACD90E,KAAKm3E,kBAAoB,EACzBn3E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAKia,UAAUzU,KAExCxF,KAAKm3E,kBAAoB,IAC9Bn3E,KAAK40E,OAAOuB,aAAa,GAAK,IAGlCn2E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAK2gB,QAAQ9F,MAAMta,QACiD,IAA9FP,KAAK2gB,QAAQ9F,MAAM5U,IAAIjG,KAAK40E,OAAOuB,aAAa,IAAI/vE,SAASpG,KAAK40E,OAAOuB,aAAa,KACtFn2E,KAAK40E,OAAOuB,aAAa,KAG5B+B,GACDA,EAAqB,KAAOl4E,KAAK40E,OAAOuB,aAAa,IACrD+B,EAAqB,KAAOl4E,KAAK40E,OAAOuB,aAAa,IACrDn2E,KAAK8tB,SAAQ,IAGrBumD,EAAiBl0E,UAAU03E,YAAc,WACjC73E,KAAKm3E,oBACLn3E,KAAKia,UAAUmlD,YAAYp/D,KAAKm3E,mBAAmB,GAC/Cn3E,KAAKm3E,kBAAoB,GACS,IAA9Bn3E,KAAK80E,uBACL90E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAKia,UAAUzU,MAEjDxF,KAAK40E,OAAOuB,aAAa,GAAKrtE,KAAKC,IAAI/I,KAAKia,UAAUyN,OAAOxM,MAAQlb,KAAKia,UAAU9G,KAAMnT,KAAKia,UAAUyN,OAAO7M,MAAMta,OAAS,KAG7F,IAA9BP,KAAK80E,uBACL90E,KAAK40E,OAAOuB,aAAa,GAAK,GAElCn2E,KAAK40E,OAAOuB,aAAa,GAAKn2E,KAAKia,UAAUyN,OAAOxM,OAExDlb,KAAK8tB,YAGbumD,EAAiBl0E,UAAU+0E,WAAa,SAAUh1D,GAC9C,GAAIk4D,GAAcl4D,EAAM+2D,UAAYj3E,KAAKg3E,mBACzCh3E,MAAK+0E,4BACD/0E,KAAKkiE,cAAc3hE,QAAU,GAAK63E,EA3Xb,IA4XrB,GAAKnE,GAAkBoE,gBAAgBn4D,EAAOlgB,KAAKia,WAAYq+D,OAE1Dt4E,KAAKk3E,cACVl3E,KAAK00E,mBAAmBlrE,QAGhC6qE,EAAiBl0E,UAAUkgE,kBAAoB,SAAUj8C,GACrD,GAAI/f,GAAQrE,IACZA,MAAKu1E,iBACDv1E,KAAKo1E,eACLp1E,KAAKo1E,cAAch1E,UAEvBJ,KAAKo1E,cAAgBhxD,EAAEs8C,aAAa7lD,MAAMmF,OAAO,SAAUnB,GAAU,MAAOxa,GAAMgxE,QAAQx2D,MAE9Fw1D,EAAiBl0E,UAAUo4E,oCAAsC,SAAU3C,EAAYvyD,GAEnF,IAAK,GADDm1D,GAAYn1D,EAAO,GACdtd,EAAI,EAAGsd,EAAO,IAAMtd,EAAGA,IAAK,CACjC,GAAIqZ,GAAWw2D,EAAWlvE,SAASX,EAAG/F,KAAKmnB,WAAWpiB,WAAWxE,MAC/B,KAA9BP,KAAKmnB,UAAUriB,WACf0zE,IAEKp5D,EAAW,GAAKiE,EAAO,KAAOtd,IACnCyyE,GAAap5D,EAAW,GAGhC,MAAOo5D,IAEXnE,EAAiBl0E,UAAUs4E,aAAe,SAAUxJ,EAAKxnD,EAAKlnB,GAC1DP,KAAK40E,OAAOW,iBACZv1E,KAAK+0E,4BACL/0E,KAAK40E,OAAO2B,gBAAkBtH,EAAKxnD,GACnCznB,KAAK40E,OAAOmD,qBAAuBx3E,EACnCP,KAAK8tB,WAETumD,EAAiBl0E,UAAUu4E,WAAa,SAAUr1D,EAAQs1D,EAA8BC,EAAyBC,GAG7G,OAFgC,KAA5BD,IAAsCA,GAA0B,OACpC,KAA5BC,IAAsCA,GAA0B,GAChEx1D,EAAO,IAAMrjB,KAAKia,UAAUzU,KAC5B,MAAO,KAEX,IAAIowE,GAAa51E,KAAK2gB,QAAQ9F,MAAM5U,IAAIod,EAAO,GAC/C,KAAKuyD,EACD,MAAO,KAEX,IAAI7tE,GAAO/H,KAAK2gB,QAAQtB,4BAA4BgE,EAAO,IAAI,GAC3D1c,EAAa3G,KAAKu4E,oCAAoC3C,EAAYvyD,GAClE9C,EAAW5Z,EACXmyE,EAAaz1D,EAAO,GAAK1c,EACzBoyE,EAAoB,EACpBC,EAAqB,EACrBC,EAAqB,EACrBC,EAAsB,CAC1B,IAAgC,MAA5BnxE,EAAK8vC,OAAOlxC,GAAqB,CACjC,KAAOA,EAAa,GAAqC,MAAhCoB,EAAK8vC,OAAOlxC,EAAa,IAC9CA,GAEJ,MAAO4Z,EAAWxY,EAAKxH,QAAwC,MAA9BwH,EAAK8vC,OAAOt3B,EAAW,IACpDA,QAGH,CACD,GAAI3X,GAAWya,EAAO,GAClBxa,EAASwa,EAAO,EACkB,KAAlCuyD,EAAW9wE,SAAS8D,KACpBmwE,IACAnwE,KAEgC,IAAhCgtE,EAAW9wE,SAAS+D,KACpBmwE,IACAnwE,IAEJ,IAAIswE,GAAWvD,EAAWnvE,UAAUoC,GAAQtI,MAK5C,KAJI44E,EAAW,IACXD,GAAuBC,EAAW,EAClC54D,GAAY44D,EAAW,GAEpBvwE,EAAW,GAAKjC,EAAa,IAAM3G,KAAKo5E,qBAAqBxD,EAAWlvE,SAASkC,EAAW,EAAG5I,KAAKmnB,aAAa,CACpHyuD,EAAWlvE,SAASkC,EAAW,EAAG5I,KAAKmnB,UACvC,IAAIkyD,GAAWr5E,KAAKmnB,UAAUpiB,WAAWxE,MACP,KAA9BP,KAAKmnB,UAAUriB,YACfi0E,IACAnwE,KAEKywE,EAAW,IAChBJ,GAAsBI,EAAW,EACjC1yE,GAAc0yE,EAAW,GAE7B1yE,IACAiC,IAEJ,KAAOC,EAAS+sE,EAAWr1E,QAAUggB,EAAW,EAAIxY,EAAKxH,SAAWP,KAAKo5E,qBAAqBxD,EAAWlvE,SAASmC,EAAS,EAAG7I,KAAKmnB,aAAa,CAC5IyuD,EAAWlvE,SAASmC,EAAS,EAAG7I,KAAKmnB,UACrC,IAAImyD,GAAWt5E,KAAKmnB,UAAUpiB,WAAWxE,MACP,KAA9BP,KAAKmnB,UAAUriB,YACfk0E,IACAnwE,KAEKywE,EAAW,IAChBJ,GAAuBI,EAAW,EAClC/4D,GAAY+4D,EAAW,GAE3B/4D,IACA1X,KAGR0X,GACA,IAAIlZ,GAAQV,EACNmyE,EACAC,EACAE,EACF14E,EAASuI,KAAKC,IAAI/I,KAAKia,UAAUzU,KAAM+a,EACrC5Z,EACAoyE,EACAC,EACAC,EACAC,EACN,KAAKP,GAA4E,KAA5C5wE,EAAKoR,MAAMxS,EAAY4Z,GAAUurC,OAClE,MAAO,KAEX,IAAI8sB,GACc,IAAVvxE,GAA8C,KAA/BuuE,EAAWpvE,aAAa,GAAW,CAClD,GAAI+yE,GAAqBv5E,KAAK2gB,QAAQ9F,MAAM5U,IAAIod,EAAO,GAAK,EAC5D,IAAIk2D,GAAsB3D,EAAWlwE,WAA0E,KAA7D6zE,EAAmB/yE,aAAaxG,KAAKia,UAAUzU,KAAO,GAAW,CAC/G,GAAIg0E,GAA2Bx5E,KAAK04E,YAAY14E,KAAKia,UAAUzU,KAAO,EAAG6d,EAAO,GAAK,IAAI,GAAO,GAAM,EACtG,IAAIm2D,EAA0B,CAC1B,GAAItuD,GAASlrB,KAAKia,UAAUzU,KAAOg0E,EAAyBnyE,KAC5DA,IAAS6jB,EACT3qB,GAAU2qB,IAK1B,GAAI2tD,GACIxxE,EAAQ9G,IAAWP,KAAKia,UAAUzU,MAA6D,KAArDowE,EAAWpvE,aAAaxG,KAAKia,UAAUzU,KAAO,GAAW,CACnG,GAAIi0E,GAAiBz5E,KAAK2gB,QAAQ9F,MAAM5U,IAAIod,EAAO,GAAK,EACxD,IAAIo2D,GAAkBA,EAAe/zE,WAAgD,KAAnC+zE,EAAejzE,aAAa,GAAW,CACrF,GAAIkzE,GAAuB15E,KAAK04E,YAAY,EAAGr1D,EAAO,GAAK,IAAI,GAAO,GAAO,EACzEq2D,KACAn5E,GAAUm5E,EAAqBn5E,SAK/C,OAAS8G,MAAOA,EAAO9G,OAAQA,IAEnC8zE,EAAiBl0E,UAAU+1E,cAAgB,SAAU7yD,EAAQs1D,GACzD,GAAIgB,GAAe35E,KAAK04E,WAAWr1D,EAAQs1D,EAC3C,IAAIgB,EAAc,CACd,KAAOA,EAAatyE,MAAQ,GACxBsyE,EAAatyE,OAASrH,KAAKia,UAAUzU,KACrC6d,EAAO,IAEXrjB,MAAK40E,OAAO2B,gBAAkBoD,EAAatyE,MAAOgc,EAAO,IACzDrjB,KAAK40E,OAAOmD,qBAAuB4B,EAAap5E,SAGxD8zE,EAAiBl0E,UAAUg4E,gBAAkB,SAAU90D,GACnD,GAAIs2D,GAAe35E,KAAK04E,WAAWr1D,GAAQ,EAC3C,IAAIs2D,EAAc,CAEd,IADA,GAAIlnE,GAAS4Q,EAAO,GACbs2D,EAAatyE,MAAQ,GACxBsyE,EAAatyE,OAASrH,KAAKia,UAAUzU,KACrCiN,GAEJ,KAAKzS,KAAK40E,OAAOgF,6BACb,KAAOD,EAAatyE,MAAQsyE,EAAap5E,OAASP,KAAKia,UAAUzU,MAC7Dm0E,EAAap5E,QAAUP,KAAKia,UAAUzU,KACtCiN,GAGRzS,MAAK40E,OAAOuB,cAAgBn2E,KAAK40E,OAAOgF,6BAA+BD,EAAatyE,MAAQsyE,EAAatyE,MAAQsyE,EAAap5E,OAAQkS,KAG9I4hE,EAAiBl0E,UAAUi5E,qBAAuB,SAAUtzE,GACxD,MAAwB,KAApBA,EAAKhB,YAGFovE,EAAgBtzE,QAAQkF,EAAKf,aAAe,GAEvDsvE,EAAiBl0E,UAAU83E,cAAgB,SAAUlwE,GACjD,GAAI8xE,GAAe75E,KAAK2gB,QAAQrB,uBAAuBvX,EACvD/H,MAAK40E,OAAO2B,gBAAkB,EAAGsD,EAAat6D,OAC9Cvf,KAAK40E,OAAOuB,cAAgBn2E,KAAKia,UAAUzU,KAAMq0E,EAAar6D,MAC9Dxf,KAAK40E,OAAOmD,qBAAuB,GAEhC1D,IAEX70E,GAAQ60E,iBAAmBA,GtD4gwBrByF,IACA,SAAUv6E,EAAQC,EAASC,GAEjC,YuDhlxBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI+0E,GAAkB,WAClB,QAASA,GAAe56D,GACpBja,KAAKia,UAAYA,EACjBja,KAAKu1E,iBAsET,MApEAV,GAAe10E,UAAUo1E,eAAiB,WACtCv1E,KAAKu2E,eAAiB,KACtBv2E,KAAKm2E,aAAe,KACpBn2E,KAAKq2E,mBAAoB,EACzBr2E,KAAK+3E,qBAAuB,GAEhCn4E,OAAOC,eAAeg1E,EAAe10E,UAAW,uBAC5C8F,IAAK,WACD,MAAIjG,MAAKq2E,mBACG,EAAG,GAEVr2E,KAAKm2E,cAAiBn2E,KAAKu2E,gBAGzBv2E,KAAK45E,6BAA+B55E,KAAKm2E,aAFrCn2E,KAAKu2E,gBAIpBjtE,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeg1E,EAAe10E,UAAW,qBAC5C8F,IAAK,WACD,GAAIjG,KAAKq2E,kBACL,OAAQr2E,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAUyN,OAAO1M,MAAQhb,KAAKia,UAAU9G,KAAO,EAErF,KAAKnT,KAAKu2E,eACN,MAAO,KAEX,KAAKv2E,KAAKm2E,cAAgBn2E,KAAK45E,6BAA8B,CACzD,GAAIG,GAAkB/5E,KAAKu2E,eAAe,GAAKv2E,KAAK+3E,oBACpD,OAAIgC,GAAkB/5E,KAAKia,UAAUzU,MACzBu0E,EAAkB/5E,KAAKia,UAAUzU,KAAMxF,KAAKu2E,eAAe,GAAKztE,KAAKsmD,MAAM2qB,EAAkB/5E,KAAKia,UAAUzU,QAEhHu0E,EAAiB/5E,KAAKu2E,eAAe,IAEjD,MAAIv2E,MAAK+3E,sBACD/3E,KAAKm2E,aAAa,KAAOn2E,KAAKu2E,eAAe,IACrCztE,KAAKsT,IAAIpc,KAAKu2E,eAAe,GAAKv2E,KAAK+3E,qBAAsB/3E,KAAKm2E,aAAa,IAAKn2E,KAAKm2E,aAAa,IAG/Gn2E,KAAKm2E,cAEhB7sE,YAAY,EACZC,cAAc,IAElBsrE,EAAe10E,UAAUy5E,2BAA6B,WAClD,GAAIvyE,GAAQrH,KAAKu2E,eACbjvE,EAAMtH,KAAKm2E,YACf,UAAK9uE,IAAUC,KAGRD,EAAM,GAAKC,EAAI,IAAOD,EAAM,KAAOC,EAAI,IAAMD,EAAM,GAAKC,EAAI,KAEvEutE,EAAe10E,UAAU6f,OAAS,SAAUnB,GAOxC,MANI7e,MAAKu2E,iBACLv2E,KAAKu2E,eAAe,IAAM13D,GAE1B7e,KAAKm2E,eACLn2E,KAAKm2E,aAAa,IAAMt3D,GAExB7e,KAAKm2E,cAAgBn2E,KAAKm2E,aAAa,GAAK,GAC5Cn2E,KAAKu1E,kBACE,IAEPv1E,KAAKu2E,gBAAkBv2E,KAAKu2E,eAAe,GAAK,IAChDv2E,KAAKu2E,eAAe,GAAK,IAEtB,IAEJ1B,IAEXr1E,GAAQq1E,eAAiBA,GvDulxBnBmF,IACA,SAAUz6E,EAAQC,EAASC,GAEjC,YwDtqxBAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,IACtDN,EAAQy6E,mBAAqB,gbAC7B,IAAIC,GAAgB,WAChB,QAASA,GAAajgE,GAClBja,KAAKia,UAAYA,EA0CrB,MAxCAra,QAAOC,eAAeq6E,EAAc,gBAChCj0E,IAAK,WACD,IAAKi0E,EAAaC,cAAe,CAC7B,GAAIC,GAAmB9lE,OAAO+lE,cAAgB/lE,OAAOgmE,kBACrD,KAAKF,EAED,MADA7sD,SAAQC,KAAK,4FACN,IAEX0sD,GAAaC,cAAgB,GAAIC,GAErC,MAAOF,GAAaC,eAExB7wE,YAAY,EACZC,cAAc,IAElB2wE,EAAa/5E,UAAUo6E,cAAgB,WACnC,GAAIjwD,GAAM4vD,EAAaM,YACvB,IAAKlwD,EAAL,CAGA,GAAImwD,GAAkBnwD,EAAIowD,oBAC1BpwD,GAAIqwD,gBAAgB36E,KAAK46E,qBAAqB56E,KAAK66E,gBAAgB76E,KAAKia,UAAUxE,QAAQqlE,YAAa,SAAUpzD,GAC7G+yD,EAAgB/yD,OAASA,EACzB+yD,EAAgBM,QAAQzwD,EAAI0wD,aAC5BP,EAAgBpzE,MAAM,OAG9B6yE,EAAa/5E,UAAUy6E,qBAAuB,SAAUK,GAIpD,IAAK,GAHDC,GAAe5mE,OAAO6mE,KAAKF,GAC3BG,EAAMF,EAAa36E,OACnB86E,EAAQ,GAAIxjE,YAAWujE,GAClBr1E,EAAI,EAAGA,EAAIq1E,EAAKr1E,IACrBs1E,EAAMt1E,GAAKm1E,EAAah2E,WAAWa,EAEvC,OAAOs1E,GAAM3zD,QAEjBwyD,EAAa/5E,UAAU06E,gBAAkB,SAAUS,GAE/C,MADeA,GAAQzoD,MAAM,KACb,IAEbqnD,IAEX16E,GAAQ06E,aAAeA,GxD6qxBjBqB,IACA,SAAUh8E,EAAQC,EAASC,GAEjC,YyD53uBA,SAAS+7E,GAAwB3Z,GAC7B,MAAsB,MAAfA,EAAG6B,SACS,KAAf7B,EAAG6B,SACY,KAAf7B,EAAG6B,QAv2CX,GAAI3iE,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI27E,GAAc,EAAQ,KACtBvb,EAAW,EAAQ,KACnBwb,EAAsB,EAAQ,KAC9BC,EAAiB,EAAQ,KACzBC,EAAa,EAAQ,KACrBC,EAAc,EAAQ,KACtBtS,EAAoB,EAAQ,KAC5BuS,EAAiB,EAAQ,KACzBC,EAAa,EAAQ,KACrBC,EAAc,EAAQ,KACtBC,EAAqB,EAAQ,KAC7BC,EAAgB,EAAQ,KACxBnI,EAAU,EAAQ,KAClBnwD,EAAc,EAAQ,KACtB44C,EAAU,EAAQ,KAClBsX,EAAgB,EAAQ,KACxBqI,EAAiB,EAAQ,KACzB9K,EAAqB,EAAQ,KAC7B+K,EAAyB,EAAQ,KACjCpsE,EAAmB,EAAQ,KAC3BqsE,EAAgB,EAAQ,KACxBC,EAAa,EAAQ,KACrBC,EAAU,EAAQ,KAClBpc,EAAkB,EAAQ,KAC1BlwD,EAAe,EAAQ,KACvBusE,EAAgB,EAAQ,KACxBC,EAAiB,EAAQ,KACzBC,EAAsB,EAAQ,KAC9BtrE,EAA8B,mBAAXkD,QAA0BA,OAAOlD,SAAW,KAM/DurE,GAA4B,OAAQ,QACpCC,GACAp3E,KAAM,GACN2N,KAAM,GACN07D,YAAY,EACZgO,SAAU,QACVC,aAAa,EACbC,YAAa,QACbjC,UAAWqB,EAAelC,mBAC1B+C,UAAW,OACXtnE,4BAA4B,EAC5BC,YAAY,EACZyD,sBAAuB,SACvB3C,WAAY,kCACZD,SAAU,GACVF,WAAY,SACZC,eAAgB,OAChB4tD,WAAY,EACZ8Y,cAAe,EACf5hE,WAAY,IACZ6hE,YAAY,EACZ7O,kBAAkB,EAClBL,OAAO,EACPmP,iBAAiB,EACjBtG,+BAA+B,EAC/BuG,cAAc,EACdC,cAAc,EACdC,gBAAgB,EAChBjkE,mBAAmB,EACnBsG,aAAc,EACdyM,UAAOziB,GACP4zE,sBAAuBxJ,EAAQppE,MAC/B6yE,aAAc,SACd/gE,aAAa,GAEbghE,EAAY,SAAUr5E,GAEtB,QAASq5E,GAAShoE,OACE,KAAZA,IAAsBA,KAC1B,IAAIpR,GAAQD,EAAOsF,KAAK1J,OAASA,IAuBjC,OAtBAqE,GAAM29D,QAAU+R,EAChB1vE,EAAMq5E,WAAa,KACnBr5E,EAAMgmE,cAAgB,GAAIlK,GAAgBj3D,cAC1C7E,EAAMimE,QAAU,GAAInK,GAAgBj3D,cACpC7E,EAAMo6D,OAAS,GAAI0B,GAAgBj3D,cACnC7E,EAAMkmE,YAAc,GAAIpK,GAAgBj3D,cACxC7E,EAAMs5E,UAAY,GAAIxd,GAAgBj3D,cACtC7E,EAAM05D,UAAY,GAAIoC,GAAgBj3D,cACtC7E,EAAMmmE,UAAY,GAAIrK,GAAgBj3D,cACtC7E,EAAMqwE,mBAAqB,GAAIvU,GAAgBj3D,cAC/C7E,EAAMu5E,eAAiB,GAAIzd,GAAgBj3D,cAC3C7E,EAAMoR,QAAU8mE,EAAQz5E,MAAM2S,GAC9BpR,EAAMw5E,SACNx5E,EAAMiO,aAAa,WAAc,MAAOjO,GAAMi+D,KAAK,gBACnDj+D,EAAMy5E,OAAO,SAAU15D,GAAK,MAAO/f,GAAMi+D,KAAK,OAAQl+C,KACtD/f,EAAMm6D,MAAM,SAAUp6C,GAAK,MAAO/f,GAAMi+D,KAAK,MAAOl+C,EAAEzc,IAAKyc,EAAE25D,YAC7D15E,EAAMg6D,WAAW,WAAc,MAAOh6D,GAAMi+D,KAAK,cACjDj+D,EAAM25D,SAAS,SAAU55C,GAAK,MAAO/f,GAAMi+D,KAAK,UAAWl+C,KAC3D/f,EAAMy5D,SAAS,SAAU15C,GAAK,MAAO/f,GAAMi+D,KAAK,SAAUl+C,KAC1D/f,EAAM25E,kBAAkB,WAAc,MAAO35E,GAAMi+D,KAAK,eACxDj+D,EAAM45D,SAAS,SAAU75C,GAAK,MAAO/f,GAAMi+D,KAAK,SAAUl+C,KAC1D/f,EAAM45E,cAAc,SAAU75D,GAAK,MAAO/f,GAAMi+D,KAAK,QAASl+C,KACvD/f,EAmvCX,MA7wCAtD,GAAU08E,EAAUr5E,GA4BpBxE,OAAOC,eAAe49E,EAASt9E,UAAW,gBACtC8F,IAAK,WAAc,MAAOjG,MAAKqqE,cAAcnqD,OAC7C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,UACtC8F,IAAK,WAAc,MAAOjG,MAAKsqE,QAAQpqD,OACvC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,SACtC8F,IAAK,WAAc,MAAOjG,MAAKy+D,OAAOv+C,OACtC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,cACtC8F,IAAK,WAAc,MAAOjG,MAAKuqE,YAAYrqD,OAC3C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAK29E,UAAUz9D,OACzC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAK+9D,UAAU79C,OACzC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAKwqE,UAAUtqD,OACzC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,qBACtC8F,IAAK,WAAc,MAAOjG,MAAK00E,mBAAmBx0D,OAClD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,iBACtC8F,IAAK,WAAc,MAAOjG,MAAK49E,eAAe19D,OAC9C5W,YAAY,EACZC,cAAc,IAElBk0E,EAASt9E,UAAUC,QAAU,WACzBgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC1BA,KAAKk+E,eACLl+E,KAAKk+E,aAAa99E,UAClBJ,KAAKk+E,iBAAev0E,IAExB3J,KAAKm+E,uBAAyB,KAC9BnuE,EAAiB2Z,wBAAwB3pB,MACzCA,KAAKoL,QAAU,aACfpL,KAAKo+E,MAAQ,aACTp+E,KAAK0iB,SAAW1iB,KAAK0iB,QAAQi9C,YAC7B3/D,KAAK0iB,QAAQi9C,WAAW/tD,YAAY5R,KAAK0iB,UAGjD+6D,EAASt9E,UAAUk+E,QAAU,WACzBr+E,KAAKI,WAETq9E,EAASt9E,UAAU09E,OAAS,WACxB,GAAIx5E,GAAQrE,IACZJ,QAAO8H,KAAKk1E,GAAiBv8E,QAAQ,SAAUsH,GAChB,OAAvBtD,EAAMoR,QAAQ9N,QAAwCgC,KAAvBtF,EAAMoR,QAAQ9N,KAC7CtD,EAAMoR,QAAQ9N,GAAOi1E,EAAgBj1E,MAG7C3H,KAAKs+E,QAAUltE,EAAWA,EAASmtE,KAAO,KAC1Cv+E,KAAKwF,KAAOsD,KAAKsT,IAAIpc,KAAKyV,QAAQjQ,KAxIvB,GAyIXxF,KAAKmT,KAAOrK,KAAKsT,IAAIpc,KAAKyV,QAAQtC,KAxIvB,GAyIPnT,KAAKyV,QAAQrK,SACbpL,KAAK89E,OAAO99E,KAAKyV,QAAQrK,SAE7BpL,KAAKw+E,YAAc,EACnBx+E,KAAKywE,cAAe,EACpBzwE,KAAKm+E,uBAAyB,KAC9Bn+E,KAAK8vE,mBAAoB,EACzB9vE,KAAKyvE,mBAAoB,EACzBzvE,KAAK6vE,YAAa,EAClB7vE,KAAKuuE,YAAa,EAClBvuE,KAAKsuE,gBAAiB,EACtBtuE,KAAK2hE,oBAAqB,EAC1B3hE,KAAKouE,QAAU,KACfpuE,KAAKy+E,SAAW,KAChBz+E,KAAK8wE,OAAS,EACd9wE,KAAK+wE,UAAY,MACjB/wE,KAAKyuE,YAAcx+D,EAAahM,kBAAkBnB,QAClD9C,KAAK0+E,eAAiBzuE,EAAahM,kBAAkBnB,QACrD9C,KAAKmlE,UACLnlE,KAAK2+E,aAAe,EACpB3+E,KAAK4+E,eACL5+E,KAAK6+E,mBACL7+E,KAAK8+E,kBAAmB,EACxB9+E,KAAK++E,oBAAqB,EAC1B/+E,KAAKg/E,gBAAiB,EACtBh/E,KAAKi/E,cAAgB,GAAInD,GAAe9R,aAAahqE,MACrDA,KAAKi/E,cAAc3sE,aAAa,WAAc,MAAOjO,GAAMgmE,cAAc7gE,SACzExJ,KAAKi/E,cAAc5gB,WAAW,WAAc,MAAOh6D,GAAMkmE,YAAY/gE,SACrExJ,KAAKi/E,cAAcnB,OAAO,SAAU15D,GAAK,MAAO/f,GAAMimE,QAAQ9gE,KAAK4a,KACnEpkB,KAAKQ,SAASR,KAAKi/E,eACnBj/E,KAAK+hE,iBAAmB/hE,KAAK+hE,kBAAoB,KACjD/hE,KAAKk/E,UAAYl/E,KAAKk/E,WAAa,GAAIlD,GAAY1K,UAAUtxE,MAC7DA,KAAK+xE,kBAAoB/xE,KAAK+xE,mBAAqB,KACnD/xE,KAAKm/E,aAAen/E,KAAKm/E,cAAgB,GAAIhD,GAAejC,aAAal6E,MACzEA,KAAK0wE,QAAU,GAAI+K,GAAYrb,UAAUpgE,MACrCA,KAAK+hE,mBACL/hE,KAAK+hE,iBAAiBwT,iBACtBv1E,KAAK+hE,iBAAiBoT,wBAEtBn1E,KAAKyV,QAAQgH,cACbzc,KAAKk+E,aAAe1B,EAAc4C,iBAAiBp/E,QAG3DJ,OAAOC,eAAe49E,EAASt9E,UAAW,UACtC8F,IAAK,WACD,MAAOjG,MAAK0wE,QAAQsE,QAExB1rE,YAAY,EACZC,cAAc,IAElBk0E,EAASt9E,UAAU4uE,cAAgB,WAG/B,MAFA/uE,MAAK0+E,eAAe/7E,KAAM,SAC1B3C,KAAK0+E,eAAe/7E,IAA4B,SAAtB3C,KAAKyuE,YAAY9rE,GACpC3C,KAAK0+E,gBAEhBjB,EAASt9E,UAAUk/D,MAAQ,WACnBr/D,KAAKqiE,UACLriE,KAAKqiE,SAAShD,OAAQggB,eAAe,KAG7Cz/E,OAAOC,eAAe49E,EAASt9E,UAAW,aACtC8F,IAAK,WACD,MAAOmL,GAASkuE,gBAAkBt/E,KAAKqiE,UAAYjxD,EAASmuE,YAEhEj2E,YAAY,EACZC,cAAc,IAElBk0E,EAASt9E,UAAU4pE,UAAY,SAAUpiE,GACrC,KAAMA,IAAOi1E,IACT,KAAM,IAAI71D,OAAM,uBAAyBpf,EAAM,IAEnD,OAAO3H,MAAKyV,QAAQ9N,IAExB81E,EAASt9E,UAAU6wE,UAAY,SAAUrpE,EAAK7H,GAC1C,KAAM6H,IAAOi1E,IACT,KAAM,IAAI71D,OAAM,uBAAyBpf,EAAM,IAKnD,KAH+C,IAA3Cg1E,EAAyB/7E,QAAQ+G,IACjC4lB,QAAQm7C,MAAM,WAAc/gE,EAAM,wCAElC3H,KAAKyV,QAAQ9N,KAAS7H,EAA1B,CAGA,OAAQ6H,GACJ,IAAK,YACI7H,IACDA,EAAQ,OAEZ,MACJ,KAAK,cACIA,IACDA,EAAQ,QAEZ,MACJ,KAAK,aACIA,IACDA,EAAQ,SAEZ,MACJ,KAAK,iBACIA,IACDA,EAAQ,OAEZ,MACJ,KAAK,aACD,GAAIA,EAAQ,EAER,WADAytB,SAAQC,KAAK7lB,EAAM,kCAAoC7H,EAG/D,KAAK,eACIA,IACDA,EAAQ,SAEZ,MACJ,KAAK,eACD,GAAIA,EAAQ,EAER,WADAytB,SAAQC,KAAK7lB,EAAM,kCAAoC7H,EAG3D,MACJ,KAAK,QACDE,KAAKw/E,UAAU1/E,EACf,MACJ,KAAK,aAED,IADAA,EAAQgJ,KAAKC,IAAIjJ,EAAOogE,EAASnmD,kBACrB,EAER,WADAwT,SAAQC,KAAK7lB,EAAM,kCAAoC7H,EAG3D,IAAIE,KAAKyV,QAAQ9N,KAAS7H,EAAO,CAC7B,GAAI2/E,GAAkBz/E,KAAKmT,KAAOrT,CAClC,IAAIE,KAAK0nB,OAAO7M,MAAMta,OAASk/E,EAAiB,CAC5C,GAAIvjE,GAAelc,KAAK0nB,OAAO7M,MAAMta,OAASk/E,EAC1CC,EAAgB1/E,KAAK0nB,OAAOxM,MAAQgB,EAAe,CACvDlc,MAAK0nB,OAAO7M,MAAMsB,UAAUD,GAC5Blc,KAAK0nB,OAAO1M,MAAQlS,KAAKsT,IAAIpc,KAAK0nB,OAAO1M,MAAQkB,EAAc,GAC/Dlc,KAAK0nB,OAAOxM,MAAQpS,KAAKsT,IAAIpc,KAAK0nB,OAAOxM,MAAQgB,EAAc,GAC3DwjE,GACA1/E,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,KAOhD,OADAnT,KAAKyV,QAAQ9N,GAAO7H,EACZ6H,GACJ,IAAK,aACL,IAAK,WACG3H,KAAKwiB,qBACLxiB,KAAKwiB,mBAAmBnL,QACxBrX,KAAKijB,YAAYo+C,QAAQrhE,KAAKyV,SAElC,MACJ,KAAK,6BACL,IAAK,wBACL,IAAK,aACL,IAAK,gBACL,IAAK,aACL,IAAK,aACL,IAAK,iBACGzV,KAAKwiB,qBACLxiB,KAAKwiB,mBAAmBnL,QACxBrX,KAAKwiB,mBAAmBs7C,SAAS99D,KAAKwF,KAAMxF,KAAKmT,MACjDnT,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GAEhC,MACJ,KAAK,eACGnT,KAAKwiB,oBACLxiB,KAAKwiB,mBAAmBm9D,YAAY3/E,KAAK4/E,kBAE7C,MACJ,KAAK,aACD5/E,KAAK0wE,QAAQnpE,OAAOvH,KAAKwF,KAAMxF,KAAKmT,MAChCnT,KAAK+vE,UACL/vE,KAAK+vE,SAASC,gBAElB,MACJ,KAAK,mBACGlwE,GACKE,KAAK6/E,uBAAyB7/E,KAAKwiB,qBACpCxiB,KAAK6/E,sBAAwB,GAAIzD,GAAuBzf,qBAAqB38D,KAAMA,KAAKwiB,mBAAmBe,aAI3GvjB,KAAK6/E,wBACL7/E,KAAK6/E,sBAAsBz/E,UAC3BJ,KAAK6/E,sBAAwB,KAGrC,MACJ,KAAK,eACD7/E,KAAK0wE,QAAQ/0D,eACb,MACJ,KAAK,cACG7b,EACKE,KAAKk+E,eACNl+E,KAAKk+E,aAAe1B,EAAc4C,iBAAiBp/E,OAInDA,KAAKk+E,eACLl+E,KAAKk+E,aAAa99E,UAClBJ,KAAKk+E,iBAAev0E,IAKhC3J,KAAKwiB,oBACLxiB,KAAKwiB,mBAAmBtQ,qBAGhCurE,EAASt9E,UAAU2/E,iBAAmB,SAAUje,GACxC7hE,KAAKqwE,WACLrwE,KAAKoL,QAAQm+D,EAAkB79D,GAAG4B,IAAM,MAE5CtN,KAAK+/E,kBAAkBle,GACvB7hE,KAAK0iB,QAAQpR,UAAUC,IAAI,SAC3BvR,KAAK2wE,aACL3wE,KAAKsiE,KAAK,UAEdmb,EAASt9E,UAAU6/E,KAAO,WACtB,MAAOhgF,MAAKqiE,SAAS2d,QAEzBvC,EAASt9E,UAAU8/E,gBAAkB,WACjCjgF,KAAKqiE,SAASviE,MAAQ,GACtBE,KAAK8tB,QAAQ9tB,KAAK0nB,OAAOvT,EAAGnU,KAAK0nB,OAAOvT,GACpCnU,KAAKqwE,WACLrwE,KAAKoL,QAAQm+D,EAAkB79D,GAAG4B,IAAM,MAE5CtN,KAAK0iB,QAAQpR,UAAU+uC,OAAO,SAC9BrgD,KAAKsiE,KAAK,SAEdmb,EAASt9E,UAAU+/E,YAAc,WAC7B,GAAI77E,GAAQrE,IACZA,MAAKmgF,YACLngF,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,OAAQ,SAAUxC,GAC1E7b,EAAM6yE,gBAGX2E,EAAYja,YAAY1hD,EAAO7b,EAAOA,EAAM09D,oBAEhD,IAAIqe,GAAsB,SAAUlgE,GAAS,MAAO27D,GAAY1Z,aAAajiD,EAAO7b,GACpFrE,MAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,QAAS+d,IAC3EpgF,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,QAAS09D,IACtErM,EAAQxpE,UACRvK,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,YAAa,SAAUxC,GAC/D,IAAjBA,EAAMi5C,QACN0iB,EAAYrZ,kBAAkBtiD,EAAO7b,EAAOA,EAAM09D,iBAAkB19D,EAAMoR,QAAQ8nE,0BAK1Fv9E,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,cAAe,SAAUxC,GACtF27D,EAAYrZ,kBAAkBtiD,EAAO7b,EAAOA,EAAM09D,iBAAkB19D,EAAMoR,QAAQ8nE,0BAGtFxJ,EAAQhpE,SACR/K,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,WAAY,SAAUxC,GAC9D,IAAjBA,EAAMi5C,QACN0iB,EAAYtZ,6BAA6BriD,EAAO7b,OAKhEo5E,EAASt9E,UAAUggF,UAAY,WAC3B,GAAI97E,GAAQrE,KACRs/B,EAAOt/B,IACXA,MAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,UAAW,SAAUm/C,GAC9EzwD,EAASkuE,gBAAkBt/E,MAG/Bs/B,EAAK+gD,SAASxe,KACf,IACH7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,WAAY,SAAUm/C,GAC/EzwD,EAASkuE,gBAAkBt/E,MAG/Bs/B,EAAKghD,UAAUze,KAChB,IACH7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,QAAS,SAAUm/C,GAC3E2Z,EAAwB3Z,IACzBx9D,EAAMg7D,QAEV//B,EAAKihD,OAAO1e,KACb,IACH7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,UAAW,SAAUR,GAAM,MAAOx9D,GAAMg8E,SAASxe,KAAQ,IAC3H7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,WAAY,SAAUR,GAAM,MAAOx9D,GAAMi8E,UAAUze,KAAQ,IAC7H7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,mBAAoB,WAAc,MAAOh+D,GAAMm8E,mBAAmBpd,sBACpIpjE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,oBAAqB,SAAUj+C,GAAK,MAAO/f,GAAMm8E,mBAAmBnd,kBAAkBj/C,MACxJpkB,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,iBAAkB,WAAc,MAAOh+D,GAAMm8E,mBAAmBjd,oBAClIvjE,KAAKQ,SAASR,KAAKg+D,SAAS,WAAc,MAAO35D,GAAMm8E,mBAAmBld,+BAC1EtjE,KAAKQ,SAASR,KAAKg+D,SAAS,SAAU55C,GAAK,MAAO/f,GAAMo8E,oBAAoBr8D,EAAE/c,MAAO+c,EAAE9c,SAE3Fm2E,EAASt9E,UAAUwzE,KAAO,SAAUvnC,GAChC,GAAI/nC,GAAQrE,IAEZ,IADAA,KAAKs+E,QAAUlyC,GAAUpsC,KAAKs+E,SACzBt+E,KAAKs+E,QACN,KAAM,IAAIv3D,OAAM,sCAEpB/mB,MAAK0gF,SAAW1gF,KAAKs+E,QAAQ5G,cAAciJ,YAC3C3gF,KAAKihE,UAAYjhE,KAAKs+E,QAAQ5G,cAC9B13E,KAAK0iB,QAAU1iB,KAAKihE,UAAU5vD,cAAc,OAC5CrR,KAAK0iB,QAAQggB,IAAM,MACnB1iC,KAAK0iB,QAAQpR,UAAUC,IAAI,YAC3BvR,KAAK0iB,QAAQpR,UAAUC,IAAI,SAC3BvR,KAAK0iB,QAAQk7C,aAAa,WAAY,KACtC59D,KAAKs+E,QAAQ3sE,YAAY3R,KAAK0iB,QAC9B,IAAIk+D,GAAWxvE,EAASyvE,wBACxB7gF,MAAK8gF,iBAAmB1vE,EAASC,cAAc,OAC/CrR,KAAK8gF,iBAAiBxvE,UAAUC,IAAI,kBACpCqvE,EAASjvE,YAAY3R,KAAK8gF,kBAC1B9gF,KAAK+gF,oBAAsB3vE,EAASC,cAAc,OAClDrR,KAAK+gF,oBAAoBzvE,UAAUC,IAAI,qBACvCvR,KAAK8gF,iBAAiBnvE,YAAY3R,KAAK+gF,qBACvC/gF,KAAKmmB,cAAgB/U,EAASC,cAAc,OAC5CrR,KAAKmmB,cAAc7U,UAAUC,IAAI,gBACjCvR,KAAKghF,iBAAmB5vE,EAASC,cAAc,OAC/CrR,KAAKghF,iBAAiB1vE,UAAUC,IAAI,iBACpCvR,KAAKmmB,cAAcxU,YAAY3R,KAAKghF,kBACpCJ,EAASjvE,YAAY3R,KAAKmmB,eAC1BnmB,KAAK+xE,kBAAoB,GAAIV,GAAmBvtD,iBAAiB9jB,MACjEA,KAAKQ,SAASR,KAAK+xE,mBACnB/xE,KAAKQ,SAASR,KAAKi+D,SAAS,WAAc,MAAO55D,GAAM0tE,kBAAkB9/D,cACzEjS,KAAKk/E,UAAUrN,YAAY7xE,KAAK+xE,mBAChC/xE,KAAKqiE,SAAWjxD,EAASC,cAAc,YACvCrR,KAAKqiE,SAAS/wD,UAAUC,IAAI,yBAC5BvR,KAAKqiE,SAASzE,aAAa,aAAcpB,EAAQ5lD,aACjD5W,KAAKqiE,SAASzE,aAAa,iBAAkB,SAC7C59D,KAAKqiE,SAASzE,aAAa,cAAe,OAC1C59D,KAAKqiE,SAASzE,aAAa,iBAAkB,OAC7C59D,KAAKqiE,SAASzE,aAAa,aAAc,SACzC59D,KAAKqiE,SAAS9C,SAAW,EACzBv/D,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,QAAS,SAAUR,GAAM,MAAOx9D,GAAMy7E,iBAAiBje,MACzH7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAKqiE,SAAU,OAAQ,WAAc,MAAOh+D,GAAM47E,qBACrGjgF,KAAKghF,iBAAiBrvE,YAAY3R,KAAKqiE,UACvCriE,KAAKgjE,iBAAmB5xD,EAASC,cAAc,OAC/CrR,KAAKgjE,iBAAiB1xD,UAAUC,IAAI,oBACpCvR,KAAKwgF,mBAAqB,GAAI9E,GAAoB5Y,kBAAkB9iE,KAAKqiE,SAAUriE,KAAKgjE,iBAAkBhjE,MAC1GA,KAAKghF,iBAAiBrvE,YAAY3R,KAAKgjE,kBACvChjE,KAAKijB,YAAc,GAAIi5D,GAAcpb,YAAY1vD,EAAUpR,KAAKghF,kBAChEhhF,KAAK0iB,QAAQ/Q,YAAYivE,GACzB5gF,KAAKihF,OAASjhF,KAAKyV,QAAQ2W,MAC3BpsB,KAAKkhF,cAAgB,GAAIzE,GAAe1wD,aAAa3a,EAAUpR,KAAKyV,QAAQ4D,mBAC5ErZ,KAAKkhF,cAAc/0D,SAASnsB,KAAKihF,OACjC,IAAIE,GAAWnhF,KAAK4/E,iBACpB5/E,MAAKwiB,mBAAqB,GAAIk6D,GAAoB0E,kBAAkBD,EAAUnhF,KAAKmT,KAAMnT,KAAKmmB,eAC9FnmB,KAAKwiB,mBAAmBw7C,SAAS,SAAU55C,GAAK,MAAO/f,GAAMs5E,UAAUn0E,KAAK4a,KAC5EpkB,KAAK89D,SAAS,SAAU15C,GAAK,MAAO/f,GAAMme,mBAAmBjb,OAAO6c,EAAE5e,KAAM4e,EAAEjR,QAC9EnT,KAAK+vE,SAAW,GAAI6L,GAAWyF,SAASrhF,KAAMA,KAAK8gF,iBAAkB9gF,KAAK+gF,oBAAqB/gF,KAAKijB,YAAajjB,KAAKwiB,mBAAmBe,YACzIvjB,KAAK+vE,SAASuR,cAActhF,KAAKkhF,cAAcpoE,QAC/C9Y,KAAKQ,SAASR,KAAK+vE,UACnB/vE,KAAKQ,SAASR,KAAKsS,aAAa,WAAc,MAAOjO,GAAMme,mBAAmBlQ,kBAC9EtS,KAAKQ,SAASR,KAAK89D,SAAS,WAAc,MAAOz5D,GAAMme,mBAAmBs7C,SAASz5D,EAAMmB,KAAMnB,EAAM8O,SACrGnT,KAAKQ,SAASR,KAAKk+D,sBAAsB,OAAQ,WAAc,MAAO75D,GAAMme,mBAAmBpQ,YAC/FpS,KAAKQ,SAASR,KAAKk+D,sBAAsB,QAAS,WAAc,MAAO75D,GAAMme,mBAAmBnQ,aAChGrS,KAAKQ,SAASR,KAAKijB,YAAYs+D,kBAAkB,WAAc,MAAOl9E,GAAMme,mBAAmB++D,uBAC/FvhF,KAAKQ,SAASR,KAAKwiB,mBAAmBg/D,mBAAmB,WAAc,MAAOn9E,GAAM0rE,SAASC,oBAC7FhwE,KAAK+hE,iBAAmB,GAAIka,GAAmB5H,iBAAiBr0E,KAAMA,KAAKijB,aAC3EjjB,KAAKQ,SAASR,KAAK+hE,iBAAiBic,kBAAkB,WAAc,MAAO35E,GAAMqwE,mBAAmBlrE,UACpGxJ,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK0iB,QAAS,YAAa,SAAU0B,GAAK,MAAO/f,GAAM09D,iBAAiBgV,YAAY3yD,MACvIpkB,KAAKQ,SAASR,KAAK+hE,iBAAiB0f,gBAAgB,SAAUr9D,GAAK,MAAO/f,GAAMme,mBAAmB9P,mBAAmB0R,EAAE/c,MAAO+c,EAAE9c,IAAK8c,EAAEzR,qBACxI3S,KAAKQ,SAASR,KAAK+hE,iBAAiB2f,sBAAsB,SAAUr5D,GAChEhkB,EAAMg+D,SAASviE,MAAQuoB,EACvBhkB,EAAMg+D,SAAShD,QACfh7D,EAAMg+D,SAASO,YAEnB5iE,KAAKQ,SAASR,KAAKi+D,SAAS,WACxB55D,EAAM0rE,SAASC,iBACf3rE,EAAM09D,iBAAiBj0C,aAE3B9tB,KAAKQ,SAASojB,EAAY3Y,yBAAyBjL,KAAK8gF,iBAAkB,SAAU,WAAc,MAAOz8E,GAAM09D,iBAAiBj0C,aAChI9tB,KAAKkmB,YAAc,GAAI4tD,GAAcvxD,YAAYviB,KAAKwiB,oBACtDxiB,KAAK0iB,QAAQpR,UAAUqwE,OAAO,sBAAuB3hF,KAAKowE,aACtDpwE,KAAKowE,YACLpwE,KAAK+hE,iBAAiBzI,UAGtBt5D,KAAK+hE,iBAAiB6O,SAEtB5wE,KAAKyV,QAAQ44D,mBACbruE,KAAK6/E,sBAAwB,GAAIzD,GAAuBzf,qBAAqB38D,KAAMA,KAAKwiB,mBAAmBe,YAC3GvjB,KAAK6/E,sBAAsBr/E,SAASR,KAAKwiB,mBAAmBg/D,mBAAmB,SAAUp9D,GAAK,MAAO/f,GAAMw7E,sBAAsB7f,cAAc57C,OAEnJpkB,KAAKijB,YAAYo+C,QAAQrhE,KAAKyV,SAC9BzV,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GAC5BnT,KAAKkgF,cACLlgF,KAAK4hF,aAETnE,EAASt9E,UAAUy/E,gBAAkB,WACjC,OAAQ5/E,KAAKyV,QAAQ+nE,cACjB,IAAK,SACD,MAAO,IAAIzB,GAAW8F,SAAS7hF,KAAMA,KAAKkhF,cAAcpoE,OAE5D,KAAK,MACD,MAAO,IAAIujE,GAAcyF,YAAY9hF,KAAMA,KAAKkhF,cAAcpoE,OAElE,SAAS,KAAM,IAAIiO,OAAM,8BAAiC/mB,KAAKyV,QAAQ+nE,aAAe,OAG9FC,EAASt9E,UAAUq/E,UAAY,SAAUpzD,GACrCpsB,KAAKihF,OAAS70D,EACVpsB,KAAKkhF,eACLlhF,KAAKkhF,cAAc/0D,SAASC,GAE5BpsB,KAAKwiB,oBACLxiB,KAAKwiB,mBAAmB5P,UAAU5S,KAAKkhF,cAAcpoE,QAErD9Y,KAAK+vE,UACL/vE,KAAK+vE,SAASuR,cAActhF,KAAKkhF,cAAcpoE,SAGvD2kE,EAASt9E,UAAUyhF,UAAY,WAK3B,QAASG,GAAWlgB,GAChB,GAAI1I,GACAlyD,CAGJ,IAFAkyD,EAAS6oB,EAAUngB,GACnB56D,EAAMq4B,EAAKpZ,YAAYxC,iBAAiBm+C,EAAIviC,EAAKnZ,cAAemZ,EAAKrc,YAAaqc,EAAK95B,KAAM85B,EAAKnsB,MAIlG,OADA8uE,EAAU9oB,EAAQlyD,GACV46D,EAAGqgB,cAAgBrgB,EAAG12D,MAC1B,IAAK,YACDg3E,EAAUhpB,CACV,MACJ,KAAK,UACDgpB,EAAU,IAMtB,QAASC,GAASvgB,GACd,GAAI1I,GAASgpB,EACTl7E,EAAMq4B,EAAKpZ,YAAYxC,iBAAiBm+C,EAAIviC,EAAKnZ,cAAemZ,EAAKrc,YAAaqc,EAAK95B,KAAM85B,EAAKnsB,KACjGlM,KAELkyD,GAAU,GACV8oB,EAAU9oB,EAAQlyD,IAEtB,QAASo7E,GAAO76E,EAAMskB,GAClB,GAAKwT,EAAKgxC,SASL,CACD,GAAIxkD,EAAK,KAEL,WADAtkB,GAAK/G,KAAK,KAGd+G,GAAK/G,KAAKqrB,OAdM,CAChB,GAAW,MAAPA,EAEA,WADAtkB,GAAK/G,KAAK,EAGVqrB,GAAK,MACLA,EAAK,KACTtkB,EAAK/G,KAAKqrB,IAUlB,QAASm2D,GAAU9oB,EAAQlyD,GACvB,GAAIq4B,EAAKgjD,YAAa,CAClBnpB,GAAU,EACVlyD,EAAIiN,GAAK,GACTjN,EAAIkN,GAAK,EACT,IAAIouE,GAAShZ,EAAkB79D,GAAG4B,IAAM,KACxC,IAAe,IAAX6rD,EACAopB,GAAU,QACT,IAAe,IAAXppB,EACLopB,GAAU,QACT,IAAe,IAAXppB,EACLopB,GAAU,QACT,IAAe,IAAXppB,EACL,MAEAopB,IAAU,IAGd,MAFAA,IAAU,KAAOt7E,EAAIiN,EAAI,IAAMjN,EAAIkN,EAAI,UACvCmrB,GAAKl0B,QAAQm3E,GAGjB,GAAIjjD,EAAKkjD,YAuBL,MAtBArpB,IAAU,EACVlyD,EAAIiN,GAAK,GACTjN,EAAIkN,GAAK,GACM,IAAXglD,EACAA,EAAS,EACO,IAAXA,EACLA,EAAS,EACO,IAAXA,EACLA,EAAS,EACO,IAAXA,IACLA,EAAS,OACb75B,GAAKl0B,QAAQm+D,EAAkB79D,GAAG4B,IAAM,IAClC6rD,EACA,KACY,IAAXA,EAAe,EAAI,GACpB,IACAlyD,EAAIkN,EACJ,IACAlN,EAAIiN,EACJ,IACAjN,EAAIw7E,MAAQ,MAItB,IAAInjD,EAAKkxC,WAML,MALAvpE,GAAIiN,GAAK,GACTjN,EAAIkN,GAAK,GACTlN,EAAIiN,IACJjN,EAAIkN,QACJmrB,GAAKl0B,QAAQm+D,EAAkB79D,GAAG4B,IAAM,IAAM6rD,EAAS,IAAMlyD,EAAIiN,EAAI,IAAMjN,EAAIkN,EAAI,IAGvF,IAAImrB,EAAKixC,SAUL,MATAtpE,GAAIiN,GAAK,GACTjN,EAAIkN,GAAK,OACTmrB,GAAKl0B,QAAQm+D,EAAkB79D,GAAG4B,IAAM,OACf,IAAP,EAAT6rD,IAA6B,EAATA,EAAcA,GAAU,IAC/C,IACAlyD,EAAIiN,EACJ,IACAjN,EAAIkN,GACc,IAAP,EAATglD,GAAoB,IAAM,KAGtC,IAAI3xD,KACJ66E,GAAO76E,EAAM2xD,GACbkpB,EAAO76E,EAAMP,EAAIiN,GACjBmuE,EAAO76E,EAAMP,EAAIkN,GACjBmrB,EAAKl0B,QAAQm+D,EAAkB79D,GAAG4B,IAAM,KAAOyJ,OAAOC,aAAa1S,MAAMyS,OAAQvP,IAErF,QAASw6E,GAAUngB,GACf,GAAI1I,GACA+F,EACAwjB,EACAC,EACAC,CACJ,QAAQ/gB,EAAGqgB,cAAgBrgB,EAAG12D,MAC1B,IAAK,YACDguD,EAAuB,OAAd0I,EAAG1I,YAAiCxvD,KAAdk4D,EAAG1I,QAC3B0I,EAAG1I,OACS,OAAb0I,EAAGghB,WAA+Bl5E,KAAbk4D,EAAGghB,MACpBhhB,EAAGghB,MAAQ,EACX,KACN9O,EAAQrpE,SACRyuD,EAAoB,IAAXA,EAAe,EAAe,IAAXA,EAAe,EAAIA,EAEnD,MACJ,KAAK,UACDA,EAAS,CACT,MACJ,KAAK,iBACDA,EAAS0I,EAAGwV,OAAS,EACf,GACA,EACN,MACJ,KAAK,QACDle,EAAS0I,EAAGihB,OAAS,EACf,GACA,GAcd,MAXA5jB,GAAQ2C,EAAGiV,SAAW,EAAI,EAC1B4L,EAAO7gB,EAAGkhB,QAAU,EAAI,EACxBJ,EAAO9gB,EAAGmhB,QAAU,GAAK,EACzBJ,EAAM1jB,EAAQwjB,EAAOC,EACjBrjD,EAAK4wC,WACL0S,GAAOD,EAEDrjD,EAAK6wC,cACXyS,EAAM,GAEVzpB,EAAU,IAAMypB,GAAO,GAAMzpB,EAjKjC,GAAI90D,GAAQrE,KACRgI,EAAKhI,KAAK0iB,QACV4c,EAAOt/B,KACPmiF,EAAU,EAiKdniF,MAAKQ,SAASojB,EAAY3Y,yBAAyBjD,EAAI,YAAa,SAAU65D,GAG1E,GAFAA,EAAG/7C,iBACHzhB,EAAMg7D,QACDh7D,EAAM+rE,cAAe/rE,EAAM09D,iBAAiB4U,qBAAqB9U,GAAtE,CAIA,GADAkgB,EAAWlgB,GACPx9D,EAAM6rE,WAGN,MAFArO,GAAGqgB,aAAe,UAClBH,EAAWlgB,GACJx9D,EAAM4gD,OAAO4c,EAExB,IAAIohB,EACA5+E,GAAM8rE,cACN8S,EAAc,SAAU/iE,GACf7b,EAAM8rE,aAGXiS,EAASliE,IAEb7b,EAAM48D,UAAU31D,iBAAiB,YAAa23E,GAElD,IAAI73E,GAAU,SAAUy2D,GASpB,MARIx9D,GAAM8rE,cAAgB9rE,EAAM4rE,UAC5B8R,EAAWlgB,GAEXohB,IACA5+E,EAAM48D,UAAU11D,oBAAoB,YAAa03E,GACjDA,EAAc,MAElB5+E,EAAM48D,UAAU11D,oBAAoB,UAAWH,GACxC/G,EAAM4gD,OAAO4c,GAGxB,OADAx9D,GAAM48D,UAAU31D,iBAAiB,UAAWF,GACrC/G,EAAM4gD,OAAO4c,OAExB7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjD,EAAI,QAAS,SAAU65D,GACtE,GAAKx9D,EAAM+rE,YAeP/rE,EAAM4rE,UAAY5rE,EAAMi+E,aAAej+E,EAAMm+E,cAEjDT,EAAWlgB,GACXA,EAAG/7C,sBAjBC,KAAKzhB,EAAMqjB,OAAOw7D,cAAe,CAC7B,GAAIrkE,GAASxa,EAAM0rE,SAASoT,iBAAiBthB,EAC7C,IAAe,IAAXhjD,EACA,MAIJ,KAAK,GAFDukE,GAAW7Z,EAAkB79D,GAAG4B,KAAOjJ,EAAMorE,kBAAoB,IAAM,MAAQ5N,EAAGihB,OAAS,EAAI,IAAM,KACrGt7E,EAAO,GACFzB,EAAI,EAAGA,EAAI+C,KAAK4tE,IAAI73D,GAAS9Y,IAClCyB,GAAQ47E,CAEZ/+E,GAAM+G,QAAQ5D,OAS1BxH,KAAKQ,SAASojB,EAAY3Y,yBAAyBjD,EAAI,QAAS,SAAU65D,GACtE,IAAIx9D,EAAM+rE,YAGV,MADA/rE,GAAM0rE,SAASsT,QAAQxhB,GAChBx9D,EAAM4gD,OAAO4c,MAExB7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjD,EAAI,aAAc,SAAU65D,GAC3E,IAAIx9D,EAAM+rE,YAGV,MADA/rE,GAAM0rE,SAASuT,aAAazhB,GACrBx9D,EAAM4gD,OAAO4c,MAExB7hE,KAAKQ,SAASojB,EAAY3Y,yBAAyBjD,EAAI,YAAa,SAAU65D,GAC1E,IAAIx9D,EAAM+rE,YAGV,MADA/rE,GAAM0rE,SAASwT,YAAY1hB,GACpBx9D,EAAM4gD,OAAO4c,OAG5B4b,EAASt9E,UAAU2tB,QAAU,SAAUzmB,EAAOC,GACtCtH,KAAKwiB,oBACLxiB,KAAKwiB,mBAAmBghE,YAAYn8E,EAAOC,IAGnDm2E,EAASt9E,UAAUsgF,oBAAsB,SAAUp5E,EAAOC,GAClDtH,KAAKk/E,WACLl/E,KAAKk/E,UAAUlN,YAAY3qE,EAAOC,IAG1Cm2E,EAASt9E,UAAU4/E,kBAAoB,SAAUle,GACzC7hE,KAAK+hE,kBAAoB/hE,KAAK+hE,iBAAiBiW,mBAAmBnW,GAClE7hE,KAAK0iB,QAAQpR,UAAUC,IAAI,iBAG3BvR,KAAK0iB,QAAQpR,UAAU+uC,OAAO,kBAGtCo9B,EAASt9E,UAAUwwE,WAAa,WACvB3wE,KAAKw+E,cACNx+E,KAAKw+E,YAAc,EACnBx+E,KAAK8tB,QAAQ9tB,KAAK0nB,OAAOvT,EAAGnU,KAAK0nB,OAAOvT,KAGhDspE,EAASt9E,UAAUyuE,OAAS,SAAUlpE,OAChB,KAAdA,IAAwBA,GAAY,EACxC,IAAIuC,EACJA,GAAUjI,KAAK09E,UACf,IAAI+F,GAAYzjF,KAAK+uE,eAChB9mE,IAAWA,EAAQ1H,SAAWP,KAAKwF,MAAQyC,EAAQ5B,MAAM,KAAOo9E,EAAU/gF,IAAMuF,EAAQ3B,MAAM,KAAOm9E,EAAU9gF,KAChHsF,EAAUjI,KAAK0nB,OAAO9M,aAAa6oE,EAAW/9E,GAC9C1F,KAAK09E,WAAaz1E,GAEtBA,EAAQvC,UAAYA,CACpB,IAAIg+E,GAAS1jF,KAAK0nB,OAAO1M,MAAQhb,KAAK0nB,OAAOjM,UACzCkoE,EAAY3jF,KAAK0nB,OAAO1M,MAAQhb,KAAK0nB,OAAOhM,YAChD,IAA8B,IAA1B1b,KAAK0nB,OAAOjM,UAAiB,CAC7B,GAAImoE,GAAsB5jF,KAAK0nB,OAAO7M,MAAMmtB,MACxC27C,KAAc3jF,KAAK0nB,OAAO7M,MAAMta,OAAS,EACrCqjF,EACA5jF,KAAK0nB,OAAO7M,MAAMgpE,UAAU/7E,SAASG,GAGrCjI,KAAK0nB,OAAO7M,MAAMpa,KAAKwH,EAAQnF,SAInC9C,KAAK0nB,OAAO7M,MAAMha,OAAO8iF,EAAY,EAAG,EAAG17E,EAAQnF,SAElD8gF,EAOG5jF,KAAKg/E,iBACLh/E,KAAK0nB,OAAOxM,MAAQpS,KAAKsT,IAAIpc,KAAK0nB,OAAOxM,MAAQ,EAAG,KAPxDlb,KAAK0nB,OAAO1M,QACPhb,KAAKg/E,gBACNh/E,KAAK0nB,OAAOxM,aASnB,CACD,GAAI4oE,GAAqBH,EAAYD,EAAS,CAC9C1jF,MAAK0nB,OAAO7M,MAAMkpE,cAAcL,EAAS,EAAGI,EAAqB,GAAI,GACrE9jF,KAAK0nB,OAAO7M,MAAM1U,IAAIw9E,EAAW17E,EAAQnF,SAExC9C,KAAKg/E,iBACNh/E,KAAK0nB,OAAOxM,MAAQlb,KAAK0nB,OAAO1M,OAEpChb,KAAK2uE,YAAY3uE,KAAK0nB,OAAOjM,WAC7Bzb,KAAK2uE,YAAY3uE,KAAK0nB,OAAOhM,cAC7B1b,KAAKwqE,UAAUhhE,KAAKxJ,KAAK0nB,OAAOxM,QAEpCuiE,EAASt9E,UAAUi/D,YAAc,SAAU4kB,EAAMC,GAC7C,GAAID,EAAO,EAAG,CACV,GAA0B,IAAtBhkF,KAAK0nB,OAAOxM,MACZ,MAEJlb,MAAKg/E,gBAAiB,MAEjBgF,GAAOhkF,KAAK0nB,OAAOxM,OAASlb,KAAK0nB,OAAO1M,QAC7Chb,KAAKg/E,gBAAiB,EAE1B,IAAIkF,GAAWlkF,KAAK0nB,OAAOxM,KAC3Blb,MAAK0nB,OAAOxM,MAAQpS,KAAKsT,IAAItT,KAAKC,IAAI/I,KAAK0nB,OAAOxM,MAAQ8oE,EAAMhkF,KAAK0nB,OAAO1M,OAAQ,GAChFkpE,IAAalkF,KAAK0nB,OAAOxM,QAGxB+oE,GACDjkF,KAAKwqE,UAAUhhE,KAAKxJ,KAAK0nB,OAAOxM,OAEpClb,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,KAEhCsqE,EAASt9E,UAAUgkF,YAAc,SAAUC,GACvCpkF,KAAKo/D,YAAYglB,GAAapkF,KAAKmT,KAAO,KAE9CsqE,EAASt9E,UAAUkkF,YAAc,WAC7BrkF,KAAKo/D,aAAap/D,KAAK0nB,OAAOxM,QAElCuiE,EAASt9E,UAAUmkF,eAAiB,WAChCtkF,KAAKo/D,YAAYp/D,KAAK0nB,OAAO1M,MAAQhb,KAAK0nB,OAAOxM,QAErDuiE,EAASt9E,UAAUokF,aAAe,SAAUx8E,GACxC,GAAIy8E,GAAez8E,EAAO/H,KAAK0nB,OAAOxM,KACjB,KAAjBspE,GACAxkF,KAAKo/D,YAAYolB,IAGzB/G,EAASt9E,UAAUskF,UAAY,SAAUj9E,GACrC,GAAInD,GAAQrE,IACRA,MAAKE,aAGJsH,IAGLxH,KAAK6+E,gBAAgBp+E,KAAK+G,GACtBxH,KAAKyV,QAAQ6nE,iBAAmBt9E,KAAK++E,oBAAsB/+E,KAAK6+E,gBAAgBt+E,QA94BzD,IA+4BvBP,KAAKoL,QAAQm+D,EAAkB79D,GAAGoB,KAClC9M,KAAK++E,oBAAqB,IAEzB/+E,KAAK8+E,kBAAoB9+E,KAAK6+E,gBAAgBt+E,OAAS,IACxDP,KAAK8+E,kBAAmB,EACxBt5D,WAAW,WACPnhB,EAAMqgF,uBAIlBjH,EAASt9E,UAAUukF,gBAAkB,SAAUC,GAC3C,GAAItgF,GAAQrE,SACS,KAAjB2kF,IAA2BA,EAAe,GAC1C3kF,KAAKE,cACLF,KAAK6+E,mBAGT,KADA,GAAI+F,GAAYv2B,KAAKtJ,MACd/kD,KAAK6+E,gBAAgBt+E,OAASokF,GAAc,CAC/C,GAAIn9E,GAAOxH,KAAK6+E,gBAAgB8F,EAWhC,IAVAA,IACI3kF,KAAK++E,oBAAsB/+E,KAAK6+E,gBAAgBt+E,SAAWokF,IAC3D3kF,KAAKoL,QAAQm+D,EAAkB79D,GAAGkB,KAClC5M,KAAK++E,oBAAqB,GAE9B/+E,KAAK6kF,cAAgB7kF,KAAK0nB,OAAOvT,EACjCnU,KAAK8kF,YAAc9kF,KAAK0nB,OAAOvT,EAC/BnU,KAAKi/E,cAAc/Q,UAAU1mE,GAC7BxH,KAAK2uE,YAAY3uE,KAAK0nB,OAAOvT,GAC7BnU,KAAK8tB,QAAQ9tB,KAAK6kF,cAAe7kF,KAAK8kF,aAClCz2B,KAAKtJ,MAAQ6/B,GA36BN,GA46BP,MAGJ5kF,KAAK6+E,gBAAgBt+E,OAASokF,GAC1BA,EA/6BoB,KAg7BpB3kF,KAAK6+E,gBAAkB7+E,KAAK6+E,gBAAgB1lE,MAAMwrE,GAClDA,EAAe,GAEnBn/D,WAAW,WAAc,MAAOnhB,GAAMqgF,gBAAgBC,IAAkB,KAGxE3kF,KAAK8+E,kBAAmB,EACxB9+E,KAAK6+E,qBAGbpB,EAASt9E,UAAUi+E,MAAQ,SAAU52E,GACjC,GAAInD,GAAQrE,IACRA,MAAKE,aAGJsH,IAGLxH,KAAK4+E,YAAYn+E,KAAK+G,GAClBxH,KAAKyV,QAAQ6nE,iBAAmBt9E,KAAK++E,oBAAsB/+E,KAAK4+E,YAAYr+E,QAr8BrD,IAs8BvBP,KAAKoL,QAAQm+D,EAAkB79D,GAAGoB,KAClC9M,KAAK++E,oBAAqB,IAEzB/+E,KAAK8+E,kBAAoB9+E,KAAK4+E,YAAYr+E,OAAS,IACpDP,KAAK8+E,kBAAmB,EACxBt5D,WAAW,WACPnhB,EAAM0gF,mBAIlBtH,EAASt9E,UAAU4kF,YAAc,SAAUJ,GACvC,GAAItgF,GAAQrE,SACS,KAAjB2kF,IAA2BA,EAAe,GAC1C3kF,KAAKE,cACLF,KAAK4+E,eAGT,KADA,GAAIgG,GAAYv2B,KAAKtJ,MACd/kD,KAAK4+E,YAAYr+E,OAASokF,GAAc,CAC3C,GAAIn9E,GAAOxH,KAAK4+E,YAAY+F,EAW5B,IAVAA,IACI3kF,KAAK++E,oBAAsB/+E,KAAK4+E,YAAYr+E,SAAWokF,IACvD3kF,KAAKoL,QAAQm+D,EAAkB79D,GAAGkB,KAClC5M,KAAK++E,oBAAqB,GAE9B/+E,KAAK6kF,cAAgB7kF,KAAK0nB,OAAOvT,EACjCnU,KAAK8kF,YAAc9kF,KAAK0nB,OAAOvT,EAC/BnU,KAAKi/E,cAAczW,MAAMhhE,GACzBxH,KAAK2uE,YAAY3uE,KAAK0nB,OAAOvT,GAC7BnU,KAAK8tB,QAAQ9tB,KAAK6kF,cAAe7kF,KAAK8kF,aAClCz2B,KAAKtJ,MAAQ6/B,GAl+BN,GAm+BP,MAGJ5kF,KAAK4+E,YAAYr+E,OAASokF,GACtBA,EAt+BoB,KAu+BpB3kF,KAAK4+E,YAAc5+E,KAAK4+E,YAAYzlE,MAAMwrE,GAC1CA,EAAe,GAEnBn/D,WAAW,WAAc,MAAOnhB,GAAM0gF,YAAYJ,IAAkB,KAGpE3kF,KAAK8+E,kBAAmB,EACxB9+E,KAAK4+E,iBAGbnB,EAASt9E,UAAU6kF,QAAU,SAAUx9E,GACnCxH,KAAKo+E,MAAM52E,EAAO,SAEtBi2E,EAASt9E,UAAU8kF,4BAA8B,SAAUC,GACvDllF,KAAKm+E,uBAAyB+G,GAElCzH,EAASt9E,UAAUinE,cAAgB,SAAUhC,EAAMptB,GAC/C,MAAOh4C,MAAKi/E,cAAc7X,cAAchC,EAAMptB,IAElDylC,EAASt9E,UAAU0nE,cAAgB,SAAUC,EAAO9vB,GAChD,MAAOh4C,MAAKi/E,cAAcpX,cAAcC,EAAO9vB,IAEnDylC,EAASt9E,UAAUsyE,oBAAsB,SAAUC,EAAOtnE,EAASqK,GAC/D,GAAI09D,GAAYnzE,KAAKk/E,UAAUzM,oBAAoBC,EAAOtnE,EAASqK,EAEnE,OADAzV,MAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GACrBggE,GAEXsK,EAASt9E,UAAU+yE,sBAAwB,SAAUC,GAC7CnzE,KAAKk/E,UAAUhM,sBAAsBC,IACrCnzE,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,IAGpCsqE,EAASt9E,UAAUinB,wBAA0B,SAAUhc,GACnD,GAAImc,GAAWvnB,KAAKwiB,mBAAmB4E,wBAAwBhc,EAE/D,OADApL,MAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GACrBoU,GAEXk2D,EAASt9E,UAAUmnB,0BAA4B,SAAUC,GACjDvnB,KAAKwiB,mBAAmB8E,0BAA0BC,IAClDvnB,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,IAGpCvT,OAAOC,eAAe49E,EAASt9E,UAAW,WACtC8F,IAAK,WACD,MAAOjG,MAAK0nB,OAAOtN,SAEvB9Q,YAAY,EACZC,cAAc,IAElBk0E,EAASt9E,UAAU0f,UAAY,SAAUslE,GACrC,GAAInlF,KAAK0nB,SAAW1nB,KAAK0wE,QAAQ0U,OAGjC,MAAOplF,MAAK0nB,OAAO7H,UAAU7f,KAAK0nB,OAAO1M,MAAQhb,KAAK0nB,OAAOvT,EAAIgxE,IAErE1H,EAASt9E,UAAU+2E,aAAe,WAC9B,QAAOl3E,KAAK+hE,kBAAmB/hE,KAAK+hE,iBAAiBmV,cAEzDuG,EAASt9E,UAAUyiE,OAAS,SAAUyiB,EAAQ59D,EAAKlnB,GAC/CP,KAAK+hE,iBAAiB0W,aAAa4M,EAAQ59D,EAAKlnB,IAEpDk9E,EAASt9E,UAAUylB,aAAe,WAC9B,MAAO5lB,MAAK+hE,iBAAmB/hE,KAAK+hE,iBAAiBG,cAAgB,IAEzEub,EAASt9E,UAAUmlF,qBAAuB,WACtC,GAAKtlF,KAAK+hE,iBAAiBmV,aAG3B,OACIqO,YAAavlF,KAAK+hE,iBAAiBwU,eAAe,GAClD/jE,SAAUxS,KAAK+hE,iBAAiBwU,eAAe,GAC/CiP,UAAWxlF,KAAK+hE,iBAAiBoU,aAAa,GAC9C1jE,OAAQzS,KAAK+hE,iBAAiBoU,aAAa,KAGnDsH,EAASt9E,UAAUo1E,eAAiB,WAC5Bv1E,KAAK+hE,kBACL/hE,KAAK+hE,iBAAiBwT,kBAG9BkI,EAASt9E,UAAUi2E,UAAY,WACvBp2E,KAAK+hE,kBACL/hE,KAAK+hE,iBAAiBqU,aAG9BqH,EAASt9E,UAAUm2E,YAAc,SAAUjvE,EAAOC,GAC1CtH,KAAK+hE,kBACL/hE,KAAK+hE,iBAAiBuU,YAAYjvE,EAAOC,IAGjDm2E,EAASt9E,UAAUkgF,SAAW,SAAUngE,GACpC,GAAIlgB,KAAKm+E,yBAAiE,IAAvCn+E,KAAKm+E,uBAAuBj+D,GAC3D,OAAO,CAEX,KAAKlgB,KAAKwgF,mBAAmB/c,QAAQvjD,GAIjC,MAHIlgB,MAAK0nB,OAAO1M,QAAUhb,KAAK0nB,OAAOxM,OAClClb,KAAKskF,kBAEF,CAEX,IAAIt7E,GAASszE,EAAWmJ,sBAAsBvlE,EAAOlgB,KAAKyvE,kBAAmBzvE,KAAKgiE,QAAQr3D,MAAO3K,KAAKyV,QAAQ0nE,gBAE9G,IADAn9E,KAAK+/E,kBAAkB7/D,GACH,IAAhBlX,EAAOmC,MAA8B,IAAhBnC,EAAOmC,KAAY,CACxC,GAAIu6E,GAAc1lF,KAAKmT,KAAO,CAE9B,OADAnT,MAAKo/D,YAA4B,IAAhBp2D,EAAOmC,MAAcu6E,EAAcA,GAC7C1lF,KAAKilD,OAAO/kC,GAAO,GAK9B,MAHoB,KAAhBlX,EAAOmC,MACPnL,KAAKo2E,cAELp2E,KAAK2lF,mBAAmB3lF,KAAKgiE,QAAS9hD,KAGtClX,EAAOi8C,QACPjlD,KAAKilD,OAAO/kC,GAAO,IAElBlX,EAAOrB,MAGZ3H,KAAKsiE,KAAK,UAAWpiD,GACrBlgB,KAAKy+D,OAAOj1D,MAAO7B,IAAKqB,EAAOrB,IAAKo2E,SAAU79D,IAC9ClgB,KAAK2wE,aACL3wE,KAAKoL,QAAQpC,EAAOrB,KACb3H,KAAKilD,OAAO/kC,GAAO,MAE9Bu9D,EAASt9E,UAAUwlF,mBAAqB,SAAU3jB,EAASH,GACvD,GAAI+jB,GAAiB5jB,EAAQr3D,QAAU3K,KAAKyV,QAAQ0nE,iBAAmBtb,EAAG+U,SAAW/U,EAAGmhB,UAAYnhB,EAAGkhB,SAClG/gB,EAAQl3D,aAAe+2D,EAAG+U,QAAU/U,EAAGmhB,UAAYnhB,EAAGkhB,OAC3D,OAAgB,aAAZlhB,EAAG12D,KACIy6E,EAEJA,KAAmB/jB,EAAG6B,SAAW7B,EAAG6B,QAAU,KAEzD+Z,EAASt9E,UAAUstE,UAAY,SAAUxiD,GACrCjrB,KAAK8wE,OAAS7lD,EACdjrB,KAAKouE,QAAUpuE,KAAK+wE,SAAS9lD,IAEjCwyD,EAASt9E,UAAUuvE,YAAc,SAAUzkD,EAAGmjD,GAC1CpuE,KAAK+wE,SAAS9lD,GAAKmjD,EACfpuE,KAAK8wE,SAAW7lD,IAChBjrB,KAAKouE,QAAUA,IAGvBqP,EAASt9E,UAAUogF,OAAS,SAAU1e,GAClC7hE,KAAK+/E,kBAAkBle,IAE3B4b,EAASt9E,UAAUmgF,UAAY,SAAUze,GACrC,GAAIl6D,EACJ,IAAI3H,KAAKm+E,yBAA8D,IAApCn+E,KAAKm+E,uBAAuBtc,GAC3D,OAAO,CAGX,IADA7hE,KAAKilD,OAAO4c,GACRA,EAAGgkB,SACHl+E,EAAMk6D,EAAGgkB,aAER,IAAiB,OAAbhkB,EAAGghB,WAA+Bl5E,KAAbk4D,EAAGghB,MAC7Bl7E,EAAMk6D,EAAG6B,YAER,IAAiB,IAAb7B,EAAGghB,OAA+B,IAAhBhhB,EAAGgkB,SAI1B,OAAO,CAHPl+E,GAAMk6D,EAAGghB,MAKb,SAAKl7E,IAASk6D,EAAG+U,QAAU/U,EAAGmhB,SAAWnhB,EAAGkhB,WAAa/iF,KAAK2lF,mBAAmB3lF,KAAKgiE,QAASH,MAG/Fl6D,EAAMoP,OAAOC,aAAarP,GAC1B3H,KAAKsiE,KAAK,WAAY36D,EAAKk6D,GAC3B7hE,KAAKy+D,OAAOj1D,MAAO7B,IAAKA,EAAKo2E,SAAUlc,IACvC7hE,KAAK2wE,aACL3wE,KAAKoL,QAAQzD,IACN,IAEX81E,EAASt9E,UAAU0sE,KAAO,WACtB,GAAIxoE,GAAQrE,IACZA,MAAKsiE,KAAK,QACNtiE,KAAK8lF,cACL9lF,KAAKm/E,aAAa5E,gBAElBv6E,KAAK+lF,gBACL/lF,KAAK0iB,QAAQpR,UAAUC,IAAI,sBAC3B+T,aAAatlB,KAAKgmF,kBAClBhmF,KAAKgmF,iBAAmB1xE,OAAOkR,WAAW,WACtCnhB,EAAMqe,QAAQpR,UAAU+uC,OAAO,uBAChC,OAGXo9B,EAASt9E,UAAU8tE,IAAM,SAAU5lD,EAAM7gB,GAChCxH,KAAKyV,QAAQu4D,OAEbhuE,KAAK0gF,SAASnzD,SAAYvtB,KAAK0gF,SAASnzD,QAAQ0gD,KAErDjuE,KAAK0gF,SAASnzD,QAAQ0gD,IAAI5lD,EAAM7gB,IAEpCi2E,EAASt9E,UAAUuoE,MAAQ,SAAUrgD,EAAM7gB,GAClCxH,KAAKyV,QAAQu4D,OAEbhuE,KAAK0gF,SAASnzD,SAAYvtB,KAAK0gF,SAASnzD,QAAQm7C,OAErD1oE,KAAK0gF,SAASnzD,QAAQm7C,MAAMrgD,EAAM7gB,IAEtCi2E,EAASt9E,UAAUoH,OAAS,SAAU2M,EAAGC,GACrC,IAAI4yC,MAAM7yC,KAAM6yC,MAAM5yC,GAAtB,CAGA,GAAID,IAAMlU,KAAKwF,MAAQ2O,IAAMnU,KAAKmT,KAI9B,aAHInT,KAAKijB,aAAiBjjB,KAAKijB,YAAYnc,OAAU9G,KAAKijB,YAAYpP,QAClE7T,KAAKijB,YAAYo+C,QAAQrhE,KAAKyV,SAIlCvB,GA1rCO,IA2rCPA,EA3rCO,GA4rCPC,EA3rCO,IA4rCPA,EA5rCO,GA6rCXnU,KAAK0wE,QAAQnpE,OAAO2M,EAAGC,GACvBnU,KAAKwF,KAAO0O,EACZlU,KAAKmT,KAAOgB,EACZnU,KAAK0wE,QAAQ/0D,cAAc3b,KAAKwF,MAC5BxF,KAAKijB,aACLjjB,KAAKijB,YAAYo+C,QAAQrhE,KAAKyV,SAElCzV,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GAC5BnT,KAAK+9D,UAAUv0D,MAAOhE,KAAM0O,EAAGf,KAAMgB,MAEzCspE,EAASt9E,UAAUwuE,YAAc,SAAUx6D,GACnCA,EAAInU,KAAK6kF,gBACT7kF,KAAK6kF,cAAgB1wE,GACrBA,EAAInU,KAAK8kF,cACT9kF,KAAK8kF,YAAc3wE,IAE3BspE,EAASt9E,UAAU8lF,SAAW,WAC1BjmF,KAAK6kF,cAAgB,EACrB7kF,KAAK8kF,YAAc9kF,KAAKmT,KAAO,GAEnCsqE,EAASt9E,UAAUkX,MAAQ,WACvB,GAA0B,IAAtBrX,KAAK0nB,OAAO1M,OAAiC,IAAlBhb,KAAK0nB,OAAOvT,EAA3C,CAGAnU,KAAK0nB,OAAO7M,MAAM1U,IAAI,EAAGnG,KAAK0nB,OAAO7M,MAAM5U,IAAIjG,KAAK0nB,OAAO1M,MAAQhb,KAAK0nB,OAAOvT,IAC/EnU,KAAK0nB,OAAO7M,MAAMta,OAAS,EAC3BP,KAAK0nB,OAAOxM,MAAQ,EACpBlb,KAAK0nB,OAAO1M,MAAQ,EACpBhb,KAAK0nB,OAAOvT,EAAI,CAChB,KAAK,GAAIpO,GAAI,EAAGA,EAAI/F,KAAKmT,KAAMpN,IAC3B/F,KAAK0nB,OAAO7M,MAAMpa,KAAKT,KAAK0nB,OAAO9M,aAAa3K,EAAahM,mBAEjEjE,MAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GAC5BnT,KAAKwqE,UAAUhhE,KAAKxJ,KAAK0nB,OAAOxM,SAEpCuiE,EAASt9E,UAAUqvE,GAAK,SAAU1N,GAC9B,MAAsD,MAA9C9hE,KAAKyV,QAAQonE,SAAW,IAAIj8E,QAAQkhE,IAEhD2b,EAASt9E,UAAUiL,QAAU,SAAU5D,GAC/BxH,KAAKyV,QAAQ4nE,eAGbr9E,KAAK+hE,kBAAoB/hE,KAAK+hE,iBAAiBmV,cAC/Cl3E,KAAK+hE,iBAAiBwT,iBAEtBv1E,KAAK0nB,OAAO1M,QAAUhb,KAAK0nB,OAAOxM,OAClClb,KAAKskF,iBAETtkF,KAAKsqE,QAAQ9gE,KAAKhC,KAEtBi2E,EAASt9E,UAAU+wE,YAAc,SAAUgV,GACvClmF,KAAK49E,eAAep0E,KAAK08E,IAE7BzI,EAASt9E,UAAUQ,MAAQ,WACvBX,KAAK0nB,OAAOvT,IACRnU,KAAK0nB,OAAOvT,EAAInU,KAAK0nB,OAAOhM,eAC5B1b,KAAK0nB,OAAOvT,IACZnU,KAAK4uE,UAEL5uE,KAAK0nB,OAAOxT,GAAKlU,KAAKwF,MACtBxF,KAAK0nB,OAAOxT,KAGpBupE,EAASt9E,UAAUmtE,aAAe,WAC9B,GAAIttE,KAAK0nB,OAAOvT,IAAMnU,KAAK0nB,OAAOjM,UAAW,CACzC,GAAIqoE,GAAqB9jF,KAAK0nB,OAAOhM,aAAe1b,KAAK0nB,OAAOjM,SAChEzb,MAAK0nB,OAAO7M,MAAMkpE,cAAc/jF,KAAK0nB,OAAOvT,EAAInU,KAAK0nB,OAAO1M,MAAO8oE,EAAoB,GACvF9jF,KAAK0nB,OAAO7M,MAAM1U,IAAInG,KAAK0nB,OAAOvT,EAAInU,KAAK0nB,OAAO1M,MAAOhb,KAAK0nB,OAAO9M,aAAa5a,KAAK+uE,kBACvF/uE,KAAK2uE,YAAY3uE,KAAK0nB,OAAOjM,WAC7Bzb,KAAK2uE,YAAY3uE,KAAK0nB,OAAOhM,kBAG7B1b,MAAK0nB,OAAOvT,KAGpBspE,EAASt9E,UAAUooE,MAAQ,WACvBvoE,KAAKyV,QAAQtC,KAAOnT,KAAKmT,KACzBnT,KAAKyV,QAAQjQ,KAAOxF,KAAKwF,IACzB,IAAI0/E,GAAwBllF,KAAKm+E,uBAC7BgI,EAAenmF,KAAKi/E,cACpBT,EAAcx+E,KAAKw+E,YACnBI,EAAc5+E,KAAK4+E,YACnBC,EAAkB7+E,KAAK6+E,gBACvBuH,EAAkBpmF,KAAK8+E,iBACvBuH,EAAoBrmF,KAAK++E,mBACzBuH,EAAgBtmF,KAAKg/E,cACzBh/E,MAAK69E,SACL79E,KAAKm+E,uBAAyB+G,EAC9BllF,KAAKi/E,cAAgBkH,EACrBnmF,KAAKw+E,YAAcA,EACnBx+E,KAAK4+E,YAAcA,EACnB5+E,KAAK6+E,gBAAkBA,EACvB7+E,KAAK8+E,iBAAmBsH,EACxBpmF,KAAK++E,mBAAqBsH,EAC1BrmF,KAAKg/E,eAAiBsH,EACtBtmF,KAAK8tB,QAAQ,EAAG9tB,KAAKmT,KAAO,GACxBnT,KAAK+vE,UACL/vE,KAAK+vE,SAASC,kBAGtByN,EAASt9E,UAAUitE,OAAS,WACxBptE,KAAK0nB,OAAOjI,KAAKzf,KAAK0nB,OAAOxT,IAAK,GAEtCupE,EAASt9E,UAAU8kD,OAAS,SAAU4c,EAAI0kB,GACtC,GAAKvmF,KAAKyV,QAAQ2nE,cAAiBmJ,EAKnC,MAFA1kB,GAAG/7C,iBACH+7C,EAAGtG,mBACI,GAEXkiB,EAASt9E,UAAU4lF,YAAc,WAC7B,OAAO,GAEXtI,EAASt9E,UAAU2lF,WAAa,WAC5B,MAAkC,UAA3B9lF,KAAKyV,QAAQunE,WAEjBS,GACT9B,EAAe6K,aACjBhnF,GAAQi+E,SAAWA,GzD4uxBbgJ,IACA,SAAUlnF,EAAQC,EAASC,GAEjC,Y0Dll0BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8jB,GAAc,EAAQ,KACtBC,EAAc,EAAQ,KACtB6iE,EAA4B,GAC5BrF,EAAY,SAAUj9E,GAEtB,QAASi9E,GAASpnE,EAAW6mE,EAAkB6F,EAAarS,EAAc1X,GACtE,GAAIv4D,GAAQD,EAAOsF,KAAK1J,OAASA,IAkBjC,OAjBAqE,GAAM4V,UAAYA,EAClB5V,EAAMy8E,iBAAmBA,EACzBz8E,EAAMsiF,YAAcA,EACpBtiF,EAAMiwE,aAAeA,EACrBjwE,EAAMu4D,YAAcA,EACpBv4D,EAAMuiF,eAAiB,EACvBviF,EAAMwiF,kBAAoB,EAC1BxiF,EAAMyiF,0BAA4B,EAClCziF,EAAM0iF,4BAA8B,EACpC1iF,EAAM2iF,0BAA4B,EAClC3iF,EAAM4iF,eAAiB,EACvB5iF,EAAM6iF,oBAAsB,EAC5B7iF,EAAMyxE,uBAAyB,KAC/BzxE,EAAM8iF,wBAAyB,EAC/B9iF,EAAMuiF,eAAkBviF,EAAMy8E,iBAAiBsG,YAAc/iF,EAAMsiF,YAAYS,aAAgBV,EAC/FriF,EAAM7D,SAASqjB,EAAY5Y,yBAAyB5G,EAAMy8E,iBAAkB,SAAUz8E,EAAMmmE,UAAUnY,KAAKhuD,KAC3GmhB,WAAW,WAAc,MAAOnhB,GAAM2rE,kBAAqB,GACpD3rE,EAqHX,MAzIAtD,GAAUsgF,EAAUj9E,GAsBpBi9E,EAASlhF,UAAUknF,mBAAqB,SAAU9jE,GAC9CvjB,KAAK48D,YAAcr5C,GAEvB89D,EAASlhF,UAAUmhF,cAAgB,SAAUxoE,GACzC9Y,KAAK8gF,iBAAiBtvE,MAAM81E,gBAAkBxuE,EAAOhE,WAAWC,KAEpEssE,EAASlhF,UAAU41E,SAAW,WAC1B,GAAI1xE,GAAQrE,IACwB,QAAhCA,KAAK81E,yBACL91E,KAAK81E,uBAAyB1nD,sBAAsB,WAAc,MAAO/pB,GAAMgqB,oBAGvFgzD,EAASlhF,UAAUkuB,cAAgB,WAC/B,GAAIruB,KAAKs0E,aAAazgE,OAAS,EAAG,CAC9B7T,KAAK6mF,kBAAoB7mF,KAAK48D,YAAYrpD,iBAAmBe,OAAOC,iBACpEvU,KAAK+mF,4BAA8B/mF,KAAK8gF,iBAAiByG,YACzD,IAAIC,GAAkB1+E,KAAK2sD,MAAMz1D,KAAK6mF,kBAAoB7mF,KAAK8mF,4BAA8B9mF,KAAK+mF,4BAA8B/mF,KAAK48D,YAAY5oD,aAC7IhU,MAAKgnF,4BAA8BQ,IACnCxnF,KAAKgnF,0BAA4BQ,EACjCxnF,KAAK2mF,YAAYn1E,MAAMqC,OAAS7T,KAAKgnF,0BAA4B,MAGzE,GAAIvrE,GAAYzb,KAAKia,UAAUyN,OAAOxM,MAAQlb,KAAK6mF,iBAC/C7mF,MAAK8gF,iBAAiBrlE,YAAcA,IACpCzb,KAAKmnF,wBAAyB,EAC9BnnF,KAAK8gF,iBAAiBrlE,UAAYA,GAEtCzb,KAAK81E,uBAAyB,MAElCuL,EAASlhF,UAAU6vE,eAAiB,WAChC,GAAIhwE,KAAK8mF,4BAA8B9mF,KAAKia,UAAUyN,OAAO7M,MAAMta,OAG/D,MAFAP,MAAK8mF,0BAA4B9mF,KAAKia,UAAUyN,OAAO7M,MAAMta,WAC7DP,MAAK+1E,UAGT,IAAI/1E,KAAK+mF,8BAAgC/mF,KAAK48D,YAAY5oD,aAEtD,WADAhU,MAAK+1E,UAGT,IAAI0R,GAAeznF,KAAKia,UAAUyN,OAAOxM,MAAQlb,KAAK6mF,iBACtD,OAAI7mF,MAAKinF,iBAAmBQ,MACxBznF,MAAK+1E,WAGL/1E,KAAKinF,iBAAmBjnF,KAAK8gF,iBAAiBrlE,cAC9Czb,MAAK+1E,WAGL/1E,KAAK48D,YAAYrpD,iBAAmBe,OAAOC,mBAAqBvU,KAAK6mF,sBACrE7mF,MAAK+1E,eADT,IAKJsL,EAASlhF,UAAUqqE,UAAY,SAAU3I,GAErC,GADA7hE,KAAKinF,eAAiBjnF,KAAK8gF,iBAAiBrlE,UACvCzb,KAAK8gF,iBAAiB4G,aAA3B,CAGA,GAAI1nF,KAAKmnF,uBAEL,YADAnnF,KAAKmnF,wBAAyB,EAGlC,IAAIQ,GAAS7+E,KAAK2sD,MAAMz1D,KAAKinF,eAAiBjnF,KAAK6mF,mBAC/C7iB,EAAO2jB,EAAS3nF,KAAKia,UAAUyN,OAAOxM,KAC1Clb,MAAKia,UAAUmlD,YAAY4E,GAAM,KAErCqd,EAASlhF,UAAUkjF,QAAU,SAAUxhB,GACnC,GAAIhjD,GAAS7e,KAAK4nF,mBAAmB/lB,EACtB,KAAXhjD,IAGJ7e,KAAK8gF,iBAAiBrlE,WAAaoD,EACnCgjD,EAAG/7C,mBAEPu7D,EAASlhF,UAAUynF,mBAAqB,SAAU/lB,GAC9C,GAAkB,IAAdA,EAAGihB,OACH,MAAO,EAEX,IAAIjkE,GAASgjD,EAAGihB,MAOhB,OANIjhB,GAAGgmB,YAAcC,WAAWC,eAC5BlpE,GAAU7e,KAAK6mF,kBAEVhlB,EAAGgmB,YAAcC,WAAWE,iBACjCnpE,GAAU7e,KAAK6mF,kBAAoB7mF,KAAKia,UAAU9G,MAE/C0L,GAEXwiE,EAASlhF,UAAUgjF,iBAAmB,SAAUthB,GAC5C,GAAkB,IAAdA,EAAGihB,OACH,MAAO,EAEX,IAAIjkE,GAASgjD,EAAGihB,MAUhB,OATIjhB,GAAGgmB,YAAcC,WAAWG,iBAC5BppE,GAAU7e,KAAK6mF,kBAAoB,EACnC7mF,KAAKknF,qBAAuBroE,EAC5BA,EAAS/V,KAAKsmD,MAAMtmD,KAAK4tE,IAAI12E,KAAKknF,uBAAyBlnF,KAAKknF,oBAAsB,EAAI,GAAK,GAC/FlnF,KAAKknF,qBAAuB,GAEvBrlB,EAAGgmB,YAAcC,WAAWE,iBACjCnpE,GAAU7e,KAAKia,UAAU9G,MAEtB0L,GAEXwiE,EAASlhF,UAAUmjF,aAAe,SAAUzhB,GACxC7hE,KAAKkoF,YAAcrmB,EAAGsmB,QAAQ,GAAGhjE,OAErCk8D,EAASlhF,UAAUojF,YAAc,SAAU1hB,GACvC,GAAIihB,GAAS9iF,KAAKkoF,YAAcrmB,EAAGsmB,QAAQ,GAAGhjE,KAC9CnlB,MAAKkoF,YAAcrmB,EAAGsmB,QAAQ,GAAGhjE,MAClB,IAAX29D,IAGJ9iF,KAAK8gF,iBAAiBrlE,WAAaqnE,EACnCjhB,EAAG/7C,mBAEAu7D,GACTz9D,EAAY7jB,WACdP,GAAQ6hF,SAAWA,G1Dyl0Bb+G,IACA,SAAU7oF,EAAQC,EAASC,GAEjC,Y2Dvv0BA,SAAS2/E,GAAiBjtE,GACtB,MAAOA,GAASksD,WAAW,WACvB,GAAIt2D,GAAOoK,EAASuV,OAAO7M,MAAM5U,IAAIkM,EAASuV,OAAO1M,MAAQ7I,EAASuV,OAAOvT,EAAI,GAC7Ek0E,EAAWtgF,EAAK9B,IAAIkM,EAAS3M,KAAO,EACzB2M,GAASuV,OAAO7M,MAAM5U,IAAIkM,EAASuV,OAAO1M,MAAQ7I,EAASuV,OAAOvT,GACxEzO,UAAa2iF,EAASp4E,EAAahO,wBAA0BgO,EAAa7N,gBAAkBimF,EAASp4E,EAAahO,wBAA0BgO,EAAa1N,uBAP1K3C,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAImQ,GAAe,EAAQ,IAS3BzQ,GAAQ4/E,iBAAmBA,G3Dgw0BrBkJ,IACA,SAAU/oF,EAAQC,EAASC,GAEjC,Y4D5w0BA,SAAS8oF,GAAgBzmB,GACrB,IAAKA,EAAKp/C,QAAQq+C,cACd,MAAO,KAEX,IAAIynB,GAAqBl0E,OAAOm0E,iBAAiB3mB,EAAKp/C,QAAQq+C,eAC1D2nB,EAAsB9gF,SAAS4gF,EAAmBG,iBAAiB,WACnEC,EAAqB9/E,KAAKsT,IAAI,EAAGxU,SAAS4gF,EAAmBG,iBAAiB,WAC9EE,EAAev0E,OAAOm0E,iBAAiB3mB,EAAKp/C,SAC5ComE,GACA/lE,IAAKnb,SAASihF,EAAaF,iBAAiB,gBAC5CI,OAAQnhF,SAASihF,EAAaF,iBAAiB,mBAC/CK,MAAOphF,SAASihF,EAAaF,iBAAiB,kBAC9C9lE,KAAMjb,SAASihF,EAAaF,iBAAiB,kBAE7CM,EAAoBH,EAAe/lE,IAAM+lE,EAAeC,OACxDG,EAAoBJ,EAAeE,MAAQF,EAAejmE,KAC1DsmE,EAAkBT,EAAsBO,EACxCG,EAAiBR,EAAqBM,EAAoBpnB,EAAKunB,MAAMtZ,SAAS6W,cAKlF,QAHIphF,KAAMsD,KAAKsmD,MAAMg6B,EAAiBtnB,EAAKunB,MAAM7mE,mBAAmBe,WAAWC,iBAC3ErQ,KAAMrK,KAAKsmD,MAAM+5B,EAAkBrnB,EAAKunB,MAAM7mE,mBAAmBe,WAAWE,mBAKpF,QAAS6lE,GAAIxnB,GACT,GAAIR,GAAWinB,EAAgBzmB,EAC3BR,KACIQ,EAAK3uD,OAASmuD,EAASnuD,MAAQ2uD,EAAKt8D,OAAS87D,EAAS97D,OACtDs8D,EAAKunB,MAAM7mE,mBAAmBnL,QAC9ByqD,EAAKv6D,OAAO+5D,EAAS97D,KAAM87D,EAASnuD,QAKhD,QAAS7O,GAAMilF,GACXA,EAAoBppF,UAAUooF,gBAAkB,WAC5C,MAAOA,GAAgBvoF,OAE3BupF,EAAoBppF,UAAUmpF,IAAM,WAChCA,EAAItpF,OAzCZJ,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAyBtDN,EAAQ+oF,gBAAkBA,EAU1B/oF,EAAQ8pF,IAAMA,EASd9pF,EAAQ8E,MAAQA,G5Dox0BVklF,IACA,SAAUjqF,EAAQC,EAASC,GAEjC,Y6Dn00BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIqgE,GAAkB,EAAQ,KAC1B3kD,EAAgB,WAChB,QAASA,GAAaiuE,GAClBzpF,KAAKypF,WAAaA,EAClBzpF,KAAK0pF,gBAAkB,GAAIvpB,GAAgBj3D,cAC3ClJ,KAAK+e,gBAAkB,GAAIohD,GAAgBj3D,cAC3ClJ,KAAKgf,cAAgB,GAAImhD,GAAgBj3D,cACzClJ,KAAK2pF,OAAS,GAAIvoF,OAAMpB,KAAKypF,YAC7BzpF,KAAK6gB,YAAc,EACnB7gB,KAAK4pF,QAAU,EAyJnB,MAvJAhqF,QAAOC,eAAe2b,EAAarb,UAAW,YAC1C8F,IAAK,WAAc,MAAOjG,MAAK0pF,gBAAgBxpE,OAC/C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe2b,EAAarb,UAAW,YAC1C8F,IAAK,WAAc,MAAOjG,MAAK+e,gBAAgBmB,OAC/C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe2b,EAAarb,UAAW,UAC1C8F,IAAK,WAAc,MAAOjG,MAAKgf,cAAckB,OAC7C5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe2b,EAAarb,UAAW,aAC1C8F,IAAK,WACD,MAAOjG,MAAKypF,YAEhBtjF,IAAK,SAAU4V,GACX,GAAI/b,KAAKypF,aAAe1tE,EAAxB,CAIA,IAAK,GADD8tE,GAAW,GAAIzoF,OAAM2a,GAChBhW,EAAI,EAAGA,EAAI+C,KAAKC,IAAIgT,EAAc/b,KAAKO,QAASwF,IACrD8jF,EAAS9jF,GAAK/F,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB/jF,GAEnD/F,MAAK2pF,OAASE,EACd7pF,KAAKypF,WAAa1tE,EAClB/b,KAAK6gB,YAAc,IAEvBvX,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe2b,EAAarb,UAAW,UAC1C8F,IAAK,WACD,MAAOjG,MAAK4pF,SAEhBzjF,IAAK,SAAU4jF,GACX,GAAIA,EAAY/pF,KAAK4pF,QACjB,IAAK,GAAI7jF,GAAI/F,KAAK4pF,QAAS7jF,EAAIgkF,EAAWhkF,IACtC/F,KAAK2pF,OAAO5jF,OAAK4D,EAGzB3J,MAAK4pF,QAAUG,GAEnBzgF,YAAY,EACZC,cAAc,IAElBiS,EAAarb,UAAU8F,IAAM,SAAUtF,GACnC,MAAOX,MAAK2pF,OAAO3pF,KAAK8pF,gBAAgBnpF,KAE5C6a,EAAarb,UAAUgG,IAAM,SAAUxF,EAAOb,GAC1CE,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgBnpF,IAAUb,GAE/C0b,EAAarb,UAAUM,KAAO,SAAUX,GACpCE,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB9pF,KAAK4pF,UAAY9pF,EAC9CE,KAAK4pF,UAAY5pF,KAAKypF,YACtBzpF,KAAK6gB,cAAgB7gB,KAAK6gB,YAAc7gB,KAAKypF,WAC7CzpF,KAAKgf,cAAcxV,KAAK,IAGxBxJ,KAAK4pF,WAGbpuE,EAAarb,UAAU0jF,QAAU,WAC7B,GAAI7jF,KAAK4pF,UAAY5pF,KAAKypF,WACtB,KAAM,IAAI1iE,OAAM,2CAIpB,OAFA/mB,MAAK6gB,cAAgB7gB,KAAK6gB,YAAc7gB,KAAKypF,WAC7CzpF,KAAKgf,cAAcxV,KAAK,GACjBxJ,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB9pF,KAAK4pF,QAAU,KAE3DhqF,OAAOC,eAAe2b,EAAarb,UAAW,UAC1C8F,IAAK,WACD,MAAOjG,MAAK4pF,UAAY5pF,KAAKypF,YAEjCngF,YAAY,EACZC,cAAc,IAElBiS,EAAarb,UAAU8b,IAAM,WACzB,MAAOjc,MAAK2pF,OAAO3pF,KAAK8pF,gBAAgB9pF,KAAK4pF,UAAY,KAE7DpuE,EAAarb,UAAUU,OAAS,SAAUwG,EAAO2iF,GAE7C,IAAK,GADDvvB,MACKwvB,EAAK,EAAGA,EAAK1lF,UAAUhE,OAAQ0pF,IACpCxvB,EAAMwvB,EAAK,GAAK1lF,UAAU0lF,EAE9B,IAAID,EAAa,CACb,IAAK,GAAIjkF,GAAIsB,EAAOtB,EAAI/F,KAAK4pF,QAAUI,EAAajkF,IAChD/F,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB/jF,IAAM/F,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB/jF,EAAIikF,GAEhFhqF,MAAK4pF,SAAWI,EAEpB,IAAK,GAAIjkF,GAAI/F,KAAK4pF,QAAU,EAAG7jF,GAAKsB,EAAOtB,IACvC/F,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB/jF,EAAI00D,EAAMl6D,SAAWP,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgB/jF,GAE3F,KAAK,GAAIA,GAAI,EAAGA,EAAI00D,EAAMl6D,OAAQwF,IAC9B/F,KAAK2pF,OAAO3pF,KAAK8pF,gBAAgBziF,EAAQtB,IAAM00D,EAAM10D,EAEzD,IAAI/F,KAAK4pF,QAAUnvB,EAAMl6D,OAASP,KAAKypF,WAAY,CAC/C,GAAIS,GAAelqF,KAAK4pF,QAAUnvB,EAAMl6D,OAAUP,KAAKypF,UACvDzpF,MAAK6gB,aAAeqpE,EACpBlqF,KAAK4pF,QAAU5pF,KAAKypF,WACpBzpF,KAAKgf,cAAcxV,KAAK0gF,OAGxBlqF,MAAK4pF,SAAWnvB,EAAMl6D,QAG9Bib,EAAarb,UAAUgc,UAAY,SAAUuiC,GACrCA,EAAQ1+C,KAAK4pF,UACblrC,EAAQ1+C,KAAK4pF,SAEjB5pF,KAAK6gB,aAAe69B,EACpB1+C,KAAK4pF,SAAWlrC,EAChB1+C,KAAKgf,cAAcxV,KAAKk1C,IAE5BljC,EAAarb,UAAU4jF,cAAgB,SAAU18E,EAAOq3C,EAAOxzB,GAC3D,KAAIwzB,GAAS,GAAb,CAGA,GAAIr3C,EAAQ,GAAKA,GAASrH,KAAK4pF,QAC3B,KAAM,IAAI7iE,OAAM,8BAEpB,IAAI1f,EAAQ6jB,EAAS,EACjB,KAAM,IAAInE,OAAM,+CAEpB,IAAImE,EAAS,EAAG,CACZ,IAAK,GAAInlB,GAAI24C,EAAQ,EAAG34C,GAAK,EAAGA,IAC5B/F,KAAKmG,IAAIkB,EAAQtB,EAAImlB,EAAQlrB,KAAKiG,IAAIoB,EAAQtB,GAElD,IAAIokF,GAAgB9iF,EAAQq3C,EAAQxzB,EAAUlrB,KAAK4pF,OACnD,IAAIO,EAAe,EAEf,IADAnqF,KAAK4pF,SAAWO,EACTnqF,KAAK4pF,QAAU5pF,KAAKypF,YACvBzpF,KAAK4pF,UACL5pF,KAAK6gB,cACL7gB,KAAKgf,cAAcxV,KAAK,OAKhC,KAAK,GAAIzD,GAAI,EAAGA,EAAI24C,EAAO34C,IACvB/F,KAAKmG,IAAIkB,EAAQtB,EAAImlB,EAAQlrB,KAAKiG,IAAIoB,EAAQtB,MAI1DyV,EAAarb,UAAU2pF,gBAAkB,SAAUnpF,GAC/C,OAAQX,KAAK6gB,YAAclgB,GAASX,KAAKypF,YAEtCjuE,IAEXhc,GAAQgc,aAAeA,G7D000BjB4uE,IACA,SAAU7qF,EAAQC,EAASC,GAEjC,Y8Dj/0BA,SAASqD,GAAMunF,EAAKngD,GAEhB,OADc,KAAVA,IAAoBA,EAAQ,GACb,gBAARmgD,GACP,MAAOA,EAEX,IAAY,OAARA,EACA,MAAO,KAEX,IAAIC,GAAelpF,MAAMkgC,QAAQ+oD,QACjC,KAAK,GAAI1iF,KAAO0iF,GACZC,EAAa3iF,GAAOuiC,GAAS,EAAImgD,EAAI1iF,GAAO7E,EAAMunF,EAAI1iF,GAAMuiC,EAAQ,EAExE,OAAOogD,GAbX1qF,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IAetDN,EAAQsD,MAAQA,G9Dy/0BVynF,IACA,SAAUhrF,EAAQC,EAASC,GAEjC,Y+D3g1BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI8jB,GAAc,EAAQ,KACtB4iE,EAAgB,SAAUpiF,GAE1B,QAASoiF,KACL,GAAIniF,GAAQD,EAAOsF,KAAK1J,OAASA,IAEjC,OADAqE,GAAMmmF,QAAUnmF,EAAMmmF,YACfnmF,EA0EX,MA9EAtD,GAAUylF,EAAcpiF,GAMxBoiF,EAAarmF,UAAU43D,GAAK,SAAU5sD,EAAM9B,GACxCrJ,KAAKwqF,QAAQr/E,GAAQnL,KAAKwqF,QAAQr/E,OAClCnL,KAAKwqF,QAAQr/E,GAAM1K,KAAK4I,IAE5Bm9E,EAAarmF,UAAU+9D,sBAAwB,SAAU/yD,EAAMC,GAC3D,GAAI/G,GAAQrE,IACZA,MAAK+3D,GAAG5sD,EAAMC,EACd,IAAIq/E,IAAW,CACf,QACIrqF,QAAS,WACDqqF,IAGJpmF,EAAMqmF,IAAIv/E,EAAMC,GAChBq/E,GAAW,MAIvBjE,EAAarmF,UAAUuqF,IAAM,SAAUv/E,EAAM9B,GACzC,GAAKrJ,KAAKwqF,QAAQr/E,GAKlB,IAFA,GAAIxG,GAAM3E,KAAKwqF,QAAQr/E,GACnBpF,EAAIpB,EAAIpE,OACLwF,KACH,GAAIpB,EAAIoB,KAAOsD,EAEX,WADA1E,GAAI9D,OAAOkF,EAAG,IAK1BygF,EAAarmF,UAAUwqF,mBAAqB,SAAUx/E,GAC9CnL,KAAKwqF,QAAQr/E,UACNnL,MAAKwqF,QAAQr/E,IAG5Bq7E,EAAarmF,UAAUmiE,KAAO,SAAUn3D,GAEpC,IAAK,GADDkmB,MACK44D,EAAK,EAAGA,EAAK1lF,UAAUhE,OAAQ0pF,IACpC54D,EAAK44D,EAAK,GAAK1lF,UAAU0lF,EAE7B,IAAKjqF,KAAKwqF,QAAQr/E,GAIlB,IAAK,GADDxG,GAAM3E,KAAKwqF,QAAQr/E,GACdpF,EAAI,EAAGA,EAAIpB,EAAIpE,OAAQwF,IAC5BpB,EAAIoB,GAAGzB,MAAMtE,KAAMqxB,IAG3Bm1D,EAAarmF,UAAUyqF,uBAAyB,SAAUz/E,GAEtD,IAAK,GADDkmB,MACK44D,EAAK,EAAGA,EAAK1lF,UAAUhE,OAAQ0pF,IACpC54D,EAAK44D,EAAK,GAAK1lF,UAAU0lF,EAE7B,IAAKjqF,KAAKwqF,QAAQr/E,GAKlB,IAAK,GAFDxG,GAAM3E,KAAKwqF,QAAQr/E,GACnB5K,EAASoE,EAAIpE,OACRwF,EAAI,EAAGA,EAAIpB,EAAIpE,OAAQwF,IAC5BpB,EAAIoB,GAAGzB,MAAMtE,KAAMqxB,GACnBtrB,GAAKxF,EAASoE,EAAIpE,OAClBA,EAASoE,EAAIpE,QAGrBimF,EAAarmF,UAAU0qF,UAAY,SAAU1/E,GACzC,MAAOnL,MAAKwqF,QAAQr/E,QAExBq7E,EAAarmF,UAAUC,QAAU,WAC7BgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAKwqF,YAEFhE,GACT5iE,EAAY7jB,WACdP,GAAQgnF,aAAeA,G/Dkh1BjBsE,IACA,SAAUvrF,EAAQC,EAASC,GAEjC,YgEpn1BA,SAASod,GAA6BhC,EAAOkwE,EAASnvE,EAASovE,EAAiBlvE,GAE5E,IAAK,GADDc,MACKzI,EAAI,EAAGA,EAAI0G,EAAMta,OAAS,EAAG4T,IAAK,CACvC,GAAIpO,GAAIoO,EACJoJ,EAAW1C,EAAM5U,MAAMF,EAC3B,IAAKwX,EAAS7X,UAAd,CAIA,IADA,GAAI8X,IAAgB3C,EAAM5U,IAAIkO,IACvBpO,EAAI8U,EAAMta,QAAUgd,EAAS7X,WAChC8X,EAAa/c,KAAK8c,GAClBA,EAAW1C,EAAM5U,MAAMF,EAE3B,IAAIilF,GAAmB72E,GAAK62E,EAAkBjlF,EAC1CoO,GAAKqJ,EAAajd,OAAS,MAD/B,CAQA,IAJA,GAAIyd,GAAgB,EAChB1V,EAAU8V,EAA4BZ,EAAcQ,EAAe+sE,GACnE9sE,EAAe,EACf5V,EAAS,EACN4V,EAAeT,EAAajd,QAAQ,CACvC,GAAI0qF,GAAuB7sE,EAA4BZ,EAAcS,EAAc8sE,GAC/EG,EAAoBD,EAAuB5iF,EAC3C8iF,EAAqBvvE,EAAUtT,EAC/B4V,EAAcpV,KAAKC,IAAImiF,EAAmBC,EAC9C3tE,GAAaQ,GAAe7V,cAAcqV,EAAaS,GAAe5V,EAAQC,EAAS4V,GAAa,GACpG5V,GAAW4V,EACP5V,IAAYsT,IACZoC,IACA1V,EAAU,GAEdD,GAAU6V,EACN7V,IAAW4iF,IACXhtE,IACA5V,EAAS,GAEG,IAAZC,GAAmC,IAAlB0V,GAC6C,IAA1DR,EAAaQ,EAAgB,GAAGlZ,SAAS8W,EAAU,KACnD4B,EAAaQ,GAAe7V,cAAcqV,EAAaQ,EAAgB,GAAIpC,EAAU,EAAGtT,IAAW,GAAG,GACtGkV,EAAaQ,EAAgB,GAAGhY,QAAQ4V,EAAU,EAAGE,IAIjE0B,EAAaQ,GAAe5W,aAAakB,EAASsT,EAASE,EAE3D,KAAK,GADDsvE,GAAgB,EACXC,EAAM7tE,EAAajd,OAAS,EAAG8qF,EAAM,IACtCA,EAAMrtE,GAA0D,IAAzCR,EAAa6tE,GAAKnjF,oBADAmjF,IAEzCD,GAMJA,GAAgB,IAChBxuE,EAASnc,KAAK0T,EAAIqJ,EAAajd,OAAS6qF,GACxCxuE,EAASnc,KAAK2qF,IAElBj3E,GAAKqJ,EAAajd,OAAS,IAE/B,MAAOqc,GAGX,QAASG,GAA4BlC,EAAO+B,GAKxC,IAAK,GAJDK,MACAquE,EAAoB,EACpBC,EAAoB3uE,EAAS0uE,GAC7BE,EAAoB,EACfzlF,EAAI,EAAGA,EAAI8U,EAAMta,OAAQwF,IAC9B,GAAIwlF,IAAsBxlF,EAAG,CACzB,GAAIqlF,GAAgBxuE,IAAW0uE,EAC/BzwE,GAAM6uE,gBAAgBlgF,MAClB7I,MAAOoF,EAAIylF,EACX3sE,OAAQusE,IAEZrlF,GAAKqlF,EAAgB,EACrBI,GAAqBJ,EACrBG,EAAoB3uE,IAAW0uE,OAG/BruE,GAAOxc,KAAKsF,EAGpB,QACIkX,OAAQA,EACRE,aAAcquE,GAItB,QAASxuE,GAA2BnC,EAAO4wE,GAEvC,IAAK,GADDC,MACK3lF,EAAI,EAAGA,EAAI0lF,EAAUlrF,OAAQwF,IAClC2lF,EAAejrF,KAAKoa,EAAM5U,IAAIwlF,EAAU1lF,IAE5C,KAAK,GAAIA,GAAI,EAAGA,EAAI2lF,EAAenrF,OAAQwF,IACvC8U,EAAM1U,IAAIJ,EAAG2lF,EAAe3lF,GAEhC8U,GAAMta,OAASkrF,EAAUlrF,OAG7B,QAASqd,GAA+BJ,EAAcutE,EAASnvE,GAM3D,IALA,GAAI+vE,MACAC,EAAcpuE,EAAasY,IAAI,SAAU+6C,EAAG9qE,GAAK,MAAOqY,GAA4BZ,EAAczX,EAAGglF,KAAa9nC,OAAO,SAAU5hD,EAAGiqB,GAAK,MAAOjqB,GAAIiqB,IACtJjjB,EAAS,EACTwjF,EAAU,EACVC,EAAiB,EACdA,EAAiBF,GAAa,CACjC,GAAIA,EAAcE,EAAiBlwE,EAAS,CACxC+vE,EAAelrF,KAAKmrF,EAAcE,EAClC,OAEJzjF,GAAUuT,CACV,IAAImwE,GAAmB3tE,EAA4BZ,EAAcquE,EAASd,EACtE1iF,GAAS0jF,IACT1jF,GAAU0jF,EACVF,IAEJ,IAAIG,GAA8D,IAA/CxuE,EAAaquE,GAAS/mF,SAASuD,EAAS,EACvD2jF,IACA3jF,GAEJ,IAAI4jF,GAAaD,EAAepwE,EAAU,EAAIA,CAC9C+vE,GAAelrF,KAAKwrF,GACpBH,GAAkBG,EAEtB,MAAON,GAGX,QAASvtE,GAA4BvD,EAAO9U,EAAGP,GAC3C,GAAIO,IAAM8U,EAAMta,OAAS,EACrB,MAAOsa,GAAM9U,GAAGmC,kBAEpB,IAAIgkF,IAAerxE,EAAM9U,GAAGQ,WAAWf,EAAO,IAAuC,IAAhCqV,EAAM9U,GAAGjB,SAASU,EAAO,GAC1E2mF,EAA2D,IAA7BtxE,EAAM9U,EAAI,GAAGjB,SAAS,EACxD,OAAIonF,IAAcC,EACP3mF,EAAO,EAEXA,EA1IX5F,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,IA+DtDN,EAAQqd,6BAA+BA,EA0BvCrd,EAAQud,4BAA8BA,EAWtCvd,EAAQwd,2BAA6BA,EA4BrCxd,EAAQoe,+BAAiCA,EAYzCpe,EAAQ4e,4BAA8BA,GhE4n1BhCguE,IACA,SAAU7sF,EAAQC,EAASC,GAEjC,YiE3w1BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIqgE,GAAkB,EAAQ,KAC1Bv8C,EAAc,EAAQ,KACtB7D,EAAU,SAAU3b,GAEpB,QAAS2b,GAAOhY,GACZ,GAAI1D,GAAQD,EAAOsF,KAAK1J,OAASA,IAKjC,OAJAqE,GAAM0D,KAAOA,EACb1D,EAAMgoF,IAAMtsE,EAAOusE,UACnBjoF,EAAMkoF,YAAa,EACnBloF,EAAMmoF,WAAa,GAAIrsB,GAAgBj3D,cAChC7E,EAoBX,MA3BAtD,GAAUgf,EAAQ3b,GASlBxE,OAAOC,eAAekgB,EAAO5f,UAAW,MACpC8F,IAAK,WAAc,MAAOjG,MAAKqsF,KAC/B/iF,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAekgB,EAAO5f,UAAW,aACpC8F,IAAK,WAAc,MAAOjG,MAAKwsF,WAAWtsE,OAC1C5W,YAAY,EACZC,cAAc,IAElBwW,EAAO5f,UAAUC,QAAU,WACnBJ,KAAKusF,aAGTvsF,KAAKusF,YAAa,EAClBvsF,KAAKwsF,WAAWhjF,SAEpBuW,EAAOusE,QAAU,EACVvsE,GACT6D,EAAY7jB,WACdP,GAAQugB,OAASA,GjEkx1BX0sE,IACA,SAAUltF,EAAQC,EAASC,GAEjC,YkEn01BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,IACtDN,EAAQouE,YACRpuE,EAAQmwE,gBAAkBnwE,EAAQouE,SAAY,EAC9CpuE,EAAQouE,SAAS,IACb,IAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,GAChB,IAAK,KAETpuE,EAAQouE,SAAY,EAAI,KACxBpuE,EAAQouE,SAAS,IACb,IAAK,IACL,IAAK,IACL,IAAK,KACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,EAChBpuE,EAAQouE,SAAS,IACb,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbpuE,EAAQouE,SAAY,GAChB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,GAChB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,GAChB,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,GAChB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,EAChBpuE,EAAQouE,SAAS,IACb,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbpuE,EAAQouE,SAAY,GAChB,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETpuE,EAAQouE,SAAY,EAChBpuE,EAAQouE,SAAS,IACb,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAEbpuE,EAAQouE,SAAS,MACb,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,IACL,EAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MlE201BH8e,IACA,SAAUntF,EAAQC,EAASC,GAEjC,YmEj91BA,SAASgmF,GAAsB5jB,EAAI8qB,EAAuBhiF,EAAOwyE,GAC7D,GAAIn0E,IACAmC,KAAM,EACN85C,QAAQ,EACRt9C,QAAKgC,IAELijF,GAAa/qB,EAAGiV,SAAW,EAAI,IAAMjV,EAAG+U,OAAS,EAAI,IAAM/U,EAAGmhB,QAAU,EAAI,IAAMnhB,EAAGkhB,QAAU,EAAI,EACvG,QAAQlhB,EAAG6B,SACP,IAAK,GACc,sBAAX7B,EAAGl6D,IAECqB,EAAOrB,IADPglF,EACapjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,KAG5B,wBAAXu0D,EAAGl6D,IAEJqB,EAAOrB,IADPglF,EACapjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,KAG5B,yBAAXu0D,EAAGl6D,IAEJqB,EAAOrB,IADPglF,EACapjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,KAG5B,wBAAXu0D,EAAGl6D,MAEJqB,EAAOrB,IADPglF,EACapjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,KAGhD,MACJ,KAAK,GACD,GAAIu0D,EAAGiV,SAAU,CACb9tE,EAAOrB,IAAM4hE,EAAkB79D,GAAGS,EAClC,OAEC,GAAI01D,EAAG+U,OAAQ,CAChB5tE,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAMi8D,EAAkB79D,GAAGkC,GAC7D,OAEJ5E,EAAOrB,IAAM4hE,EAAkB79D,GAAGkC,GAClC,MACJ,KAAK,GACD,GAAIi0D,EAAGiV,SAAU,CACb9tE,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,IACxC,OAEJtE,EAAOrB,IAAM4hE,EAAkB79D,GAAGU,GAClCpD,EAAOi8C,QAAS,CAChB,MACJ,KAAK,IACDj8C,EAAOrB,IAAM4hE,EAAkB79D,GAAGc,GAClCxD,EAAOi8C,QAAS,CAChB,MACJ,KAAK,IACDj8C,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAClCtE,EAAOi8C,QAAS,CAChB,MACJ,KAAK,IACG2nC,GACA5jF,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAC9D5jF,EAAOrB,MAAQ4hE,EAAkB79D,GAAG4B,IAAM,UAC1CtE,EAAOrB,IAAMgD,EAAQ4+D,EAAkB79D,GAAG4B,IAAM,IAAMi8D,EAAkB79D,GAAG4B,IAAM,UAIrFtE,EAAOrB,IADFglF,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IACGs/E,GACA5jF,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAC9D5jF,EAAOrB,MAAQ4hE,EAAkB79D,GAAG4B,IAAM,UAC1CtE,EAAOrB,IAAMgD,EAAQ4+D,EAAkB79D,GAAG4B,IAAM,IAAMi8D,EAAkB79D,GAAG4B,IAAM,UAIrFtE,EAAOrB,IADFglF,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IACGs/E,GACA5jF,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAC9D5jF,EAAOrB,MAAQ4hE,EAAkB79D,GAAG4B,IAAM,UAC1CtE,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,UAI5CtE,EAAOrB,IADFglF,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IACGs/E,GACA5jF,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAC9D5jF,EAAOrB,MAAQ4hE,EAAkB79D,GAAG4B,IAAM,UAC1CtE,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,UAI5CtE,EAAOrB,IADFglF,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IACIu0D,EAAGiV,UAAajV,EAAGmhB,UACpBh6E,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,IAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAGrDrjB,EAAkB79D,GAAG4B,IAAM,KAE5C,MACJ,KAAK,IAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAE7DD,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAE7DD,EACQpjB,EAAkB79D,GAAG4B,IAAM,KAG3Bi8D,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,IACGu0D,EAAGiV,SACH9tE,EAAOmC,KAAO,EAGdnC,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,KAE5C,MACJ,KAAK,IACGu0D,EAAGiV,SACH9tE,EAAOmC,KAAO,EAGdnC,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM,KAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAGrDrjB,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAGrDrjB,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAGrDrjB,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,OAASs/E,EAAY,GAAK,IAGrDrjB,EAAkB79D,GAAG4B,IAAM,IAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,KAAK,KAEGtE,EAAOrB,IADPilF,EACarjB,EAAkB79D,GAAG4B,IAAM,QAAUs/E,EAAY,GAAK,IAGtDrjB,EAAkB79D,GAAG4B,IAAM,MAE5C,MACJ,SACI,IAAIu0D,EAAGmhB,SAAYnhB,EAAGiV,UAAajV,EAAG+U,QAAW/U,EAAGkhB,QAuB/C,GAAMp4E,IAASwyE,IAAoBtb,EAAG+U,QAAW/U,EAAGkhB,QAWhDp4E,IAAUk3D,EAAG+U,SAAW/U,EAAGmhB,SAAWnhB,EAAGkhB,QAC3B,KAAflhB,EAAG6B,UACH16D,EAAOmC,KAAO,GAGb02D,EAAGl6D,MAAQk6D,EAAGmhB,UAAYnhB,EAAG+U,SAAW/U,EAAGkhB,SAAWlhB,EAAG6B,SAAW,IAAwB,IAAlB7B,EAAGl6D,IAAIpH,OACtFyI,EAAOrB,IAAMk6D,EAAGl6D,IAEXk6D,EAAGl6D,KAAOk6D,EAAGmhB,SACH,MAAXnhB,EAAGl6D,MACHqB,EAAOrB,IAAM4hE,EAAkB79D,GAAGgC,QArBwB,CAC9D,GAAIm/E,GAAaC,EAAqBjrB,EAAG6B,SACrC/7D,EAAMklF,GAAcA,EAAYhrB,EAAGiV,SAAe,EAAJ,EAClD,IAAInvE,EACAqB,EAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAM3F,MAEvC,IAAIk6D,EAAG6B,SAAW,IAAM7B,EAAG6B,SAAW,GAAI,CAC3C,GAAIA,GAAU7B,EAAGmhB,QAAUnhB,EAAG6B,QAAU,GAAK7B,EAAG6B,QAAU,EAC1D16D,GAAOrB,IAAM4hE,EAAkB79D,GAAG4B,IAAMyJ,OAAOC,aAAa0sD,QA9B5D7B,GAAG6B,SAAW,IAAM7B,EAAG6B,SAAW,GAClC16D,EAAOrB,IAAMoP,OAAOC,aAAa6qD,EAAG6B,QAAU,IAE1B,KAAf7B,EAAG6B,QACR16D,EAAOrB,IAAMoP,OAAOC,aAAa,GAE5B6qD,EAAG6B,SAAW,IAAM7B,EAAG6B,SAAW,GACvC16D,EAAOrB,IAAMoP,OAAOC,aAAa6qD,EAAG6B,QAAU,GAAK,IAE/B,KAAf7B,EAAG6B,QACR16D,EAAOrB,IAAMoP,OAAOC,aAAa,KAEb,MAAf6qD,EAAG6B,QACR16D,EAAOrB,IAAMoP,OAAOC,aAAa,IAEb,MAAf6qD,EAAG6B,QACR16D,EAAOrB,IAAMoP,OAAOC,aAAa,IAEb,MAAf6qD,EAAG6B,UACR16D,EAAOrB,IAAMoP,OAAOC,aAAa,KA6BjD,MAAOhO,GA3VXpJ,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIypE,GAAoB,EAAQ,KAC5BujB,GACAC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,IAAK,IAAK,KACVC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,IAAK,KACXC,KAAM,KAAM,KACZC,KAAM,IAAK,KACXC,KAAM,IAAM,KAsUhB3uF,GAAQimF,sBAAwBA,GnEi/1B1B2I,IACA,SAAU7uF,EAAQC,EAASC,GAEjC,YoEjt2BA,SAAS4qD,GAAO3L,EAAO2vC,GACnB3vC,EAAQ51C,KAAKsmD,MAAM1Q,EAEnB,KAAK,GADD4vC,GAAM,GACDvoF,EAAI,EAAGA,EAAI24C,EAAO34C,IACvBuoF,GAAOD,CAEX,OAAOC,GAtIX1uF,OAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIypE,GAAoB,EAAQ,KAC5B8O,EAAmB,WACnB,QAASA,GAAgBkW,EAAat0E,GAClC,GAAIu0E,EACJxuF,MAAKuuF,YAAcA,EACnBvuF,KAAKia,UAAYA,EACjBja,KAAKyuF,OAASzuF,KAAKia,UAAUyN,OAAO7M,MACpC7a,KAAK0uF,UAAY1uF,KAAKia,UAAUyN,OAAOxT,EACvClU,KAAK2uF,UAAY3uF,KAAKia,UAAUyN,OAAOvT,CACvC,IAAIy6E,GAAc5uF,KAAKia,UAAUiM,YAAYlD,UAAUhjB,KAAKuuF,YAAavuF,KAAKia,UAAUyI,QAAS1iB,KAAKia,UAAUgJ,YAAajjB,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAU9G,MAAM,EACnKy7E,KACAJ,EAAKI,EAAY94D,IAAI,SAAU+4D,GAC3B,MAAOA,GAAa,IACpB7uF,KAAK8uF,QAAUN,EAAG,GAAIxuF,KAAK+uF,QAAUP,EAAG,IA+GpD,MA5GAnW,GAAgBl4E,UAAUm4E,KAAO,WACzBt4E,KAAKuuF,YAAY3X,YAA2BjtE,KAAjB3J,KAAK8uF,aAA0CnlF,KAAjB3J,KAAK+uF,SAC9D/uF,KAAKia,UAAU7O,QAAQpL,KAAKgvF,oBAGpC3W,EAAgBl4E,UAAU6uF,gBAAkB,WACxC,MAAKhvF,MAAKia,UAAUyN,OAAOw7D,cAGpBljF,KAAKivF,wBAFDjvF,KAAKkvF,oBAAsBlvF,KAAKmvF,sBAAwBnvF,KAAKovF,uBAI5E/W,EAAgBl4E,UAAU+uF,kBAAoB,WAC1C,MAA0C,KAAtClvF,KAAKmvF,sBAAsB5uF,OACpB,GAEJ8pD,EAAOrqD,KAAKqvF,YAAYrvF,KAAK0uF,UAAW1uF,KAAK2uF,UAAW3uF,KAAK0uF,UAAW1uF,KAAK2uF,UAAY3uF,KAAKsvF,mBAAmBtvF,KAAK2uF,YAAY,GAAOpuF,OAAQP,KAAKuvF,UAAU,OAE3KlX,EAAgBl4E,UAAUgvF,oBAAsB,WAC5C,GAAI38E,GAAWxS,KAAK2uF,UAAY3uF,KAAKsvF,mBAAmBtvF,KAAK2uF,WACzDl8E,EAASzS,KAAK+uF,QAAU/uF,KAAKsvF,mBAAmBtvF,KAAK+uF,QAEzD,OAAO1kC,GADUvhD,KAAK4tE,IAAIlkE,EAAWC,GAAUzS,KAAKwvF,oBAC1BxvF,KAAKuvF,UAAUvvF,KAAKyvF,wBAElDpX,EAAgBl4E,UAAUivF,oBAAsB,WAC5C,GAAI58E,EAEAA,GADAxS,KAAKmvF,sBAAsB5uF,OAAS,EACzBP,KAAK+uF,QAAU/uF,KAAKsvF,mBAAmBtvF,KAAK+uF,SAG5C/uF,KAAK2uF,SAEpB,IAAIl8E,GAASzS,KAAK+uF,QACdW,EAAY1vF,KAAK2vF,sBACrB,OAAOtlC,GAAOrqD,KAAKqvF,YAAYrvF,KAAK0uF,UAAWl8E,EAAUxS,KAAK8uF,QAASr8E,EAAsB,MAAdi9E,GAAmBnvF,OAAQP,KAAKuvF,UAAUG,KAE7HrX,EAAgBl4E,UAAU8uF,sBAAwB,WAC9C,GAAIS,GAAY1vF,KAAK2vF,sBACrB,OAAOtlC,GAAOvhD,KAAK4tE,IAAI12E,KAAK0uF,UAAY1uF,KAAK8uF,SAAU9uF,KAAKuvF,UAAUG,KAE1ErX,EAAgBl4E,UAAUqvF,kBAAoB,WAI1C,IAAK,GAHDI,GAAc,EACdp9E,EAAWxS,KAAK2uF,UAAY3uF,KAAKsvF,mBAAmBtvF,KAAK2uF,WACzDl8E,EAASzS,KAAK+uF,QAAU/uF,KAAKsvF,mBAAmBtvF,KAAK+uF,SAChDhpF,EAAI,EAAGA,EAAI+C,KAAK4tE,IAAIlkE,EAAWC,GAAS1M,IAAK,CAClD,GAAI2pF,GAA0C,MAA9B1vF,KAAKyvF,sBAAgC,EAAI,CACrDzvF,MAAKyuF,OAAOxoF,IAAIuM,EAAYk9E,EAAY3pF,GAAIL,WAC5CkqF,IAGR,MAAOA,IAEXvX,EAAgBl4E,UAAUmvF,mBAAqB,SAAUO,GAGrD,IAFA,GAAI1sE,GAAW,EACX2sE,EAAY9vF,KAAKyuF,OAAOxoF,IAAI4pF,GAAYnqF,UACrCoqF,GAAaD,GAAc,GAAKA,EAAa7vF,KAAKia,UAAU9G,MAC/DgQ,IACA0sE,IACAC,EAAY9vF,KAAKyuF,OAAOxoF,IAAI4pF,GAAYnqF,SAE5C,OAAOyd,IAEXk1D,EAAgBl4E,UAAUwvF,qBAAuB,WAC7C,GAAIn9E,EAOJ,OALIA,GADAxS,KAAKmvF,sBAAsB5uF,OAAS,EACzBP,KAAK+uF,QAAU/uF,KAAKsvF,mBAAmBtvF,KAAK+uF,SAG5C/uF,KAAK2uF,UAEf3uF,KAAK0uF,UAAY1uF,KAAK8uF,SACvBt8E,GAAYxS,KAAK+uF,SAChB/uF,KAAK0uF,WAAa1uF,KAAK8uF,SACpBt8E,EAAWxS,KAAK+uF,QACb,IAEJ,KAEX1W,EAAgBl4E,UAAUsvF,mBAAqB,WAC3C,MAAIzvF,MAAK2uF,UAAY3uF,KAAK+uF,QACf,IAEJ,KAEX1W,EAAgBl4E,UAAUkvF,YAAc,SAAUzmF,EAAU4J,EAAU3J,EAAQ4J,EAAQs9E,GAIlF,IAHA,GAAIC,GAAapnF,EACbinF,EAAar9E,EACby9E,EAAY,GACTD,IAAennF,GAAUgnF,IAAep9E,GAC3Cu9E,GAAcD,EAAU,GAAK,EACzBA,GAAWC,EAAahwF,KAAKia,UAAUzU,KAAO,GAC9CyqF,GAAajwF,KAAKia,UAAUyN,OAAOrI,4BAA4BwwE,GAAY,EAAOjnF,EAAUonF,GAC5FA,EAAa,EACbpnF,EAAW,EACXinF,MAEME,GAAWC,EAAa,IAC9BC,GAAajwF,KAAKia,UAAUyN,OAAOrI,4BAA4BwwE,GAAY,EAAO,EAAGjnF,EAAW,GAChGonF,EAAahwF,KAAKia,UAAUzU,KAAO,EACnCoD,EAAWonF,EACXH,IAGR,OAAOI,GAAYjwF,KAAKia,UAAUyN,OAAOrI,4BAA4BwwE,GAAY,EAAOjnF,EAAUonF,IAEtG3X,EAAgBl4E,UAAUovF,UAAY,SAAUG,GAC5C,GAAI9M,GAAM5iF,KAAKia,UAAUw1D,kBAAoB,IAAM,GACnD,OAAOlG,GAAkB79D,GAAG4B,IAAMs1E,EAAM8M,GAErCrX,IAEX74E,GAAQ64E,gBAAkBA,GpEg22BpB6X,IACA,SAAU3wF,EAAQC,EAASC,GAEjC,YqEl+2BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIqwF,GAAgB,WAChB,QAASA,KACLnwF,KAAKowF,WAoCT,MAlCAD,GAAahwF,UAAUC,QAAU,WAC7B,IAAK,GAAI2F,GAAI/F,KAAKowF,QAAQ7vF,OAAS,EAAGwF,GAAK,EAAGA,IAC1C/F,KAAKowF,QAAQrqF,GAAGqyD,SAASh4D,WAGjC+vF,EAAahwF,UAAUkwF,UAAY,SAAUl+E,EAAUimD,GACnD,GAAI/zD,GAAQrE,KACRswF,GACAl4B,SAAUA,EACVh4D,QAASg4D,EAASh4D,QAClBmsF,YAAY,EAEhBvsF,MAAKowF,QAAQ3vF,KAAK6vF,GAClBl4B,EAASh4D,QAAU,WAAc,MAAOiE,GAAMksF,qBAAqBD,IACnEl4B,EAASo4B,SAASr+E,IAEtBg+E,EAAahwF,UAAUowF,qBAAuB,SAAUD,GACpD,IAAIA,EAAY/D,WAAhB,CAIA,IAAK,GADD5rF,IAAS,EACJoF,EAAI,EAAGA,EAAI/F,KAAKowF,QAAQ7vF,OAAQwF,IACrC,GAAI/F,KAAKowF,QAAQrqF,KAAOuqF,EAAa,CACjC3vF,EAAQoF,CACR,OAGR,IAAe,IAAXpF,EACA,KAAM,IAAIomB,OAAM,sDAEpBupE,GAAY/D,YAAa,EACzB+D,EAAYlwF,QAAQkE,MAAMgsF,EAAYl4B,UACtCp4D,KAAKowF,QAAQvvF,OAAOF,EAAO,KAExBwvF,IAEX3wF,GAAQ2wF,aAAeA,GrEy+2BjBM,IACA,SAAUlxF,EAAQC,EAASC,GAEjC,YsErh3BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI4wF,GAAa,EAAQ,KACrBl0B,EAAU,EAAQ,KAClBm0B,EAAiB,EAAQ,KACzBlT,EAAY,WACZ,QAASA,GAAShoE,GACdzV,KAAKqpF,MAAQ,GAAIqH,GAAWjT,SAAShoE,GACrCzV,KAAK4wF,cAAgB,GAAID,GAAeR,aA6M5C,MA3MAvwF,QAAOC,eAAe49E,EAASt9E,UAAW,gBACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAM/2E,cACrChJ,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,cACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMhrB,YACrC/0D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,qBACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMrL,mBACrC10E,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,UACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMvL,QACrCx0E,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,iBACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMpL,eACrC30E,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMprB,UACrC30D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,SACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAM7qB,OACrCl1D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMrrB,UACrC10D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMvrB,UACrCx0D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,WACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAM3mE,SACrCpZ,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,YACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMhnB,UACrC/4D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,QACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMl2E,MACrC7J,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,QACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAM7jF,MACrC8D,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,UACtC8F,IAAK,WAAc,MAAO,IAAI4qF,GAAc7wF,KAAKqpF,MAAM3hE,SACvDpe,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAe49E,EAASt9E,UAAW,WACtC8F,IAAK,WAAc,MAAOjG,MAAKqpF,MAAMjvE,SACrC9Q,YAAY,EACZC,cAAc,IAElBk0E,EAASt9E,UAAU6/E,KAAO,WACtBhgF,KAAKqpF,MAAMrJ,QAEfvC,EAASt9E,UAAUk/D,MAAQ,WACvBr/D,KAAKqpF,MAAMhqB,SAEfoe,EAASt9E,UAAU43D,GAAK,SAAU5sD,EAAM9B,GACpCrJ,KAAKqpF,MAAMtxB,GAAG5sD,EAAM9B,IAExBo0E,EAASt9E,UAAUuqF,IAAM,SAAUv/E,EAAM9B,GACrCrJ,KAAKqpF,MAAMqB,IAAIv/E,EAAM9B,IAEzBo0E,EAASt9E,UAAUmiE,KAAO,SAAUn3D,EAAM3D,GACtCxH,KAAKqpF,MAAM/mB,KAAKn3D,EAAM3D,IAE1Bi2E,EAASt9E,UAAU+9D,sBAAwB,SAAU/yD,EAAMC,GACvD,MAAOpL,MAAKqpF,MAAMnrB,sBAAsB/yD,EAAMC,IAElDqyE,EAASt9E,UAAUoH,OAAS,SAAUupF,EAAS39E,GAC3CnT,KAAKqpF,MAAM9hF,OAAOupF,EAAS39E,IAE/BsqE,EAASt9E,UAAU6kF,QAAU,SAAUx9E,GACnCxH,KAAKqpF,MAAMrE,QAAQx9E,IAEvBi2E,EAASt9E,UAAUwzE,KAAO,SAAUvnC,GAChCpsC,KAAKqpF,MAAM1V,KAAKvnC,IAEpBqxC,EAASt9E,UAAU8kF,4BAA8B,SAAUC,GACvDllF,KAAKqpF,MAAMpE,4BAA4BC,IAE3CzH,EAASt9E,UAAUinE,cAAgB,SAAUhC,EAAMptB,GAC/C,MAAOh4C,MAAKqpF,MAAMjiB,cAAchC,EAAMptB,IAE1CylC,EAASt9E,UAAU0nE,cAAgB,SAAUC,EAAO9vB,GAChD,MAAOh4C,MAAKqpF,MAAMxhB,cAAcC,EAAO9vB,IAE3CylC,EAASt9E,UAAUsyE,oBAAsB,SAAUC,EAAOtnE,EAASqK,GAC/D,MAAOzV,MAAKqpF,MAAM5W,oBAAoBC,EAAOtnE,EAASqK,IAE1DgoE,EAASt9E,UAAU+yE,sBAAwB,SAAUC,GACjDnzE,KAAKqpF,MAAMnW,sBAAsBC,IAErCsK,EAASt9E,UAAUinB,wBAA0B,SAAUhc,GACnD,MAAOpL,MAAKqpF,MAAMjiE,wBAAwBhc,IAE9CqyE,EAASt9E,UAAUmnB,0BAA4B,SAAUC,GACrDvnB,KAAKqpF,MAAM/hE,0BAA0BC,IAEzCk2D,EAASt9E,UAAU0f,UAAY,SAAUslE,GACrC,MAAOnlF,MAAKqpF,MAAMxpE,UAAUslE,IAEhC1H,EAASt9E,UAAU+2E,aAAe,WAC9B,MAAOl3E,MAAKqpF,MAAMnS,gBAEtBuG,EAASt9E,UAAUyiE,OAAS,SAAUyiB,EAAQ59D,EAAKlnB,GAC/CP,KAAKqpF,MAAMzmB,OAAOyiB,EAAQ59D,EAAKlnB,IAEnCk9E,EAASt9E,UAAUylB,aAAe,WAC9B,MAAO5lB,MAAKqpF,MAAMzjE,gBAEtB63D,EAASt9E,UAAUmlF,qBAAuB,WACtC,MAAOtlF,MAAKqpF,MAAM/D,wBAEtB7H,EAASt9E,UAAUo1E,eAAiB,WAChCv1E,KAAKqpF,MAAM9T,kBAEfkI,EAASt9E,UAAUi2E,UAAY,WAC3Bp2E,KAAKqpF,MAAMjT,aAEfqH,EAASt9E,UAAUm2E,YAAc,SAAUjvE,EAAOC,GAC9CtH,KAAKqpF,MAAM/S,YAAYjvE,EAAOC,IAElCm2E,EAASt9E,UAAUC,QAAU,WACzBJ,KAAK4wF,cAAcxwF,UACnBJ,KAAKqpF,MAAMjpF,WAEfq9E,EAASt9E,UAAUk+E,QAAU,WACzBr+E,KAAKqpF,MAAMhL,WAEfZ,EAASt9E,UAAUi/D,YAAc,SAAUvgD,GACvC7e,KAAKqpF,MAAMjqB,YAAYvgD,IAE3B4+D,EAASt9E,UAAUgkF,YAAc,SAAUC,GACvCpkF,KAAKqpF,MAAMlF,YAAYC,IAE3B3G,EAASt9E,UAAUkkF,YAAc,WAC7BrkF,KAAKqpF,MAAMhF,eAEf5G,EAASt9E,UAAUmkF,eAAiB,WAChCtkF,KAAKqpF,MAAM/E,kBAEf7G,EAASt9E,UAAUokF,aAAe,SAAUx8E,GACxC/H,KAAKqpF,MAAM9E,aAAax8E,IAE5B01E,EAASt9E,UAAUkX,MAAQ,WACvBrX,KAAKqpF,MAAMhyE,SAEfomE,EAASt9E,UAAUi+E,MAAQ,SAAU52E,GACjCxH,KAAKqpF,MAAMjL,MAAM52E,IAErBi2E,EAASt9E,UAAUskF,UAAY,SAAUj9E,GACrCxH,KAAKqpF,MAAM5E,UAAUj9E,IAEzBi2E,EAASt9E,UAAU4pE,UAAY,SAAUpiE,GACrC,MAAO3H,MAAKqpF,MAAMtf,UAAUpiE,IAEhC81E,EAASt9E,UAAU6wE,UAAY,SAAUrpE,EAAK7H,GAC1CE,KAAKqpF,MAAMrY,UAAUrpE,EAAK7H,IAE9B29E,EAASt9E,UAAU2tB,QAAU,SAAUzmB,EAAOC,GAC1CtH,KAAKqpF,MAAMv7D,QAAQzmB,EAAOC,IAE9Bm2E,EAASt9E,UAAUooE,MAAQ,WACvBvoE,KAAKqpF,MAAM9gB,SAEfkV,EAASsT,WAAa,SAAUC,GAC5BA,EAAM1sF,MAAMm5E,IAEhBA,EAASt9E,UAAUkwF,UAAY,SAAUW,GACrC,MAAOhxF,MAAK4wF,cAAcP,UAAUrwF,KAAMgxF,IAE9CpxF,OAAOC,eAAe49E,EAAU,WAC5Bx3E,IAAK,WACD,MAAOu2D,IAEXlzD,YAAY,EACZC,cAAc,IAEXk0E,IAEXj+E,GAAQi+E,SAAWA,CACnB,IAAIoT,GAAiB,WACjB,QAASA,GAAclwE,GACnB3gB,KAAK2gB,QAAUA,EAkCnB,MAhCA/gB,QAAOC,eAAegxF,EAAc1wF,UAAW,WAC3C8F,IAAK,WAAc,MAAOjG,MAAK2gB,QAAQxM,GACvC7K,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAegxF,EAAc1wF,UAAW,WAC3C8F,IAAK,WAAc,MAAOjG,MAAK2gB,QAAQzM,GACvC5K,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAegxF,EAAc1wF,UAAW,aAC3C8F,IAAK,WAAc,MAAOjG,MAAK2gB,QAAQzF,OACvC5R,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAegxF,EAAc1wF,UAAW,SAC3C8F,IAAK,WAAc,MAAOjG,MAAK2gB,QAAQ3F,OACvC1R,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAegxF,EAAc1wF,UAAW,UAC3C8F,IAAK,WAAc,MAAOjG,MAAK2gB,QAAQ9F,MAAMta,QAC7C+I,YAAY,EACZC,cAAc,IAElBsnF,EAAc1wF,UAAU8wF,QAAU,SAAU98E,GACxC,GAAIpM,GAAO/H,KAAK2gB,QAAQ9F,MAAM5U,IAAIkO,EAClC,IAAKpM,EAGL,MAAO,IAAImpF,GAAkBnpF,IAE1B8oF,KAEPK,EAAqB,WACrB,QAASA,GAAkBC,GACvBnxF,KAAKmxF,MAAQA,EAgBjB,MAdAvxF,QAAOC,eAAeqxF,EAAkB/wF,UAAW,aAC/C8F,IAAK,WAAc,MAAOjG,MAAKmxF,MAAMzrF,WACrC4D,YAAY,EACZC,cAAc,IAElB2nF,EAAkB/wF,UAAUixF,QAAU,SAAUl9E,GAC5C,KAAIA,EAAI,GAAKA,GAAKlU,KAAKmxF,MAAM5wF,QAG7B,MAAO,IAAI8wF,GAAkBrxF,KAAKmxF,MAAOj9E,IAE7Cg9E,EAAkB/wF,UAAUuI,kBAAoB,SAAUC,EAAW48E,EAAaC,GAC9E,MAAOxlF,MAAKmxF,MAAMzoF,kBAAkBC,EAAW48E,EAAaC,IAEzD0L,KAEPG,EAAqB,WACrB,QAASA,GAAkBF,EAAOG,GAC9BtxF,KAAKmxF,MAAQA,EACbnxF,KAAKsxF,GAAKA,EAYd,MAVA1xF,QAAOC,eAAewxF,EAAkBlxF,UAAW,QAC/C8F,IAAK,WAAc,MAAOjG,MAAKmxF,MAAM1qF,UAAUzG,KAAKsxF,KACpDhoF,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAewxF,EAAkBlxF,UAAW,SAC/C8F,IAAK,WAAc,MAAOjG,MAAKmxF,MAAMrsF,SAAS9E,KAAKsxF,KACnDhoF,YAAY,EACZC,cAAc,IAEX8nF,MtE6h3BLE,IACA,SAAUhyF,EAAQC,EAASC,GAEjC,YuEh03BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI0xF,GAAoB,EAAQ,KAC5BvhF,EAAe,EAAQ,KAEvBwhF,EAAqB,SAAUrtF,GAE/B,QAASqtF,GAAkBC,EAAWrhF,EAAQyI,GAC1C,GAAIzU,GAAQD,EAAOsF,KAAK1J,KAAM0xF,EAAW,SAAUrhF,GAAQ,EAAMyI,IAAW9Y,IAc5E,OAbAqE,GAAMstF,MAAQ,GAAI1hF,GAAa9L,SAC/BE,EAAMutF,QACF19E,EAAG,KACHC,EAAG,KACH09E,UAAW,KACXrgF,MAAO,KACP1K,MAAO,MAEXzC,EAAMytF,kBACF,IAAOztF,EAAM0tF,iBAAiB1/B,KAAKhuD,GACnC,MAASA,EAAM2tF,mBAAmB3/B,KAAKhuD,GACvC,UAAaA,EAAM4tF,uBAAuB5/B,KAAKhuD,IAE5CA,EAyJX,MAzKAtD,GAAU0wF,EAAmBrtF,GAkB7BqtF,EAAkBtxF,UAAUoH,OAAS,SAAU4K,EAAUlB,GACrD7M,EAAOjE,UAAUoH,OAAOmC,KAAK1J,KAAMmS,EAAUlB,GAC7CjR,KAAK4xF,QACD19E,EAAG,KACHC,EAAG,KACH09E,UAAW,KACXrgF,MAAO,KACP1K,MAAO,OAGf2qF,EAAkBtxF,UAAUooE,MAAQ,SAAUp2D,GAC1CnS,KAAKkyF,eACDlyF,KAAKmyF,2BACLnyF,KAAKmyF,yBAAyB/xF,UAC9BJ,KAAKmyF,yBAA2B,KAChCnyF,KAAKkS,iBAAiBC,KAG9Bs/E,EAAkBtxF,UAAUiS,OAAS,SAAUD,GACvCnS,KAAKmyF,0BACLnyF,KAAKmyF,yBAAyBC,QAElCjgF,EAAS2b,QAAQ3b,EAASuV,OAAOvT,EAAGhC,EAASuV,OAAOvT,IAExDs9E,EAAkBtxF,UAAUkS,QAAU,SAAUF,GACxCnS,KAAKmyF,yBACLnyF,KAAKmyF,yBAAyBE,OAAOlgF,GAGrCA,EAAS2b,QAAQ3b,EAASuV,OAAOvT,EAAGhC,EAASuV,OAAOvT,IAG5Ds9E,EAAkBtxF,UAAU+R,iBAAmB,SAAUC,GACrD,GAAI9N,GAAQrE,IACRmS,GAASsD,QAAQqnE,YACZ98E,KAAKmyF,2BACNnyF,KAAKmyF,yBAA2B,GAAIG,GAAwBngF,EAAU,WAClE9N,EAAMkuF,QAAQpgF,GAAU,OAK5BnS,KAAKmyF,2BACLnyF,KAAKmyF,yBAAyB/xF,UAC9BJ,KAAKmyF,yBAA2B,MAEpChgF,EAAS2b,QAAQ3b,EAASuV,OAAOvT,EAAGhC,EAASuV,OAAOvT,KAG5Ds9E,EAAkBtxF,UAAUmS,aAAe,SAAUH,GAC7CnS,KAAKmyF,0BACLnyF,KAAKmyF,yBAAyBK,sBAAsBrgF,IAG5Ds/E,EAAkBtxF,UAAUoS,cAAgB,SAAUJ,EAAUK,EAAUC,IACjEzS,KAAKmyF,0BAA4BnyF,KAAKmyF,yBAAyBM,SAChEzyF,KAAKuyF,QAAQpgF,GAAU,GAGvBnS,KAAKmyF,yBAAyBK,sBAAsBrgF,IAG5Ds/E,EAAkBtxF,UAAUoyF,QAAU,SAAUpgF,EAAUugF,GACtD,IAAKvgF,EAASqsE,aAAersE,EAASs+D,aAElC,WADAzwE,MAAKkyF,cAGT,IAAIS,GAAUxgF,EAASuV,OAAO1M,MAAQ7I,EAASuV,OAAOvT,EAClDy+E,EAA0BD,EAAUxgF,EAASuV,OAAOxM,KACxD,IAAI03E,EAA0B,GAAKA,GAA2BzgF,EAASgB,KAEnE,WADAnT,MAAKkyF,cAIT,IADA//E,EAASuV,OAAO7M,MAAM5U,IAAI0sF,GAASjsF,SAASyL,EAASuV,OAAOxT,EAAGlU,KAAK2xF,WACzChoF,KAAvB3J,KAAK2xF,MAAMntF,QAAf,CAGA,IAAK2N,EAAS0/E,UAWV,MAVA7xF,MAAKkyF,eACLlyF,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyI,OAAOjE,IAC1C/U,KAAK6yF,kBAAkB1gF,EAAUA,EAASuV,OAAOxT,EAAG0+E,EAAyB5yF,KAAK2xF,OAClF3xF,KAAK8R,KAAKoE,UACVlW,KAAK4xF,OAAO19E,EAAI/B,EAASuV,OAAOxT,EAChClU,KAAK4xF,OAAOz9E,EAAIy+E,EAChB5yF,KAAK4xF,OAAOC,WAAY,EACxB7xF,KAAK4xF,OAAOpgF,MAAQW,EAASsD,QAAQsnE,iBACrC/8E,KAAK4xF,OAAO9qF,MAAQ9G,KAAK2xF,MAAM7sF,WAGnC,IAAI9E,KAAKmyF,2BAA6BnyF,KAAKmyF,yBAAyBW,gBAEhE,WADA9yF,MAAKkyF,cAGT,IAAIlyF,KAAK4xF,OAAQ,CACb,GAAI5xF,KAAK4xF,OAAO19E,IAAM/B,EAASuV,OAAOxT,GAClClU,KAAK4xF,OAAOz9E,IAAMy+E,GAClB5yF,KAAK4xF,OAAOC,YAAc1/E,EAAS0/E,WACnC7xF,KAAK4xF,OAAOpgF,QAAUW,EAASsD,QAAQsnE,aACvC/8E,KAAK4xF,OAAO9qF,QAAU9G,KAAK2xF,MAAM7sF,WACjC,MAEJ9E,MAAKkyF,eAETlyF,KAAK8R,KAAK+D,OACV7V,KAAK8xF,iBAAiB3/E,EAASsD,QAAQsnE,aAAe,SAAS5qE,EAAUA,EAASuV,OAAOxT,EAAG0+E,EAAyB5yF,KAAK2xF,OAC1H3xF,KAAK8R,KAAKoE,UACVlW,KAAK4xF,OAAO19E,EAAI/B,EAASuV,OAAOxT,EAChClU,KAAK4xF,OAAOz9E,EAAIy+E,EAChB5yF,KAAK4xF,OAAOC,WAAY,EACxB7xF,KAAK4xF,OAAOpgF,MAAQW,EAASsD,QAAQsnE,YACrC/8E,KAAK4xF,OAAO9qF,MAAQ9G,KAAK2xF,MAAM7sF,aAEnC2sF,EAAkBtxF,UAAU+xF,aAAe,WACnClyF,KAAK4xF,SACL5xF,KAAKgV,WAAWhV,KAAK4xF,OAAO19E,EAAGlU,KAAK4xF,OAAOz9E,EAAGnU,KAAK4xF,OAAO9qF,MAAO,GACjE9G,KAAK4xF,QACD19E,EAAG,KACHC,EAAG,KACH09E,UAAW,KACXrgF,MAAO,KACP1K,MAAO,QAInB2qF,EAAkBtxF,UAAU4xF,iBAAmB,SAAU5/E,EAAU+B,EAAGC,EAAGrO,GACrE9F,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyI,OAAOjE,IAC1C/U,KAAKwU,mBAAmBN,EAAGC,GAC3BnU,KAAK8R,KAAKoE,WAEdu7E,EAAkBtxF,UAAU6xF,mBAAqB,SAAU7/E,EAAU+B,EAAGC,EAAGrO,GACvE9F,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyI,OAAOjE,IAC1C/U,KAAKiU,UAAUC,EAAGC,EAAGrO,EAAKhB,WAAY,GACtC9E,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQ0I,aAAalE,IAChD/U,KAAKiV,kBAAkB9C,EAAUrM,EAAMoO,EAAGC,GAC1CnU,KAAK8R,KAAKoE,WAEdu7E,EAAkBtxF,UAAU8xF,uBAAyB,SAAU9/E,EAAU+B,EAAGC,EAAGrO,GAC3E9F,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyI,OAAOjE,IAC1C/U,KAAKqU,sBAAsBH,EAAGC,GAC9BnU,KAAK8R,KAAKoE,WAEdu7E,EAAkBtxF,UAAU0yF,kBAAoB,SAAU1gF,EAAU+B,EAAGC,EAAGrO,GACtE9F,KAAK8R,KAAK+D,OACV7V,KAAK8R,KAAKihF,YAAc/yF,KAAKuQ,QAAQyI,OAAOjE,IAC5C/U,KAAKyU,iBAAiBP,EAAGC,EAAGrO,EAAKhB,WAAY,GAC7C9E,KAAK8R,KAAKoE,WAEPu7E,GACTD,EAAkBthF,gBACpB1Q,GAAQiyF,kBAAoBA,CAC5B,IAAIa,GAA2B,WAC3B,QAASA,GAAwBngF,EAAUwb,GACvC3tB,KAAK2tB,gBAAkBA,EACvB3tB,KAAK8yF,iBAAkB,EACnB3gF,EAAS0/E,WACT7xF,KAAKgzF,mBA2Fb,MAxFApzF,QAAOC,eAAeyyF,EAAwBnyF,UAAW,YACrD8F,IAAK,WAAc,QAASjG,KAAKizF,oBAAsBjzF,KAAKkzF,iBAC5D5pF,YAAY,EACZC,cAAc,IAElB+oF,EAAwBnyF,UAAUC,QAAU,WACpCJ,KAAKkzF,iBACL5+E,OAAOwjE,cAAc93E,KAAKkzF,gBAC1BlzF,KAAKkzF,eAAiB,MAEtBlzF,KAAKizF,qBACL3+E,OAAOgR,aAAatlB,KAAKizF,oBACzBjzF,KAAKizF,mBAAqB,MAE1BjzF,KAAK4tB,kBACLtZ,OAAOuZ,qBAAqB7tB,KAAK4tB,iBACjC5tB,KAAK4tB,gBAAkB,OAG/B0kE,EAAwBnyF,UAAUqyF,sBAAwB,SAAUrgF,GAChE,GAAI9N,GAAQrE,IACRA,MAAKyyF,WAGTzyF,KAAKmzF,wBAA0B9kC,KAAKtJ,MACpC/kD,KAAK8yF,iBAAkB,EAClB9yF,KAAK4tB,kBACN5tB,KAAK4tB,gBAAkBtZ,OAAO8Z,sBAAsB,WAChD/pB,EAAMspB,kBACNtpB,EAAMupB,gBAAkB,UAIpC0kE,EAAwBnyF,UAAU6yF,iBAAmB,SAAUI,GAC3D,GAAI/uF,GAAQrE,SACQ,KAAhBozF,IAA0BA,EAzNjB,KA0NTpzF,KAAKkzF,gBACL5+E,OAAOwjE,cAAc93E,KAAKkzF,gBAE9BlzF,KAAKizF,mBAAqBztE,WAAW,WACjC,GAAInhB,EAAM8uF,wBAAyB,CAC/B,GAAIpvC,GA/NC,KA+NwBsK,KAAKtJ,MAAQ1gD,EAAM8uF,wBAEhD,IADA9uF,EAAM8uF,wBAA0B,KAC5BpvC,EAAO,EAEP,WADA1/C,GAAM2uF,iBAAiBjvC,GAI/B1/C,EAAMyuF,iBAAkB,EACxBzuF,EAAMupB,gBAAkBtZ,OAAO8Z,sBAAsB,WACjD/pB,EAAMspB,kBACNtpB,EAAMupB,gBAAkB,OAE5BvpB,EAAM6uF,eAAiBtb,YAAY,WAC/B,GAAIvzE,EAAM8uF,wBAAyB,CAC/B,GAAIpvC,GA7OH,KA6O4BsK,KAAKtJ,MAAQ1gD,EAAM8uF,wBAGhD,OAFA9uF,GAAM8uF,wBAA0B,SAChC9uF,GAAM2uF,iBAAiBjvC,GAG3B1/C,EAAMyuF,iBAAmBzuF,EAAMyuF,gBAC/BzuF,EAAMupB,gBAAkBtZ,OAAO8Z,sBAAsB,WACjD/pB,EAAMspB,kBACNtpB,EAAMupB,gBAAkB,QArPvB,MAwPVwlE,IAEPd,EAAwBnyF,UAAUiyF,MAAQ,WACtCpyF,KAAK8yF,iBAAkB,EACnB9yF,KAAKkzF,iBACL5+E,OAAOwjE,cAAc93E,KAAKkzF,gBAC1BlzF,KAAKkzF,eAAiB,MAEtBlzF,KAAKizF,qBACL3+E,OAAOgR,aAAatlB,KAAKizF,oBACzBjzF,KAAKizF,mBAAqB,MAE1BjzF,KAAK4tB,kBACLtZ,OAAOuZ,qBAAqB7tB,KAAK4tB,iBACjC5tB,KAAK4tB,gBAAkB,OAG/B0kE,EAAwBnyF,UAAUkyF,OAAS,SAAUlgF,GACjDnS,KAAKmzF,wBAA0B,KAC/BnzF,KAAKgzF,mBACLhzF,KAAKwyF,sBAAsBrgF,IAExBmgF,MvEw03BLe,IACA,SAAU9zF,EAAQC,EAASC,GAEjC,YwEzm4BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIwzF,GAAa,WACb,QAASA,KACLtzF,KAAK20B,SAqBT,MAnBA2+D,GAAUnzF,UAAUoH,OAAS,SAAUT,EAAO+M,GAC1C,IAAK,GAAIK,GAAI,EAAGA,EAAIpN,EAAOoN,IAAK,CACxBlU,KAAK20B,MAAMp0B,QAAU2T,GACrBlU,KAAK20B,MAAMl0B,QAEf,KAAK,GAAI0T,GAAInU,KAAK20B,MAAMzgB,GAAG3T,OAAQ4T,EAAIN,EAAQM,IAC3CnU,KAAK20B,MAAMzgB,GAAGzT,KAAK,KAEvBT,MAAK20B,MAAMzgB,GAAG3T,OAASsT,EAE3B7T,KAAK20B,MAAMp0B,OAASuG,GAExBwsF,EAAUnzF,UAAUkX,MAAQ,WACxB,IAAK,GAAInD,GAAI,EAAGA,EAAIlU,KAAK20B,MAAMp0B,OAAQ2T,IACnC,IAAK,GAAIC,GAAI,EAAGA,EAAInU,KAAK20B,MAAMzgB,GAAG3T,OAAQ4T,IACtCnU,KAAK20B,MAAMzgB,GAAGC,GAAK,MAIxBm/E,IAEX9zF,GAAQ8zF,UAAYA,GxEgn4BdC,IACA,SAAUh0F,EAAQC,EAASC,GAEjC,YyE7o4BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI0xF,GAAoB,EAAQ,KAC5B7vF,EAAU,EAAQ,KAClBunB,EAAmB,EAAQ,KAC3BsqE,EAAmB,SAAUpvF,GAE7B,QAASovF,GAAgB9B,EAAWrhF,EAAQyI,EAAQ3G,GAChD,GAAI9N,GAAQD,EAAOsF,KAAK1J,KAAM0xF,EAAW,OAAQrhF,GAAQ,EAAMyI,IAAW9Y,IAI1E,OAHAqE,GAAMutF,OAAS,KACfz/E,EAAS+sE,UAAUuU,YAAY,SAAUrvE,GAAK,MAAO/f,GAAMotE,aAAartD,KACxEjS,EAAS+sE,UAAUwU,YAAY,SAAUtvE,GAAK,MAAO/f,GAAMqtE,aAAattD,KACjE/f,EA6CX,MAnDAtD,GAAUyyF,EAAiBpvF,GAQ3BovF,EAAgBrzF,UAAUoH,OAAS,SAAU4K,EAAUlB,GACnD7M,EAAOjE,UAAUoH,OAAOmC,KAAK1J,KAAMmS,EAAUlB,GAC7CjR,KAAK4xF,OAAS,MAElB4B,EAAgBrzF,UAAUooE,MAAQ,SAAUp2D,GACxCnS,KAAK2zF,qBAETH,EAAgBrzF,UAAUwzF,kBAAoB,WAC1C,GAAI3zF,KAAK4xF,OAAQ,CACb5xF,KAAKgV,WAAWhV,KAAK4xF,OAAOxrE,GAAIpmB,KAAK4xF,OAAO7sE,GAAI/kB,KAAK4xF,OAAOpsF,KAAOxF,KAAK4xF,OAAOxrE,GAAI,EACnF,IAAIwtE,GAAiB5zF,KAAK4xF,OAAO5sE,GAAKhlB,KAAK4xF,OAAO7sE,GAAK,CACnD6uE,GAAiB,GACjB5zF,KAAKgV,WAAW,EAAGhV,KAAK4xF,OAAO7sE,GAAK,EAAG/kB,KAAK4xF,OAAOpsF,KAAMouF,GAE7D5zF,KAAKgV,WAAW,EAAGhV,KAAK4xF,OAAO5sE,GAAIhlB,KAAK4xF,OAAOvrE,GAAI,GACnDrmB,KAAK4xF,OAAS,OAGtB4B,EAAgBrzF,UAAUsxE,aAAe,SAAUrtD,GAU/C,GATIA,EAAE1hB,KAAOf,EAAQkI,uBACjB7J,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQuE,WAAWC,IAEzCmU,EAAiBzP,WAAW2K,EAAE1hB,IACnC1C,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQwF,KAAKqO,EAAE1hB,IAAIqS,IAG9C/U,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQyF,WAAWjB,IAE9CqP,EAAEW,KAAOX,EAAEY,GACXhlB,KAAKqU,sBAAsB+P,EAAEgC,GAAIhC,EAAEW,GAAIX,EAAEiC,GAAKjC,EAAEgC,QAE/C,CACDpmB,KAAKqU,sBAAsB+P,EAAEgC,GAAIhC,EAAEW,GAAIX,EAAE5e,KAAO4e,EAAEgC,GAClD,KAAK,GAAIjS,GAAIiQ,EAAEW,GAAK,EAAG5Q,EAAIiQ,EAAEY,GAAI7Q,IAC7BnU,KAAKqU,sBAAsB,EAAGF,EAAGiQ,EAAE5e,KAEvCxF,MAAKqU,sBAAsB,EAAG+P,EAAEY,GAAIZ,EAAEiC,IAE1CrmB,KAAK4xF,OAASxtE,GAElBovE,EAAgBrzF,UAAUuxE,aAAe,SAAUttD,GAC/CpkB,KAAK2zF,qBAEFH,GACThC,EAAkBthF,gBACpB1Q,GAAQg0F,gBAAkBA,GzEop4BpBK,IACA,SAAUt0F,EAAQC,EAASC,GAEjC,Y0E9t4BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI28D,GAAoB,EAAQ,KAC5B0D,EAAkB,EAAQ,KAC1Bv8C,EAAc,EAAQ,KACtB84C,EAAqB,EAAQ,KAC7B74C,EAAc,EAAQ,KACtBu9D,EAAqB,SAAUh9E,GAE/B,QAASg9E,GAAkB0S,EAAW7lE,EAAW9H,GAC7C,GAAI9hB,GAAQD,EAAOsF,KAAK1J,OAASA,IAgBjC,IAfAqE,EAAMyvF,UAAYA,EAClBzvF,EAAM4pB,UAAYA,EAClB5pB,EAAM0vF,WAAY,EAClB1vF,EAAM2vF,mBAAoB,EAC1B3vF,EAAM4vF,aAAe,EACrB5vF,EAAM6vF,cAAgB,EACtB7vF,EAAM8vF,oBAAsB,GAAIh0B,GAAgBj3D,cAChD7E,EAAMs5E,UAAY,GAAIxd,GAAgBj3D,cACtC7E,EAAM+vF,kBAAoB,GAAIj0B,GAAgBj3D,cAC9C7E,EAAMgwF,iBAAmB,GAAI53B,GAAkB/uC,gBAAgB,SAAUrmB,EAAOC,GAAO,MAAOjD,GAAMo5D,YAAYp2D,EAAOC,KACvHjD,EAAM7D,SAAS6D,EAAMgwF,kBACrBhwF,EAAMs6D,kBAAoB,GAAIjC,GAAmBnuC,iBACjDlqB,EAAMs6D,kBAAkBlwC,YAAY,WAAc,MAAOpqB,GAAMyvF,UAAUQ,6BACzEjwF,EAAM7D,SAAS6D,EAAMs6D,mBACrBt6D,EAAM7D,SAASqjB,EAAY5Y,yBAAyBqJ,OAAQ,SAAU,WAAc,MAAOjQ,GAAMyvF,UAAUQ,8BACvG,wBAA0BhgF,QAAQ,CAClC,GAAIigF,GAAa,GAAIC,sBAAqB,SAAUpwE,GAAK,MAAO/f,GAAMowF,sBAAsBrwE,EAAEA,EAAE7jB,OAAS,MAAUm0F,UAAW,GAC9HH,GAAWI,QAAQxuE,GACnB9hB,EAAM7D,UAAWJ,QAAS,WAAc,MAAOm0F,GAAWK,gBAE9D,MAAOvwF,GAwGX,MA/HAtD,GAAUqgF,EAAmBh9E,GAyB7BxE,OAAOC,eAAeuhF,EAAkBjhF,UAAW,sBAC/C8F,IAAK,WAAc,MAAOjG,MAAKm0F,oBAAoBj0E,OACnD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeuhF,EAAkBjhF,UAAW,YAC/C8F,IAAK,WAAc,MAAOjG,MAAK29E,UAAUz9D,OACzC5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeuhF,EAAkBjhF,UAAW,oBAC/C8F,IAAK,WAAc,MAAOjG,MAAKo0F,kBAAkBl0E,OACjD5W,YAAY,EACZC,cAAc,IAElB3J,OAAOC,eAAeuhF,EAAkBjhF,UAAW,cAC/C8F,IAAK,WAAc,MAAOjG,MAAK8zF,UAAUvwE,YACzCja,YAAY,EACZC,cAAc,IAElB63E,EAAkBjhF,UAAUs0F,sBAAwB,SAAUrrE,GAC1DppB,KAAK+zF,UAAwC,IAA5B3qE,EAAMyrE,mBAClB70F,KAAK+zF,WAAa/zF,KAAKg0F,oBACxBh0F,KAAKwjF,YAAY,EAAGxjF,KAAKiuB,UAAY,GACrCjuB,KAAKg0F,mBAAoB,IAGjC5S,EAAkBjhF,UAAUqjF,YAAc,SAAUn8E,EAAOC,GACvD,GAAItH,KAAK+zF,UAEL,YADA/zF,KAAKg0F,mBAAoB,EAG7Bh0F,MAAKq0F,iBAAiBvmE,QAAQzmB,EAAOC,EAAKtH,KAAKiuB,YAEnDmzD,EAAkBjhF,UAAUs9D,YAAc,SAAUp2D,EAAOC,GACvDtH,KAAK8zF,UAAUgB,WAAWztF,EAAOC,GACjCtH,KAAK29E,UAAUn0E,MAAOnC,MAAOA,EAAOC,IAAKA,KAE7C85E,EAAkBjhF,UAAUoH,OAAS,SAAU/B,EAAM2N,GACjDnT,KAAKiuB,UAAY9a,EACjBnT,KAAK+0F,uBAET3T,EAAkBjhF,UAAU60F,cAAgB,WACxCh1F,KAAK8zF,UAAU5hF,mBACflS,KAAK+0F,uBAET3T,EAAkBjhF,UAAU40F,oBAAsB,WAC1C/0F,KAAK8zF,UAAUvwE,WAAWxP,cAAgB/T,KAAKi0F,cAAgBj0F,KAAK8zF,UAAUvwE,WAAWvP,eAAiBhU,KAAKk0F,eAGnHl0F,KAAKm0F,oBAAoB3qF,KAAKxJ,KAAK8zF,UAAUvwE,aAEjD69D,EAAkBjhF,UAAUw/E,YAAc,SAAUwB,GAChDnhF,KAAK8zF,UAAU1zF,UACfJ,KAAK8zF,UAAY3S,GAErBC,EAAkBjhF,UAAU80F,aAAe,WACnCj1F,KAAK+zF,UACL/zF,KAAKg0F,mBAAoB,EAGzBh0F,KAAKwjF,YAAY,EAAGxjF,KAAKiuB,YAGjCmzD,EAAkBjhF,UAAUyS,UAAY,SAAUkG,GAC9C9Y,KAAK8zF,UAAUlhF,UAAUkG,GACzB9Y,KAAKi1F,gBAET7T,EAAkBjhF,UAAUm0F,yBAA2B,WACnDt0F,KAAK8zF,UAAUQ,4BAEnBlT,EAAkBjhF,UAAU29D,SAAW,SAAUt4D,EAAM2N,GACnDnT,KAAK8zF,UAAUh2B,SAASt4D,EAAM2N,GAC9BnT,KAAKi1F,gBAET7T,EAAkBjhF,UAAUohF,kBAAoB,WAC5CvhF,KAAK8zF,UAAUvS,qBAEnBH,EAAkBjhF,UAAUiS,OAAS,WACjCpS,KAAK8zF,UAAU1hF,UAEnBgvE,EAAkBjhF,UAAUkS,QAAU,WAClCrS,KAAK8zF,UAAUzhF,WAEnB+uE,EAAkBjhF,UAAUuS,mBAAqB,SAAUrL,EAAOC,EAAKqL,GACnE3S,KAAK8zF,UAAUphF,mBAAmBrL,EAAOC,EAAKqL,IAElDyuE,EAAkBjhF,UAAUmS,aAAe,WACvCtS,KAAK8zF,UAAUxhF,gBAEnB8uE,EAAkBjhF,UAAU+R,iBAAmB,WAC3ClS,KAAK8zF,UAAU5hF,oBAEnBkvE,EAAkBjhF,UAAUkX,MAAQ,WAChCrX,KAAK8zF,UAAUz8E,SAEnB+pE,EAAkBjhF,UAAUinB,wBAA0B,SAAUhc,GAC5D,MAAOpL,MAAK8zF,UAAU1sE,wBAAwBhc,IAElDg2E,EAAkBjhF,UAAUmnB,0BAA4B,SAAUC,GAC9D,MAAOvnB,MAAK8zF,UAAUxsE,0BAA0BC,IAE7C65D,GACTx9D,EAAY7jB,WACdP,GAAQ4hF,kBAAoBA,G1Equ4BtB8T,IACA,SAAU31F,EAAQC,EAASC,GAEjC,Y2E734BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIq1F,GAAoB,EAAQ,KAC5BC,EAAyB,EAAQ,KACjCC,EAAsB,EAAQ,KAC9BC,EAAoB,EAAQ,KAC5BC,EAA4B,EAAQ,KACpC3xE,EAAc,EAAQ,KACtBi+D,EAAY,SAAUz9E,GAEtB,QAASy9E,GAAS5nE,EAAW1J,GACzB,GAAIlM,GAAQD,EAAOsF,KAAK1J,OAASA,IACjCqE,GAAM4V,UAAYA,EAClB5V,EAAMkM,QAAUA,CAChB,IAAI8I,GAAoBhV,EAAM4V,UAAUxE,QAAQ4D,iBAyBhD,OAxBAhV,GAAMmxF,yBAA2B,GAAID,GAA0BvuE,wBAAwB/M,GACvF5V,EAAMoxF,eACF,GAAIN,GAAkBO,gBAAgBrxF,EAAM4V,UAAUkM,cAAe,EAAG9hB,EAAMkM,QAASlM,EAAMmxF,yBAA0Bn8E,GACvH,GAAI+7E,GAAuBO,qBAAqBtxF,EAAM4V,UAAUkM,cAAe,EAAG9hB,EAAMkM,SACxF,GAAI+kF,GAAkB9B,gBAAgBnvF,EAAM4V,UAAUkM,cAAe,EAAG9hB,EAAMkM,QAASlM,EAAM4V,WAC7F,GAAIo7E,GAAoB5D,kBAAkBptF,EAAM4V,UAAUkM,cAAe,EAAG9hB,EAAMkM,UAEtFlM,EAAMkf,YACF/P,gBAAiB,KACjBC,iBAAkB,KAClBH,gBAAiB,KACjBC,iBAAkB,KAClBG,eAAgB,KAChBC,cAAe,KACfC,kBAAmB,KACnBE,mBAAoB,KACpBC,YAAa,KACbC,aAAc,KACdwP,gBAAiB,KACjBC,iBAAkB,MAEtBpf,EAAMuxF,kBAAoBthF,OAAOC,iBACjClQ,EAAMwxF,oBACNxxF,EAAM6N,mBACC7N,EAqFX,MAnHAtD,GAAU8gF,EAAUz9E,GAgCpBy9E,EAAS1hF,UAAUC,QAAU,WACzBgE,EAAOjE,UAAUC,QAAQsJ,KAAK1J,MAC9BA,KAAKy1F,cAAcp1F,QAAQ,SAAUwwE,GAAK,MAAOA,GAAEzwE,aAEvDyhF,EAAS1hF,UAAUm0F,yBAA2B,WACtCt0F,KAAK41F,oBAAsBthF,OAAOC,mBAClCvU,KAAK41F,kBAAoBthF,OAAOC,iBAChCvU,KAAK89D,SAAS99D,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAU9G,QAG1D0uE,EAAS1hF,UAAUyS,UAAY,SAAUkG,GACrC,GAAIzU,GAAQrE,IACZA,MAAKuQ,QAAUuI,EACf9Y,KAAKy1F,cAAcp1F,QAAQ,SAAUwwE,GACjCA,EAAEj+D,UAAUvO,EAAM4V,UAAW5V,EAAMkM,SACnCsgE,EAAEtI,MAAMlkE,EAAM4V,cAGtB4nE,EAAS1hF,UAAU29D,SAAW,SAAUt4D,EAAM2N,GAC1C,GAAI9O,GAAQrE,IACZA,MAAK61F,oBACL71F,KAAKy1F,cAAcp1F,QAAQ,SAAUwwE,GAAK,MAAOA,GAAEtpE,OAAOlD,EAAM4V,UAAW5V,EAAMkf,cACjFvjB,KAAKia,UAAUkM,cAAc3U,MAAM1K,MAAQ9G,KAAKujB,WAAWxP,YAAc,KACzE/T,KAAKia,UAAUkM,cAAc3U,MAAMqC,OAAS7T,KAAKujB,WAAWvP,aAAe,MAE/E6tE,EAAS1hF,UAAUohF,kBAAoB,WACnCvhF,KAAK89D,SAAS99D,KAAKia,UAAUzU,KAAMxF,KAAKia,UAAU9G,OAEtD0uE,EAAS1hF,UAAUiS,OAAS,WACxB,GAAI/N,GAAQrE,IACZA,MAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAEz+D,OAAO/N,EAAM4V,cAE5D4nE,EAAS1hF,UAAUkS,QAAU,WACzB,GAAIhO,GAAQrE,IACZA,MAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAEx+D,QAAQhO,EAAM4V,cAE7D4nE,EAAS1hF,UAAUuS,mBAAqB,SAAUrL,EAAOC,EAAKqL,GAC1D,GAAItO,GAAQrE,SACa,KAArB2S,IAA+BA,GAAmB,GACtD3S,KAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAEn+D,mBAAmBrO,EAAM4V,UAAW5S,EAAOC,EAAKqL,MAE/FkvE,EAAS1hF,UAAUmS,aAAe,WAC9B,GAAIjO,GAAQrE,IACZA,MAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAEv+D,aAAajO,EAAM4V,cAElE4nE,EAAS1hF,UAAU+R,iBAAmB,WAClC,GAAI7N,GAAQrE,IACZA,MAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAE3+D,iBAAiB7N,EAAM4V,cAEtE4nE,EAAS1hF,UAAUkX,MAAQ,WACvB,GAAIhT,GAAQrE,IACZA,MAAK81F,cAAc,SAAUjlB,GAAK,MAAOA,GAAEtI,MAAMlkE,EAAM4V,cAE3D4nE,EAAS1hF,UAAU21F,cAAgB,SAAUC,GACzC/1F,KAAKy1F,cAAcp1F,QAAQ,SAAUwwE,GAAK,MAAOklB,GAAUllB,MAE/DgR,EAAS1hF,UAAU20F,WAAa,SAAUztF,EAAOC,GAC7C,GAAIjD,GAAQrE,IACZA,MAAKy1F,cAAcp1F,QAAQ,SAAUwwE,GAAK,MAAOA,GAAEt+D,cAAclO,EAAM4V,UAAW5S,EAAOC,MAE7Fu6E,EAAS1hF,UAAU01F,kBAAoB,WAC9B71F,KAAKia,UAAUgJ,YAAYnc,OAAU9G,KAAKia,UAAUgJ,YAAYpP,SAGrE7T,KAAKujB,WAAW/P,gBAAkB1K,KAAKsmD,MAAMpvD,KAAKia,UAAUgJ,YAAYnc,MAAQwN,OAAOC,kBACvFvU,KAAKujB,WAAW9P,iBAAmB3K,KAAKwa,KAAKtjB,KAAKia,UAAUgJ,YAAYpP,OAASS,OAAOC,kBACxFvU,KAAKujB,WAAWhQ,iBAAmBzK,KAAKsmD,MAAMpvD,KAAKujB,WAAW9P,iBAAmBzT,KAAKia,UAAUxE,QAAQ0uD,YACxGnkE,KAAKujB,WAAW5P,cAAsD,IAAtC3T,KAAKia,UAAUxE,QAAQ0uD,WAAmB,EAAIr7D,KAAK2sD,OAAOz1D,KAAKujB,WAAWhQ,iBAAmBvT,KAAKujB,WAAW9P,kBAAoB,GACjKzT,KAAKujB,WAAWjQ,gBAAkBtT,KAAKujB,WAAW/P,gBAAkB1K,KAAK2sD,MAAMz1D,KAAKia,UAAUxE,QAAQwnE,eACtGj9E,KAAKujB,WAAW7P,eAAiB5K,KAAKsmD,MAAMpvD,KAAKia,UAAUxE,QAAQwnE,cAAgB,GACnFj9E,KAAKujB,WAAWzP,mBAAqB9T,KAAKia,UAAU9G,KAAOnT,KAAKujB,WAAWhQ,iBAC3EvT,KAAKujB,WAAW3P,kBAAoB5T,KAAKia,UAAUzU,KAAOxF,KAAKujB,WAAWjQ,gBAC1EtT,KAAKujB,WAAWvP,aAAelL,KAAK2sD,MAAMz1D,KAAKujB,WAAWzP,mBAAqBQ,OAAOC,kBACtFvU,KAAKujB,WAAWxP,YAAcjL,KAAK2sD,MAAMz1D,KAAKujB,WAAW3P,kBAAoBU,OAAOC,kBACpFvU,KAAKujB,WAAWE,iBAAmBzjB,KAAKujB,WAAWvP,aAAehU,KAAKia,UAAU9G,KACjFnT,KAAKujB,WAAWC,gBAAkBxjB,KAAKujB,WAAWxP,YAAc/T,KAAKia,UAAUzU,OAEnFq8E,EAAS1hF,UAAUinB,wBAA0B,SAAUhc,GACnD,MAAOpL,MAAKw1F,yBAAyBpuE,wBAAwBhc,IAEjEy2E,EAAS1hF,UAAUmnB,0BAA4B,SAAUC,GACrD,MAAOvnB,MAAKw1F,yBAAyBluE,0BAA0BC,IAE5Ds6D,GACTj+D,EAAY7jB,WACdP,GAAQqiF,SAAWA,G3Eo44BbmU,IACA,SAAUz2F,EAAQC,EAASC,GAEjC,Y4Ejh5BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI0xF,GAAoB,EAAQ,KAC5BmE,EAAwB,SAAUvxF,GAElC,QAASuxF,GAAqBjE,EAAWrhF,EAAQyI,GAC7C,GAAIzU,GAAQD,EAAOsF,KAAK1J,KAAM0xF,EAAW,YAAarhF,GAAQ,EAAMyI,IAAW9Y,IAE/E,OADAqE,GAAM4xF,cACC5xF,EAuEX,MA3EAtD,GAAU40F,EAAsBvxF,GAMhCuxF,EAAqBx1F,UAAU81F,YAAc,WACzCj2F,KAAK4xF,QACDvqF,MAAO,KACPC,IAAK,KACLqL,iBAAkB,KAClBuI,MAAO,OAGfy6E,EAAqBx1F,UAAUoH,OAAS,SAAU4K,EAAUlB,GACxD7M,EAAOjE,UAAUoH,OAAOmC,KAAK1J,KAAMmS,EAAUlB,GAC7CjR,KAAKi2F,eAETN,EAAqBx1F,UAAUooE,MAAQ,SAAUp2D,GACzCnS,KAAK4xF,OAAOvqF,OAASrH,KAAK4xF,OAAOtqF,MACjCtH,KAAKi2F,cACLj2F,KAAKiS,aAGb0jF,EAAqBx1F,UAAUuS,mBAAqB,SAAUP,EAAU9K,EAAOC,EAAKqL,GAChF,GAAK3S,KAAKk2F,gBAAgB7uF,EAAOC,EAAKqL,EAAkBR,EAASuV,OAAOxM,OAAxE,CAIA,GADAlb,KAAKiS,YACA5K,IAAUC,EAEX,WADAtH,MAAKi2F,aAGT,IAAIE,GAAmB9uF,EAAM,GAAK8K,EAASuV,OAAOxM,MAC9Ck7E,EAAiB9uF,EAAI,GAAK6K,EAASuV,OAAOxM,MAC1Cm7E,EAAyBvtF,KAAKsT,IAAI+5E,EAAkB,GACpDG,EAAuBxtF,KAAKC,IAAIqtF,EAAgBjkF,EAASgB,KAAO,EACpE,MAAIkjF,GAA0BlkF,EAASgB,MAAQmjF,EAAuB,GAAtE,CAIA,GADAt2F,KAAK8R,KAAK+C,UAAY7U,KAAKuQ,QAAQ2I,UAAUnE,IACzCpC,EAAkB,CAClB,GAAI/J,GAAWvB,EAAM,GACjBP,EAAQQ,EAAI,GAAKsB,EACjBiL,EAASyiF,EAAuBD,EAAyB,CAC7Dr2F,MAAKiU,UAAUrL,EAAUytF,EAAwBvvF,EAAO+M,OAEvD,CACD,GAAIjL,GAAWutF,IAAqBE,EAAyBhvF,EAAM,GAAK,EACpEsuE,EAAiB0gB,IAA2BC,EAAuBhvF,EAAI,GAAK6K,EAAS3M,IACzFxF,MAAKiU,UAAUrL,EAAUytF,EAAwB1gB,EAAiB/sE,EAAU,EAC5E,IAAI2tF,GAAkBztF,KAAKsT,IAAIk6E,EAAuBD,EAAyB,EAAG,EAElF,IADAr2F,KAAKiU,UAAU,EAAGoiF,EAAyB,EAAGlkF,EAAS3M,KAAM+wF,GACzDF,IAA2BC,EAAsB,CACjD,GAAIztF,GAASutF,IAAmBE,EAAuBhvF,EAAI,GAAK6K,EAAS3M,IACzExF,MAAKiU,UAAU,EAAGqiF,EAAsBztF,EAAQ,IAGxD7I,KAAK4xF,OAAOvqF,OAASA,EAAM,GAAIA,EAAM,IACrCrH,KAAK4xF,OAAOtqF,KAAOA,EAAI,GAAIA,EAAI,IAC/BtH,KAAK4xF,OAAOj/E,iBAAmBA,EAC/B3S,KAAK4xF,OAAO12E,MAAQ/I,EAASuV,OAAOxM,SAExCy6E,EAAqBx1F,UAAU+1F,gBAAkB,SAAU7uF,EAAOC,EAAKqL,EAAkBuI,GACrF,OAAQlb,KAAKw2F,qBAAqBnvF,EAAOrH,KAAK4xF,OAAOvqF,SAChDrH,KAAKw2F,qBAAqBlvF,EAAKtH,KAAK4xF,OAAOtqF,MAC5CqL,IAAqB3S,KAAK4xF,OAAOj/E,kBACjCuI,IAAUlb,KAAK4xF,OAAO12E,OAE9By6E,EAAqBx1F,UAAUq2F,qBAAuB,SAAUC,EAAQC,GACpE,SAAKD,IAAWC,KAGTD,EAAO,KAAOC,EAAO,IAAMD,EAAO,KAAOC,EAAO,KAEpDf,GACTnE,EAAkBthF,gBACpB1Q,GAAQm2F,qBAAuBA,G5Ewh5BzBgB,IACA,SAAUp3F,EAAQC,EAASC,GAEjC,Y6Exn5BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI82F,GAAc,EAAQ,KACtBpF,EAAoB,EAAQ,KAC5BvhF,EAAe,EAAQ,KACvBslF,EAA4B,EAAQ,KACpCG,EAAmB,SAAUtxF,GAE7B,QAASsxF,GAAgBhE,EAAWrhF,EAAQyI,EAAQ+9E,EAAyB7kF,GACzE,GAAI3N,GAAQD,EAAOsF,KAAK1J,KAAM0xF,EAAW,OAAQrhF,EAAQ2B,EAAO8G,IAAW9Y,IAK3E,OAJAqE,GAAMyyF,0BACNzyF,EAAM8iB,UAAY,GAAIlX,GAAa9L,SACnCE,EAAMutF,OAAS,GAAIgF,GAAYtD,UAC/BjvF,EAAMmxF,yBAA2BqB,EAC1BxyF,EA0KX,MAjLAtD,GAAU20F,EAAiBtxF,GAS3BsxF,EAAgBv1F,UAAUoH,OAAS,SAAU4K,EAAUlB,GACnD7M,EAAOjE,UAAUoH,OAAOmC,KAAK1J,KAAMmS,EAAUlB,EAC7C,IAAI8lF,GAAe/2F,KAAKmV,SAAShD,GAAU,GAAO,EAC9CnS,MAAKg3F,kBAAoB/lF,EAAIuC,iBAAmBxT,KAAKi3F,iBAAmBF,IACxE/2F,KAAKg3F,gBAAkB/lF,EAAIuC,gBAC3BxT,KAAKi3F,eAAiBF,EACtB/2F,KAAK82F,2BAET92F,KAAK4xF,OAAOv6E,QACZrX,KAAK4xF,OAAOrqF,OAAO4K,EAAS3M,KAAM2M,EAASgB,OAE/CuiF,EAAgBv1F,UAAUooE,MAAQ,SAAUp2D,GACxCnS,KAAK4xF,OAAOv6E,QACZrX,KAAKiS,YAETyjF,EAAgBv1F,UAAU+2F,aAAe,SAAU/kF,EAAUglF,EAAUC,EAASC,EAAgBr/C,GAC5F,IAAK,GAAI7jC,GAAIgjF,EAAUhjF,GAAKijF,EAASjjF,IAIjC,IAAK,GAHDsT,GAAMtT,EAAIhC,EAASuV,OAAOxM,MAC1BnT,EAAOoK,EAASuV,OAAO7M,MAAM5U,IAAIwhB,GACjCS,EAAemvE,EAAiBA,EAAe7vE,oBAAoBC,MAC9DvT,EAAI,EAAGA,EAAI/B,EAAS3M,KAAM0O,IAAK,CACpCnM,EAAKrB,SAASwN,EAAGlU,KAAKmnB,UACtB,IAAIrhB,GAAO9F,KAAKmnB,UACZmwE,GAAW,EACXC,EAAYrjF,CAChB,IAAwB,IAApBpO,EAAKhB,WAAT,CAGA,GAAIojB,EAAa3nB,OAAS,GAAK2T,IAAMgU,EAAa,GAAG,GAAI,CACrDovE,GAAW,CACX,IAAIl2E,GAAQ8G,EAAag3C,OACzBp5D,GAAO,GAAIyvF,GAA0B3uE,eAAe5mB,KAAKmnB,UAAWpf,EAAKW,mBAAkB,EAAM0Y,EAAM,GAAIA,EAAM,IAAKA,EAAM,GAAKA,EAAM,IACvIm2E,EAAYn2E,EAAM,GAAK,GAEtBk2E,GAAYt3F,KAAKw3F,eAAe1xF,IAC7ByxF,EAAYxvF,EAAKxH,OAAS,GAAKwH,EAAKvB,aAAa+wF,EAAY,KAAOtnF,EAAa7N,iBACjF0D,EAAKtB,UAAW,SAChBsB,EAAKtB,SAAW,GAAK,IAG7BwzC,EAASlyC,EAAMoO,EAAGC,GAClBD,EAAIqjF,KAIhB7B,EAAgBv1F,UAAUs3F,gBAAkB,SAAUtlF,EAAUglF,EAAUC,GACtE,GAAI/yF,GAAQrE,KACRsqB,EAAMtqB,KAAK8R,KACXtM,EAAO2M,EAAS3M,KAChBkyF,EAAS,EACTC,EAAS,EACTC,EAAgB,IACpBttE,GAAIzU,OACJ7V,KAAKk3F,aAAa/kF,EAAUglF,EAAUC,EAAS,KAAM,SAAUtxF,EAAMoO,EAAGC,GACpE,GAAI0jF,GAAgB,IAChB/xF,GAAK9C,YAED60F,EADA/xF,EAAKjC,cACWQ,EAAMkM,QAAQyF,WAAWjB,IAEpCjP,EAAKrC,UACM,OAASwM,EAAaxN,cAAcG,WAAWkD,EAAK/B,cAAc+R,KAAK,KAAO,IAG9EzR,EAAMkM,QAAQwF,KAAKjQ,EAAK/B,cAAcgR,IAGrDjP,EAAKpC,UACVm0F,EAAgB,OAAS5nF,EAAaxN,cAAcG,WAAWkD,EAAK9B,cAAc8R,KAAK,KAAO,IAEzFhQ,EAAKlC,gBACVi0F,EAAgBxzF,EAAMkM,QAAQwF,KAAKjQ,EAAK9B,cAAc+Q,KAEpC,OAAlB6iF,IACAF,EAASxjF,EACTyjF,EAASxjF,GAETA,IAAMwjF,GACNrtE,EAAIzV,UAAY+iF,EAChBvzF,EAAM4P,UAAUyjF,EAAQC,EAAQnyF,EAAOkyF,EAAQ,GAC/CA,EAASxjF,EACTyjF,EAASxjF,GAEJyjF,IAAkBC,IACvBvtE,EAAIzV,UAAY+iF,EAChBvzF,EAAM4P,UAAUyjF,EAAQC,EAAQzjF,EAAIwjF,EAAQ,GAC5CA,EAASxjF,EACTyjF,EAASxjF,GAEbyjF,EAAgBC,IAEE,OAAlBD,IACAttE,EAAIzV,UAAY+iF,EAChB53F,KAAKiU,UAAUyjF,EAAQC,EAAQnyF,EAAOkyF,EAAQ,IAElDptE,EAAIpU,WAERw/E,EAAgBv1F,UAAU23F,gBAAkB,SAAU3lF,EAAUglF,EAAUC,GACtE,GAAI/yF,GAAQrE,IACZA,MAAKk3F,aAAa/kF,EAAUglF,EAAUC,EAASp3F,KAAKw1F,yBAA0B,SAAU1vF,EAAMoO,EAAGC,GAC7F,IAAIrO,EAAK1C,gBAGTiB,EAAMkR,UAAUpD,EAAUrM,EAAMoO,EAAGC,GAC/BrO,EAAK5C,eAAe,CAEpB,GADAmB,EAAMyN,KAAK+D,OACP/P,EAAK9C,YACD8C,EAAKhC,cACLO,EAAMyN,KAAK+C,UAAYxQ,EAAMkM,QAAQuE,WAAWC,IAE3CjP,EAAKpC,UACVW,EAAMyN,KAAK+C,UAAY,OAAS5E,EAAaxN,cAAcG,WAAWkD,EAAK9B,cAAc8R,KAAK,KAAO,IAGrGzR,EAAMyN,KAAK+C,UAAYxQ,EAAMkM,QAAQwF,KAAKjQ,EAAK9B,cAAc+Q,QAIjE,IAAIjP,EAAKjC,cACLQ,EAAMyN,KAAK+C,UAAYxQ,EAAMkM,QAAQyF,WAAWjB,QAE/C,IAAIjP,EAAKrC,UACVY,EAAMyN,KAAK+C,UAAY,OAAS5E,EAAaxN,cAAcG,WAAWkD,EAAK/B,cAAc+R,KAAK,KAAO,QAEpG,CACD,GAAIpT,GAAKoD,EAAK/B,YACVoO,GAASsD,QAAQC,4BAA8B5P,EAAK7C,UAAYP,EAAK,IACrEA,GAAM,GAEV2B,EAAMyN,KAAK+C,UAAYxQ,EAAMkM,QAAQwF,KAAKrT,GAAIqS,IAGtD1Q,EAAMgQ,sBAAsBH,EAAGC,EAAGrO,EAAKhB,YACvCT,EAAMyN,KAAKoE,cAIvBw/E,EAAgBv1F,UAAUoS,cAAgB,SAAUJ,EAAUglF,EAAUC,GACnC,IAA7Bp3F,KAAK4xF,OAAOj9D,MAAMp0B,SAGlBP,KAAK6R,YACL7R,KAAK6R,WAAW6G,aAEpB1Y,KAAKgV,WAAW,EAAGmiF,EAAUhlF,EAAS3M,KAAM4xF,EAAUD,EAAW,GACjEn3F,KAAKy3F,gBAAgBtlF,EAAUglF,EAAUC,GACzCp3F,KAAK83F,gBAAgB3lF,EAAUglF,EAAUC,KAE7C1B,EAAgBv1F,UAAU+R,iBAAmB,SAAUC,GACnDnS,KAAK+S,gBAAgBZ,EAAUA,EAASsD,QAAQ4D,oBAEpDq8E,EAAgBv1F,UAAUq3F,eAAiB,SAAU1xF,GACjD,GAAwB,IAApBA,EAAKhB,WACL,OAAO,CAEX,IAAIgB,EAAKb,UAAY,IACjB,OAAO,CAEX,IAAI8L,GAAQjL,EAAKf,UACjB,IAAI/E,KAAK82F,uBAAuBx1F,eAAeyP,GAC3C,MAAO/Q,MAAK82F,uBAAuB/lF,EAEvC/Q,MAAK8R,KAAK+D,OACV7V,KAAK8R,KAAKoD,KAAOlV,KAAKi3F,cACtB,IAAIc,GAAWjvF,KAAKsmD,MAAMpvD,KAAK8R,KAAKkmF,YAAYjnF,GAAOjK,OAAS9G,KAAKg3F,eAGrE,OAFAh3F,MAAK8R,KAAKoE,UACVlW,KAAK82F,uBAAuB/lF,GAASgnF,EAC9BA,GAEJrC,GACTlE,EAAkBthF,gBACpB1Q,GAAQk2F,gBAAkBA,G7E+n5BpBuC,IACA,SAAU14F,EAAQC,EAASC,GAEjC,Y8E5y5BA,SAASy4F,GAAiBC,GACtB,MAAOA,GAAM/yF,MAAQ,GAAK+yF,EAAMx1F,IAAM,GAAKw1F,EAAMz1F,IAAM,GAAKy1F,EAAMnnF,KAAO,EAAI,IAAMmnF,EAAMlnF,IAAM,EAAI,IAAMknF,EAAMjnF,OAAS,EAAI,GA7BhI,GAAInQ,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI6B,GAAU,EAAQ,KAClBy2F,EAAkB,EAAQ,KAC1B3b,EAAiB,EAAQ,KACzB4b,EAAuB,EAAQ,KAC/BC,EAAW,EAAQ,KACnB7tE,EAAa,EAAQ,KACrB8tE,EAAgB,KAChBC,EAAiB,KACjBC,GACA1jF,IAAK,mBACLyE,KAAM,EAOVha,GAAQ04F,iBAAmBA,CAC3B,IAAIQ,GAAoB,SAAUt0F,GAE9B,QAASs0F,GAAiBtnF,EAAUunF,GAChC,GAAIt0F,GAAQD,EAAOsF,KAAK1J,OAASA,IACjCqE,GAAMs0F,QAAUA,EAChBt0F,EAAMu0F,kBAAoB,EAC1Bv0F,EAAMw0F,0BACNx0F,EAAMy0F,qBAAuB,KAC7Bz0F,EAAM00F,QAAU,KAChB10F,EAAM20F,aAAe5nF,EAASC,cAAc,UAC5ChN,EAAM20F,aAAalyF,MAAQyxF,EAC3Bl0F,EAAM20F,aAAanlF,OAAS2kF,EAC5Bn0F,EAAM40F,UAAY50F,EAAM20F,aAAajnF,WAAW,MAAQC,OAAO,GAC/D,IAAIknF,GAAY9nF,EAASC,cAAc,SACvC6nF,GAAUpyF,MAAQzC,EAAMs0F,QAAQnlF,gBAChC0lF,EAAUrlF,OAASxP,EAAMs0F,QAAQllF,iBACjCpP,EAAM80F,QAAUD,EAAUnnF,WAAW,MAAQC,MAAO3N,EAAMs0F,QAAQt/E,oBAClEhV,EAAMyiB,OAAShe,KAAKsmD,MAAMmpC,EAAgBl0F,EAAMs0F,QAAQnlF,iBACxDnP,EAAM+8D,QAAUt4D,KAAKsmD,MAAMopC,EAAiBn0F,EAAMs0F,QAAQllF,iBAC1D,IAAI2lF,GAAW/0F,EAAMyiB,OAASziB,EAAM+8D,OAGpC,OAFA/8D,GAAMg1F,UAAY,GAAIf,GAAS3/E,QAAQygF,GACvC/0F,EAAMg1F,UAAUC,SAASF,GAClB/0F,EA8IX,MAnKAtD,GAAU23F,EAAkBt0F,GAuB5Bs0F,EAAiBv4F,UAAUC,QAAU,WACC,OAA9BJ,KAAK84F,uBACLxkF,OAAOgR,aAAatlB,KAAK84F,sBACzB94F,KAAK84F,qBAAuB,OAGpCJ,EAAiBv4F,UAAUuY,WAAa,WACpC1Y,KAAK44F,kBAAoB,GAE7BF,EAAiBv4F,UAAUyV,KAAO,SAAU0U,EAAK6tE,EAAOjkF,EAAGC,GACvD,GAAmB,KAAfgkF,EAAM/yF,KACN,OAAO,CAEX,KAAKpF,KAAKu5F,UAAUpB,GAChB,OAAO,CAEX,IAAIqB,GAAWtB,EAAiBC,GAC5BsB,EAAaz5F,KAAKq5F,UAAUpzF,IAAIuzF,EACpC,IAAmB,OAAfC,OAAsC9vF,KAAf8vF,EAEvB,MADAz5F,MAAK05F,eAAepvE,EAAKmvE,EAAYvlF,EAAGC,IACjC,CAEN,IAAInU,KAAK44F,kBApDO,IAoDqC,CACtD,GAAIj4F,OAAQ,EAERA,GADAX,KAAKq5F,UAAU5hF,KAAOzX,KAAKq5F,UAAUD,SAC7Bp5F,KAAKq5F,UAAU5hF,KAGfzX,KAAKq5F,UAAUM,OAAOh5F,KAElC,IAAIi5F,GAAe55F,KAAK65F,aAAa1B,EAAOx3F,EAG5C,OAFAX,MAAKq5F,UAAUlzF,IAAIqzF,EAAUI,GAC7B55F,KAAK05F,eAAepvE,EAAKsvE,EAAc1lF,EAAGC,IACnC,EAEX,OAAO,GAEXukF,EAAiBv4F,UAAUo5F,UAAY,SAAUpB,GAC7C,MAAOA,GAAM/yF,KAAO,KAExBszF,EAAiBv4F,UAAU25F,eAAiB,SAAUn5F,GAClD,MAAQA,GAAQX,KAAK8mB,OAAU9mB,KAAK24F,QAAQnlF,iBAEhDklF,EAAiBv4F,UAAU45F,eAAiB,SAAUp5F,GAClD,MAAOmI,MAAKsmD,MAAMzuD,EAAQX,KAAK8mB,QAAU9mB,KAAK24F,QAAQllF,kBAE1DilF,EAAiBv4F,UAAUu5F,eAAiB,SAAUpvE,EAAKmvE,EAAYvlF,EAAGC,GACtE,IAAIslF,EAAWzuE,QAAf,CAGA,GAAIgvE,GAASh6F,KAAK85F,eAAeL,EAAW94F,OACxCs5F,EAASj6F,KAAK+5F,eAAeN,EAAW94F,MAC5C2pB,GAAI4vE,UAAUT,EAAWU,SAAWn6F,KAAK+4F,QAAU/4F,KAAKg5F,aAAcgB,EAAQC,EAAQj6F,KAAK24F,QAAQnlF,gBAAiBxT,KAAK24F,QAAQllF,iBAAkBS,EAAGC,EAAGnU,KAAK24F,QAAQnlF,gBAAiBxT,KAAK24F,QAAQllF,oBAExMilF,EAAiBv4F,UAAUi6F,uBAAyB,SAAUjxB,GAC1D,MAAIA,GAAMnpE,KAAK24F,QAAQ7/E,OAAO/C,KAAKxV,OACxBP,KAAK24F,QAAQ7/E,OAAO/C,KAAKozD,GAE7BsT,EAAe7wD,oBAAoBu9C,IAE9CuvB,EAAiBv4F,UAAUk6F,oBAAsB,SAAUlC,GACvD,MAAIn4F,MAAK24F,QAAQt/E,kBACNo/E,EAEFN,EAAMx1F,KAAOhB,EAAQkI,uBACnB7J,KAAK24F,QAAQ7/E,OAAO9C,WAEtBmiF,EAAMx1F,GAAK,IACT3C,KAAKo6F,uBAAuBjC,EAAMx1F,IAEtC3C,KAAK24F,QAAQ7/E,OAAOhE,YAE/B4jF,EAAiBv4F,UAAUm6F,oBAAsB,SAAUnC,GACvD,MAAIA,GAAMz1F,KAAOf,EAAQkI,uBACd7J,KAAK24F,QAAQ7/E,OAAOhE,WAEtBqjF,EAAMz1F,GAAK,IACT1C,KAAKo6F,uBAAuBjC,EAAMz1F,IAEtC1C,KAAK24F,QAAQ7/E,OAAO9C,YAE/B0iF,EAAiBv4F,UAAU05F,aAAe,SAAU1B,EAAOx3F,GACvDX,KAAK44F,oBACL54F,KAAKm5F,QAAQtjF,MACb,IAAIyxE,GAAkBtnF,KAAKq6F,oBAAoBlC,EAC/Cn4F,MAAKm5F,QAAQntE,yBAA2B,OACxChsB,KAAKm5F,QAAQtkF,UAAYyyE,EAAgBvyE,IACzC/U,KAAKm5F,QAAQ/kF,SAAS,EAAG,EAAGpU,KAAK24F,QAAQnlF,gBAAiBxT,KAAK24F,QAAQllF,kBACvEzT,KAAKm5F,QAAQntE,yBAA2B,aACxC,IAAI1V,GAAa6hF,EAAMnnF,KAAOhR,KAAK24F,QAAQpiF,eAAiBvW,KAAK24F,QAAQriF,WACrEikF,EAAYpC,EAAMjnF,OAAS,SAAW,EAC1ClR,MAAKm5F,QAAQjkF,KACTqlF,EAAY,IAAMjkF,EAAa,IAAMtW,KAAK24F,QAAQniF,SAAWxW,KAAK24F,QAAQpkF,iBAAmB,MAAQvU,KAAK24F,QAAQliF,WACtHzW,KAAKm5F,QAAQ/jF,aAAe,SAC5BpV,KAAKm5F,QAAQtkF,UAAY7U,KAAKs6F,oBAAoBnC,GAAOpjF,IACrDojF,EAAMlnF,MACNjR,KAAKm5F,QAAQljF,YAActU,EAAQmI,aAEvC9J,KAAKm5F,QAAQ7jF,SAAS6iF,EAAMpnF,MAAO,EAAG/Q,KAAK24F,QAAQllF,iBAAmB,GACtEzT,KAAKm5F,QAAQjjF,SACb,IAAI4U,GAAY9qB,KAAKm5F,QAAQxuE,aAAa,EAAG,EAAG3qB,KAAK24F,QAAQnlF,gBAAiBxT,KAAK24F,QAAQllF,kBACvFuX,GAAU,CACThrB,MAAK24F,QAAQt/E,oBACd2R,EAAUqtE,EAAqBztE,WAAWE,EAAWw8D,GAEzD,IAAIpzE,GAAIlU,KAAK85F,eAAen5F,GACxBwT,EAAInU,KAAK+5F,eAAep5F,EAC5BX,MAAKi5F,UAAUuB,aAAa1vE,EAAW5W,EAAGC,EAC1C,IAAIslF,IACA94F,MAAOA,EACPqqB,QAASA,EACTmvE,UAAU,EAGd,OADAn6F,MAAKy6F,kBAAkBhB,GAChBA,GAEXf,EAAiBv4F,UAAUs6F,kBAAoB,SAAUhB,GACrD,GAAIp1F,GAAQrE,IACN,sBAAuBsU,UAAWmW,EAAWlgB,YAAakgB,EAAWjgB,WAG3ExK,KAAK64F,uBAAuBp4F,KAAKg5F,GACC,OAA9Bz5F,KAAK84F,uBAGT94F,KAAK84F,qBAAuBxkF,OAAOkR,WAAW,WAAc,MAAOnhB,GAAMq2F,mBA1JjD,QA4J5BhC,EAAiBv4F,UAAUu6F,gBAAkB,WACzC,GAAIr2F,GAAQrE,KACR26F,EAAuB36F,KAAK64F,sBAChC74F,MAAK64F,0BACLvkF,OAAOuW,kBAAkB7qB,KAAKg5F,cAAc4B,KAAK,SAAUC,GACvDx2F,EAAM00F,QAAU8B,CAChB,KAAK,GAAI90F,GAAI,EAAGA,EAAI40F,EAAqBp6F,OAAQwF,IAAK,CACtC40F,EAAqB50F,GAC3Bo0F,UAAW,KAGzBn6F,KAAK84F,qBAAuB,MAEzBJ,GACTN,EAAgBz/E,QAClBnZ,GAAQmZ,QAAU+/E,G9E+05BZoC,IACA,SAAUv7F,EAAQC,EAASC,GAEjC,Y+Exh6BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIi7F,GAAU,WACV,QAASA,GAAO3B,GACZp5F,KAAKo5F,SAAWA,EAChBp5F,KAAKg7F,QACLh7F,KAAKi7F,MAAQ,KACbj7F,KAAKk7F,MAAQ,KACbl7F,KAAKm7F,aACLn7F,KAAKyX,KAAO,EAgGhB,MA9FAsjF,GAAO56F,UAAUi7F,YAAc,SAAUlwF,GACrC,GAAImwF,GAAOnwF,EAAKmwF,KACZl6E,EAAOjW,EAAKiW,IACZjW,KAASlL,KAAKi7F,QACdj7F,KAAKi7F,MAAQ95E,GAEbjW,IAASlL,KAAKk7F,QACdl7F,KAAKk7F,MAAQG,GAEJ,OAATA,IACAA,EAAKl6E,KAAOA,GAEH,OAATA,IACAA,EAAKk6E,KAAOA,IAGpBN,EAAO56F,UAAUm7F,YAAc,SAAUpwF,GACrC,GAAI61C,GAAO/gD,KAAKk7F,KACH,QAATn6C,IACAA,EAAK5/B,KAAOjW,GAEhBA,EAAKmwF,KAAOt6C,EACZ71C,EAAKiW,KAAO,KACZnhB,KAAKk7F,MAAQhwF,EACM,OAAflL,KAAKi7F,QACLj7F,KAAKi7F,MAAQ/vF,IAGrB6vF,EAAO56F,UAAUm5F,SAAW,SAAU56C,GAElC,IAAK,GADD68C,GAAWv7F,KAAKm7F,UACXp1F,EAAI,EAAGA,EAAI24C,EAAO34C,IACvBw1F,EAAS96F,MACL46F,KAAM,KACNl6E,KAAM,KACNxZ,IAAK,KACL7H,MAAO,QAInBi7F,EAAO56F,UAAU8F,IAAM,SAAU0B,GAC7B,GAAIuD,GAAOlL,KAAKg7F,KAAKrzF,EACrB,YAAagC,KAATuB,GACAlL,KAAKo7F,YAAYlwF,GACjBlL,KAAKs7F,YAAYpwF,GACVA,EAAKpL,OAET,MAEXi7F,EAAO56F,UAAUq7F,UAAY,SAAU7zF,GACnC,GAAIuD,GAAOlL,KAAKg7F,KAAKrzF,EACrB,YAAagC,KAATuB,EACOA,EAAKpL,MAET,MAEXi7F,EAAO56F,UAAUw5F,KAAO,WACpB,GAAI/5C,GAAO5/C,KAAKi7F,KAChB,OAAgB,QAATr7C,EAAgB,KAAOA,EAAK9/C,OAEvCi7F,EAAO56F,UAAUgG,IAAM,SAAUwB,EAAK7H,GAClC,GAAIoL,GAAOlL,KAAKg7F,KAAKrzF,EACrB,QAAagC,KAATuB,EACAA,EAAOlL,KAAKg7F,KAAKrzF,GACjB3H,KAAKo7F,YAAYlwF,GACjBA,EAAKpL,MAAQA,MAEZ,IAAIE,KAAKyX,MAAQzX,KAAKo5F,SACvBluF,EAAOlL,KAAKi7F,MACZj7F,KAAKo7F,YAAYlwF,SACVlL,MAAKg7F,KAAK9vF,EAAKvD,KACtBuD,EAAKvD,IAAMA,EACXuD,EAAKpL,MAAQA,EACbE,KAAKg7F,KAAKrzF,GAAOuD,MAEhB,CACD,GAAIqwF,GAAWv7F,KAAKm7F,SAChBI,GAASh7F,OAAS,GAClB2K,EAAOqwF,EAASt/E,MAChB/Q,EAAKvD,IAAMA,EACXuD,EAAKpL,MAAQA,GAGboL,GACImwF,KAAM,KACNl6E,KAAM,KACNxZ,IAAKA,EACL7H,MAAOA,GAGfE,KAAKg7F,KAAKrzF,GAAOuD,EACjBlL,KAAKyX,OAETzX,KAAKs7F,YAAYpwF,IAEd6vF,IAEXv7F,GAAQmZ,QAAUoiF,G/E+h6BZU,IACA,SAAUl8F,EAAQC,EAASC,GAEjC,YgF5o6BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAIs4F,GAAkB,EAAQ,KAC1BsD,EAAiB,SAAUt3F,GAE3B,QAASs3F,GAActqF,EAAUmY,GAC7B,MAAOnlB,GAAOsF,KAAK1J,OAASA,KAKhC,MAPAe,GAAU26F,EAAet3F,GAIzBs3F,EAAcv7F,UAAUyV,KAAO,SAAU0U,EAAK6tE,EAAOjkF,EAAGC,GACpD,OAAO,GAEJunF,GACTtD,EAAgBz/E,QAClBnZ,GAAQmZ,QAAU+iF,GhFmp6BZC,IACA,SAAUp8F,EAAQC,EAASC,GAEjC,YiF/q6BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI6B,GAAU,EAAQ,KAClB02F,EAAuB,EAAQ,KAC/BD,EAAkB,EAAQ,KAC1BlvE,EAAmB,EAAQ,KAC3BnZ,EAAU,EAAQ,KAClB6rF,EAAmB,SAAUx3F,GAE7B,QAASw3F,GAAgB36B,EAAW03B,GAChC,GAAIt0F,GAAQD,EAAOsF,KAAK1J,OAASA,IASjC,OARAqE,GAAM48D,UAAYA,EAClB58D,EAAMs0F,QAAUA,EAChBt0F,EAAMw3F,eAAiB,SAAU/0F,EAAO+M,GACpC,GAAIwW,GAAShmB,EAAM48D,UAAU5vD,cAAc,SAG3C,OAFAgZ,GAAOvjB,MAAQA,EACfujB,EAAOxW,OAASA,EACTwW,GAEJhmB,EA+CX,MA1DAtD,GAAU66F,EAAiBx3F,GAa3Bw3F,EAAgBz7F,UAAUsY,UAAY,WAClC,GAAIpU,GAAQrE,KACRgJ,EAASqvF,EAAqBruE,+BAA+B1V,OAAQtU,KAAK67F,eAAgB77F,KAAK24F,QAC/F3vF,aAAkB8yF,mBAClB97F,KAAK+7F,SAAW/yF,EAGhBA,EAAO4xF,KAAK,SAAUoB,GAClB33F,EAAM03F,SAAWC,KAI7BJ,EAAgBz7F,UAAU87F,UAAY,SAAU9D,EAAO3tE,GACnD,GAAI0xE,GAAU/D,EAAM/yF,KAAO,IACvB+2F,EAAehE,EAAMz1F,GAAK,GAC1B05F,EAAiBjE,EAAMz1F,KAAOqN,EAAQlO,cACtCw6F,EAAsBlE,EAAMx1F,KAAOoN,EAAQlO,aAC/C,OAAOq6F,KAAYC,GAAgBC,IAAmBC,IAAwBlE,EAAMjnF,QAExF0qF,EAAgBz7F,UAAUyV,KAAO,SAAU0U,EAAK6tE,EAAOjkF,EAAGC,GACtD,GAAsB,OAAlBnU,KAAK+7F,cAAuCpyF,KAAlB3J,KAAK+7F,SAC/B,OAAO,CAEX,IAAIvxE,GAAa,CASjB,IARItB,EAAiBzP,WAAW0+E,EAAMz1F,IAClC8nB,EAAa,EAAI2tE,EAAMz1F,IAAMy1F,EAAMnnF,KAAO,GAAK,GAE1CmnF,EAAMz1F,KAAOqN,EAAQlO,eACtBs2F,EAAMnnF,OACNwZ,EAAa,IAGhBxqB,KAAKi8F,UAAU9D,EAAO3tE,GACvB,OAAO,CAEXF,GAAIzU,MACJ,IAAIymF,GAAqBt8F,KAAK24F,QAAQnlF,gBAAkB7R,EAAQoI,wBAC5DwyF,EAAsBv8F,KAAK24F,QAAQllF,iBAAmB9R,EAAQoI,uBAMlE,OALIouF,GAAMlnF,MACNqZ,EAAIrU,YAActU,EAAQmI,aAE9BwgB,EAAI4vE,UAAUl6F,KAAK+7F,SAAU5D,EAAM/yF,KAAOk3F,EAAoB9xE,EAAa+xE,EAAqBD,EAAoBt8F,KAAK24F,QAAQllF,iBAAkBS,EAAGC,EAAGmoF,EAAoBt8F,KAAK24F,QAAQllF,kBAC1L6W,EAAIpU,WACG,GAEJ0lF,GACTxD,EAAgBz/E,QAClBnZ,GAAQmZ,QAAUijF,GjFsr6BZY,IACA,SAAUj9F,EAAQC,EAASC,GAEjC,YkFzw6BA,IAAIsB,GAAaf,MAAQA,KAAKe,WAAc,WACxC,GAAIC,GAAgB,SAAUV,EAAGW,GAI7B,OAHAD,EAAgBpB,OAAOsB,iBAChBC,uBAA2BC,QAAS,SAAUd,EAAGW,GAAKX,EAAEa,UAAYF,IACvE,SAAUX,EAAGW,GAAK,IAAK,GAAII,KAAKJ,GAAOA,EAAEK,eAAeD,KAAIf,EAAEe,GAAKJ,EAAEI,MACpDf,EAAGW,GAE5B,OAAO,UAAUX,EAAGW,GAEhB,QAASM,KAAOvB,KAAKwB,YAAclB,EADnCU,EAAcV,EAAGW,GAEjBX,EAAEH,UAAkB,OAANc,EAAarB,OAAO6B,OAAOR,IAAMM,EAAGpB,UAAYc,EAAEd,UAAW,GAAIoB,OAGvF3B,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI28F,GAA0B,EAAQ,KAClC96F,EAAU,EAAQ,KAClBiiB,EAAc,EAAQ,KACtB84E,EAAwB,4BACxBC,EAAsB,aAItBC,EAAkB,kBAClBC,EAAiB,EACjB/a,EAAe,SAAU19E,GAEzB,QAAS09E,GAAY7nE,EAAW1J,GAC5B,GAAIlM,GAAQD,EAAOsF,KAAK1J,OAASA,IAmCjC,OAlCAqE,GAAM4V,UAAYA,EAClB5V,EAAMkM,QAAUA,EAChBlM,EAAMy4F,eAAiBD,IACvBx4F,EAAM64D,gBACN74D,EAAM44D,cAAgB7rD,SAASC,cAAc,OAC7ChN,EAAM44D,cAAc3rD,UAAUC,IAAIorF,GAClCt4F,EAAM44D,cAAczrD,MAAM2yD,WAAa,SACvC9/D,EAAM44D,cAAcW,aAAa,cAAe,QAChDv5D,EAAM04F,oBAAoB14F,EAAM4V,UAAUzU,KAAMnB,EAAM4V,UAAU9G,MAChE9O,EAAM24F,oBAAsB5rF,SAASC,cAAc,OACnDhN,EAAM24F,oBAAoB1rF,UAAUC,IAAIqrF,GACxCv4F,EAAM24F,oBAAoBp/B,aAAa,cAAe,QACtDv5D,EAAMkf,YACF/P,gBAAiB,KACjBC,iBAAkB,KAClBH,gBAAiB,KACjBC,iBAAkB,KAClBG,eAAgB,KAChBC,cAAe,KACfC,kBAAmB,KACnBE,mBAAoB,KACpBC,YAAa,KACbC,aAAc,KACdwP,gBAAiB,KACjBC,iBAAkB,MAEtBpf,EAAMwxF,oBACNxxF,EAAM44F,aACN54F,EAAM64F,YAAc,GAAIT,GAAwBU,sBAAsBljF,EAAUxE,QAASrE,UACzF/M,EAAM4V,UAAUyI,QAAQpR,UAAUC,IAAImrF,EAAwBr4F,EAAMy4F,gBACpEz4F,EAAM4V,UAAUkM,cAAcxU,YAAYtN,EAAM44D,eAChD54D,EAAM4V,UAAUkM,cAAcxU,YAAYtN,EAAM24F,qBAChD34F,EAAM4V,UAAUilE,UAAUuU,YAAY,SAAUrvE,GAAK,MAAO/f,GAAMotE,aAAartD,KAC/E/f,EAAM4V,UAAUilE,UAAUwU,YAAY,SAAUtvE,GAAK,MAAO/f,GAAMqtE,aAAattD,KACxE/f,EA8OX,MAnRAtD,GAAU+gF,EAAa19E,GAuCvB09E,EAAY3hF,UAAUC,QAAU,WAC5BJ,KAAKia,UAAUyI,QAAQpR,UAAU+uC,OAAOq8C,EAAwB18F,KAAK88F,gBACrE98F,KAAKia,UAAUkM,cAAcvU,YAAY5R,KAAKi9D,eAC9Cj9D,KAAKia,UAAUkM,cAAcvU,YAAY5R,KAAKg9F,qBAC9Ch9F,KAAKia,UAAUkM,cAAcvU,YAAY5R,KAAKo9F,oBAC9Cp9F,KAAKia,UAAUkM,cAAcvU,YAAY5R,KAAKq9F,yBAC9Cj5F,EAAOjE,UAAUC,QAAQsJ,KAAK1J,OAElC8hF,EAAY3hF,UAAU01F,kBAAoB,WACtC,GAAIxxF,GAAQrE,IACZA,MAAKujB,WAAW/P,gBAAkBxT,KAAKia,UAAUgJ,YAAYnc,MAAQwN,OAAOC,iBAC5EvU,KAAKujB,WAAW9P,iBAAmB3K,KAAKwa,KAAKtjB,KAAKia,UAAUgJ,YAAYpP,OAASS,OAAOC,kBACxFvU,KAAKujB,WAAWjQ,gBAAkBtT,KAAKujB,WAAW/P,gBAAkB1K,KAAK2sD,MAAMz1D,KAAKia,UAAUxE,QAAQwnE,eACtGj9E,KAAKujB,WAAWhQ,iBAAmBzK,KAAKsmD,MAAMpvD,KAAKujB,WAAW9P,iBAAmBzT,KAAKia,UAAUxE,QAAQ0uD,YACxGnkE,KAAKujB,WAAW7P,eAAiB,EACjC1T,KAAKujB,WAAW5P,cAAgB,EAChC3T,KAAKujB,WAAW3P,kBAAoB5T,KAAKujB,WAAWjQ,gBAAkBtT,KAAKia,UAAUzU,KACrFxF,KAAKujB,WAAWzP,mBAAqB9T,KAAKujB,WAAWhQ,iBAAmBvT,KAAKia,UAAU9G,KACvFnT,KAAKujB,WAAWxP,YAAcjL,KAAK2sD,MAAMz1D,KAAKujB,WAAW3P,kBAAoBU,OAAOC,kBACpFvU,KAAKujB,WAAWvP,aAAelL,KAAK2sD,MAAMz1D,KAAKujB,WAAWzP,mBAAqBQ,OAAOC,kBACtFvU,KAAKujB,WAAWC,gBAAkBxjB,KAAKujB,WAAWxP,YAAc/T,KAAKia,UAAUzU,KAC/ExF,KAAKujB,WAAWE,iBAAmBzjB,KAAKujB,WAAWvP,aAAehU,KAAKia,UAAU9G,KACjFnT,KAAKk9D,aAAa78D,QAAQ,SAAUqiB,GAChCA,EAAQlR,MAAM1K,MAAQzC,EAAMkf,WAAWxP,YAAc,KACrD2O,EAAQlR,MAAMqC,OAASxP,EAAMkf,WAAWE,iBAAmB,KAC3Df,EAAQlR,MAAM2yD,WAAa9/D,EAAMkf,WAAWE,iBAAmB,KAC/Df,EAAQlR,MAAM8rF,SAAW,WAExBt9F,KAAKq9F,0BACNr9F,KAAKq9F,wBAA0BjsF,SAASC,cAAc,SACtDrR,KAAKia,UAAUkM,cAAcxU,YAAY3R,KAAKq9F,yBAElD,IAAIE,GAASv9F,KAAKw9F,kBAAoB,KAAOb,EAAsB,4EAIjD38F,KAAKujB,WAAWC,gBAAkB,KAEpDxjB,MAAKq9F,wBAAwBI,UAAYF,EACzCv9F,KAAKg9F,oBAAoBxrF,MAAMqC,OAAS7T,KAAKia,UAAU6mE,iBAAiBtvE,MAAMqC,OAC9E7T,KAAKia,UAAUkM,cAAc3U,MAAM1K,MAAQ9G,KAAKujB,WAAWxP,YAAc,KACzE/T,KAAKia,UAAUkM,cAAc3U,MAAMqC,OAAS7T,KAAKujB,WAAWvP,aAAe,MAE/E8tE,EAAY3hF,UAAUyS,UAAY,SAAUkG,GACxC9Y,KAAKuQ,QAAUuI,EACf9Y,KAAKi9F,cAETnb,EAAY3hF,UAAU88F,WAAa,WAC/B,GAAI54F,GAAQrE,IACPA,MAAKo9F,qBACNp9F,KAAKo9F,mBAAqBhsF,SAASC,cAAc,SACjDrR,KAAKia,UAAUkM,cAAcxU,YAAY3R,KAAKo9F,oBAElD,IAAIG,GAASv9F,KAAKw9F,kBAAoB,KAAOb,EAAsB,aACjD38F,KAAKuQ,QAAQyF,WAAWjB,IAAM,uBACnB/U,KAAKuQ,QAAQuE,WAAWC,IAAM,kBACnC/U,KAAKia,UAAUxE,QAAQgB,WAAa,gBACtCzW,KAAKia,UAAUxE,QAAQe,SAAW,MAExD+mF,IACIv9F,KAAKw9F,kBAAoB,cAAgBf,EAAwBiB,WAAa,oBACtD19F,KAAKia,UAAUxE,QAAQa,WAAa,KAEvDtW,KAAKw9F,kBAAoB,SAAWf,EAAwBiB,WAAa,mBACtD19F,KAAKia,UAAUxE,QAAQc,eAAiB,KAE3DvW,KAAKw9F,kBAAoB,SAAWf,EAAwBkB,aAAe,0BAGpFJ,GACI,wFAKJA,GACIv9F,KAAKw9F,kBAAoB,KAAOb,EAAsB,uBAAiCF,EAAwBmB,aAAe,yBAChG59F,KAAKuQ,QAAQyI,OAAOjE,IAAM,2BAGnD/U,KAAKw9F,kBAAoB,KAAOb,EAAsB,iBAA2BF,EAAwBmB,aAAe,IAAMnB,EAAwBoB,mBAAqB,6CAG3K79F,KAAKw9F,kBAAoB,KAAOb,EAAsB,iBAA2BF,EAAwBmB,aAAe,IAAMnB,EAAwBqB,yBAA2B,wBACzJ99F,KAAKuQ,QAAQyI,OAAOjE,IAAM,YACrC/U,KAAKuQ,QAAQ0I,aAAalE,IAAM,KAE7C/U,KAAKw9F,kBAAoB,KAAOb,EAAsB,iBAA2BF,EAAwBmB,aAAe,IAAMnB,EAAwBsB,uBAAyB,0BACrJ/9F,KAAKuQ,QAAQyI,OAAOjE,IAAM,WAEpD/U,KAAKw9F,kBAAoB,KAAOb,EAAsB,iBAA2BF,EAAwBmB,aAAe,IAAMnB,EAAwBuB,6BAA+B,2BAC1Jh+F,KAAKuQ,QAAQyI,OAAOjE,IAAM,WAE9DwoF,GACIv9F,KAAKw9F,kBAAoB,KAAOZ,EAAkB,6EAO7C58F,KAAKw9F,kBAAoB,KAAOZ,EAAkB,gDAE1B58F,KAAKuQ,QAAQ2I,UAAUnE,IAAM,KAE9D/U,KAAKuQ,QAAQwF,KAAK1V,QAAQ,SAAUirB,EAAGvlB,GACnCw3F,GACIl5F,EAAMm5F,kBAAoB,cAAyBz3F,EAAI,aAAeulB,EAAEvW,IAAM,MACzE1Q,EAAMm5F,kBAAoB,cAAyBz3F,EAAI,wBAA0BulB,EAAEvW,IAAM,QAEtGwoF,GACIv9F,KAAKw9F,kBAAoB,cAAyB77F,EAAQkI,uBAAyB,aAAe7J,KAAKuQ,QAAQuE,WAAWC,IAAM,MAC3H/U,KAAKw9F,kBAAoB,cAAyB77F,EAAQkI,uBAAyB,wBAA0B7J,KAAKuQ,QAAQyF,WAAWjB,IAAM,MACpJ/U,KAAKo9F,mBAAmBK,UAAYF,GAExCzb,EAAY3hF,UAAUm0F,yBAA2B,WAC7Ct0F,KAAK61F,qBAET/T,EAAY3hF,UAAU48F,oBAAsB,SAAUv3F,EAAM2N,GACxD,IAAK,GAAIpN,GAAI/F,KAAKk9D,aAAa38D,OAAQwF,GAAKoN,EAAMpN,IAAK,CACnD,GAAI0hB,GAAMrW,SAASC,cAAc,MACjCrR,MAAKi9D,cAActrD,YAAY8V,GAC/BznB,KAAKk9D,aAAaz8D,KAAKgnB,GAE3B,KAAOznB,KAAKk9D,aAAa38D,OAAS4S,GAC9BnT,KAAKi9D,cAAcrrD,YAAY5R,KAAKk9D,aAAajhD,QAGzD6lE,EAAY3hF,UAAU29D,SAAW,SAAUt4D,EAAM2N,GAC7CnT,KAAK+8F,oBAAoBv3F,EAAM2N,GAC/BnT,KAAK61F,qBAET/T,EAAY3hF,UAAUohF,kBAAoB,WACtCvhF,KAAK61F,qBAET/T,EAAY3hF,UAAUiS,OAAS,WAC3BpS,KAAKi9D,cAAc3rD,UAAU+uC,OAnLnB,gBAqLdyhC,EAAY3hF,UAAUkS,QAAU,WAC5BrS,KAAKi9D,cAAc3rD,UAAUC,IAtLnB,gBAwLduwE,EAAY3hF,UAAUuS,mBAAqB,SAAUrL,EAAOC,EAAKqL,GAC7D,KAAO3S,KAAKg9F,oBAAoB19B,SAAS/+D,QACrCP,KAAKg9F,oBAAoBprF,YAAY5R,KAAKg9F,oBAAoB19B,SAAS,GAE3E,IAAKj4D,GAAUC,EAAf,CAGA,GAAI6uF,GAAmB9uF,EAAM,GAAKrH,KAAKia,UAAUyN,OAAOxM,MACpDk7E,EAAiB9uF,EAAI,GAAKtH,KAAKia,UAAUyN,OAAOxM,MAChDm7E,EAAyBvtF,KAAKsT,IAAI+5E,EAAkB,GACpDG,EAAuBxtF,KAAKC,IAAIqtF,EAAgBp2F,KAAKia,UAAU9G,KAAO,EAC1E,MAAIkjF,GAA0Br2F,KAAKia,UAAU9G,MAAQmjF,EAAuB,GAA5E,CAGA,GAAI2H,GAAmB7sF,SAASyvE,wBAChC,IAAIluE,EACAsrF,EAAiBtsF,YAAY3R,KAAKk+F,wBAAwB7H,EAAwBhvF,EAAM,GAAIC,EAAI,GAAIgvF,EAAuBD,EAAyB,QAEnJ,CACD,GAAIztF,GAAWutF,IAAqBE,EAAyBhvF,EAAM,GAAK,EACpEwB,EAASwtF,IAA2BC,EAAuBhvF,EAAI,GAAKtH,KAAKia,UAAUzU,IACvFy4F,GAAiBtsF,YAAY3R,KAAKk+F,wBAAwB7H,EAAwBztF,EAAUC,GAC5F,IAAI0tF,GAAkBD,EAAuBD,EAAyB,CAEtE,IADA4H,EAAiBtsF,YAAY3R,KAAKk+F,wBAAwB7H,EAAyB,EAAG,EAAGr2F,KAAKia,UAAUzU,KAAM+wF,IAC1GF,IAA2BC,EAAsB,CACjD,GAAI6H,GAAW/H,IAAmBE,EAAuBhvF,EAAI,GAAKtH,KAAKia,UAAUzU,IACjFy4F,GAAiBtsF,YAAY3R,KAAKk+F,wBAAwB5H,EAAsB,EAAG6H,KAG3Fn+F,KAAKg9F,oBAAoBrrF,YAAYssF,MAEzCnc,EAAY3hF,UAAU+9F,wBAA0B,SAAUz2E,EAAK22E,EAAUC,EAAQl7E,OAC5D,KAAbA,IAAuBA,EAAW,EACtC,IAAIT,GAAUtR,SAASC,cAAc,MAKrC,OAJAqR,GAAQlR,MAAMqC,OAASsP,EAAWnjB,KAAKujB,WAAWE,iBAAmB,KACrEf,EAAQlR,MAAMuR,IAAM0E,EAAMznB,KAAKujB,WAAWE,iBAAmB,KAC7Df,EAAQlR,MAAMqR,KAAOu7E,EAAWp+F,KAAKujB,WAAWC,gBAAkB,KAClEd,EAAQlR,MAAM1K,MAAQ9G,KAAKujB,WAAWC,iBAAmB66E,EAASD,GAAY,KACvE17E,GAEXo/D,EAAY3hF,UAAUmS,aAAe,aAErCwvE,EAAY3hF,UAAU+R,iBAAmB,WACrClS,KAAK61F,oBACL71F,KAAKi9F,aACLj9F,KAAKia,UAAU6T,QAAQ,EAAG9tB,KAAKia,UAAU9G,KAAO,IAEpD2uE,EAAY3hF,UAAUkX,MAAQ,WAC1BrX,KAAKk9D,aAAa78D,QAAQ,SAAU+jB,GAAK,MAAOA,GAAEq5E,UAAY,MAElE3b,EAAY3hF,UAAU20F,WAAa,SAAUztF,EAAOC,GAKhD,IAAK,GAJD6K,GAAWnS,KAAKia,UAChBqkF,EAAkBnsF,EAASuV,OAAO1M,MAAQ7I,EAASuV,OAAOvT,EAC1DoqF,EAAUv+F,KAAKia,UAAUyN,OAAOxT,EAChC4oE,EAAc98E,KAAKia,UAAUxE,QAAQqnE,YAChC3oE,EAAI9M,EAAO8M,GAAK7M,EAAK6M,IAAK,CAC/B,GAAIqqF,GAAax+F,KAAKk9D,aAAa/oD,EACnCqqF,GAAWf,UAAY,EACvB,IAAIh2E,GAAMtT,EAAIhC,EAASuV,OAAOxM,MAC1BkN,EAAWjW,EAASuV,OAAO7M,MAAM5U,IAAIwhB,GACrCs1D,EAAc5qE,EAASsD,QAAQsnE,WACnCyhB,GAAW7sF,YAAY3R,KAAKk9F,YAAYuB,UAAUr2E,EAAUX,IAAQ62E,EAAiBvhB,EAAawhB,EAASzhB,EAAa98E,KAAKujB,WAAWC,gBAAiBrR,EAAS3M,SAG1K5F,OAAOC,eAAeiiF,EAAY3hF,UAAW,qBACzC8F,IAAK,WACD,MAAO,IAAMy2F,EAAwB18F,KAAK88F,gBAE9CxzF,YAAY,EACZC,cAAc,IAElBu4E,EAAY3hF,UAAUinB,wBAA0B,SAAUhc,GAAW,OAAQ,GAC7E02E,EAAY3hF,UAAUmnB,0BAA4B,SAAUC,GAAY,OAAO,GAC/Eu6D,EAAY3hF,UAAUsxE,aAAe,SAAUrtD,GAC3CpkB,KAAK0+F,kBAAkBt6E,EAAEgC,GAAIhC,EAAEiC,GAAIjC,EAAEW,GAAIX,EAAEY,GAAIZ,EAAE5e,MAAM,IAE3Ds8E,EAAY3hF,UAAUuxE,aAAe,SAAUttD,GAC3CpkB,KAAK0+F,kBAAkBt6E,EAAEgC,GAAIhC,EAAEiC,GAAIjC,EAAEW,GAAIX,EAAEY,GAAIZ,EAAE5e,MAAM,IAE3Ds8E,EAAY3hF,UAAUu+F,kBAAoB,SAAUxqF,EAAGmS,EAAIlS,EAAG6Q,EAAIxf,EAAMm5F,GACpE,KAAOzqF,IAAMmS,GAAMlS,IAAM6Q,GAAI,CACzB,GAAIyC,GAAMznB,KAAKk9D,aAAa/oD,EAC5B,KAAKsT,EACD,MAEJ,IAAIm3E,GAAOn3E,EAAI63C,SAASprD,EACpB0qF,KACAA,EAAKptF,MAAMqtF,eAAiBF,EAAU,YAAc,UAElDzqF,GAAK1O,IACP0O,EAAI,EACJC,OAIL2tE,GACTl+D,EAAY7jB,WACdP,GAAQsiF,YAAcA,GlFgx6BhBgd,IACA,SAAUv/F,EAAQC,EAASC,GAEjC,YmFjk7BAG,QAAOC,eAAeL,EAAS,cAAgBM,OAAO,GACtD,IAAI6B,GAAU,EAAQ,KAClBsO,EAAe,EAAQ,IAC3BzQ,GAAQk+F,WAAa,aACrBl+F,EAAQu/F,UAAY,YACpBv/F,EAAQm+F,aAAe,eACvBn+F,EAAQw/F,gBAAkB,kBAC1Bx/F,EAAQo+F,aAAe,eACvBp+F,EAAQq+F,mBAAqB,qBAC7Br+F,EAAQs+F,yBAA2B,qBACnCt+F,EAAQu+F,uBAAyB,mBACjCv+F,EAAQw+F,6BAA+B,wBACvC,IAAIb,GAAyB,WACzB,QAASA,GAAsB8B,EAAkBh+B,GAC7CjhE,KAAKi/F,iBAAmBA,EACxBj/F,KAAKihE,UAAYA,EACjBjhE,KAAKmnB,UAAY,GAAIlX,GAAa9L,SAmFtC,MAjFAg5F,GAAsBh9F,UAAUs+F,UAAY,SAAUr2E,EAAU82E,EAAaniB,EAAawhB,EAASzhB,EAAa3yD,EAAW3kB,GAGvH,IAAK,GAFDo7E,GAAW5gF,KAAKihE,UAAU4f,yBAC1BoL,EAAa,EACR/3E,EAAIpL,KAAKC,IAAIqf,EAAS7nB,OAAQiF,GAAQ,EAAG0O,GAAK,EAAGA,IACtD,GAAIkU,EAAS1hB,SAASwN,EAAGlU,KAAKmnB,WAAWliB,YAAcgL,EAAa7N,gBAAmB88F,GAAehrF,IAAMqqF,EAAU,CAClHtS,EAAa/3E,EAAI,CACjB,OAGR,IAAK,GAAIA,GAAI,EAAGA,EAAI+3E,EAAY/3E,IAAK,CACjCkU,EAAS1hB,SAASwN,EAAGlU,KAAKmnB,UAC1B,IAAIrgB,GAAQ9G,KAAKmnB,UAAUriB,UAC3B,IAAc,IAAVgC,EAAJ,CAGA,GAAIq4F,GAAcn/F,KAAKihE,UAAU5vD,cAAc,OAI/C,IAHIvK,EAAQ,IACRq4F,EAAY3tF,MAAM1K,MAAQqjB,EAAYrjB,EAAQ,MAE9Co4F,GAAehrF,IAAMqqF,EAKrB,OAJAY,EAAY7tF,UAAUC,IAAI/R,EAAQo+F,cAC9B9gB,GACAqiB,EAAY7tF,UAAUC,IAAI/R,EAAQq+F,oBAE9B9gB,GACJ,IAAK,MACDoiB,EAAY7tF,UAAUC,IAAI/R,EAAQu+F,uBAClC,MACJ,KAAK,YACDoB,EAAY7tF,UAAUC,IAAI/R,EAAQw+F,6BAClC,MACJ,SACImB,EAAY7tF,UAAUC,IAAI/R,EAAQs+F,0BAI1C99F,KAAKmnB,UAAUlkB,UAAYjD,KAAKi/F,iBAAiBtpF,YACjDwpF,EAAY7tF,UAAUC,IAAI/R,EAAQk+F,YAElC19F,KAAKmnB,UAAU9jB,YACf87F,EAAY7tF,UAAUC,IAAI/R,EAAQm+F,cAElC39F,KAAKmnB,UAAU7jB,SACf67F,EAAY7tF,UAAUC,IAAI/R,EAAQu/F,WAElC/+F,KAAKmnB,UAAUjkB,eACfi8F,EAAY7tF,UAAUC,IAAI/R,EAAQw/F,iBAEtCG,EAAYz/B,YAAc1/D,KAAKmnB,UAAUpiB,YAAckL,EAAa5N,oBACpE,IAAI+8F,GAAYp/F,KAAKmnB,UAAUnkB,WAC/B,IAAIhD,KAAKmnB,UAAU1jB,UAAW,CAC1B,GAAI+N,GAAQ2tF,EAAYrgC,aAAa,UAAY,EACjDttD,KAAU4tF,EAAY,cAAgB,IAAM,aAAgBnvF,EAAaxN,cAAcG,WAAW5C,KAAKmnB,UAAUpjB,cAAe+R,KAAK,KAAO,KAC5IqpF,EAAYvhC,aAAa,QAASpsD,OAEjC,IAAIxR,KAAKmnB,UAAUxjB,cAAe,CACnC,GAAIjB,GAAK1C,KAAKmnB,UAAUpjB,YACpB/D,MAAKmnB,UAAUlkB,UAAYP,EAAK,IAAM08F,GACtCp/F,KAAKi/F,iBAAiBtpF,YAAc3V,KAAKi/F,iBAAiBvpF,6BAC1DhT,GAAM,GAEVy8F,EAAY7tF,UAAUC,IAAI,UAAY6tF,EAAY,IAAM,KAAO,KAAO18F,OAEjE08F,IACLD,EAAY7tF,UAAUC,IAAI,YAAc5P,EAAQkI,uBAEpD,IAAI7J,KAAKmnB,UAAUzjB,UAAW,CAC1B,GAAI8N,GAAQ2tF,EAAYrgC,aAAa,UAAY,EACjDttD,KAAU4tF,EAAY,GAAK,eAAiB,aAAgBnvF,EAAaxN,cAAcG,WAAW5C,KAAKmnB,UAAUnjB,cAAe8R,KAAK,KAAO,KAC5IqpF,EAAYvhC,aAAa,QAASpsD,OAE7BxR,MAAKmnB,UAAUvjB,cACpBu7F,EAAY7tF,UAAUC,IAAI,UAAY6tF,EAAY,IAAM,KAAO,KAAOp/F,KAAKmnB,UAAUnjB,cAEhFo7F,GACLD,EAAY7tF,UAAUC,IAAI,YAAc5P,EAAQkI,uBAEpD+2E,GAASjvE,YAAYwtF,IAEzB,MAAOve,IAEJuc,IAEX39F,GAAQ29F,sBAAwBA","file":"static/js/2.0514df7d245f568b98cd.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 387:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(466),\n  /* template */\n  __webpack_require__(519),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 393:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map\n\n/***/ }),\n\n/***/ 394:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextDecoder_1 = __webpack_require__(409);\nvar Types_1 = __webpack_require__(399);\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.NULL_CELL_CHAR = '';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 0;\nexports.WHITESPACE_CELL_CHAR = ' ';\nexports.WHITESPACE_CELL_WIDTH = 1;\nexports.WHITESPACE_CELL_CODE = 32;\nvar CELL_SIZE = 3;\nvar AttributeData = (function () {\n    function AttributeData() {\n        this.fg = 0;\n        this.bg = 0;\n    }\n    AttributeData.toColorRGB = function (value) {\n        return [\n            value >>> 16 & 255,\n            value >>> 8 & 255,\n            value & 255\n        ];\n    };\n    AttributeData.fromColorRGB = function (value) {\n        return (value[0] & 255) << 16 | (value[1] & 255) << 8 | value[2] & 255;\n    };\n    AttributeData.prototype.clone = function () {\n        var newObj = new AttributeData();\n        newObj.fg = this.fg;\n        newObj.bg = this.bg;\n        return newObj;\n    };\n    AttributeData.prototype.isInverse = function () { return this.fg & 67108864; };\n    AttributeData.prototype.isBold = function () { return this.fg & 134217728; };\n    AttributeData.prototype.isUnderline = function () { return this.fg & 268435456; };\n    AttributeData.prototype.isBlink = function () { return this.fg & 536870912; };\n    AttributeData.prototype.isInvisible = function () { return this.fg & 1073741824; };\n    AttributeData.prototype.isItalic = function () { return this.bg & 67108864; };\n    AttributeData.prototype.isDim = function () { return this.bg & 134217728; };\n    AttributeData.prototype.getFgColorMode = function () { return this.fg & 50331648; };\n    AttributeData.prototype.getBgColorMode = function () { return this.bg & 50331648; };\n    AttributeData.prototype.isFgRGB = function () { return (this.fg & 50331648) === 50331648; };\n    AttributeData.prototype.isBgRGB = function () { return (this.bg & 50331648) === 50331648; };\n    AttributeData.prototype.isFgPalette = function () { return (this.fg & 50331648) === 16777216 || (this.fg & 50331648) === 33554432; };\n    AttributeData.prototype.isBgPalette = function () { return (this.bg & 50331648) === 16777216 || (this.bg & 50331648) === 33554432; };\n    AttributeData.prototype.isFgDefault = function () { return (this.fg & 50331648) === 0; };\n    AttributeData.prototype.isBgDefault = function () { return (this.bg & 50331648) === 0; };\n    AttributeData.prototype.getFgColor = function () {\n        switch (this.fg & 50331648) {\n            case 16777216:\n            case 33554432: return this.fg & 255;\n            case 50331648: return this.fg & 16777215;\n            default: return -1;\n        }\n    };\n    AttributeData.prototype.getBgColor = function () {\n        switch (this.bg & 50331648) {\n            case 16777216:\n            case 33554432: return this.bg & 255;\n            case 50331648: return this.bg & 16777215;\n            default: return -1;\n        }\n    };\n    return AttributeData;\n}());\nexports.AttributeData = AttributeData;\nexports.DEFAULT_ATTR_DATA = Object.freeze(new AttributeData());\nvar CellData = (function (_super) {\n    __extends(CellData, _super);\n    function CellData() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.content = 0;\n        _this.fg = 0;\n        _this.bg = 0;\n        _this.combinedData = '';\n        return _this;\n    }\n    CellData.fromCharData = function (value) {\n        var obj = new CellData();\n        obj.setFromCharData(value);\n        return obj;\n    };\n    CellData.prototype.isCombined = function () {\n        return this.content & 2097152;\n    };\n    CellData.prototype.getWidth = function () {\n        return this.content >> 22;\n    };\n    CellData.prototype.getChars = function () {\n        if (this.content & 2097152) {\n            return this.combinedData;\n        }\n        if (this.content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(this.content & 2097151);\n        }\n        return '';\n    };\n    CellData.prototype.getCode = function () {\n        return (this.isCombined())\n            ? this.combinedData.charCodeAt(this.combinedData.length - 1)\n            : this.content & 2097151;\n    };\n    CellData.prototype.setFromCharData = function (value) {\n        this.fg = value[exports.CHAR_DATA_ATTR_INDEX];\n        this.bg = 0;\n        var combined = false;\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 2) {\n            combined = true;\n        }\n        else if (value[exports.CHAR_DATA_CHAR_INDEX].length === 2) {\n            var code = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                var second = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    this.content = ((code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n                }\n                else {\n                    combined = true;\n                }\n            }\n            else {\n                combined = true;\n            }\n        }\n        else {\n            this.content = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        if (combined) {\n            this.combinedData = value[exports.CHAR_DATA_CHAR_INDEX];\n            this.content = 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    CellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return CellData;\n}(AttributeData));\nexports.CellData = CellData;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCellData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._combined = {};\n        this._data = new Uint32Array(cols * CELL_SIZE);\n        var cell = fillCellData || CellData.fromCharData([0, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE]);\n        for (var i = 0; i < cols; ++i) {\n            this.setCell(i, cell);\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        var cp = content & 2097151;\n        return [\n            this._data[index * CELL_SIZE + 1],\n            (content & 2097152)\n                ? this._combined[index]\n                : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : '',\n            content >> 22,\n            (content & 2097152)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : cp\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 1] = value[exports.CHAR_DATA_ATTR_INDEX];\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 0] = index | 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        else {\n            this._data[index * CELL_SIZE + 0] = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    BufferLine.prototype.getWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] >> 22;\n    };\n    BufferLine.prototype.hasWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 12582912;\n    };\n    BufferLine.prototype.getFg = function (index) {\n        return this._data[index * CELL_SIZE + 1];\n    };\n    BufferLine.prototype.getBg = function (index) {\n        return this._data[index * CELL_SIZE + 2];\n    };\n    BufferLine.prototype.hasContent = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 4194303;\n    };\n    BufferLine.prototype.getCodePoint = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index].charCodeAt(this._combined[index].length - 1);\n        }\n        return content & 2097151;\n    };\n    BufferLine.prototype.isCombined = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 2097152;\n    };\n    BufferLine.prototype.getString = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index];\n        }\n        if (content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(content & 2097151);\n        }\n        return '';\n    };\n    BufferLine.prototype.loadCell = function (index, cell) {\n        var startIndex = index * CELL_SIZE;\n        cell.content = this._data[startIndex + 0];\n        cell.fg = this._data[startIndex + 1];\n        cell.bg = this._data[startIndex + 2];\n        if (cell.content & 2097152) {\n            cell.combinedData = this._combined[index];\n        }\n        return cell;\n    };\n    BufferLine.prototype.setCell = function (index, cell) {\n        if (cell.content & 2097152) {\n            this._combined[index] = cell.combinedData;\n        }\n        this._data[index * CELL_SIZE + 0] = cell.content;\n        this._data[index * CELL_SIZE + 1] = cell.fg;\n        this._data[index * CELL_SIZE + 2] = cell.bg;\n    };\n    BufferLine.prototype.setCellFromCodePoint = function (index, codePoint, width, fg, bg) {\n        this._data[index * CELL_SIZE + 0] = codePoint | (width << 22);\n        this._data[index * CELL_SIZE + 1] = fg;\n        this._data[index * CELL_SIZE + 2] = bg;\n    };\n    BufferLine.prototype.addCodepointToCell = function (index, codePoint) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            this._combined[index] += TextDecoder_1.stringFromCodePoint(codePoint);\n        }\n        else {\n            if (content & 2097151) {\n                this._combined[index] = TextDecoder_1.stringFromCodePoint(content & 2097151) + TextDecoder_1.stringFromCodePoint(codePoint);\n                content &= ~2097151;\n                content |= 2097152;\n            }\n            else {\n                content = codePoint | (1 << 22);\n            }\n            this._data[index * CELL_SIZE + 0] = content;\n        }\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.setCell(pos + n + i, this.loadCell(pos + i, cell));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.setCell(pos + i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.setCell(pos + i, this.loadCell(pos + n + i, cell));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCellData) {\n        while (start < end && start < this.length) {\n            this.setCell(start++, fillCellData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCellData) {\n        if (cols === this.length) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n                var keys = Object.keys(this._combined);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = parseInt(keys[i], 10);\n                    if (key >= cols) {\n                        delete this._combined[key];\n                    }\n                }\n            }\n            else {\n                this._data = new Uint32Array(0);\n                this._combined = {};\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCellData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.setCell(i, fillCellData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    BufferLine.prototype.getTrimmedLength = function () {\n        for (var i = this.length - 1; i >= 0; --i) {\n            if ((this._data[i * CELL_SIZE + 0] & 4194303)) {\n                return i + (this._data[i * CELL_SIZE + 0] >> 22);\n            }\n        }\n        return 0;\n    };\n    BufferLine.prototype.copyCellsFrom = function (src, srcCol, destCol, length, applyInReverse) {\n        var srcData = src._data;\n        if (applyInReverse) {\n            for (var cell = length - 1; cell >= 0; cell--) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        else {\n            for (var cell = 0; cell < length; cell++) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        var srcCombinedKeys = Object.keys(src._combined);\n        for (var i = 0; i < srcCombinedKeys.length; i++) {\n            var key = parseInt(srcCombinedKeys[i], 10);\n            if (key >= srcCol) {\n                this._combined[key - srcCol + destCol] = src._combined[key];\n            }\n        }\n    };\n    BufferLine.prototype.translateToString = function (trimRight, startCol, endCol) {\n        if (trimRight === void 0) { trimRight = false; }\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = this.length; }\n        if (trimRight) {\n            endCol = Math.min(endCol, this.getTrimmedLength());\n        }\n        var result = '';\n        while (startCol < endCol) {\n            var content = this._data[startCol * CELL_SIZE + 0];\n            var cp = content & 2097151;\n            result += (content & 2097152) ? this._combined[startCol] : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : exports.WHITESPACE_CELL_CHAR;\n            startCol += (content >> 22) || 1;\n        }\n        return result;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map\n\n/***/ }),\n\n/***/ 395:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2 = (function () {\n    function EventEmitter2() {\n        this._listeners = [];\n    }\n    Object.defineProperty(EventEmitter2.prototype, \"event\", {\n        get: function () {\n            var _this = this;\n            if (!this._event) {\n                this._event = function (listener) {\n                    _this._listeners.push(listener);\n                    var disposable = {\n                        dispose: function () {\n                            for (var i = 0; i < _this._listeners.length; i++) {\n                                if (_this._listeners[i] === listener) {\n                                    _this._listeners.splice(i, 1);\n                                    return;\n                                }\n                            }\n                        }\n                    };\n                    return disposable;\n                };\n            }\n            return this._event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventEmitter2.prototype.fire = function (data) {\n        var queue = [];\n        for (var i = 0; i < this._listeners.length; i++) {\n            queue.push(this._listeners[i]);\n        }\n        for (var i = 0; i < queue.length; i++) {\n            queue[i].call(undefined, data);\n        }\n    };\n    return EventEmitter2;\n}());\nexports.EventEmitter2 = EventEmitter2;\n//# sourceMappingURL=EventEmitter2.js.map\n\n/***/ }),\n\n/***/ 396:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map\n\n/***/ }),\n\n/***/ 397:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map\n\n/***/ }),\n\n/***/ 398:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map\n\n/***/ }),\n\n/***/ 399:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\n//# sourceMappingURL=Types.js.map\n\n/***/ }),\n\n/***/ 400:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map\n\n/***/ }),\n\n/***/ 401:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(399);\nvar Types_2 = __webpack_require__(396);\nvar CharAtlasCache_1 = __webpack_require__(419);\nvar BufferLine_1 = __webpack_require__(394);\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.setColors = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, cell, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'middle';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, cell, x, y) {\n        if (cell.isFgRGB() || cell.isBgRGB()) {\n            this._drawUncachedChars(terminal, cell, x, y);\n            return;\n        }\n        var fg;\n        var bg;\n        if (cell.isInverse()) {\n            fg = (cell.isBgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getBgColor();\n            bg = (cell.isFgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getFgColor();\n        }\n        else {\n            bg = (cell.isBgDefault()) ? Types_1.DEFAULT_COLOR : cell.getBgColor();\n            fg = (cell.isFgDefault()) ? Types_1.DEFAULT_COLOR : cell.getFgColor();\n        }\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8 && fg !== Types_2.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = cell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n        this._currentGlyphIdentifier.code = cell.getCode() || BufferLine_1.WHITESPACE_CELL_CODE;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = cell.isBold() && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = !!cell.isDim();\n        this._currentGlyphIdentifier.italic = !!cell.isItalic();\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, cell, x, y);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, cell, x, y) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, cell.isBold() && terminal.options.enableBold, !!cell.isItalic());\n        this._ctx.textBaseline = 'middle';\n        if (cell.isInverse()) {\n            if (cell.isBgDefault()) {\n                this._ctx.fillStyle = this._colors.background.css;\n            }\n            else if (cell.isBgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else {\n                this._ctx.fillStyle = this._colors.ansi[cell.getBgColor()].css;\n            }\n        }\n        else {\n            if (cell.isFgDefault()) {\n                this._ctx.fillStyle = this._colors.foreground.css;\n            }\n            else if (cell.isFgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n            }\n            else {\n                var fg = cell.getFgColor();\n                if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                    fg += 8;\n                }\n                this._ctx.fillStyle = this._colors.ansi[fg].css;\n            }\n        }\n        this._clipRow(terminal, y);\n        if (cell.isDim()) {\n            this._ctx.globalAlpha = Types_2.DIM_OPACITY;\n        }\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map\n\n/***/ }),\n\n/***/ 408:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map\n\n/***/ }),\n\n/***/ 409:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringFromCodePoint(codePoint) {\n    if (codePoint > 0xFFFF) {\n        codePoint -= 0x10000;\n        return String.fromCharCode((codePoint >> 10) + 0xD800) + String.fromCharCode((codePoint % 0x400) + 0xDC00);\n    }\n    return String.fromCharCode(codePoint);\n}\nexports.stringFromCodePoint = stringFromCodePoint;\nfunction utf32ToString(data, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = data.length; }\n    var result = '';\n    for (var i = start; i < end; ++i) {\n        var codepoint = data[i];\n        if (codepoint > 0xFFFF) {\n            codepoint -= 0x10000;\n            result += String.fromCharCode((codepoint >> 10) + 0xD800) + String.fromCharCode((codepoint % 0x400) + 0xDC00);\n        }\n        else {\n            result += String.fromCharCode(codepoint);\n        }\n    }\n    return result;\n}\nexports.utf32ToString = utf32ToString;\nvar StringToUtf32 = (function () {\n    function StringToUtf32() {\n        this._interim = 0;\n    }\n    StringToUtf32.prototype.clear = function () {\n        this._interim = 0;\n    };\n    StringToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var startPos = 0;\n        if (this._interim) {\n            var second = input.charCodeAt(startPos++);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                target[size++] = (this._interim - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                target[size++] = this._interim;\n                target[size++] = second;\n            }\n            this._interim = 0;\n        }\n        for (var i = startPos; i < length; ++i) {\n            var code = input.charCodeAt(i);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++i >= length) {\n                    this._interim = code;\n                    return size;\n                }\n                var second = input.charCodeAt(i);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    target[size++] = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                }\n                else {\n                    target[size++] = code;\n                    target[size++] = second;\n                }\n                continue;\n            }\n            target[size++] = code;\n        }\n        return size;\n    };\n    return StringToUtf32;\n}());\nexports.StringToUtf32 = StringToUtf32;\nvar Utf8ToUtf32 = (function () {\n    function Utf8ToUtf32() {\n        this.interim = new Uint8Array(3);\n    }\n    Utf8ToUtf32.prototype.clear = function () {\n        this.interim.fill(0);\n    };\n    Utf8ToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var byte1;\n        var byte2;\n        var byte3;\n        var byte4;\n        var codepoint = 0;\n        var startPos = 0;\n        if (this.interim[0]) {\n            var discardInterim = false;\n            var cp = this.interim[0];\n            cp &= ((((cp & 0xE0) === 0xC0)) ? 0x1F : (((cp & 0xF0) === 0xE0)) ? 0x0F : 0x07);\n            var pos = 0;\n            var tmp = void 0;\n            while ((tmp = this.interim[++pos] & 0x3F) && pos < 4) {\n                cp <<= 6;\n                cp |= tmp;\n            }\n            var type = (((this.interim[0] & 0xE0) === 0xC0)) ? 2 : (((this.interim[0] & 0xF0) === 0xE0)) ? 3 : 4;\n            var missing = type - pos;\n            while (startPos < missing) {\n                if (startPos >= length) {\n                    return 0;\n                }\n                tmp = input[startPos++];\n                if ((tmp & 0xC0) !== 0x80) {\n                    startPos--;\n                    discardInterim = true;\n                    break;\n                }\n                else {\n                    this.interim[pos++] = tmp;\n                    cp <<= 6;\n                    cp |= tmp & 0x3F;\n                }\n            }\n            if (!discardInterim) {\n                if (type === 2) {\n                    if (cp < 0x80) {\n                        startPos--;\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else if (type === 3) {\n                    if (cp < 0x0800 || (cp >= 0xD800 && cp <= 0xDFFF)) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else {\n                    if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n            }\n            this.interim.fill(0);\n        }\n        var fourStop = length - 4;\n        var i = startPos;\n        while (i < length) {\n            while (i < fourStop\n                && !((byte1 = input[i]) & 0x80)\n                && !((byte2 = input[i + 1]) & 0x80)\n                && !((byte3 = input[i + 2]) & 0x80)\n                && !((byte4 = input[i + 3]) & 0x80)) {\n                target[size++] = byte1;\n                target[size++] = byte2;\n                target[size++] = byte3;\n                target[size++] = byte4;\n                i += 4;\n            }\n            byte1 = input[i++];\n            if (byte1 < 0x80) {\n                target[size++] = byte1;\n            }\n            else if ((byte1 & 0xE0) === 0xC0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x1F) << 6 | (byte2 & 0x3F);\n                if (codepoint < 0x80) {\n                    i--;\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF0) === 0xE0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x0F) << 12 | (byte2 & 0x3F) << 6 | (byte3 & 0x3F);\n                if (codepoint < 0x0800 || (codepoint >= 0xD800 && codepoint <= 0xDFFF)) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF8) === 0xF0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    this.interim[2] = byte3;\n                    return size;\n                }\n                byte4 = input[i++];\n                if ((byte4 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x07) << 18 | (byte2 & 0x3F) << 12 | (byte3 & 0x3F) << 6 | (byte4 & 0x3F);\n                if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else {\n            }\n        }\n        return size;\n    };\n    return Utf8ToUtf32;\n}());\nexports.Utf8ToUtf32 = Utf8ToUtf32;\n//# sourceMappingURL=TextDecoder.js.map\n\n/***/ }),\n\n/***/ 410:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map\n\n/***/ }),\n\n/***/ 411:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(399);\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map\n\n/***/ }),\n\n/***/ 413:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = __webpack_require__(574);\nvar BufferLine_1 = __webpack_require__(394);\nvar BufferReflow_1 = __webpack_require__(577);\nvar Marker_1 = __webpack_require__(578);\nexports.MAX_BUFFER_SIZE = 4294967295;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.savedCurAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.markers = [];\n        this._nullCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.NULL_CELL_CHAR, BufferLine_1.NULL_CELL_WIDTH, BufferLine_1.NULL_CELL_CODE]);\n        this._whitespaceCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.WHITESPACE_CELL_CHAR, BufferLine_1.WHITESPACE_CELL_WIDTH, BufferLine_1.WHITESPACE_CELL_CODE]);\n        this._cols = this._terminal.cols;\n        this._rows = this._terminal.rows;\n        this.clear();\n    }\n    Buffer.prototype.getNullCell = function (attr) {\n        if (attr) {\n            this._nullCell.fg = attr.fg;\n            this._nullCell.bg = attr.bg;\n        }\n        else {\n            this._nullCell.fg = 0;\n            this._nullCell.bg = 0;\n        }\n        return this._nullCell;\n    };\n    Buffer.prototype.getWhitespaceCell = function (attr) {\n        if (attr) {\n            this._whitespaceCell.fg = attr.fg;\n            this._whitespaceCell.bg = attr.bg;\n        }\n        else {\n            this._whitespaceCell.fg = 0;\n            this._whitespaceCell.bg = 0;\n        }\n        return this._whitespaceCell;\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        return new BufferLine_1.BufferLine(this._terminal.cols, this.getNullCell(attr), isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = BufferLine_1.DEFAULT_ATTR_DATA;\n            }\n            var i = this._rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._cols < newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n            var addToY = 0;\n            if (this._rows < newRows) {\n                for (var y = this._rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n        if (this._isReflowEnabled) {\n            this._reflow(newCols, newRows);\n            if (this._cols > newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n        }\n        this._cols = newCols;\n        this._rows = newRows;\n    };\n    Object.defineProperty(Buffer.prototype, \"_isReflowEnabled\", {\n        get: function () {\n            return this._hasScrollback && !this._terminal.options.windowsMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._reflow = function (newCols, newRows) {\n        if (this._cols === newCols) {\n            return;\n        }\n        if (newCols > this._cols) {\n            this._reflowLarger(newCols, newRows);\n        }\n        else {\n            this._reflowSmaller(newCols, newRows);\n        }\n    };\n    Buffer.prototype._reflowLarger = function (newCols, newRows) {\n        var toRemove = BufferReflow_1.reflowLargerGetLinesToRemove(this.lines, this._cols, newCols, this.ybase + this.y, this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n        if (toRemove.length > 0) {\n            var newLayoutResult = BufferReflow_1.reflowLargerCreateNewLayout(this.lines, toRemove);\n            BufferReflow_1.reflowLargerApplyNewLayout(this.lines, newLayoutResult.layout);\n            this._reflowLargerAdjustViewport(newCols, newRows, newLayoutResult.countRemoved);\n        }\n    };\n    Buffer.prototype._reflowLargerAdjustViewport = function (newCols, newRows, countRemoved) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var viewportAdjustments = countRemoved;\n        while (viewportAdjustments-- > 0) {\n            if (this.ybase === 0) {\n                if (this.y > 0) {\n                    this.y--;\n                }\n                if (this.lines.length < newRows) {\n                    this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                }\n            }\n            else {\n                if (this.ydisp === this.ybase) {\n                    this.ydisp--;\n                }\n                this.ybase--;\n            }\n        }\n    };\n    Buffer.prototype._reflowSmaller = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var toInsert = [];\n        var countToInsert = 0;\n        for (var y = this.lines.length - 1; y >= 0; y--) {\n            var nextLine = this.lines.get(y);\n            if (!nextLine || !nextLine.isWrapped && nextLine.getTrimmedLength() <= newCols) {\n                continue;\n            }\n            var wrappedLines = [nextLine];\n            while (nextLine.isWrapped && y > 0) {\n                nextLine = this.lines.get(--y);\n                wrappedLines.unshift(nextLine);\n            }\n            var absoluteY = this.ybase + this.y;\n            if (absoluteY >= y && absoluteY < y + wrappedLines.length) {\n                continue;\n            }\n            var lastLineLength = wrappedLines[wrappedLines.length - 1].getTrimmedLength();\n            var destLineLengths = BufferReflow_1.reflowSmallerGetNewLineLengths(wrappedLines, this._cols, newCols);\n            var linesToAdd = destLineLengths.length - wrappedLines.length;\n            var trimmedLines = void 0;\n            if (this.ybase === 0 && this.y !== this.lines.length - 1) {\n                trimmedLines = Math.max(0, this.y - this.lines.maxLength + linesToAdd);\n            }\n            else {\n                trimmedLines = Math.max(0, this.lines.length - this.lines.maxLength + linesToAdd);\n            }\n            var newLines = [];\n            for (var i = 0; i < linesToAdd; i++) {\n                var newLine = this.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA, true);\n                newLines.push(newLine);\n            }\n            if (newLines.length > 0) {\n                toInsert.push({\n                    start: y + wrappedLines.length + countToInsert,\n                    newLines: newLines\n                });\n                countToInsert += newLines.length;\n            }\n            wrappedLines.push.apply(wrappedLines, newLines);\n            var destLineIndex = destLineLengths.length - 1;\n            var destCol = destLineLengths[destLineIndex];\n            if (destCol === 0) {\n                destLineIndex--;\n                destCol = destLineLengths[destLineIndex];\n            }\n            var srcLineIndex = wrappedLines.length - linesToAdd - 1;\n            var srcCol = lastLineLength;\n            while (srcLineIndex >= 0) {\n                var cellsToCopy = Math.min(srcCol, destCol);\n                wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol - cellsToCopy, destCol - cellsToCopy, cellsToCopy, true);\n                destCol -= cellsToCopy;\n                if (destCol === 0) {\n                    destLineIndex--;\n                    destCol = destLineLengths[destLineIndex];\n                }\n                srcCol -= cellsToCopy;\n                if (srcCol === 0) {\n                    srcLineIndex--;\n                    var wrappedLinesIndex = Math.max(srcLineIndex, 0);\n                    srcCol = BufferReflow_1.getWrappedLineTrimmedLength(wrappedLines, wrappedLinesIndex, this._cols);\n                }\n            }\n            for (var i = 0; i < wrappedLines.length; i++) {\n                if (destLineLengths[i] < newCols) {\n                    wrappedLines[i].setCell(destLineLengths[i], nullCell);\n                }\n            }\n            var viewportAdjustments = linesToAdd - trimmedLines;\n            while (viewportAdjustments-- > 0) {\n                if (this.ybase === 0) {\n                    if (this.y < newRows - 1) {\n                        this.y++;\n                        this.lines.pop();\n                    }\n                    else {\n                        this.ybase++;\n                        this.ydisp++;\n                    }\n                }\n                else {\n                    if (this.ybase < Math.min(this.lines.maxLength, this.lines.length + countToInsert) - newRows) {\n                        if (this.ybase === this.ydisp) {\n                            this.ydisp++;\n                        }\n                        this.ybase++;\n                    }\n                }\n            }\n        }\n        if (toInsert.length > 0) {\n            var insertEvents = [];\n            var originalLines = [];\n            for (var i = 0; i < this.lines.length; i++) {\n                originalLines.push(this.lines.get(i));\n            }\n            var originalLinesLength = this.lines.length;\n            var originalLineIndex = originalLinesLength - 1;\n            var nextToInsertIndex = 0;\n            var nextToInsert = toInsert[nextToInsertIndex];\n            this.lines.length = Math.min(this.lines.maxLength, this.lines.length + countToInsert);\n            var countInsertedSoFar = 0;\n            for (var i = Math.min(this.lines.maxLength - 1, originalLinesLength + countToInsert - 1); i >= 0; i--) {\n                if (nextToInsert && nextToInsert.start > originalLineIndex + countInsertedSoFar) {\n                    for (var nextI = nextToInsert.newLines.length - 1; nextI >= 0; nextI--) {\n                        this.lines.set(i--, nextToInsert.newLines[nextI]);\n                    }\n                    i++;\n                    insertEvents.push({\n                        index: originalLineIndex + 1,\n                        amount: nextToInsert.newLines.length\n                    });\n                    countInsertedSoFar += nextToInsert.newLines.length;\n                    nextToInsert = toInsert[++nextToInsertIndex];\n                }\n                else {\n                    this.lines.set(i, originalLines[originalLineIndex--]);\n                }\n            }\n            var insertCountEmitted = 0;\n            for (var i = insertEvents.length - 1; i >= 0; i--) {\n                insertEvents[i].index += insertCountEmitted;\n                this.lines.onInsertEmitter.fire(insertEvents[i]);\n                insertCountEmitted += insertEvents[i].amount;\n            }\n            var amountToTrim = Math.max(0, originalLinesLength + countToInsert - this.lines.maxLength);\n            if (amountToTrim > 0) {\n                this.lines.onTrimEmitter.fire(amountToTrim);\n            }\n        }\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex, trimRight) {\n        if (trimRight === void 0) { trimRight = false; }\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                return [-1, -1];\n            }\n            var length_1 = (trimRight) ? line.getTrimmedLength() : line.length;\n            for (var i = 0; i < length_1; ++i) {\n                if (line.get(i)[BufferLine_1.CHAR_DATA_WIDTH_INDEX]) {\n                    stringIndex -= line.get(i)[BufferLine_1.CHAR_DATA_CHAR_INDEX].length || 1;\n                }\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        return line.translateToString(trimRight, startCol, endCol);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._cols)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker_1.Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.onTrim(function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(this.lines.onInsert(function (event) {\n            if (marker.line >= event.index) {\n                marker.line += event.amount;\n            }\n        }));\n        marker.register(this.lines.onDelete(function (event) {\n            if (marker.line >= event.index && marker.line < event.index + event.amount) {\n                marker.dispose();\n            }\n            if (marker.line > event.index) {\n                marker.line -= event.amount;\n            }\n        }));\n        marker.register(marker.onDispose(function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, this._trimRight);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map\n\n/***/ }),\n\n/***/ 414:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = __webpack_require__(417);\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map\n\n/***/ }),\n\n/***/ 415:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderCoordinator) {\n        this._renderCoordinator = _renderCoordinator;\n    }\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        var rect = element.getBoundingClientRect();\n        return [event.clientX - rect.left, event.clientY - rect.top];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderCoordinator.dimensions.actualCellWidth / 2 : 0)) / this._renderCoordinator.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderCoordinator.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map\n\n/***/ }),\n\n/***/ 416:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(393);\nvar Lifecycle_2 = __webpack_require__(398);\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._mouseLeaveListener = function (e) { return _this._onMouseLeave(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        this._initialSelectionLength = this._terminal.getSelection().length;\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onMouseLeave = function (e) {\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        var currentSelectionLength = this._terminal.getSelection().length;\n        if (zone && currentSelectionLength === this._initialSelectionLength) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map\n\n/***/ }),\n\n/***/ 417:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\nfunction concat(a, b) {\n    var result = new a.constructor(a.length + b.length);\n    result.set(a);\n    result.set(b, a.length);\n    return result;\n}\nexports.concat = concat;\n//# sourceMappingURL=TypedArrayUtils.js.map\n\n/***/ }),\n\n/***/ 418:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = __webpack_require__(394);\nvar JoinedCellData = (function (_super) {\n    __extends(JoinedCellData, _super);\n    function JoinedCellData(firstCell, chars, width) {\n        var _this = _super.call(this) || this;\n        _this.content = 0;\n        _this.combinedData = '';\n        _this.fg = firstCell.fg;\n        _this.bg = firstCell.bg;\n        _this.combinedData = chars;\n        _this._width = width;\n        return _this;\n    }\n    JoinedCellData.prototype.isCombined = function () {\n        return 2097152;\n    };\n    JoinedCellData.prototype.getWidth = function () {\n        return this._width;\n    };\n    JoinedCellData.prototype.getChars = function () {\n        return this.combinedData;\n    };\n    JoinedCellData.prototype.getCode = function () {\n        return 0x1FFFFF;\n    };\n    JoinedCellData.prototype.setFromCharData = function (value) {\n        throw new Error('not implemented');\n    };\n    JoinedCellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return JoinedCellData;\n}(BufferLine_1.AttributeData));\nexports.JoinedCellData = JoinedCellData;\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = line.translateToString(true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttrFG = line.getFg(0);\n        var rangeAttrBG = line.getBg(0);\n        for (var x = 0; x < line.getTrimmedLength(); x++) {\n            line.loadCell(x, this._workCell);\n            if (this._workCell.getWidth() === 0) {\n                continue;\n            }\n            if (this._workCell.fg !== rangeAttrFG || this._workCell.bg !== rangeAttrBG) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttrFG = this._workCell.fg;\n                rangeAttrBG = this._workCell.bg;\n            }\n            currentStringIndex += this._workCell.getChars().length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var width = line.getWidth(x);\n            var length_1 = line.getString(x).length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map\n\n/***/ }),\n\n/***/ 419:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = __webpack_require__(411);\nvar DynamicCharAtlas_1 = __webpack_require__(591);\nvar NoneCharAtlas_1 = __webpack_require__(593);\nvar StaticCharAtlas_1 = __webpack_require__(594);\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                entry.atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache[i].atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map\n\n/***/ }),\n\n/***/ 420:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = __webpack_require__(397);\nvar Types_1 = __webpack_require__(396);\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'middle';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight / 2);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight * 1.5);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map\n\n/***/ }),\n\n/***/ 421:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get rendering context');\n        }\n        this._ctx = ctx;\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        if (theme === void 0) { theme = {}; }\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (css === undefined) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map\n\n/***/ }),\n\n/***/ 422:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_renderCallback) {\n        this._renderCallback = _renderCallback;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = undefined;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd, rowCount) {\n        var _this = this;\n        this._rowCount = rowCount;\n        rowStart = rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== undefined ? rowEnd : this._rowCount - 1;\n        this._rowStart = this._rowStart !== undefined ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = this._rowEnd !== undefined ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        if (this._rowStart === undefined || this._rowEnd === undefined || this._rowCount === undefined) {\n            return;\n        }\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._rowCount - 1);\n        this._renderCallback(this._rowStart, this._rowEnd);\n        this._rowStart = undefined;\n        this._rowEnd = undefined;\n        this._animationFrame = undefined;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map\n\n/***/ }),\n\n/***/ 423:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(393);\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._currentDevicePixelRatio = window.devicePixelRatio;\n        return _this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            if (!_this._listener) {\n                return;\n            }\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (!this._resolutionMediaMatchList || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._resolutionMediaMatchList || !this._listener || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._resolutionMediaMatchList = undefined;\n        this._listener = undefined;\n        this._outerListener = undefined;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map\n\n/***/ }),\n\n/***/ 437:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(475);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xterm__ = __webpack_require__(583);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_xterm___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_xterm__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_xterm_lib_addons_fit_fit__ = __webpack_require__(573);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_xterm_lib_addons_fit_fit___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_xterm_lib_addons_fit_fit__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_xterm_dist_xterm_css__ = __webpack_require__(473);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_xterm_dist_xterm_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_xterm_dist_xterm_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__libraries_utils_storage__ = __webpack_require__(36);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {},\n  data: function data() {\n    return {\n      loading: false,\n      disableButton: true,\n      openedTerminal: false,\n      wsocked: null,\n      xTerm: null\n    };\n  },\n\n  computed: {\n    id: function id() {\n      return Number(this.$route.params.id);\n    },\n    instance: function instance() {\n      return this.$store.getters.instanceDataId(this.id);\n    },\n    status: function status() {\n      return this.instance.status;\n    },\n    isRunning: function isRunning() {\n      return this.instance.status !== 'RUNNING';\n    },\n    getButtonState: function getButtonState() {\n      if (!this.disableButton && !this.openedTerminal) {\n        return false;\n      }\n      return true;\n    }\n  },\n  beforeUpdate: function beforeUpdate() {\n    if (this.status === 'RUNNING') {\n      this.disableButton = false;\n    } else {\n      this.disableButton = true;\n    }\n  },\n  mounted: function mounted() {\n    if (this.status === 'RUNNING') {\n      this.disableButton = false;\n    }\n  },\n\n  methods: {\n    /**\n     *\n     */\n\n    OpenTerminal: function OpenTerminal() {\n      var _this = this;\n\n      if (this.openedTerminal) {\n        this.wsocked.close();\n        this.xTerm.destroy();\n        this.openedTerminal = false;\n      } else {\n        this.$store.dispatch('openInstanceTerminal', this.id);\n        // console.log(this.$store.state);\n        // console.log(process.env.API_BASE_WS_URL);\n        this.openedTerminal = true;\n        this.loading = true;\n        setTimeout(function () {\n          var term = _this.$store.state.instances.terminal;\n          _this.WebSocketTest(term);\n          _this.loading = false;\n        }, 2000);\n      }\n    },\n    WebSocketTest: function WebSocketTest(term) {\n      var _this2 = this;\n\n      // const operationId = term.operationId;\n      // const secret = term.secret;\n      var operationId = term.metadata.id;\n      var secret = term.metadata.metadata.fds[0];\n      // console.log(secret);\n      var wsUrl = __WEBPACK_IMPORTED_MODULE_4__libraries_utils_storage__[\"a\" /* default */].getItem('API_BASE_WS_URL');\n\n      // var width = 100\n      var height = Math.max(Math.round(window.innerHeight / 39.0), 15);\n\n      __WEBPACK_IMPORTED_MODULE_1_xterm__[\"Terminal\"].applyAddon(__WEBPACK_IMPORTED_MODULE_2_xterm_lib_addons_fit_fit__);\n      var xterm = new __WEBPACK_IMPORTED_MODULE_1_xterm__[\"Terminal\"]({\n        useStyle: false,\n        screenKeys: false,\n        cursorBlink: true\n      });\n\n      if ('WebSocket' in window) {\n        // alert('WebSocket is supported by your Browser!');\n        console.log('WebSocket is supported by your Browser!');\n        // Let us open a web socket\n        // const wssurl2 = 'wss://127.0.0.1:8443/1.0/operations/7bd31bce-c7b5-4a34-a90c-328b2b67841e/websocket?secret=231c068d3a5278529a7e497c21d96389a4911c42e51152c520b3ff1d591008a0';\n        // console.log(`${wsUrl}/1.0/operations/${operationId}/websocket?secret=${secret}`);\n        // const wssurl = 'ws://127.0.0.1:8444';\n        var wssurl = wsUrl + '/1.0/operations/' + operationId + '/websocket?secret=' + secret;\n        // const wssurl = `${wsUrl}${termWs}`;\n        // console.log(wssurl);\n        var ws = new WebSocket(wssurl);\n        this.wsocked = ws;\n        this.xTerm = xterm;\n        console.log(wssurl);\n\n        ws.binaryType = 'Blob';\n        ws.onopen = function () {\n          // Web Socket is connected, send data using send()\n          // ws.send('Message to send');\n          console.log('Open xterm ...');\n          xterm.open(document.getElementById('terminal'));\n\n          xterm.resize(0, height);\n          xterm.fit();\n          xterm.focus();\n          //\n          window.addEventListener('resize', __WEBPACK_IMPORTED_MODULE_0_lodash___default.a.debounce(function () {\n            var heightx = Math.max(Math.round(window.innerHeight / 39.0), 15);\n            xterm.resize(0, heightx);\n            xterm.fit();\n          }, 300));\n          //\n\n          // comment this lines to protect sending data on demo.lxdmanager.com\n          xterm.on('data', function (data) {\n            // console.log('Send data');\n            // console.log(data);\n            ws.send(new Blob([data]));\n          });\n          //\n          ws.onmessage = function (msg) {\n            if (msg.data instanceof Blob) {\n              var reader = new FileReader();\n              reader.addEventListener('loadend', function () {\n                xterm.write(reader.result);\n              });\n              // console.log(msg.data);\n              reader.readAsBinaryString(msg.data);\n            } else {\n              xterm.write(msg.data);\n              // console.log('no');\n            }\n          };\n          //\n          ws.onclose = function () {\n            xterm.destroy();\n            _this2.openedTerminal = false;\n            // window.close()\n          };\n        };\n\n        ws.onerror = function () {\n          xterm.writeln('An error occured, press enter to close window.');\n          // window.close()\n          xterm.destroy();\n          _this2.openedTerminal = false;\n        };\n      } else {\n        // The browser doesn't support WebSocket\n        console.log('WebSocket NOT supported by your Browser!');\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(140);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__ = __webpack_require__(139);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n// import Loader from '../../components/Loader';\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'tab-info',\n  props: ['id'],\n  data: function data() {\n    return {\n      buttons: [{\n        name: this.$t('instances.actions.start'),\n        icon: 'play_arrow',\n        action: this.startInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"a\" /* STOPPED */]],\n        color: 'green',\n        disable: true\n      }, {\n        name: this.$t('instances.actions.unfreeze'),\n        icon: 'play_circle_outline',\n        action: this.unfreezeInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"b\" /* FROZEN */]],\n        color: 'blue',\n        disable: true\n      }, {\n        name: this.$t('instances.actions.freeze'),\n        icon: 'pause_circle_outline',\n        action: this.freezeInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"c\" /* RUNNING */]],\n        color: 'blue-grey',\n        disable: true\n      }, {\n        name: this.$t('instances.actions.stop'),\n        icon: 'stop',\n        action: this.stopInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"c\" /* RUNNING */], __WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"b\" /* FROZEN */]],\n        color: 'red',\n        disable: true\n      }, {\n        name: this.$t('instances.actions.stopforce'),\n        icon: 'power_settings_new',\n        action: this.stopforceInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"c\" /* RUNNING */], __WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"b\" /* FROZEN */]],\n        color: 'red',\n        disable: true\n      }, {\n        name: this.$t('instances.actions.restart'),\n        icon: 'replay',\n        action: this.restartInstance,\n        showWhen: [__WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"c\" /* RUNNING */], __WEBPACK_IMPORTED_MODULE_2__libraries_utils_states__[\"b\" /* FROZEN */]],\n        color: 'orange',\n        disable: true\n      }]\n    };\n  },\n\n  computed: {\n    active: {\n      get: function get() {\n        return this.$store.state.instances.dialogs.info !== null;\n        // return this.value;\n      },\n      set: function set(value) {\n        if (!value) {\n          this.$store.dispatch('closeInstanceInfoDialog');\n        }\n        // this.$emit('input', value);\n      }\n    },\n    availableButtons: function availableButtons() {\n      var _this = this;\n\n      this.buttons.filter(function (button) {\n        return _this.disableButton(button);\n      });\n      return this.buttons;\n    },\n    id: function id() {\n      // return Number(this.$route.params.id);\n      // console.log(this.$props);\n      return Number(this.$props.id);\n    },\n    instance: function instance() {\n      if (this.id) {\n        // console.log(this.$store.getters.instanceDataId(this.id));\n        console.log(this.id);\n        return this.$store.getters.instanceDataId(this.id);\n      }\n      return null;\n    },\n    config: function config() {\n      // console.log(this.instance.config);\n      return this.instance.config ? this.instance.config : '';\n    },\n    ips: function ips() {\n      // console.log(this.instance);\n      return this.instance.ips ? this.instance.ips : '';\n    },\n    status: function status() {\n      return this.instance.status;\n    },\n    loading: function loading() {\n      return this.$store.getters.instanceIsLoading(this.id);\n    },\n    showPrice: function showPrice() {\n      return this.$store.getters.appconfig.price.enabled === 'True';\n    },\n    showDisk: function showDisk() {\n      return this.$store.getters.appconfig.storage.enabled === 'True';\n    }\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* mapActions */])(['startInstance', 'stopInstance', 'freezeInstance', 'stopforceInstance', 'restartInstance', 'unfreezeInstance', 'fetchInstance']), {\n    disableButton: function disableButton(button) {\n      // console.log(this.buttons.indexOf(button));\n      var x = this.buttons.indexOf(button);\n      if (button.showWhen.includes(this.status)) {\n        // console.log(x);\n        // console.log(this.buttons[0]);\n        // console.log(this.buttons[x]);\n        this.buttons[x].disable = false;\n      } else {\n        this.buttons[x].disable = true;\n      }\n      return button;\n    },\n    refreshData: function refreshData() {\n      // this.$store.dispatch('fetchInstances');\n      // this.fetchInstances();\n      // console.log(this.id);\n      this.$store.dispatch('fetchInstance', this.id);\n      // console.log(this.$store.getters.instancesTableData);\n    },\n    formatDate: function formatDate(date) {\n      var d = new Date(date);\n      return d.toDateString();\n    }\n  })\n});\n\n/***/ }),\n\n/***/ 439:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'tab-info',\n  data: function data() {\n    return {\n      dialog_clone: false,\n      dialog_destroy: false,\n      dialog_upgrade: false,\n      period: 1,\n      name: '',\n      cpu: '',\n      memory: '',\n      disk: '',\n      instanceClone: '',\n      cperiod: '',\n      periodes: [{ text: '1 Month', value: 1 }, { text: '3 Months', value: 1 }, { text: '6 Months', value: 0.95 }, { text: '12 Months', value: 0.90 }, { text: '24 Months', value: 0.80 }]\n    };\n  },\n\n  computed: {\n    id: function id() {\n      return Number(this.$route.params.id);\n    },\n    instance: function instance() {\n      return this.$store.getters.instanceDataId(this.id);\n    },\n    instanceName: function instanceName() {\n      return this.instance.name;\n    },\n    instanceNameClone: function instanceNameClone() {\n      var name = this.instance.name;\n      return name.concat('-clone');\n    },\n    me: function me() {\n      return this.$store.getters['auth/me'];\n    },\n    showPrice: function showPrice() {\n      return this.$store.getters.appconfig.price.enabled === 'True';\n    },\n    getPrice: function getPrice() {\n      return this.$store.getters.appconfig.price;\n    },\n    getStorage: function getStorage() {\n      return this.$store.getters.appconfig.storage;\n    },\n    diskEnabled: function diskEnabled() {\n      return this.$store.getters.appconfig.storage.enabled === 'True';\n    },\n    canDelete: function canDelete() {\n      return this.me.abilities.includes('instances_delete');\n    },\n    canClone: function canClone() {\n      return this.me.abilities.includes('instances_create');\n    },\n    canUpdate: function canUpdate() {\n      return this.me.abilities.includes('instances_update');\n    },\n    price: function price() {\n      var cpu = this.getPrice.cpu * this.cpu; // 1\n      var memory = this.getPrice.memory * this.memory; // 0.048\n      var disk = this.getPrice.disk * this.disk; // 0.150\n      var period = this.period;\n      var cmemory = (cpu + memory + disk) * period;\n      return cmemory.toFixed(2);\n    }\n  },\n  methods: {\n    getInstanceConfig: function getInstanceConfig() {\n      var config = this.instance.config;\n      this.name = this.instanceName;\n      // console.log(config);\n      this.cpu = config.limits_cpu > 1 ? config.limits_cpu : 1;\n      this.memory = config.limits_memory_mb > 512 ? config.limits_memory_mb : 512;\n      this.disk = config.limits_disk_gb > 10 ? config.limits_disk_gb : 10;\n    },\n    sendRequestUpgrade: function sendRequestUpgrade() {\n      if (this.canUpdate) {\n        this.$store.dispatch('upgradeInstance', { id: this.id, name: this.instanceName, cpu: this.cpu, memory: this.memory, disk: this.disk });\n        this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.instance_upgraded'), color: '' });\n      } else {\n        var data = {\n          id: this.id,\n          os: this.os,\n          cpu: this.cpu,\n          memory: this.memory + 'MB',\n          disk: this.disk + 'GB',\n          period: this.period,\n          price: this.price\n        };\n        this.$store.dispatch('createRequests', { action: 'upgrade', message: 'Upgrade instance ' + this.name, status: 'waiting', meta_data: data });\n        this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.instance_created'), color: '' });\n        this.active = false;\n      }\n    },\n    sendRequestClone: function sendRequestClone() {\n      var data = {\n        instanceName: this.instanceName,\n        instanceClone: this.instanceClone,\n        cpu: this.instance.config.limits_cpu,\n        memory: this.instance.config.limits_memory,\n        disk: this.instance.config.limits_disk ? this.instance.config.limits_disk + 'GB' : '0GB'\n      };\n      if (this.canClone) {\n        this.$store.dispatch('cloneInstance', data);\n        this.$store.dispatch('notify', { id: 0, message: 'Your instance was cloned', color: '' });\n      } else {\n        this.$store.dispatch('createRequests', { action: 'clone', message: 'Clone instance ' + this.name, status: 'waiting', meta_data: data });\n        this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.request_created'), color: '' });\n        this.active = false;\n      }\n    },\n    sendRequestDestroy: function sendRequestDestroy() {\n      if (this.canDelete) {\n        if (this.instance.status === 'STOPPED') {\n          this.$store.dispatch('deleteInstance', this.id);\n          this.$store.dispatch('notify', {\n            id: 0,\n            message: '' + this.$i18n.t('notifications.instance_deleted'),\n            color: ''\n          });\n        } else {\n          this.$store.dispatch('notify', {\n            id: 0,\n            message: '' + this.$i18n.t('notifications.instance_is_running'),\n            color: 'red'\n          });\n        }\n      } else {\n        var data = {\n          id: this.id,\n          name: this.instanceName\n        };\n        this.$store.dispatch('createRequests', { action: 'delete', message: 'Delete instance ' + this.name, status: 'waiting', meta_data: data });\n        this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.request_created'), color: '' });\n        this.active = false;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.getInstanceConfig();\n    this.instanceClone = this.instanceNameClone;\n  }\n});\n\n/***/ }),\n\n/***/ 440:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'snapshots',\n  data: function data() {\n    return {\n      dialog_destroy: false,\n      action_item: '',\n      dialog_restore: false,\n      snapshot_name: '',\n      search: '',\n      headers: [{\n        text: this.$t('instances.snapshots.name'),\n        align: 'left',\n        value: 'name'\n      }, {\n        text: this.$t('instances.snapshots.date'),\n        align: 'left',\n        value: 'created_at'\n      }, {\n        text: this.$t('actions.name'),\n        align: 'right',\n        value: 'actions'\n      }],\n      items: []\n    };\n  },\n\n  computed: {\n    id: function id() {\n      return Number(this.$route.params.id);\n    },\n    instance: function instance() {\n      return this.$store.getters.instanceDataId(this.id);\n    }\n  },\n  watch: {\n    dialog: function dialog(val) {\n      return val || this.close();\n    }\n  },\n  created: function created() {\n    this.initialize();\n  },\n\n  methods: {\n    initialize: function initialize() {\n      this.items = this.$store.getters.snapshotsTableData;\n      // console.log(this.items);\n    },\n    formatDate: function formatDate(date) {\n      var d = new Date(date);\n      return d.toDateString();\n    },\n    deleteAction: function deleteAction(item) {\n      this.dialog_destroy = true;\n      this.action_item = item;\n    },\n    deleteItem: function deleteItem(item) {\n      var index = this.items.indexOf(item);\n      this.items.splice(index, 1);\n      // console.log(item);\n      this.$store.dispatch('deleteSnapshot', { id: this.id, name: item.name });\n      this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.snapshot_deleted'), color: '' });\n    },\n    restoreAction: function restoreAction(item) {\n      this.dialog_restore = true;\n      this.action_item = item;\n    },\n    restoreItem: function restoreItem(item) {\n      // console.log('item restored');\n      // console.log(item);\n      this.$store.dispatch('restoreSnapshot', { id: this.id, name: item.name });\n      this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.snapshot_restored'), color: '' });\n    },\n    createItem: function createItem() {\n      if (this.snapshot_name !== '') {\n        var obj = {\n          value: false,\n          name: this.snapshot_name,\n          created_at: new Date(),\n          action: 'Restore, Delete',\n          stateful: 'false'\n        };\n\n        // console.log(new Date());\n        this.items.push(obj);\n        // this.$store.dispatch('createSnapshot', { id: this.id, name: item.name });\n        this.$store.dispatch('createSnapshot', { id: this.id, data: obj });\n        this.$store.dispatch('notify', { id: 0, message: '' + this.$i18n.t('notifications.snapshot_created'), color: '' });\n      }\n    },\n    close: function close() {\n      var _this = this;\n\n      this.dialog = false;\n      setTimeout(function () {\n        _this.editedItem = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, _this.defaultItem);\n        _this.editedIndex = -1;\n      }, 300);\n    },\n    refreshData: function refreshData() {\n      var _this2 = this;\n\n      this.$store.dispatch('fetchSnapshots', this.id);\n      setTimeout(function () {\n        _this2.initialize();\n      }, 1500);\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    this.$store.dispatch('fetchSnapshots', this.id);\n    setTimeout(function () {\n      _this3.initialize();\n    }, 1500);\n  }\n});\n\n/***/ }),\n\n/***/ 441:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Info__ = __webpack_require__(492);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Info___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__Info__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Console__ = __webpack_require__(491);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Console___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Console__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Snapshots__ = __webpack_require__(494);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Snapshots___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Snapshots__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Settings__ = __webpack_require__(493);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Settings___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__Settings__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'tabs',\n  props: ['id'],\n  data: function data() {\n    return {};\n  },\n\n  components: {\n    'tab-info': __WEBPACK_IMPORTED_MODULE_0__Info___default.a,\n    'tab-console': __WEBPACK_IMPORTED_MODULE_1__Console___default.a,\n    'tab-snapshots': __WEBPACK_IMPORTED_MODULE_2__Snapshots___default.a,\n    'tab-settings': __WEBPACK_IMPORTED_MODULE_3__Settings___default.a\n  },\n  computed: {\n    tabsLength: function tabsLength() {\n      return this.showSnapshots ? 4 : 3;\n    },\n    showSnapshots: function showSnapshots() {\n      return this.$store.getters.appconfig.storage.enabled === 'True';\n    }\n  },\n  mounted: function mounted() {\n    // this.$store.dispatch('fetchInstances');\n    // console.log(this.$store.getters.instancesTableData);\n  }\n});\n\n/***/ }),\n\n/***/ 466:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs__ = __webpack_require__(495);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs__);\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'instances',\n  components: {\n    tabs: __WEBPACK_IMPORTED_MODULE_0__components_Instance_Tabs___default.a\n  },\n  props: ['id'],\n  data: function data() {\n    return {};\n  }\n});\n\n/***/ }),\n\n/***/ 472:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(377)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".xterm{font-feature-settings:\\\"liga\\\" 0;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:10}.xterm .xterm-helper-textarea{position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-10;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm{cursor:text}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:100;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}\", \"\", {\"version\":3,\"sources\":[\"/home/michal/Codes/vue-dashboard/node_modules/xterm/dist/xterm.css\"],\"names\":[],\"mappings\":\"AAqCA,OACI,+BAAgC,AAChC,kBAAmB,AACnB,iBAAkB,AAClB,qBAAsB,AACtB,wBAA0B,CAC7B,AAED,0BAEI,YAAc,CACjB,AAED,sBACI,kBAAmB,AACnB,MAAO,AAKP,UAAY,CACf,AAED,8BAKI,kBAAmB,AACnB,UAAW,AACX,aAAc,AACd,MAAO,AACP,QAAS,AACT,SAAU,AACV,YAAa,AAEb,mBAAoB,AACpB,gBAAiB,AACjB,WAAa,CAChB,AAED,yBAEI,gBAAiB,AACjB,WAAY,AACZ,aAAc,AACd,kBAAmB,AACnB,mBAAoB,AACpB,SAAW,CACd,AAED,gCACI,aAAe,CAClB,AAED,uBAEI,sBAAuB,AACvB,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,QAAS,AACT,OAAQ,AACR,MAAO,AACP,QAAU,CACb,AAED,qBACI,iBAAmB,CACtB,AAED,4BACI,kBAAmB,AACnB,OAAQ,AACR,KAAO,CACV,AAED,0BACI,iBAAmB,CACtB,AAED,4BACI,qBAAsB,AACtB,kBAAmB,AACnB,kBAAmB,AACnB,MAAO,AACP,aAAc,AACd,kBAAoB,CACvB,AAED,OACI,WAAa,CAChB,AAED,2BAEI,cAAgB,CACnB,AAED,4BACI,cAAgB,CACnB,AAED,2BAEI,gBAAkB,CACrB,AAED,kDAEI,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,SAAU,AACV,QAAS,AACT,YAAa,AACb,iBAAmB,CACtB,AAED,oBACI,kBAAmB,AACnB,aAAc,AACd,UAAW,AACX,WAAY,AACZ,eAAiB,CACpB,AAED,WACI,UAAa,CAChB,AAED,iBACI,yBAA2B,CAC9B\",\"file\":\"xterm.css\",\"sourcesContent\":[\"/**\\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\\n * https://github.com/chjj/term.js\\n * @license MIT\\n *\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\n * in the Software without restriction, including without limitation the rights\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n * copies of the Software, and to permit persons to whom the Software is\\n * furnished to do so, subject to the following conditions:\\n *\\n * The above copyright notice and this permission notice shall be included in\\n * all copies or substantial portions of the Software.\\n *\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n * THE SOFTWARE.\\n *\\n * Originally forked from (with the author's permission):\\n *   Fabrice Bellard's javascript vt100 for jslinux:\\n *   http://bellard.org/jslinux/\\n *   Copyright (c) 2011 Fabrice Bellard\\n *   The original design remains. The terminal itself\\n *   has been extended to include xterm CSI codes, among\\n *   other features.\\n */\\n\\n/**\\n *  Default styles for xterm.js\\n */\\n\\n.xterm {\\n    font-feature-settings: \\\"liga\\\" 0;\\n    position: relative;\\n    user-select: none;\\n    -ms-user-select: none;\\n    -webkit-user-select: none;\\n}\\n\\n.xterm.focus,\\n.xterm:focus {\\n    outline: none;\\n}\\n\\n.xterm .xterm-helpers {\\n    position: absolute;\\n    top: 0;\\n    /**\\n     * The z-index of the helpers must be higher than the canvases in order for\\n     * IMEs to appear on top.\\n     */\\n    z-index: 10;\\n}\\n\\n.xterm .xterm-helper-textarea {\\n    /*\\n     * HACK: to fix IE's blinking cursor\\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\\n     */\\n    position: absolute;\\n    opacity: 0;\\n    left: -9999em;\\n    top: 0;\\n    width: 0;\\n    height: 0;\\n    z-index: -10;\\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\\n    white-space: nowrap;\\n    overflow: hidden;\\n    resize: none;\\n}\\n\\n.xterm .composition-view {\\n    /* TODO: Composition position got messed up somewhere */\\n    background: #000;\\n    color: #FFF;\\n    display: none;\\n    position: absolute;\\n    white-space: nowrap;\\n    z-index: 1;\\n}\\n\\n.xterm .composition-view.active {\\n    display: block;\\n}\\n\\n.xterm .xterm-viewport {\\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\\n    background-color: #000;\\n    overflow-y: scroll;\\n    cursor: default;\\n    position: absolute;\\n    right: 0;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n}\\n\\n.xterm .xterm-screen {\\n    position: relative;\\n}\\n\\n.xterm .xterm-screen canvas {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.xterm .xterm-scroll-area {\\n    visibility: hidden;\\n}\\n\\n.xterm-char-measure-element {\\n    display: inline-block;\\n    visibility: hidden;\\n    position: absolute;\\n    top: 0;\\n    left: -9999em;\\n    line-height: normal;\\n}\\n\\n.xterm {\\n    cursor: text;\\n}\\n\\n.xterm.enable-mouse-events {\\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\\n    cursor: default;\\n}\\n\\n.xterm.xterm-cursor-pointer {\\n    cursor: pointer;\\n}\\n\\n.xterm.column-select.focus {\\n    /* Column selection mode */\\n    cursor: crosshair;\\n}\\n\\n.xterm .xterm-accessibility,\\n.xterm .xterm-message {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: 100;\\n    color: transparent;\\n}\\n\\n.xterm .live-region {\\n    position: absolute;\\n    left: -9999px;\\n    width: 1px;\\n    height: 1px;\\n    overflow: hidden;\\n}\\n\\n.xterm-dim {\\n    opacity: 0.5;\\n}\\n\\n.xterm-underline {\\n    text-decoration: underline;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 473:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(472);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(392)(\"5bb5dad9\", content, true);\n\n/***/ }),\n\n/***/ 475:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, module) {var __WEBPACK_AMD_DEFINE_RESULT__;/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (true) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n      return _;\n    }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(37), __webpack_require__(78)(module)))\n\n/***/ }),\n\n/***/ 491:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(437),\n  /* template */\n  __webpack_require__(534),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 492:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(438),\n  /* template */\n  __webpack_require__(514),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 493:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(439),\n  /* template */\n  __webpack_require__(556),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 494:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(440),\n  /* template */\n  __webpack_require__(548),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 495:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(137)(\n  /* script */\n  __webpack_require__(441),\n  /* template */\n  __webpack_require__(550),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 514:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"absolute\": \"\",\n      \"dark\": \"\",\n      \"fab\": \"\",\n      \"top\": \"\",\n      \"right\": \"\",\n      \"small\": \"\",\n      \"color\": \"blue\"\n    },\n    on: {\n      \"click\": _vm.refreshData\n    }\n  }, [_c('v-icon', [_vm._v(\"refresh\")])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.general')))]), _vm._v(\" \"), _c('v-list-item', {\n    attrs: {\n      \"two-line\": \"\"\n    }\n  }, [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.name')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.instance.name))])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.created')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.formatDate(_vm.instance.created_at)))])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.status')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.instance.status))])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.system')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os')))]), _vm._v(\" \"), (_vm.config.image_os) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_os))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os_release')))]), _vm._v(\" \"), (_vm.config.image_release) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_release))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os_version')))]), _vm._v(\" \"), (_vm.config.image_version) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_version))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.limits')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.cpu')))]), _vm._v(\" \"), (_vm.config.limits_cpu) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_cpu))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.memory')))]), _vm._v(\" \"), (_vm.config.limits_memory) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_memory))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1), _vm._v(\" \"), (_vm.showDisk) ? _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.disk')))]), _vm._v(\" \"), (_vm.config.limits_disk !== '0') ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_disk))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.network')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(\"IPv4\")]), _vm._v(\" \"), (_vm.ips[0]) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.ips[0].address))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(\"IPv6\")]), _vm._v(\" \"), (_vm.ips[1]) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.ips[1].address))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), (_vm.showPrice) ? _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.price')))]), _vm._v(\" \"), (_vm.config.user_price) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.user_price))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1) : _vm._e()], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\",\n      \"align-bottom\": \"\"\n    }\n  }, [_vm._l((_vm.availableButtons), function(button) {\n    return [_c('v-btn', {\n      staticClass: \"white--text\",\n      attrs: {\n        \"loading\": _vm.loading,\n        \"disabled\": button.disable,\n        \"color\": button.color\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          return button.action(_vm.id)\n        }\n      }\n    }, [_c('v-icon', {\n      attrs: {\n        \"dark\": \"\"\n      }\n    }, [_vm._v(_vm._s(button.icon) + \" \")]), _vm._v(\"\\n     \" + _vm._s(button.name) + \"\\n     \")], 1)]\n  })], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('tabs', _vm._b({}, 'tabs', _vm.$props, false))], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"justify-center\": \"\",\n      \"row\": \"\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"grey lighten-2 black--text\",\n    staticStyle: {\n      \"bottom\": \"1px\"\n    },\n    attrs: {\n      \"disabled\": _vm.isRunning,\n      \"fab\": \"\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.OpenTerminal()\n      }\n    }\n  }, [(_vm.getButtonState) ? _c('div', [_vm._v(\"\\n          Close console\\n        \")]) : _c('div', [_vm._v(\"\\n          Open console\\n        \")])])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"justify-center\": \"\",\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xl10\": \"\",\n      \"lg10\": \"\",\n      \"md10\": \"\",\n      \"sm10\": \"\",\n      \"xs12\": \"\",\n      \"offset-(xl1|lg1|md1)\": \"\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"terminal\"\n    }\n  })])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 548:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"absolute\": \"\",\n      \"dark\": \"\",\n      \"fab\": \"\",\n      \"top\": \"\",\n      \"right\": \"\",\n      \"small\": \"\",\n      \"color\": \"blue\"\n    },\n    on: {\n      \"click\": _vm.refreshData\n    }\n  }, [_c('v-icon', [_vm._v(\"refresh\")])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"md3\": \"\",\n      \"offset-md1\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"color\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.createItem()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('instances.snapshots.create')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"md8\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"name\": \"snapshot-name\",\n      \"label\": _vm.$t('instances.snapshots.name'),\n      \"id\": \"snapshot\"\n    },\n    model: {\n      value: (_vm.snapshot_name),\n      callback: function($$v) {\n        _vm.snapshot_name = $$v\n      },\n      expression: \"snapshot_name\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"md12\": \"\",\n      \"offset-md0\": \"\"\n    }\n  }, [(_vm.items) ? _c('v-data-table', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm.items,\n      \"search\": _vm.search\n    },\n    scopedSlots: _vm._u([{\n      key: \"item.actions\",\n      fn: function(ref) {\n        var item = ref.item;\n\n        return [_c('v-btn', {\n          attrs: {\n            \"small\": \"\",\n            \"color\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.restoreAction(item)\n            }\n          }\n        }, [_vm._v(_vm._s(_vm.$t('instances.actions.restore')))]), _vm._v(\" \"), _c('v-btn', {\n          attrs: {\n            \"small\": \"\",\n            \"color\": \"error\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.deleteAction(item)\n            }\n          }\n        }, [_vm._v(_vm._s(_vm.$t('instances.actions.delete')))])]\n      }\n    }, {\n      key: \"item.created_at\",\n      fn: function(ref) {\n        var item = ref.item;\n\n        return [_vm._v(\"\\n          \" + _vm._s(_vm.formatDate(item.created_at)) + \"\\n        \")]\n      }\n    }], null, false, 1392071794)\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_destroy),\n      callback: function($$v) {\n        _vm.dialog_destroy = $$v\n      },\n      expression: \"dialog_destroy\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.order.delete_snapshot.title')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n          \" + _vm._s(_vm.$t('instances.order.delete_snapshot.text')) + \"\\n        \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n          \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.deleteItem(_vm.action_item)\n      }\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.agree')) + \"\\n          \")])], 1)], 1)], 1), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_restore),\n      callback: function($$v) {\n        _vm.dialog_restore = $$v\n      },\n      expression: \"dialog_restore\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.order.restore_snapshot.title')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n          \" + _vm._s(_vm.$t('instances.order.restore_snapshot.text')) + \"\\n        \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_restore = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n          \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.restoreItem(_vm.action_item)\n      }\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_restore = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.agree')) + \"\\n          \")])], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 550:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-tabs', {\n    attrs: {\n      \"icons-and-text\": \"\",\n      \"fixed-tabs\": \"\"\n    }\n  }, [_c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-1\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.info')) + \"\\n    \"), _c('v-icon', [_vm._v(\"info\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-2\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.console')) + \"\\n    \"), _c('v-icon', [_vm._v(\"code\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-3\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.settings')) + \"\\n    \"), _c('v-icon', [_vm._v(\"settings\")])], 1), _vm._v(\" \"), (_vm.showSnapshots) ? _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-4\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.snapshots')) + \"\\n    \"), _c('v-icon', [_vm._v(\"photo_camera\")])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.tabsLength), function(i) {\n    return _c('v-tab-item', {\n      key: i,\n      attrs: {\n        \"value\": 'tab-' + i\n      }\n    }, [(i === 1) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-info', _vm._b({}, 'tab-info', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 2) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-console', _vm._b({}, 'tab-console', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 3) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-settings', _vm._b({}, 'tab-settings', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 4) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-snapshots', _vm._b({}, 'tab-snapshots', _vm.$props, false))], 1) : _vm._e()], 1)\n  })], 2)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 556:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    staticClass: \"text-md-center mt-3 mb-3\"\n  }, [_c('v-btn', {\n    attrs: {\n      \"color\": \"secondary\",\n      \"loading\": _vm.loading,\n      \"disabled\": _vm.loading\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_upgrade = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.upgrade')) + \"\\n  \")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"white--text\",\n    attrs: {\n      \"loading\": _vm.loading3,\n      \"disabled\": _vm.loading3,\n      \"color\": \"blue-grey\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_clone = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.clone')) + \"\\n    \"), _c('v-icon', {\n    attrs: {\n      \"right\": \"\",\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"cloud_upload\")])], 1), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"white--text\",\n    attrs: {\n      \"loading\": _vm.loading3,\n      \"disabled\": _vm.loading3,\n      \"color\": \"red\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_destroy = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.destroy')) + \"\\n    \"), _c('v-icon', {\n    attrs: {\n      \"right\": \"\",\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"delete\")])], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_destroy),\n      callback: function($$v) {\n        _vm.dialog_destroy = $$v\n      },\n      expression: \"dialog_destroy\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.destroy')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n        \" + _vm._s(_vm.$t('instances.order.destroy_instance.label')) + \"\\n      \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n        \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestDestroy\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.$t('actions.agree')) + \"\\n        \")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500px\"\n    },\n    model: {\n      value: (_vm.dialog_clone),\n      callback: function($$v) {\n        _vm.dialog_clone = $$v\n      },\n      expression: \"dialog_clone\"\n    }\n  }, [_c('v-card', [_c('v-card-title', [_c('span', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.clone')))])]), _vm._v(\" \"), _c('v-card-text', [_c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_name.label'),\n      \"disabled\": \"\",\n      \"value\": _vm.instanceName\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_clone_name.label')\n    },\n    model: {\n      value: (_vm.instanceClone),\n      callback: function($$v) {\n        _vm.instanceClone = $$v\n      },\n      expression: \"instanceClone\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('small', [_vm._v(\"*indicates required field\")])], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_clone = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.close')))]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestClone\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_clone = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.create')))])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500px\"\n    },\n    model: {\n      value: (_vm.dialog_upgrade),\n      callback: function($$v) {\n        _vm.dialog_upgrade = $$v\n      },\n      expression: \"dialog_upgrade\"\n    }\n  }, [_c('v-card', [_c('v-card-title', [_c('span', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.upgrade')))])]), _vm._v(\" \"), _c('v-card-text', [_c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_name.label'),\n      \"disabled\": \"\",\n      \"value\": _vm.instanceName\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [_c('v-slider', {\n    attrs: {\n      \"min\": \"1\",\n      \"max\": \"4\",\n      \"step\": \"1\",\n      \"label\": \"CPUs\"\n    },\n    model: {\n      value: (_vm.cpu),\n      callback: function($$v) {\n        _vm.cpu = $$v\n      },\n      expression: \"cpu\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"type\": \"CPUs\",\n      \"suffix\": \"CPUs\"\n    },\n    model: {\n      value: (_vm.cpu),\n      callback: function($$v) {\n        _vm.cpu = $$v\n      },\n      expression: \"cpu\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [_c('v-slider', {\n    attrs: {\n      \"min\": \"512\",\n      \"max\": \"8172\",\n      \"step\": \"512\",\n      \"label\": \"RAM\"\n    },\n    model: {\n      value: (_vm.memory),\n      callback: function($$v) {\n        _vm.memory = $$v\n      },\n      expression: \"memory\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"type\": \"MB\",\n      \"suffix\": \"MB\"\n    },\n    model: {\n      value: (_vm.memory),\n      callback: function($$v) {\n        _vm.memory = $$v\n      },\n      expression: \"memory\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [(_vm.diskEnabled) ? _c('v-slider', {\n    attrs: {\n      \"min\": \"10\",\n      \"max\": \"160\",\n      \"step\": \"10\",\n      \"label\": \"Disk\"\n    },\n    model: {\n      value: (_vm.disk),\n      callback: function($$v) {\n        _vm.disk = $$v\n      },\n      expression: \"disk\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [(_vm.diskEnabled) ? _c('v-text-field', {\n    attrs: {\n      \"type\": \"Disk\",\n      \"suffix\": \"GB\"\n    },\n    model: {\n      value: (_vm.disk),\n      callback: function($$v) {\n        _vm.disk = $$v\n      },\n      expression: \"disk\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), (_vm.showPrice) ? [_c('v-flex', {\n    attrs: {\n      \"xs3\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.order.payment_period.label')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs3\": \"\"\n    }\n  }, [_c('v-select', {\n    attrs: {\n      \"items\": _vm.periodes,\n      \"label\": \"Period\"\n    },\n    model: {\n      value: (_vm.period),\n      callback: function($$v) {\n        _vm.period = $$v\n      },\n      expression: \"period\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs4\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.order.calculated_price.label')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": \"Price\",\n      \"value\": _vm.price,\n      \"suffix\": \"€\"\n    }\n  })], 1)] : _vm._e()], 2)], 1)], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.getInstanceConfig\n    }\n  }, [_vm._v(\"Reset\")]), _vm._v(\" \"), _c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_upgrade = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.close')))]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestUpgrade\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_upgrade = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.create')))])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 559:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = __webpack_require__(408);\nvar Platform_1 = __webpack_require__(397);\nvar RenderDebouncer_1 = __webpack_require__(422);\nvar Lifecycle_1 = __webpack_require__(398);\nvar Lifecycle_2 = __webpack_require__(393);\nvar ScreenDprMonitor_1 = __webpack_require__(423);\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._dimensions = _dimensions;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._charsToAnnounce = '';\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.onResize(function (e) { return _this._onResize(e.rows); }));\n        _this.register(_this._terminal.onRender(function (e) { return _this._refreshRows(e.start, e.end); }));\n        _this.register(_this._terminal.onScroll(function () { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.onLineFeed(function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.onKey(function (e) { return _this._onKey(e.key); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this.register(_this._screenDprMonitor);\n        _this._screenDprMonitor.setListener(function () { return _this._refreshRowsDimensions(); });\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._charsToAnnounce += char;\n                }\n            }\n            else {\n                this._charsToAnnounce += char;\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end, this._terminal.rows);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            if (element) {\n                element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n                element.setAttribute('aria-posinset', posInSet);\n                element.setAttribute('aria-setsize', setSize);\n            }\n        }\n        this._announceCharacters();\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype.setDimensions = function (dimensions) {\n        this._dimensions = dimensions;\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacters = function () {\n        if (this._charsToAnnounce.length === 0) {\n            return;\n        }\n        this._liveRegion.textContent += this._charsToAnnounce;\n        this._charsToAnnounce = '';\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map\n\n/***/ }),\n\n/***/ 560:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = __webpack_require__(413);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar BufferSet = (function () {\n    function BufferSet(_terminal) {\n        this._terminal = _terminal;\n        this._onBufferActivate = new EventEmitter2_1.EventEmitter2();\n        this._normal = new Buffer_1.Buffer(this._terminal, true);\n        this._normal.fillViewportRows();\n        this._alt = new Buffer_1.Buffer(this._terminal, false);\n        this._activeBuffer = this._normal;\n        this.setupTabStops();\n    }\n    Object.defineProperty(BufferSet.prototype, \"onBufferActivate\", {\n        get: function () { return this._onBufferActivate.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this._onBufferActivate.fire({\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this._onBufferActivate.fire({\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}());\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map\n\n/***/ }),\n\n/***/ 561:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = __webpack_require__(395);\nvar CharMeasure = (function () {\n    function CharMeasure(document, parentElement) {\n        this._onCharSizeChanged = new EventEmitter2_1.EventEmitter2();\n        this._document = document;\n        this._parentElement = parentElement;\n        this._measureElement = this._document.createElement('span');\n        this._measureElement.classList.add('xterm-char-measure-element');\n        this._measureElement.textContent = 'W';\n        this._measureElement.setAttribute('aria-hidden', 'true');\n        this._parentElement.appendChild(this._measureElement);\n    }\n    Object.defineProperty(CharMeasure.prototype, \"onCharSizeChanged\", {\n        get: function () { return this._onCharSizeChanged.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        var adjustedHeight = Math.ceil(geometry.height);\n        if (this._width !== geometry.width || this._height !== adjustedHeight) {\n            this._width = geometry.width;\n            this._height = adjustedHeight;\n            this._onCharSizeChanged.fire();\n        }\n    };\n    return CharMeasure;\n}());\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map\n\n/***/ }),\n\n/***/ 562:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, term) {\n    var pos = term.screenElement.getBoundingClientRect();\n    var left = ev.clientX - pos.left - 10;\n    var top = ev.clientY - pos.top - 10;\n    term.textarea.style.position = 'absolute';\n    term.textarea.style.width = '20px';\n    term.textarea.style.height = '20px';\n    term.textarea.style.left = left + \"px\";\n    term.textarea.style.top = top + \"px\";\n    term.textarea.style.zIndex = '1000';\n    term.textarea.focus();\n    setTimeout(function () {\n        term.textarea.style.position = null;\n        term.textarea.style.width = null;\n        term.textarea.style.height = null;\n        term.textarea.style.left = null;\n        term.textarea.style.top = null;\n        term.textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, term, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, term);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    term.textarea.value = selectionManager.selectionText;\n    term.textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map\n\n/***/ }),\n\n/***/ 563:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropagation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropagation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            this._compositionView.style.fontFamily = this._terminal.options.fontFamily;\n            this._compositionView.style.fontSize = this._terminal.options.fontSize + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map\n\n/***/ }),\n\n/***/ 564:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(393);\nvar TextDecoder_1 = __webpack_require__(409);\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar NON_ASCII_PRINTABLE = 0xA0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code <= NON_ASCII_PRINTABLE; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x7f, 7, 0, 7);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    table.add(NON_ASCII_PRINTABLE, 8, 5, 8);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._escHandlers = null;\n        this._csiHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addCsiHandler = function (flag, callback) {\n        var index = flag.charCodeAt(0);\n        if (this._csiHandlers[index] === undefined) {\n            this._csiHandlers[index] = [];\n        }\n        var handlerList = this._csiHandlers[index];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addOscHandler = function (ident, callback) {\n        if (this._oscHandlers[ident] === undefined) {\n            this._oscHandlers[ident] = [];\n        }\n        var handlerList = this._oscHandlers[ident];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data, length) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        for (var i = 0; i < length; ++i) {\n            code = data[i];\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < length && data[i] > 0x1f && data[i] < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = table[currentState << 8 | (code < 0xa0 ? code : NON_ASCII_PRINTABLE)];\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    var handlers = this._csiHandlers[code];\n                    var j = handlers ? handlers.length - 1 : -1;\n                    for (; j >= 0; j--) {\n                        if (handlers[j](params, collect) !== false) {\n                            break;\n                        }\n                    }\n                    if (j < 0) {\n                        this._csiHandlerFb(collect, params, code);\n                    }\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    for (var j_1 = i + 1;; j_1++) {\n                        if (j_1 >= length\n                            || (code = data[j_1]) < 0x20\n                            || (code > 0x7f && code <= 0x9f)) {\n                            osc += TextDecoder_1.utf32ToString(data, i, j_1);\n                            i = j_1 - 1;\n                            break;\n                        }\n                    }\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            var handlers_1 = this._oscHandlers[identifier];\n                            var j_2 = handlers_1 ? handlers_1.length - 1 : -1;\n                            for (; j_2 >= 0; j_2--) {\n                                if (handlers_1[j_2](content) !== false) {\n                                    break;\n                                }\n                            }\n                            if (j_2 < 0) {\n                                this._oscHandlerFb(identifier, content);\n                            }\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map\n\n/***/ }),\n\n/***/ 565:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = __webpack_require__(400);\nvar Charsets_1 = __webpack_require__(579);\nvar CharWidth_1 = __webpack_require__(414);\nvar EscapeSequenceParser_1 = __webpack_require__(564);\nvar Lifecycle_1 = __webpack_require__(393);\nvar TypedArrayUtils_1 = __webpack_require__(417);\nvar TextDecoder_1 = __webpack_require__(409);\nvar BufferLine_1 = __webpack_require__(394);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n        this._data = new Uint32Array(0);\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = new Uint32Array(0);\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data = TypedArrayUtils_1.concat(this._data, data.subarray(start, end));\n    };\n    DECRQSS.prototype.unhook = function () {\n        var data = TextDecoder_1.utf32ToString(this._data);\n        this._data = new Uint32Array(0);\n        switch (data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this._parseBuffer = new Uint32Array(4096);\n        _this._stringDecoder = new TextDecoder_1.StringToUtf32();\n        _this._utf8Decoder = new TextDecoder_1.Utf8ToUtf32();\n        _this._workCell = new BufferLine_1.CellData();\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this.register(_this._parser);\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        return _this;\n    }\n    Object.defineProperty(InputHandler.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._stringDecoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._onCursorMove.fire();\n        }\n    };\n    InputHandler.prototype.parseUtf8 = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._utf8Decoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttrData;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var pos = start; pos < end; ++pos) {\n            code = data[pos];\n            chWidth = CharWidth_1.wcwidth(code);\n            if (code < 127 && charset) {\n                var ch = charset[String.fromCharCode(code)];\n                if (ch) {\n                    code = ch.charCodeAt(0);\n                }\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', TextDecoder_1.stringFromCodePoint(code));\n            }\n            if (!chWidth && buffer.x) {\n                if (!bufferRow.getWidth(buffer.x - 1)) {\n                    bufferRow.addCodepointToCell(buffer.x - 2, code);\n                }\n                else {\n                    bufferRow.addCodepointToCell(buffer.x - 1, code);\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, buffer.getNullCell(curAttr));\n                if (bufferRow.getWidth(cols - 1) === 2) {\n                    bufferRow.setCellFromCodePoint(cols - 1, BufferLine_1.NULL_CELL_CODE, BufferLine_1.NULL_CELL_WIDTH, curAttr.fg, curAttr.bg);\n                }\n            }\n            bufferRow.setCellFromCodePoint(buffer.x++, code, chWidth, curAttr.fg, curAttr.bg);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.setCellFromCodePoint(buffer.x++, 0, 0, curAttr.fg, curAttr.bg);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.addCsiHandler = function (flag, callback) {\n        return this._parser.addCsiHandler(flag, callback);\n    };\n    InputHandler.prototype.addOscHandler = function (ident, callback) {\n        return this._parser.addOscHandler(ident, callback);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._onLineFeed.fire();\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._onScroll.fire(0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollTop, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.loadCell(buffer.x - 1, this._workCell);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), (this._workCell.content !== undefined) ? this._workCell : buffer.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.add('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.disable();\n                    }\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.remove('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.enable();\n                    }\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttrData.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n            this._terminal.curAttrData.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            return;\n        }\n        var l = params.length;\n        var p;\n        var attr = this._terminal.curAttrData;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 30);\n            }\n            else if (p >= 40 && p <= 47) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 40);\n            }\n            else if (p >= 90 && p <= 97) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 90) | 8;\n            }\n            else if (p >= 100 && p <= 107) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 100) | 8;\n            }\n            else if (p === 0) {\n                attr.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n                attr.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            }\n            else if (p === 1) {\n                attr.fg |= 134217728;\n            }\n            else if (p === 3) {\n                attr.bg |= 67108864;\n            }\n            else if (p === 4) {\n                attr.fg |= 268435456;\n            }\n            else if (p === 5) {\n                attr.fg |= 536870912;\n            }\n            else if (p === 7) {\n                attr.fg |= 67108864;\n            }\n            else if (p === 8) {\n                attr.fg |= 1073741824;\n            }\n            else if (p === 2) {\n                attr.bg |= 134217728;\n            }\n            else if (p === 22) {\n                attr.fg &= ~134217728;\n                attr.bg &= ~134217728;\n            }\n            else if (p === 23) {\n                attr.bg &= ~67108864;\n            }\n            else if (p === 24) {\n                attr.fg &= ~268435456;\n            }\n            else if (p === 25) {\n                attr.fg &= ~536870912;\n            }\n            else if (p === 27) {\n                attr.fg &= ~67108864;\n            }\n            else if (p === 28) {\n                attr.fg &= ~1073741824;\n            }\n            else if (p === 39) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n            }\n            else if (p === 49) {\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.fg |= 50331648;\n                    attr.fg &= ~16777215;\n                    attr.fg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.fg &= ~(50331648 | 255);\n                    attr.fg |= 33554432 | p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.bg |= 50331648;\n                    attr.bg &= ~16777215;\n                    attr.bg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.bg &= ~(50331648 | 255);\n                    attr.bg |= 33554432 | p;\n                }\n            }\n            else if (p === 100) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect) {\n            return;\n        }\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttrData.fg = this._terminal.curAttrData.fg;\n        this._terminal.buffer.savedCurAttrData.bg = this._terminal.curAttrData.bg;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttrData.fg = this._terminal.buffer.savedCurAttrData.fg;\n        this._terminal.curAttrData.bg = this._terminal.buffer.savedCurAttrData.bg;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2) {\n            this.selectDefaultCharset();\n            return;\n        }\n        if (collectAndFlag[0] === '/') {\n            return;\n        }\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n        return;\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map\n\n/***/ }),\n\n/***/ 566:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = __webpack_require__(416);\nvar CharWidth_1 = __webpack_require__(414);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar Linkifier = (function () {\n    function Linkifier(_terminal) {\n        this._terminal = _terminal;\n        this._linkMatchers = [];\n        this._nextLinkMatcherId = 0;\n        this._onLinkHover = new EventEmitter2_1.EventEmitter2();\n        this._onLinkLeave = new EventEmitter2_1.EventEmitter2();\n        this._onLinkTooltip = new EventEmitter2_1.EventEmitter2();\n        this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n    }\n    Object.defineProperty(Linkifier.prototype, \"onLinkHover\", {\n        get: function () { return this._onLinkHover.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkLeave\", {\n        get: function () { return this._onLinkLeave.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkTooltip\", {\n        get: function () { return this._onLinkTooltip.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            if (stringIndex < 0) {\n                return \"break\";\n            }\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            if (bufferIndex[0] < 0) {\n                return \"break\";\n            }\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var attr = line.getFg(bufferIndex[1]);\n            var fg;\n            if (attr) {\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function () {\n            _this._onLinkHover.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this._onLinkTooltip.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this._onLinkLeave.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}());\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map\n\n/***/ }),\n\n/***/ 567:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = __webpack_require__(415);\nvar Browser = __webpack_require__(397);\nvar SelectionModel_1 = __webpack_require__(568);\nvar AltClickHandler_1 = __webpack_require__(581);\nvar BufferLine_1 = __webpack_require__(394);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function () {\n    function SelectionManager(_terminal, _charMeasure) {\n        this._terminal = _terminal;\n        this._charMeasure = _charMeasure;\n        this._enabled = true;\n        this._workCell = new BufferLine_1.CellData();\n        this._onLinuxMouseSelection = new EventEmitter2_1.EventEmitter2();\n        this._onRedrawRequest = new EventEmitter2_1.EventEmitter2();\n        this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        this._initListeners();\n        this.enable();\n        this._model = new SelectionModel_1.SelectionModel(_terminal);\n        this._activeSelectionMode = 0;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"onLinuxMouseSelection\", {\n        get: function () { return this._onLinuxMouseSelection.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onRedrawRequest\", {\n        get: function () { return this._onRedrawRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.dispose = function () {\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._trimListener = this._terminal.buffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n        this._terminal.buffers.onBufferActivate(function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : undefined;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.refresh = function (isLinuxMouseSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isLinuxMouseSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this._onLinuxMouseSelection.fire(this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this._onRedrawRequest.fire({\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        if (line.hasWidth(this._model.selectionStart[0]) === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            if (this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0]) === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._onSelectionChange.fire();\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        var _this = this;\n        this.clearSelection();\n        if (this._trimListener) {\n            this._trimListener.dispose();\n        }\n        this._trimListener = e.activeBuffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var length_1 = bufferLine.loadCell(i, this._workCell).getChars().length;\n            if (this._workCell.getWidth() === 0) {\n                charIndex--;\n            }\n            else if (length_1 > 1 && coords[0] !== i) {\n                charIndex += length_1 - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.getWidth(startCol) === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.getWidth(endCol) === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            var length_2 = bufferLine.getString(endCol).length;\n            if (length_2 > 1) {\n                rightLongCharOffset += length_2 - 1;\n                endIndex += length_2 - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.loadCell(startCol - 1, this._workCell))) {\n                bufferLine.loadCell(startCol - 1, this._workCell);\n                var length_3 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (length_3 > 1) {\n                    leftLongCharOffset += length_3 - 1;\n                    startIndex -= length_3 - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.loadCell(endCol + 1, this._workCell))) {\n                bufferLine.loadCell(endCol + 1, this._workCell);\n                var length_4 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (length_4 > 1) {\n                    rightLongCharOffset += length_4 - 1;\n                    endIndex += length_4 - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.getCodePoint(0) !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.getCodePoint(0) !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (cell) {\n        if (cell.getWidth() === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(cell.getChars()) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}());\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map\n\n/***/ }),\n\n/***/ 568:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map\n\n/***/ }),\n\n/***/ 569:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map\n\n/***/ }),\n\n/***/ 570:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = __webpack_require__(560);\nvar Buffer_1 = __webpack_require__(413);\nvar CompositionHelper_1 = __webpack_require__(563);\nvar EventEmitter_1 = __webpack_require__(576);\nvar Viewport_1 = __webpack_require__(571);\nvar Clipboard_1 = __webpack_require__(562);\nvar EscapeSequences_1 = __webpack_require__(400);\nvar InputHandler_1 = __webpack_require__(565);\nvar Renderer_1 = __webpack_require__(588);\nvar Linkifier_1 = __webpack_require__(566);\nvar SelectionManager_1 = __webpack_require__(567);\nvar CharMeasure_1 = __webpack_require__(561);\nvar Browser = __webpack_require__(397);\nvar Lifecycle_1 = __webpack_require__(398);\nvar Strings = __webpack_require__(408);\nvar MouseHelper_1 = __webpack_require__(415);\nvar SoundManager_1 = __webpack_require__(569);\nvar MouseZoneManager_1 = __webpack_require__(416);\nvar AccessibilityManager_1 = __webpack_require__(559);\nvar CharAtlasCache_1 = __webpack_require__(419);\nvar DomRenderer_1 = __webpack_require__(595);\nvar Keyboard_1 = __webpack_require__(580);\nvar Clone_1 = __webpack_require__(575);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar BufferLine_1 = __webpack_require__(394);\nvar WindowsMode_1 = __webpack_require__(572);\nvar ColorManager_1 = __webpack_require__(421);\nvar RenderCoordinator_1 = __webpack_require__(587);\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_TIMEOUT_MS = 12;\nvar WRITE_BUFFER_LENGTH_THRESHOLD = 50;\nvar MINIMUM_COLS = 2;\nvar MINIMUM_ROWS = 1;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: undefined,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    windowsMode: false\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onKey = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onResize = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        _this._onTitleChange = new EventEmitter2_1.EventEmitter2();\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        _this.onCursorMove(function () { return _this.emit('cursormove'); });\n        _this.onData(function (e) { return _this.emit('data', e); });\n        _this.onKey(function (e) { return _this.emit('key', e.key, e.domEvent); });\n        _this.onLineFeed(function () { return _this.emit('linefeed'); });\n        _this.onRender(function (e) { return _this.emit('refresh', e); });\n        _this.onResize(function (e) { return _this.emit('resize', e); });\n        _this.onSelectionChange(function () { return _this.emit('selection'); });\n        _this.onScroll(function (e) { return _this.emit('scroll', e); });\n        _this.onTitleChange(function (e) { return _this.emit('title', e); });\n        return _this;\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._onKey.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._onResize.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._onTitleChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._windowsMode) {\n            this._windowsMode.dispose();\n            this._windowsMode = undefined;\n        }\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = Math.max(this.options.cols, MINIMUM_COLS);\n        this.rows = Math.max(this.options.rows, MINIMUM_ROWS);\n        if (this.options.handler) {\n            this.onData(this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this._eraseAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this.writeBufferUtf8 = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this._inputHandler.onCursorMove(function () { return _this._onCursorMove.fire(); });\n        this._inputHandler.onLineFeed(function () { return _this._onLineFeed.fire(); });\n        this._inputHandler.onData(function (e) { return _this._onData.fire(e); });\n        this.register(this._inputHandler);\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n        if (this.options.windowsMode) {\n            this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttrData = function () {\n        this._eraseAttrData.bg &= ~(50331648 | 0xFFFFFF);\n        this._eraseAttrData.bg |= this.curAttrData.bg & ~0xFC000000;\n        return this._eraseAttrData;\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus({ preventScroll: true });\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                this._setTheme(value);\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this._renderCoordinator.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n                break;\n            case 'rendererType':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.setRenderer(this._createRenderer());\n                }\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager && this._renderCoordinator) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'windowsMode':\n                if (value) {\n                    if (!this._windowsMode) {\n                        this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n                    }\n                }\n                else {\n                    if (this._windowsMode) {\n                        this._windowsMode.dispose();\n                        this._windowsMode = undefined;\n                    }\n                }\n                break;\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.onRender(function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.onRender(function (e) { return _this._queueLinkification(e.start, e.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.onScroll(function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._theme = this.options.theme;\n        this._colorManager = new ColorManager_1.ColorManager(document, this.options.allowTransparency);\n        this._colorManager.setTheme(this._theme);\n        var renderer = this._createRenderer();\n        this._renderCoordinator = new RenderCoordinator_1.RenderCoordinator(renderer, this.rows, this.screenElement);\n        this._renderCoordinator.onRender(function (e) { return _this._onRender.fire(e); });\n        this.onResize(function (e) { return _this._renderCoordinator.resize(e.cols, e.rows); });\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure, this._renderCoordinator.dimensions);\n        this.viewport.onThemeChange(this._colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.onCursorMove(function () { return _this._renderCoordinator.onCursorMove(); }));\n        this.register(this.onResize(function () { return _this._renderCoordinator.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this._renderCoordinator.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this._renderCoordinator.onFocus(); }));\n        this.register(this.charMeasure.onCharSizeChanged(function () { return _this._renderCoordinator.onCharSizeChanged(); }));\n        this.register(this._renderCoordinator.onDimensionsChange(function () { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(this.selectionManager.onSelectionChange(function () { return _this._onSelectionChange.fire(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.onRedrawRequest(function (e) { return _this._renderCoordinator.onSelectionChanged(e.start, e.end, e.columnSelectMode); }));\n        this.register(this.selectionManager.onLinuxMouseSelection(function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.onScroll(function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this._renderCoordinator);\n        this.element.classList.toggle('enable-mouse-events', this.mouseEvents);\n        if (this.mouseEvents) {\n            this.selectionManager.disable();\n        }\n        else {\n            this.selectionManager.enable();\n        }\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n            this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function (e) { return _this._accessibilityManager.setDimensions(e); }));\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._createRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                return new Renderer_1.Renderer(this, this._colorManager.colors);\n                break;\n            case 'dom':\n                return new DomRenderer_1.DomRenderer(this, this._colorManager.colors);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        if (this._colorManager) {\n            this._colorManager.setTheme(theme);\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.setColors(this._colorManager.colors);\n        }\n        if (this.viewport) {\n            this.viewport.onThemeChange(this._colorManager.colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch > 2047) {\n                    data.push(2047);\n                    return;\n                }\n                data.push(ch);\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this._renderCoordinator) {\n            this._renderCoordinator.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        newLine = this._blankLine;\n        var eraseAttr = this.eraseAttrData();\n        if (!newLine || newLine.length !== this.cols || newLine.getFg(0) !== eraseAttr.fg || newLine.getBg(0) !== eraseAttr.bg) {\n            newLine = this.buffer.getBlankLine(eraseAttr, isWrapped);\n            this._blankLine = newLine;\n        }\n        newLine.isWrapped = isWrapped;\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (willBufferBeTrimmed) {\n                    this.buffer.lines.recycle().copyFrom(newLine);\n                }\n                else {\n                    this.buffer.lines.push(newLine.clone());\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, newLine.clone());\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, newLine.clone());\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this._onScroll.fire(this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBufferUtf8.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBufferUtf8.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBufferUtf8.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWriteUtf8();\n            });\n        }\n    };\n    Terminal.prototype._innerWriteUtf8 = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBufferUtf8 = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBufferUtf8.length > bufferOffset) {\n            var data = this.writeBufferUtf8[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBufferUtf8.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parseUtf8(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBufferUtf8.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBufferUtf8 = this.writeBufferUtf8.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWriteUtf8(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBufferUtf8 = [];\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBuffer.length > bufferOffset) {\n            var data = this.writeBuffer[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBuffer.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBuffer.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBuffer = this.writeBuffer.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWrite(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBuffer = [];\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._inputHandler.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._inputHandler.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this._renderCoordinator.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this._renderCoordinator.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this.selectionManager.setSelection(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        if (!this.selectionManager.hasSelection) {\n            return undefined;\n        }\n        return {\n            startColumn: this.selectionManager.selectionStart[0],\n            startRow: this.selectionManager.selectionStart[1],\n            endColumn: this.selectionManager.selectionEnd[0],\n            endRow: this.selectionManager.selectionEnd[1]\n        };\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this._onKey.fire({ key: result.key, domEvent: event });\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this._onKey.fire({ key: key, domEvent: ev });\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < MINIMUM_COLS)\n            x = MINIMUM_COLS;\n        if (y < MINIMUM_ROWS)\n            y = MINIMUM_ROWS;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this._onResize.fire({ cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this.refresh(0, this.rows - 1);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this._onData.fire(data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this._onTitleChange.fire(title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttrData()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        var writeBuffer = this.writeBuffer;\n        var writeBufferUtf8 = this.writeBufferUtf8;\n        var writeInProgress = this._writeInProgress;\n        var xoffSentToCatchUp = this._xoffSentToCatchUp;\n        var userScrolling = this._userScrolling;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.writeBuffer = writeBuffer;\n        this.writeBufferUtf8 = writeBufferUtf8;\n        this._writeInProgress = writeInProgress;\n        this._xoffSentToCatchUp = xoffSentToCatchUp;\n        this._userScrolling = userScrolling;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\n//# sourceMappingURL=Terminal.js.map\n\n/***/ }),\n\n/***/ 571:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(393);\nvar Lifecycle_2 = __webpack_require__(398);\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this._dimensions = _dimensions;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onDimensionsChance = function (dimensions) {\n        this._dimensions = dimensions;\n    };\n    Viewport.prototype.onThemeChange = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map\n\n/***/ }),\n\n/***/ 572:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = __webpack_require__(394);\nfunction applyWindowsMode(terminal) {\n    return terminal.onLineFeed(function () {\n        var line = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y - 1);\n        var lastChar = line.get(terminal.cols - 1);\n        var nextLine = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y);\n        nextLine.isWrapped = (lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.NULL_CELL_CODE && lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.WHITESPACE_CELL_CODE);\n    });\n}\nexports.applyWindowsMode = applyWindowsMode;\n//# sourceMappingURL=WindowsMode.js.map\n\n/***/ }),\n\n/***/ 573:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core._renderCoordinator.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core._renderCoordinator.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core._renderCoordinator.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map\n\n/***/ }),\n\n/***/ 574:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = __webpack_require__(395);\nvar CircularList = (function () {\n    function CircularList(_maxLength) {\n        this._maxLength = _maxLength;\n        this.onDeleteEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onInsertEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onTrimEmitter = new EventEmitter2_1.EventEmitter2();\n        this._array = new Array(this._maxLength);\n        this._startIndex = 0;\n        this._length = 0;\n    }\n    Object.defineProperty(CircularList.prototype, \"onDelete\", {\n        get: function () { return this.onDeleteEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onInsert\", {\n        get: function () { return this.onInsertEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onTrim\", {\n        get: function () { return this.onTrimEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.onTrimEmitter.fire(1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.onTrimEmitter.fire(1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        for (var i = this._length - 1; i >= start; i--) {\n            this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n        }\n        for (var i = 0; i < items.length; i++) {\n            this._array[this._getCyclicIndex(start + i)] = items[i];\n        }\n        if (this._length + items.length > this._maxLength) {\n            var countToTrim = (this._length + items.length) - this._maxLength;\n            this._startIndex += countToTrim;\n            this._length = this._maxLength;\n            this.onTrimEmitter.fire(countToTrim);\n        }\n        else {\n            this._length += items.length;\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.onTrimEmitter.fire(count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.onTrimEmitter.fire(1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}());\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map\n\n/***/ }),\n\n/***/ 575:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : clone(val[key], depth - 1);\n    }\n    return clonedObject;\n}\nexports.clone = clone;\n//# sourceMappingURL=Clone.js.map\n\n/***/ }),\n\n/***/ 576:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(393);\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.emitMayRemoveListeners = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n            i -= length - obj.length;\n            length = obj.length;\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map\n\n/***/ }),\n\n/***/ 577:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reflowLargerGetLinesToRemove(lines, oldCols, newCols, bufferAbsoluteY, nullCell) {\n    var toRemove = [];\n    for (var y = 0; y < lines.length - 1; y++) {\n        var i = y;\n        var nextLine = lines.get(++i);\n        if (!nextLine.isWrapped) {\n            continue;\n        }\n        var wrappedLines = [lines.get(y)];\n        while (i < lines.length && nextLine.isWrapped) {\n            wrappedLines.push(nextLine);\n            nextLine = lines.get(++i);\n        }\n        if (bufferAbsoluteY >= y && bufferAbsoluteY < i) {\n            y += wrappedLines.length - 1;\n            continue;\n        }\n        var destLineIndex = 0;\n        var destCol = getWrappedLineTrimmedLength(wrappedLines, destLineIndex, oldCols);\n        var srcLineIndex = 1;\n        var srcCol = 0;\n        while (srcLineIndex < wrappedLines.length) {\n            var srcTrimmedTineLength = getWrappedLineTrimmedLength(wrappedLines, srcLineIndex, oldCols);\n            var srcRemainingCells = srcTrimmedTineLength - srcCol;\n            var destRemainingCells = newCols - destCol;\n            var cellsToCopy = Math.min(srcRemainingCells, destRemainingCells);\n            wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol, destCol, cellsToCopy, false);\n            destCol += cellsToCopy;\n            if (destCol === newCols) {\n                destLineIndex++;\n                destCol = 0;\n            }\n            srcCol += cellsToCopy;\n            if (srcCol === srcTrimmedTineLength) {\n                srcLineIndex++;\n                srcCol = 0;\n            }\n            if (destCol === 0 && destLineIndex !== 0) {\n                if (wrappedLines[destLineIndex - 1].getWidth(newCols - 1) === 2) {\n                    wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[destLineIndex - 1], newCols - 1, destCol++, 1, false);\n                    wrappedLines[destLineIndex - 1].setCell(newCols - 1, nullCell);\n                }\n            }\n        }\n        wrappedLines[destLineIndex].replaceCells(destCol, newCols, nullCell);\n        var countToRemove = 0;\n        for (var i_1 = wrappedLines.length - 1; i_1 > 0; i_1--) {\n            if (i_1 > destLineIndex || wrappedLines[i_1].getTrimmedLength() === 0) {\n                countToRemove++;\n            }\n            else {\n                break;\n            }\n        }\n        if (countToRemove > 0) {\n            toRemove.push(y + wrappedLines.length - countToRemove);\n            toRemove.push(countToRemove);\n        }\n        y += wrappedLines.length - 1;\n    }\n    return toRemove;\n}\nexports.reflowLargerGetLinesToRemove = reflowLargerGetLinesToRemove;\nfunction reflowLargerCreateNewLayout(lines, toRemove) {\n    var layout = [];\n    var nextToRemoveIndex = 0;\n    var nextToRemoveStart = toRemove[nextToRemoveIndex];\n    var countRemovedSoFar = 0;\n    for (var i = 0; i < lines.length; i++) {\n        if (nextToRemoveStart === i) {\n            var countToRemove = toRemove[++nextToRemoveIndex];\n            lines.onDeleteEmitter.fire({\n                index: i - countRemovedSoFar,\n                amount: countToRemove\n            });\n            i += countToRemove - 1;\n            countRemovedSoFar += countToRemove;\n            nextToRemoveStart = toRemove[++nextToRemoveIndex];\n        }\n        else {\n            layout.push(i);\n        }\n    }\n    return {\n        layout: layout,\n        countRemoved: countRemovedSoFar\n    };\n}\nexports.reflowLargerCreateNewLayout = reflowLargerCreateNewLayout;\nfunction reflowLargerApplyNewLayout(lines, newLayout) {\n    var newLayoutLines = [];\n    for (var i = 0; i < newLayout.length; i++) {\n        newLayoutLines.push(lines.get(newLayout[i]));\n    }\n    for (var i = 0; i < newLayoutLines.length; i++) {\n        lines.set(i, newLayoutLines[i]);\n    }\n    lines.length = newLayout.length;\n}\nexports.reflowLargerApplyNewLayout = reflowLargerApplyNewLayout;\nfunction reflowSmallerGetNewLineLengths(wrappedLines, oldCols, newCols) {\n    var newLineLengths = [];\n    var cellsNeeded = wrappedLines.map(function (l, i) { return getWrappedLineTrimmedLength(wrappedLines, i, oldCols); }).reduce(function (p, c) { return p + c; });\n    var srcCol = 0;\n    var srcLine = 0;\n    var cellsAvailable = 0;\n    while (cellsAvailable < cellsNeeded) {\n        if (cellsNeeded - cellsAvailable < newCols) {\n            newLineLengths.push(cellsNeeded - cellsAvailable);\n            break;\n        }\n        srcCol += newCols;\n        var oldTrimmedLength = getWrappedLineTrimmedLength(wrappedLines, srcLine, oldCols);\n        if (srcCol > oldTrimmedLength) {\n            srcCol -= oldTrimmedLength;\n            srcLine++;\n        }\n        var endsWithWide = wrappedLines[srcLine].getWidth(srcCol - 1) === 2;\n        if (endsWithWide) {\n            srcCol--;\n        }\n        var lineLength = endsWithWide ? newCols - 1 : newCols;\n        newLineLengths.push(lineLength);\n        cellsAvailable += lineLength;\n    }\n    return newLineLengths;\n}\nexports.reflowSmallerGetNewLineLengths = reflowSmallerGetNewLineLengths;\nfunction getWrappedLineTrimmedLength(lines, i, cols) {\n    if (i === lines.length - 1) {\n        return lines[i].getTrimmedLength();\n    }\n    var endsInNull = !(lines[i].hasContent(cols - 1)) && lines[i].getWidth(cols - 1) === 1;\n    var followingLineStartsWithWide = lines[i + 1].getWidth(0) === 2;\n    if (endsInNull && followingLineStartsWithWide) {\n        return cols - 1;\n    }\n    return cols;\n}\nexports.getWrappedLineTrimmedLength = getWrappedLineTrimmedLength;\n//# sourceMappingURL=BufferReflow.js.map\n\n/***/ }),\n\n/***/ 578:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = __webpack_require__(395);\nvar Lifecycle_1 = __webpack_require__(393);\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        _this._onDispose = new EventEmitter2_1.EventEmitter2();\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"onDispose\", {\n        get: function () { return this._onDispose.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this._onDispose.fire();\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(Lifecycle_1.Disposable));\nexports.Marker = Marker;\n//# sourceMappingURL=Marker.js.map\n\n/***/ }),\n\n/***/ 579:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': '£'\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '£',\n    '@': '¾',\n    '[': 'ij',\n    '\\\\': '½',\n    ']': '|',\n    '{': '¨',\n    '|': 'f',\n    '}': '¼',\n    '~': '´'\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['R'] = {\n    '#': '£',\n    '@': 'à',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': '§',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': '¨'\n};\nexports.CHARSETS['Q'] = {\n    '@': 'à',\n    '[': 'â',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '`': 'ô',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': 'û'\n};\nexports.CHARSETS['K'] = {\n    '@': '§',\n    '[': 'Ä',\n    '\\\\': 'Ö',\n    ']': 'Ü',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'ß'\n};\nexports.CHARSETS['Y'] = {\n    '#': '£',\n    '@': '§',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': 'é',\n    '`': 'ù',\n    '{': 'à',\n    '|': 'ò',\n    '}': 'è',\n    '~': 'ì'\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': 'Ä',\n        '[': 'Æ',\n        '\\\\': 'Ø',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'ä',\n        '{': 'æ',\n        '|': 'ø',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['Z'] = {\n    '#': '£',\n    '@': '§',\n    '[': '¡',\n    '\\\\': 'Ñ',\n    ']': '¿',\n    '{': '°',\n    '|': 'ñ',\n    '}': 'ç'\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': 'É',\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['='] = {\n    '#': 'ù',\n    '@': 'à',\n    '[': 'é',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '_': 'è',\n    '`': 'ô',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'û'\n};\n//# sourceMappingURL=Charsets.js.map\n\n/***/ }),\n\n/***/ 580:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = __webpack_require__(400);\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            else if (ev.key && !ev.ctrlKey && !ev.altKey && !ev.metaKey && ev.keyCode >= 48 && ev.key.length === 1) {\n                result.key = ev.key;\n            }\n            else if (ev.key && ev.ctrlKey) {\n                if (ev.key === '_') {\n                    result.key = EscapeSequences_1.C0.US;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map\n\n/***/ }),\n\n/***/ 581:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = __webpack_require__(400);\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map\n\n/***/ }),\n\n/***/ 582:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AddonManager = (function () {\n    function AddonManager() {\n        this._addons = [];\n    }\n    AddonManager.prototype.dispose = function () {\n        for (var i = this._addons.length - 1; i >= 0; i--) {\n            this._addons[i].instance.dispose();\n        }\n    };\n    AddonManager.prototype.loadAddon = function (terminal, instance) {\n        var _this = this;\n        var loadedAddon = {\n            instance: instance,\n            dispose: instance.dispose,\n            isDisposed: false\n        };\n        this._addons.push(loadedAddon);\n        instance.dispose = function () { return _this._wrappedAddonDispose(loadedAddon); };\n        instance.activate(terminal);\n    };\n    AddonManager.prototype._wrappedAddonDispose = function (loadedAddon) {\n        if (loadedAddon.isDisposed) {\n            return;\n        }\n        var index = -1;\n        for (var i = 0; i < this._addons.length; i++) {\n            if (this._addons[i] === loadedAddon) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            throw new Error('Could not dispose an addon that has not been loaded');\n        }\n        loadedAddon.isDisposed = true;\n        loadedAddon.dispose.apply(loadedAddon.instance);\n        this._addons.splice(index, 1);\n    };\n    return AddonManager;\n}());\nexports.AddonManager = AddonManager;\n//# sourceMappingURL=AddonManager.js.map\n\n/***/ }),\n\n/***/ 583:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = __webpack_require__(570);\nvar Strings = __webpack_require__(408);\nvar AddonManager_1 = __webpack_require__(582);\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n        this._addonManager = new AddonManager_1.AddonManager();\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._core.onCursorMove; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._core.onLineFeed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._core.onSelectionChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._core.onData; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._core.onTitleChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._core.onScroll; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._core.onKey; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._core.onRender; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._core.onResize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () { return new BufferApiView(this._core.buffer); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._core.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._core.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this._core.select(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        return this._core.getSelectionPosition();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._addonManager.dispose();\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        this._core.writeUtf8(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Terminal.prototype.loadAddon = function (addon) {\n        return this._addonManager.loadAddon(this, addon);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\nvar BufferApiView = (function () {\n    function BufferApiView(_buffer) {\n        this._buffer = _buffer;\n    }\n    Object.defineProperty(BufferApiView.prototype, \"cursorY\", {\n        get: function () { return this._buffer.y; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"cursorX\", {\n        get: function () { return this._buffer.x; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"viewportY\", {\n        get: function () { return this._buffer.ydisp; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"baseY\", {\n        get: function () { return this._buffer.ybase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"length\", {\n        get: function () { return this._buffer.lines.length; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferApiView.prototype.getLine = function (y) {\n        var line = this._buffer.lines.get(y);\n        if (!line) {\n            return undefined;\n        }\n        return new BufferLineApiView(line);\n    };\n    return BufferApiView;\n}());\nvar BufferLineApiView = (function () {\n    function BufferLineApiView(_line) {\n        this._line = _line;\n    }\n    Object.defineProperty(BufferLineApiView.prototype, \"isWrapped\", {\n        get: function () { return this._line.isWrapped; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferLineApiView.prototype.getCell = function (x) {\n        if (x < 0 || x >= this._line.length) {\n            return undefined;\n        }\n        return new BufferCellApiView(this._line, x);\n    };\n    BufferLineApiView.prototype.translateToString = function (trimRight, startColumn, endColumn) {\n        return this._line.translateToString(trimRight, startColumn, endColumn);\n    };\n    return BufferLineApiView;\n}());\nvar BufferCellApiView = (function () {\n    function BufferCellApiView(_line, _x) {\n        this._line = _line;\n        this._x = _x;\n    }\n    Object.defineProperty(BufferCellApiView.prototype, \"char\", {\n        get: function () { return this._line.getString(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferCellApiView.prototype, \"width\", {\n        get: function () { return this._line.getWidth(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    return BufferCellApiView;\n}());\n//# sourceMappingURL=Terminal.js.map\n\n/***/ }),\n\n/***/ 584:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = __webpack_require__(401);\nvar BufferLine_1 = __webpack_require__(394);\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._cell = new BufferLine_1.CellData();\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        terminal.buffer.lines.get(cursorY).loadCell(terminal.buffer.x, this._cell);\n        if (this._cell.content === undefined) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = this._cell.getWidth();\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === this._cell.getWidth()) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = this._cell.getWidth();\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, cell.getWidth(), 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, cell, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, cell.getWidth(), 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map\n\n/***/ }),\n\n/***/ 585:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map\n\n/***/ }),\n\n/***/ 586:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = __webpack_require__(401);\nvar Types_1 = __webpack_require__(396);\nvar CharAtlasUtils_1 = __webpack_require__(411);\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map\n\n/***/ }),\n\n/***/ 587:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer_1 = __webpack_require__(422);\nvar EventEmitter2_1 = __webpack_require__(395);\nvar Lifecycle_1 = __webpack_require__(393);\nvar ScreenDprMonitor_1 = __webpack_require__(423);\nvar Lifecycle_2 = __webpack_require__(398);\nvar RenderCoordinator = (function (_super) {\n    __extends(RenderCoordinator, _super);\n    function RenderCoordinator(_renderer, _rowCount, screenElement) {\n        var _this = _super.call(this) || this;\n        _this._renderer = _renderer;\n        _this._rowCount = _rowCount;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        _this._canvasWidth = 0;\n        _this._canvasHeight = 0;\n        _this._onDimensionsChange = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onRefreshRequest = new EventEmitter2_1.EventEmitter2();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(function (start, end) { return _this._renderRows(start, end); });\n        _this.register(_this._renderDebouncer);\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this._renderer.onDevicePixelRatioChange(); });\n        _this.register(_this._screenDprMonitor);\n        _this.register(Lifecycle_2.addDisposableDomListener(window, 'resize', function () { return _this._renderer.onDevicePixelRatioChange(); }));\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this._onIntersectionChange(e[e.length - 1]); }, { threshold: 0 });\n            observer_1.observe(screenElement);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Object.defineProperty(RenderCoordinator.prototype, \"onDimensionsChange\", {\n        get: function () { return this._onDimensionsChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRefreshRequest\", {\n        get: function () { return this._onRefreshRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"dimensions\", {\n        get: function () { return this._renderer.dimensions; },\n        enumerable: true,\n        configurable: true\n    });\n    RenderCoordinator.prototype._onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this.refreshRows(0, this._rowCount - 1);\n            this._needsFullRefresh = false;\n        }\n    };\n    RenderCoordinator.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end, this._rowCount);\n    };\n    RenderCoordinator.prototype._renderRows = function (start, end) {\n        this._renderer.renderRows(start, end);\n        this._onRender.fire({ start: start, end: end });\n    };\n    RenderCoordinator.prototype.resize = function (cols, rows) {\n        this._rowCount = rows;\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype.changeOptions = function () {\n        this._renderer.onOptionsChanged();\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype._fireOnCanvasResize = function () {\n        if (this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight) {\n            return;\n        }\n        this._onDimensionsChange.fire(this._renderer.dimensions);\n    };\n    RenderCoordinator.prototype.setRenderer = function (renderer) {\n        this._renderer.dispose();\n        this._renderer = renderer;\n    };\n    RenderCoordinator.prototype._fullRefresh = function () {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this.refreshRows(0, this._rowCount);\n        }\n    };\n    RenderCoordinator.prototype.setColors = function (colors) {\n        this._renderer.setColors(colors);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onDevicePixelRatioChange = function () {\n        this._renderer.onDevicePixelRatioChange();\n    };\n    RenderCoordinator.prototype.onResize = function (cols, rows) {\n        this._renderer.onResize(cols, rows);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onCharSizeChanged = function () {\n        this._renderer.onCharSizeChanged();\n    };\n    RenderCoordinator.prototype.onBlur = function () {\n        this._renderer.onBlur();\n    };\n    RenderCoordinator.prototype.onFocus = function () {\n        this._renderer.onFocus();\n    };\n    RenderCoordinator.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        this._renderer.onSelectionChanged(start, end, columnSelectMode);\n    };\n    RenderCoordinator.prototype.onCursorMove = function () {\n        this._renderer.onCursorMove();\n    };\n    RenderCoordinator.prototype.onOptionsChanged = function () {\n        this._renderer.onOptionsChanged();\n    };\n    RenderCoordinator.prototype.clear = function () {\n        this._renderer.clear();\n    };\n    RenderCoordinator.prototype.registerCharacterJoiner = function (handler) {\n        return this._renderer.registerCharacterJoiner(handler);\n    };\n    RenderCoordinator.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._renderer.deregisterCharacterJoiner(joinerId);\n    };\n    return RenderCoordinator;\n}(Lifecycle_1.Disposable));\nexports.RenderCoordinator = RenderCoordinator;\n//# sourceMappingURL=RenderCoordinator.js.map\n\n/***/ }),\n\n/***/ 588:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = __webpack_require__(590);\nvar SelectionRenderLayer_1 = __webpack_require__(589);\nvar CursorRenderLayer_1 = __webpack_require__(584);\nvar LinkRenderLayer_1 = __webpack_require__(586);\nvar CharacterJoinerRegistry_1 = __webpack_require__(418);\nvar Lifecycle_1 = __webpack_require__(393);\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this._colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this._colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this._colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this._colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onDevicePixelRatioChange = function () {\n        if (this._devicePixelRatio !== window.devicePixelRatio) {\n            this._devicePixelRatio = window.devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setColors = function (colors) {\n        var _this = this;\n        this._colors = colors;\n        this._renderLayers.forEach(function (l) {\n            l.setColors(_this._terminal, _this._colors);\n            l.reset(_this._terminal);\n        });\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        this._renderLayers.forEach(function (l) { return operation(l); });\n    };\n    Renderer.prototype.renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(Lifecycle_1.Disposable));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = __webpack_require__(401);\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            this._clearState();\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map\n\n/***/ }),\n\n/***/ 590:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache_1 = __webpack_require__(585);\nvar BaseRenderLayer_1 = __webpack_require__(401);\nvar BufferLine_1 = __webpack_require__(394);\nvar CharacterJoinerRegistry_1 = __webpack_require__(418);\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._workCell = new BufferLine_1.CellData();\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                line.loadCell(x, this._workCell);\n                var cell = this._workCell;\n                var isJoined = false;\n                var lastCharX = x;\n                if (cell.getWidth() === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    cell = new CharacterJoinerRegistry_1.JoinedCellData(this._workCell, line.translateToString(true, range[0], range[1]), range[1] - range[0]);\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(cell)) {\n                    if (lastCharX < line.length - 1 && line.getCodePoint(lastCharX + 1) === BufferLine_1.NULL_CELL_CODE) {\n                        cell.content &= ~12582912;\n                        cell.content |= 2 << 22;\n                    }\n                }\n                callback(cell, x, y);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (cell, x, y) {\n            var nextFillStyle = null;\n            if (cell.isInverse()) {\n                if (cell.isFgDefault()) {\n                    nextFillStyle = _this._colors.foreground.css;\n                }\n                else if (cell.isFgRGB()) {\n                    nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                }\n                else {\n                    nextFillStyle = _this._colors.ansi[cell.getFgColor()].css;\n                }\n            }\n            else if (cell.isBgRGB()) {\n                nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else if (cell.isBgPalette()) {\n                nextFillStyle = _this._colors.ansi[cell.getBgColor()].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (cell, x, y) {\n            if (cell.isInvisible()) {\n                return;\n            }\n            _this.drawChars(terminal, cell, x, y);\n            if (cell.isUnderline()) {\n                _this._ctx.save();\n                if (cell.isInverse()) {\n                    if (cell.isBgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.background.css;\n                    }\n                    else if (cell.isBgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n                    }\n                    else {\n                        _this._ctx.fillStyle = _this._colors.ansi[cell.getBgColor()].css;\n                    }\n                }\n                else {\n                    if (cell.isFgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.foreground.css;\n                    }\n                    else if (cell.isFgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                    }\n                    else {\n                        var fg = cell.getFgColor();\n                        if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                            fg += 8;\n                        }\n                        _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                    }\n                }\n                _this.fillBottomLineAtCells(x, y, cell.getWidth());\n                _this._ctx.restore();\n            }\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (cell) {\n        if (cell.getWidth() !== 1) {\n            return false;\n        }\n        if (cell.getCode() < 256) {\n            return false;\n        }\n        var chars = cell.getChars();\n        if (this._characterOverlapCache.hasOwnProperty(chars)) {\n            return this._characterOverlapCache[chars];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(chars).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[chars] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map\n\n/***/ }),\n\n/***/ 591:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(396);\nvar BaseCharAtlas_1 = __webpack_require__(410);\nvar ColorManager_1 = __webpack_require__(421);\nvar CharAtlasGenerator_1 = __webpack_require__(420);\nvar LRUMap_1 = __webpack_require__(592);\nvar Platform_1 = __webpack_require__(397);\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'middle';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, this._config.scaledCharHeight / 2);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map\n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map\n\n/***/ }),\n\n/***/ 593:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = __webpack_require__(410);\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map\n\n/***/ }),\n\n/***/ 594:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(396);\nvar CharAtlasGenerator_1 = __webpack_require__(420);\nvar BaseCharAtlas_1 = __webpack_require__(410);\nvar CharAtlasUtils_1 = __webpack_require__(411);\nvar Types_2 = __webpack_require__(399);\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_2.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_2.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_2.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map\n\n/***/ }),\n\n/***/ 595:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DomRendererRowFactory_1 = __webpack_require__(596);\nvar Types_1 = __webpack_require__(396);\nvar Lifecycle_1 = __webpack_require__(393);\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._injectCss();\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(_terminal.options, document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = this._terminal.charMeasure.width * window.devicePixelRatio;\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setColors = function (colors) {\n        this._colors = colors;\n        this._injectCss();\n    };\n    DomRenderer.prototype._injectCss = function () {\n        var _this = this;\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this._colors.foreground.css + \";\") +\n            (\" background-color: \" + this._colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.options.fontFamily + \";\") +\n            (\" font-size: \" + this._terminal.options.fontSize + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            \"@keyframes blink {\" +\n                \" 0% { opacity: 1.0; }\" +\n                \" 50% { opacity: 0.0; }\" +\n                \" 100% { opacity: 1.0; }\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this._colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_BLINK_CLASS + \" {\") +\n                \" animation: blink 1s step-end infinite;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this._colors.cursor.css + \";\") +\n                (\" color: \" + this._colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this._colors.selection.css + \";\") +\n                \"}\";\n        this._colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this._colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n    };\n    DomRenderer.prototype.onDevicePixelRatioChange = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this._injectCss();\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        var cursorBlink = this._terminal.options.cursorBlink;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, cursorBlink, this.dimensions.actualCellWidth, terminal.cols));\n        }\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            if (span) {\n                span.style.textDecoration = enabled ? 'underline' : 'none';\n            }\n            if (++x >= cols) {\n                x = 0;\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(Lifecycle_1.Disposable));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map\n\n/***/ }),\n\n/***/ 596:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(396);\nvar BufferLine_1 = __webpack_require__(394);\nexports.BOLD_CLASS = 'xterm-bold';\nexports.DIM_CLASS = 'xterm-dim';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.UNDERLINE_CLASS = 'xterm-underline';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_BLINK_CLASS = 'xterm-cursor-blink';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_terminalOptions, _document) {\n        this._terminalOptions = _terminalOptions;\n        this._document = _document;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cursorBlink, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            if (lineData.loadCell(x, this._workCell).getCode() !== BufferLine_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            lineData.loadCell(x, this._workCell);\n            var width = this._workCell.getWidth();\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                if (cursorBlink) {\n                    charElement.classList.add(exports.CURSOR_BLINK_CLASS);\n                }\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (this._workCell.isBold() && this._terminalOptions.enableBold) {\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (this._workCell.isItalic()) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            if (this._workCell.isDim()) {\n                charElement.classList.add(exports.DIM_CLASS);\n            }\n            if (this._workCell.isUnderline()) {\n                charElement.classList.add(exports.UNDERLINE_CLASS);\n            }\n            charElement.textContent = this._workCell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n            var swapColor = this._workCell.isInverse();\n            if (this._workCell.isFgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? 'background-' : '') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getFgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isFgPalette()) {\n                var fg = this._workCell.getFgColor();\n                if (this._workCell.isBold() && fg < 8 && !swapColor &&\n                    this._terminalOptions.enableBold && this._terminalOptions.drawBoldTextInBrightColors) {\n                    fg += 8;\n                }\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'b' : 'f') + \"g-\" + fg);\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-bg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            if (this._workCell.isBgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? '' : 'background-') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getBgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isBgPalette()) {\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'f' : 'b') + \"g-\" + this._workCell.getBgColor());\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-fg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.0514df7d245f568b98cd.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Instance.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bc6687c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Instance.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pages/Instance.vue\n// module id = 387\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceMappingURL=Lifecycle.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/Lifecycle.js\n// module id = 393\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextDecoder_1 = require(\"../input/TextDecoder\");\nvar Types_1 = require(\"../../common/Types\");\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.NULL_CELL_CHAR = '';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 0;\nexports.WHITESPACE_CELL_CHAR = ' ';\nexports.WHITESPACE_CELL_WIDTH = 1;\nexports.WHITESPACE_CELL_CODE = 32;\nvar CELL_SIZE = 3;\nvar AttributeData = (function () {\n    function AttributeData() {\n        this.fg = 0;\n        this.bg = 0;\n    }\n    AttributeData.toColorRGB = function (value) {\n        return [\n            value >>> 16 & 255,\n            value >>> 8 & 255,\n            value & 255\n        ];\n    };\n    AttributeData.fromColorRGB = function (value) {\n        return (value[0] & 255) << 16 | (value[1] & 255) << 8 | value[2] & 255;\n    };\n    AttributeData.prototype.clone = function () {\n        var newObj = new AttributeData();\n        newObj.fg = this.fg;\n        newObj.bg = this.bg;\n        return newObj;\n    };\n    AttributeData.prototype.isInverse = function () { return this.fg & 67108864; };\n    AttributeData.prototype.isBold = function () { return this.fg & 134217728; };\n    AttributeData.prototype.isUnderline = function () { return this.fg & 268435456; };\n    AttributeData.prototype.isBlink = function () { return this.fg & 536870912; };\n    AttributeData.prototype.isInvisible = function () { return this.fg & 1073741824; };\n    AttributeData.prototype.isItalic = function () { return this.bg & 67108864; };\n    AttributeData.prototype.isDim = function () { return this.bg & 134217728; };\n    AttributeData.prototype.getFgColorMode = function () { return this.fg & 50331648; };\n    AttributeData.prototype.getBgColorMode = function () { return this.bg & 50331648; };\n    AttributeData.prototype.isFgRGB = function () { return (this.fg & 50331648) === 50331648; };\n    AttributeData.prototype.isBgRGB = function () { return (this.bg & 50331648) === 50331648; };\n    AttributeData.prototype.isFgPalette = function () { return (this.fg & 50331648) === 16777216 || (this.fg & 50331648) === 33554432; };\n    AttributeData.prototype.isBgPalette = function () { return (this.bg & 50331648) === 16777216 || (this.bg & 50331648) === 33554432; };\n    AttributeData.prototype.isFgDefault = function () { return (this.fg & 50331648) === 0; };\n    AttributeData.prototype.isBgDefault = function () { return (this.bg & 50331648) === 0; };\n    AttributeData.prototype.getFgColor = function () {\n        switch (this.fg & 50331648) {\n            case 16777216:\n            case 33554432: return this.fg & 255;\n            case 50331648: return this.fg & 16777215;\n            default: return -1;\n        }\n    };\n    AttributeData.prototype.getBgColor = function () {\n        switch (this.bg & 50331648) {\n            case 16777216:\n            case 33554432: return this.bg & 255;\n            case 50331648: return this.bg & 16777215;\n            default: return -1;\n        }\n    };\n    return AttributeData;\n}());\nexports.AttributeData = AttributeData;\nexports.DEFAULT_ATTR_DATA = Object.freeze(new AttributeData());\nvar CellData = (function (_super) {\n    __extends(CellData, _super);\n    function CellData() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.content = 0;\n        _this.fg = 0;\n        _this.bg = 0;\n        _this.combinedData = '';\n        return _this;\n    }\n    CellData.fromCharData = function (value) {\n        var obj = new CellData();\n        obj.setFromCharData(value);\n        return obj;\n    };\n    CellData.prototype.isCombined = function () {\n        return this.content & 2097152;\n    };\n    CellData.prototype.getWidth = function () {\n        return this.content >> 22;\n    };\n    CellData.prototype.getChars = function () {\n        if (this.content & 2097152) {\n            return this.combinedData;\n        }\n        if (this.content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(this.content & 2097151);\n        }\n        return '';\n    };\n    CellData.prototype.getCode = function () {\n        return (this.isCombined())\n            ? this.combinedData.charCodeAt(this.combinedData.length - 1)\n            : this.content & 2097151;\n    };\n    CellData.prototype.setFromCharData = function (value) {\n        this.fg = value[exports.CHAR_DATA_ATTR_INDEX];\n        this.bg = 0;\n        var combined = false;\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 2) {\n            combined = true;\n        }\n        else if (value[exports.CHAR_DATA_CHAR_INDEX].length === 2) {\n            var code = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                var second = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(1);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    this.content = ((code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n                }\n                else {\n                    combined = true;\n                }\n            }\n            else {\n                combined = true;\n            }\n        }\n        else {\n            this.content = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        if (combined) {\n            this.combinedData = value[exports.CHAR_DATA_CHAR_INDEX];\n            this.content = 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    CellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return CellData;\n}(AttributeData));\nexports.CellData = CellData;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCellData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._combined = {};\n        this._data = new Uint32Array(cols * CELL_SIZE);\n        var cell = fillCellData || CellData.fromCharData([0, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE]);\n        for (var i = 0; i < cols; ++i) {\n            this.setCell(i, cell);\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        var cp = content & 2097151;\n        return [\n            this._data[index * CELL_SIZE + 1],\n            (content & 2097152)\n                ? this._combined[index]\n                : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : '',\n            content >> 22,\n            (content & 2097152)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : cp\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 1] = value[exports.CHAR_DATA_ATTR_INDEX];\n        if (value[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 0] = index | 2097152 | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n        else {\n            this._data[index * CELL_SIZE + 0] = value[exports.CHAR_DATA_CHAR_INDEX].charCodeAt(0) | (value[exports.CHAR_DATA_WIDTH_INDEX] << 22);\n        }\n    };\n    BufferLine.prototype.getWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] >> 22;\n    };\n    BufferLine.prototype.hasWidth = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 12582912;\n    };\n    BufferLine.prototype.getFg = function (index) {\n        return this._data[index * CELL_SIZE + 1];\n    };\n    BufferLine.prototype.getBg = function (index) {\n        return this._data[index * CELL_SIZE + 2];\n    };\n    BufferLine.prototype.hasContent = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 4194303;\n    };\n    BufferLine.prototype.getCodePoint = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index].charCodeAt(this._combined[index].length - 1);\n        }\n        return content & 2097151;\n    };\n    BufferLine.prototype.isCombined = function (index) {\n        return this._data[index * CELL_SIZE + 0] & 2097152;\n    };\n    BufferLine.prototype.getString = function (index) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            return this._combined[index];\n        }\n        if (content & 2097151) {\n            return TextDecoder_1.stringFromCodePoint(content & 2097151);\n        }\n        return '';\n    };\n    BufferLine.prototype.loadCell = function (index, cell) {\n        var startIndex = index * CELL_SIZE;\n        cell.content = this._data[startIndex + 0];\n        cell.fg = this._data[startIndex + 1];\n        cell.bg = this._data[startIndex + 2];\n        if (cell.content & 2097152) {\n            cell.combinedData = this._combined[index];\n        }\n        return cell;\n    };\n    BufferLine.prototype.setCell = function (index, cell) {\n        if (cell.content & 2097152) {\n            this._combined[index] = cell.combinedData;\n        }\n        this._data[index * CELL_SIZE + 0] = cell.content;\n        this._data[index * CELL_SIZE + 1] = cell.fg;\n        this._data[index * CELL_SIZE + 2] = cell.bg;\n    };\n    BufferLine.prototype.setCellFromCodePoint = function (index, codePoint, width, fg, bg) {\n        this._data[index * CELL_SIZE + 0] = codePoint | (width << 22);\n        this._data[index * CELL_SIZE + 1] = fg;\n        this._data[index * CELL_SIZE + 2] = bg;\n    };\n    BufferLine.prototype.addCodepointToCell = function (index, codePoint) {\n        var content = this._data[index * CELL_SIZE + 0];\n        if (content & 2097152) {\n            this._combined[index] += TextDecoder_1.stringFromCodePoint(codePoint);\n        }\n        else {\n            if (content & 2097151) {\n                this._combined[index] = TextDecoder_1.stringFromCodePoint(content & 2097151) + TextDecoder_1.stringFromCodePoint(codePoint);\n                content &= ~2097151;\n                content |= 2097152;\n            }\n            else {\n                content = codePoint | (1 << 22);\n            }\n            this._data[index * CELL_SIZE + 0] = content;\n        }\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.setCell(pos + n + i, this.loadCell(pos + i, cell));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.setCell(pos + i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCellData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            var cell = new CellData();\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.setCell(pos + i, this.loadCell(pos + n + i, cell));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCellData) {\n        while (start < end && start < this.length) {\n            this.setCell(start++, fillCellData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCellData) {\n        if (cols === this.length) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.setCell(i, fillCellData);\n            }\n        }\n        else {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n                var keys = Object.keys(this._combined);\n                for (var i = 0; i < keys.length; i++) {\n                    var key = parseInt(keys[i], 10);\n                    if (key >= cols) {\n                        delete this._combined[key];\n                    }\n                }\n            }\n            else {\n                this._data = new Uint32Array(0);\n                this._combined = {};\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCellData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.setCell(i, fillCellData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    BufferLine.prototype.getTrimmedLength = function () {\n        for (var i = this.length - 1; i >= 0; --i) {\n            if ((this._data[i * CELL_SIZE + 0] & 4194303)) {\n                return i + (this._data[i * CELL_SIZE + 0] >> 22);\n            }\n        }\n        return 0;\n    };\n    BufferLine.prototype.copyCellsFrom = function (src, srcCol, destCol, length, applyInReverse) {\n        var srcData = src._data;\n        if (applyInReverse) {\n            for (var cell = length - 1; cell >= 0; cell--) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        else {\n            for (var cell = 0; cell < length; cell++) {\n                for (var i = 0; i < CELL_SIZE; i++) {\n                    this._data[(destCol + cell) * CELL_SIZE + i] = srcData[(srcCol + cell) * CELL_SIZE + i];\n                }\n            }\n        }\n        var srcCombinedKeys = Object.keys(src._combined);\n        for (var i = 0; i < srcCombinedKeys.length; i++) {\n            var key = parseInt(srcCombinedKeys[i], 10);\n            if (key >= srcCol) {\n                this._combined[key - srcCol + destCol] = src._combined[key];\n            }\n        }\n    };\n    BufferLine.prototype.translateToString = function (trimRight, startCol, endCol) {\n        if (trimRight === void 0) { trimRight = false; }\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = this.length; }\n        if (trimRight) {\n            endCol = Math.min(endCol, this.getTrimmedLength());\n        }\n        var result = '';\n        while (startCol < endCol) {\n            var content = this._data[startCol * CELL_SIZE + 0];\n            var cp = content & 2097151;\n            result += (content & 2097152) ? this._combined[startCol] : (cp) ? TextDecoder_1.stringFromCodePoint(cp) : exports.WHITESPACE_CELL_CHAR;\n            startCol += (content >> 22) || 1;\n        }\n        return result;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceMappingURL=BufferLine.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/buffer/BufferLine.js\n// module id = 394\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2 = (function () {\n    function EventEmitter2() {\n        this._listeners = [];\n    }\n    Object.defineProperty(EventEmitter2.prototype, \"event\", {\n        get: function () {\n            var _this = this;\n            if (!this._event) {\n                this._event = function (listener) {\n                    _this._listeners.push(listener);\n                    var disposable = {\n                        dispose: function () {\n                            for (var i = 0; i < _this._listeners.length; i++) {\n                                if (_this._listeners[i] === listener) {\n                                    _this._listeners.splice(i, 1);\n                                    return;\n                                }\n                            }\n                        }\n                    };\n                    return disposable;\n                };\n            }\n            return this._event;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EventEmitter2.prototype.fire = function (data) {\n        var queue = [];\n        for (var i = 0; i < this._listeners.length; i++) {\n            queue.push(this._listeners[i]);\n        }\n        for (var i = 0; i < queue.length; i++) {\n            queue[i].call(undefined, data);\n        }\n    };\n    return EventEmitter2;\n}());\nexports.EventEmitter2 = EventEmitter2;\n//# sourceMappingURL=EventEmitter2.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/EventEmitter2.js\n// module id = 395\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceMappingURL=Types.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/Types.js\n// module id = 396\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceMappingURL=Platform.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/Platform.js\n// module id = 397\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceMappingURL=Lifecycle.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/ui/Lifecycle.js\n// module id = 398\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_COLOR = 256;\n//# sourceMappingURL=Types.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/Types.js\n// module id = 399\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceMappingURL=EscapeSequences.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/data/EscapeSequences.js\n// module id = 400\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../common/Types\");\nvar Types_2 = require(\"./atlas/Types\");\nvar CharAtlasCache_1 = require(\"./atlas/CharAtlasCache\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: '',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement('canvas');\n        this._canvas.classList.add(\"xterm-\" + id + \"-layer\");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext('2d', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.setColors = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + \"px\";\n        this._canvas.style.height = dim.canvasHeight + \"px\";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, cell, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = 'middle';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, cell, x, y) {\n        if (cell.isFgRGB() || cell.isBgRGB()) {\n            this._drawUncachedChars(terminal, cell, x, y);\n            return;\n        }\n        var fg;\n        var bg;\n        if (cell.isInverse()) {\n            fg = (cell.isBgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getBgColor();\n            bg = (cell.isFgDefault()) ? Types_2.INVERTED_DEFAULT_COLOR : cell.getFgColor();\n        }\n        else {\n            bg = (cell.isBgDefault()) ? Types_1.DEFAULT_COLOR : cell.getBgColor();\n            fg = (cell.isFgDefault()) ? Types_1.DEFAULT_COLOR : cell.getFgColor();\n        }\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8 && fg !== Types_2.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = cell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n        this._currentGlyphIdentifier.code = cell.getCode() || BufferLine_1.WHITESPACE_CELL_CODE;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = cell.isBold() && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = !!cell.isDim();\n        this._currentGlyphIdentifier.italic = !!cell.isItalic();\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, cell, x, y);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, cell, x, y) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, cell.isBold() && terminal.options.enableBold, !!cell.isItalic());\n        this._ctx.textBaseline = 'middle';\n        if (cell.isInverse()) {\n            if (cell.isBgDefault()) {\n                this._ctx.fillStyle = this._colors.background.css;\n            }\n            else if (cell.isBgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else {\n                this._ctx.fillStyle = this._colors.ansi[cell.getBgColor()].css;\n            }\n        }\n        else {\n            if (cell.isFgDefault()) {\n                this._ctx.fillStyle = this._colors.foreground.css;\n            }\n            else if (cell.isFgRGB()) {\n                this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n            }\n            else {\n                var fg = cell.getFgColor();\n                if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                    fg += 8;\n                }\n                this._ctx.fillStyle = this._colors.ansi[fg].css;\n            }\n        }\n        this._clipRow(terminal, y);\n        if (cell.isDim()) {\n            this._ctx.globalAlpha = Types_2.DIM_OPACITY;\n        }\n        this._ctx.fillText(cell.getChars(), x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop + this._scaledCharHeight / 2);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? 'italic' : '';\n        return fontStyle + \" \" + fontWeight + \" \" + terminal.options.fontSize * window.devicePixelRatio + \"px \" + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceMappingURL=BaseRenderLayer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/BaseRenderLayer.js\n// module id = 401\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceMappingURL=Strings.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Strings.js\n// module id = 408\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringFromCodePoint(codePoint) {\n    if (codePoint > 0xFFFF) {\n        codePoint -= 0x10000;\n        return String.fromCharCode((codePoint >> 10) + 0xD800) + String.fromCharCode((codePoint % 0x400) + 0xDC00);\n    }\n    return String.fromCharCode(codePoint);\n}\nexports.stringFromCodePoint = stringFromCodePoint;\nfunction utf32ToString(data, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = data.length; }\n    var result = '';\n    for (var i = start; i < end; ++i) {\n        var codepoint = data[i];\n        if (codepoint > 0xFFFF) {\n            codepoint -= 0x10000;\n            result += String.fromCharCode((codepoint >> 10) + 0xD800) + String.fromCharCode((codepoint % 0x400) + 0xDC00);\n        }\n        else {\n            result += String.fromCharCode(codepoint);\n        }\n    }\n    return result;\n}\nexports.utf32ToString = utf32ToString;\nvar StringToUtf32 = (function () {\n    function StringToUtf32() {\n        this._interim = 0;\n    }\n    StringToUtf32.prototype.clear = function () {\n        this._interim = 0;\n    };\n    StringToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var startPos = 0;\n        if (this._interim) {\n            var second = input.charCodeAt(startPos++);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                target[size++] = (this._interim - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                target[size++] = this._interim;\n                target[size++] = second;\n            }\n            this._interim = 0;\n        }\n        for (var i = startPos; i < length; ++i) {\n            var code = input.charCodeAt(i);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++i >= length) {\n                    this._interim = code;\n                    return size;\n                }\n                var second = input.charCodeAt(i);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    target[size++] = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                }\n                else {\n                    target[size++] = code;\n                    target[size++] = second;\n                }\n                continue;\n            }\n            target[size++] = code;\n        }\n        return size;\n    };\n    return StringToUtf32;\n}());\nexports.StringToUtf32 = StringToUtf32;\nvar Utf8ToUtf32 = (function () {\n    function Utf8ToUtf32() {\n        this.interim = new Uint8Array(3);\n    }\n    Utf8ToUtf32.prototype.clear = function () {\n        this.interim.fill(0);\n    };\n    Utf8ToUtf32.prototype.decode = function (input, target) {\n        var length = input.length;\n        if (!length) {\n            return 0;\n        }\n        var size = 0;\n        var byte1;\n        var byte2;\n        var byte3;\n        var byte4;\n        var codepoint = 0;\n        var startPos = 0;\n        if (this.interim[0]) {\n            var discardInterim = false;\n            var cp = this.interim[0];\n            cp &= ((((cp & 0xE0) === 0xC0)) ? 0x1F : (((cp & 0xF0) === 0xE0)) ? 0x0F : 0x07);\n            var pos = 0;\n            var tmp = void 0;\n            while ((tmp = this.interim[++pos] & 0x3F) && pos < 4) {\n                cp <<= 6;\n                cp |= tmp;\n            }\n            var type = (((this.interim[0] & 0xE0) === 0xC0)) ? 2 : (((this.interim[0] & 0xF0) === 0xE0)) ? 3 : 4;\n            var missing = type - pos;\n            while (startPos < missing) {\n                if (startPos >= length) {\n                    return 0;\n                }\n                tmp = input[startPos++];\n                if ((tmp & 0xC0) !== 0x80) {\n                    startPos--;\n                    discardInterim = true;\n                    break;\n                }\n                else {\n                    this.interim[pos++] = tmp;\n                    cp <<= 6;\n                    cp |= tmp & 0x3F;\n                }\n            }\n            if (!discardInterim) {\n                if (type === 2) {\n                    if (cp < 0x80) {\n                        startPos--;\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else if (type === 3) {\n                    if (cp < 0x0800 || (cp >= 0xD800 && cp <= 0xDFFF)) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n                else {\n                    if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    }\n                    else {\n                        target[size++] = cp;\n                    }\n                }\n            }\n            this.interim.fill(0);\n        }\n        var fourStop = length - 4;\n        var i = startPos;\n        while (i < length) {\n            while (i < fourStop\n                && !((byte1 = input[i]) & 0x80)\n                && !((byte2 = input[i + 1]) & 0x80)\n                && !((byte3 = input[i + 2]) & 0x80)\n                && !((byte4 = input[i + 3]) & 0x80)) {\n                target[size++] = byte1;\n                target[size++] = byte2;\n                target[size++] = byte3;\n                target[size++] = byte4;\n                i += 4;\n            }\n            byte1 = input[i++];\n            if (byte1 < 0x80) {\n                target[size++] = byte1;\n            }\n            else if ((byte1 & 0xE0) === 0xC0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x1F) << 6 | (byte2 & 0x3F);\n                if (codepoint < 0x80) {\n                    i--;\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF0) === 0xE0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x0F) << 12 | (byte2 & 0x3F) << 6 | (byte3 & 0x3F);\n                if (codepoint < 0x0800 || (codepoint >= 0xD800 && codepoint <= 0xDFFF)) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else if ((byte1 & 0xF8) === 0xF0) {\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    return size;\n                }\n                byte2 = input[i++];\n                if ((byte2 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    return size;\n                }\n                byte3 = input[i++];\n                if ((byte3 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                if (i >= length) {\n                    this.interim[0] = byte1;\n                    this.interim[1] = byte2;\n                    this.interim[2] = byte3;\n                    return size;\n                }\n                byte4 = input[i++];\n                if ((byte4 & 0xC0) !== 0x80) {\n                    i--;\n                    continue;\n                }\n                codepoint = (byte1 & 0x07) << 18 | (byte2 & 0x3F) << 12 | (byte3 & 0x3F) << 6 | (byte4 & 0x3F);\n                if (codepoint < 0x010000 || codepoint > 0x10FFFF) {\n                    continue;\n                }\n                target[size++] = codepoint;\n            }\n            else {\n            }\n        }\n        return size;\n    };\n    return Utf8ToUtf32;\n}());\nexports.Utf8ToUtf32 = Utf8ToUtf32;\n//# sourceMappingURL=TextDecoder.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/input/TextDecoder.js\n// module id = 409\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceMappingURL=BaseCharAtlas.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/BaseCharAtlas.js\n// module id = 410\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../../common/Types\");\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceMappingURL=CharAtlasUtils.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/CharAtlasUtils.js\n// module id = 411\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = require(\"./common/CircularList\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar BufferReflow_1 = require(\"./core/buffer/BufferReflow\");\nvar Marker_1 = require(\"./core/buffer/Marker\");\nexports.MAX_BUFFER_SIZE = 4294967295;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.savedCurAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.markers = [];\n        this._nullCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.NULL_CELL_CHAR, BufferLine_1.NULL_CELL_WIDTH, BufferLine_1.NULL_CELL_CODE]);\n        this._whitespaceCell = BufferLine_1.CellData.fromCharData([0, BufferLine_1.WHITESPACE_CELL_CHAR, BufferLine_1.WHITESPACE_CELL_WIDTH, BufferLine_1.WHITESPACE_CELL_CODE]);\n        this._cols = this._terminal.cols;\n        this._rows = this._terminal.rows;\n        this.clear();\n    }\n    Buffer.prototype.getNullCell = function (attr) {\n        if (attr) {\n            this._nullCell.fg = attr.fg;\n            this._nullCell.bg = attr.bg;\n        }\n        else {\n            this._nullCell.fg = 0;\n            this._nullCell.bg = 0;\n        }\n        return this._nullCell;\n    };\n    Buffer.prototype.getWhitespaceCell = function (attr) {\n        if (attr) {\n            this._whitespaceCell.fg = attr.fg;\n            this._whitespaceCell.bg = attr.bg;\n        }\n        else {\n            this._whitespaceCell.fg = 0;\n            this._whitespaceCell.bg = 0;\n        }\n        return this._whitespaceCell;\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        return new BufferLine_1.BufferLine(this._terminal.cols, this.getNullCell(attr), isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = BufferLine_1.DEFAULT_ATTR_DATA;\n            }\n            var i = this._rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._cols < newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n            var addToY = 0;\n            if (this._rows < newRows) {\n                for (var y = this._rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n        if (this._isReflowEnabled) {\n            this._reflow(newCols, newRows);\n            if (this._cols > newCols) {\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, nullCell);\n                }\n            }\n        }\n        this._cols = newCols;\n        this._rows = newRows;\n    };\n    Object.defineProperty(Buffer.prototype, \"_isReflowEnabled\", {\n        get: function () {\n            return this._hasScrollback && !this._terminal.options.windowsMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._reflow = function (newCols, newRows) {\n        if (this._cols === newCols) {\n            return;\n        }\n        if (newCols > this._cols) {\n            this._reflowLarger(newCols, newRows);\n        }\n        else {\n            this._reflowSmaller(newCols, newRows);\n        }\n    };\n    Buffer.prototype._reflowLarger = function (newCols, newRows) {\n        var toRemove = BufferReflow_1.reflowLargerGetLinesToRemove(this.lines, this._cols, newCols, this.ybase + this.y, this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n        if (toRemove.length > 0) {\n            var newLayoutResult = BufferReflow_1.reflowLargerCreateNewLayout(this.lines, toRemove);\n            BufferReflow_1.reflowLargerApplyNewLayout(this.lines, newLayoutResult.layout);\n            this._reflowLargerAdjustViewport(newCols, newRows, newLayoutResult.countRemoved);\n        }\n    };\n    Buffer.prototype._reflowLargerAdjustViewport = function (newCols, newRows, countRemoved) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var viewportAdjustments = countRemoved;\n        while (viewportAdjustments-- > 0) {\n            if (this.ybase === 0) {\n                if (this.y > 0) {\n                    this.y--;\n                }\n                if (this.lines.length < newRows) {\n                    this.lines.push(new BufferLine_1.BufferLine(newCols, nullCell));\n                }\n            }\n            else {\n                if (this.ydisp === this.ybase) {\n                    this.ydisp--;\n                }\n                this.ybase--;\n            }\n        }\n    };\n    Buffer.prototype._reflowSmaller = function (newCols, newRows) {\n        var nullCell = this.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA);\n        var toInsert = [];\n        var countToInsert = 0;\n        for (var y = this.lines.length - 1; y >= 0; y--) {\n            var nextLine = this.lines.get(y);\n            if (!nextLine || !nextLine.isWrapped && nextLine.getTrimmedLength() <= newCols) {\n                continue;\n            }\n            var wrappedLines = [nextLine];\n            while (nextLine.isWrapped && y > 0) {\n                nextLine = this.lines.get(--y);\n                wrappedLines.unshift(nextLine);\n            }\n            var absoluteY = this.ybase + this.y;\n            if (absoluteY >= y && absoluteY < y + wrappedLines.length) {\n                continue;\n            }\n            var lastLineLength = wrappedLines[wrappedLines.length - 1].getTrimmedLength();\n            var destLineLengths = BufferReflow_1.reflowSmallerGetNewLineLengths(wrappedLines, this._cols, newCols);\n            var linesToAdd = destLineLengths.length - wrappedLines.length;\n            var trimmedLines = void 0;\n            if (this.ybase === 0 && this.y !== this.lines.length - 1) {\n                trimmedLines = Math.max(0, this.y - this.lines.maxLength + linesToAdd);\n            }\n            else {\n                trimmedLines = Math.max(0, this.lines.length - this.lines.maxLength + linesToAdd);\n            }\n            var newLines = [];\n            for (var i = 0; i < linesToAdd; i++) {\n                var newLine = this.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA, true);\n                newLines.push(newLine);\n            }\n            if (newLines.length > 0) {\n                toInsert.push({\n                    start: y + wrappedLines.length + countToInsert,\n                    newLines: newLines\n                });\n                countToInsert += newLines.length;\n            }\n            wrappedLines.push.apply(wrappedLines, newLines);\n            var destLineIndex = destLineLengths.length - 1;\n            var destCol = destLineLengths[destLineIndex];\n            if (destCol === 0) {\n                destLineIndex--;\n                destCol = destLineLengths[destLineIndex];\n            }\n            var srcLineIndex = wrappedLines.length - linesToAdd - 1;\n            var srcCol = lastLineLength;\n            while (srcLineIndex >= 0) {\n                var cellsToCopy = Math.min(srcCol, destCol);\n                wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol - cellsToCopy, destCol - cellsToCopy, cellsToCopy, true);\n                destCol -= cellsToCopy;\n                if (destCol === 0) {\n                    destLineIndex--;\n                    destCol = destLineLengths[destLineIndex];\n                }\n                srcCol -= cellsToCopy;\n                if (srcCol === 0) {\n                    srcLineIndex--;\n                    var wrappedLinesIndex = Math.max(srcLineIndex, 0);\n                    srcCol = BufferReflow_1.getWrappedLineTrimmedLength(wrappedLines, wrappedLinesIndex, this._cols);\n                }\n            }\n            for (var i = 0; i < wrappedLines.length; i++) {\n                if (destLineLengths[i] < newCols) {\n                    wrappedLines[i].setCell(destLineLengths[i], nullCell);\n                }\n            }\n            var viewportAdjustments = linesToAdd - trimmedLines;\n            while (viewportAdjustments-- > 0) {\n                if (this.ybase === 0) {\n                    if (this.y < newRows - 1) {\n                        this.y++;\n                        this.lines.pop();\n                    }\n                    else {\n                        this.ybase++;\n                        this.ydisp++;\n                    }\n                }\n                else {\n                    if (this.ybase < Math.min(this.lines.maxLength, this.lines.length + countToInsert) - newRows) {\n                        if (this.ybase === this.ydisp) {\n                            this.ydisp++;\n                        }\n                        this.ybase++;\n                    }\n                }\n            }\n        }\n        if (toInsert.length > 0) {\n            var insertEvents = [];\n            var originalLines = [];\n            for (var i = 0; i < this.lines.length; i++) {\n                originalLines.push(this.lines.get(i));\n            }\n            var originalLinesLength = this.lines.length;\n            var originalLineIndex = originalLinesLength - 1;\n            var nextToInsertIndex = 0;\n            var nextToInsert = toInsert[nextToInsertIndex];\n            this.lines.length = Math.min(this.lines.maxLength, this.lines.length + countToInsert);\n            var countInsertedSoFar = 0;\n            for (var i = Math.min(this.lines.maxLength - 1, originalLinesLength + countToInsert - 1); i >= 0; i--) {\n                if (nextToInsert && nextToInsert.start > originalLineIndex + countInsertedSoFar) {\n                    for (var nextI = nextToInsert.newLines.length - 1; nextI >= 0; nextI--) {\n                        this.lines.set(i--, nextToInsert.newLines[nextI]);\n                    }\n                    i++;\n                    insertEvents.push({\n                        index: originalLineIndex + 1,\n                        amount: nextToInsert.newLines.length\n                    });\n                    countInsertedSoFar += nextToInsert.newLines.length;\n                    nextToInsert = toInsert[++nextToInsertIndex];\n                }\n                else {\n                    this.lines.set(i, originalLines[originalLineIndex--]);\n                }\n            }\n            var insertCountEmitted = 0;\n            for (var i = insertEvents.length - 1; i >= 0; i--) {\n                insertEvents[i].index += insertCountEmitted;\n                this.lines.onInsertEmitter.fire(insertEvents[i]);\n                insertCountEmitted += insertEvents[i].amount;\n            }\n            var amountToTrim = Math.max(0, originalLinesLength + countToInsert - this.lines.maxLength);\n            if (amountToTrim > 0) {\n                this.lines.onTrimEmitter.fire(amountToTrim);\n            }\n        }\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex, trimRight) {\n        if (trimRight === void 0) { trimRight = false; }\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                return [-1, -1];\n            }\n            var length_1 = (trimRight) ? line.getTrimmedLength() : line.length;\n            for (var i = 0; i < length_1; ++i) {\n                if (line.get(i)[BufferLine_1.CHAR_DATA_WIDTH_INDEX]) {\n                    stringIndex -= line.get(i)[BufferLine_1.CHAR_DATA_CHAR_INDEX].length || 1;\n                }\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        return line.translateToString(trimRight, startCol, endCol);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._cols)\n            ;\n        return x >= this._cols ? this._cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker_1.Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.onTrim(function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(this.lines.onInsert(function (event) {\n            if (marker.line >= event.index) {\n                marker.line += event.amount;\n            }\n        }));\n        marker.register(this.lines.onDelete(function (event) {\n            if (marker.line >= event.index && marker.line < event.index + event.amount) {\n                marker.dispose();\n            }\n            if (marker.line > event.index) {\n                marker.line -= event.amount;\n            }\n        }));\n        marker.register(marker.onDispose(function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, this._trimRight);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceMappingURL=Buffer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Buffer.js\n// module id = 413\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceMappingURL=CharWidth.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/CharWidth.js\n// module id = 414\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderCoordinator) {\n        this._renderCoordinator = _renderCoordinator;\n    }\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        var rect = element.getBoundingClientRect();\n        return [event.clientX - rect.left, event.clientY - rect.top];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderCoordinator.dimensions.actualCellWidth / 2 : 0)) / this._renderCoordinator.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderCoordinator.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceMappingURL=MouseHelper.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/MouseHelper.js\n// module id = 415\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._mouseLeaveListener = function (e) { return _this._onMouseLeave(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('mouseleave', this._mouseLeaveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        this._initialSelectionLength = this._terminal.getSelection().length;\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onMouseLeave = function (e) {\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        var currentSelectionLength = this._terminal.getSelection().length;\n        if (zone && currentSelectionLength === this._initialSelectionLength) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceMappingURL=MouseZoneManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/MouseZoneManager.js\n// module id = 416\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\nfunction concat(a, b) {\n    var result = new a.constructor(a.length + b.length);\n    result.set(a);\n    result.set(b, a.length);\n    return result;\n}\nexports.concat = concat;\n//# sourceMappingURL=TypedArrayUtils.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/TypedArrayUtils.js\n// module id = 417\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar JoinedCellData = (function (_super) {\n    __extends(JoinedCellData, _super);\n    function JoinedCellData(firstCell, chars, width) {\n        var _this = _super.call(this) || this;\n        _this.content = 0;\n        _this.combinedData = '';\n        _this.fg = firstCell.fg;\n        _this.bg = firstCell.bg;\n        _this.combinedData = chars;\n        _this._width = width;\n        return _this;\n    }\n    JoinedCellData.prototype.isCombined = function () {\n        return 2097152;\n    };\n    JoinedCellData.prototype.getWidth = function () {\n        return this._width;\n    };\n    JoinedCellData.prototype.getChars = function () {\n        return this.combinedData;\n    };\n    JoinedCellData.prototype.getCode = function () {\n        return 0x1FFFFF;\n    };\n    JoinedCellData.prototype.setFromCharData = function (value) {\n        throw new Error('not implemented');\n    };\n    JoinedCellData.prototype.getAsCharData = function () {\n        return [this.fg, this.getChars(), this.getWidth(), this.getCode()];\n    };\n    return JoinedCellData;\n}(BufferLine_1.AttributeData));\nexports.JoinedCellData = JoinedCellData;\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = line.translateToString(true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttrFG = line.getFg(0);\n        var rangeAttrBG = line.getBg(0);\n        for (var x = 0; x < line.getTrimmedLength(); x++) {\n            line.loadCell(x, this._workCell);\n            if (this._workCell.getWidth() === 0) {\n                continue;\n            }\n            if (this._workCell.fg !== rangeAttrFG || this._workCell.bg !== rangeAttrBG) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttrFG = this._workCell.fg;\n                rangeAttrBG = this._workCell.bg;\n            }\n            currentStringIndex += this._workCell.getChars().length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var width = line.getWidth(x);\n            var length_1 = line.getString(x).length || BufferLine_1.WHITESPACE_CELL_CHAR.length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceMappingURL=CharacterJoinerRegistry.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/CharacterJoinerRegistry.js\n// module id = 418\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar DynamicCharAtlas_1 = require(\"./DynamicCharAtlas\");\nvar NoneCharAtlas_1 = require(\"./NoneCharAtlas\");\nvar StaticCharAtlas_1 = require(\"./StaticCharAtlas\");\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                entry.atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache[i].atlas.dispose();\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceMappingURL=CharAtlasCache.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/CharAtlasCache.js\n// module id = 419\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = require(\"../../common/Platform\");\nvar Types_1 = require(\"./Types\");\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'middle';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight / 2);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight * 1.5);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y + cellHeight / 2);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceMappingURL=CharAtlasGenerator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/CharAtlasGenerator.js\n// module id = 420\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n            throw new Error('Could not get rendering context');\n        }\n        this._ctx = ctx;\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        if (theme === void 0) { theme = {}; }\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (css === undefined) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceMappingURL=ColorManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/ui/ColorManager.js\n// module id = 421\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_renderCallback) {\n        this._renderCallback = _renderCallback;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = undefined;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd, rowCount) {\n        var _this = this;\n        this._rowCount = rowCount;\n        rowStart = rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== undefined ? rowEnd : this._rowCount - 1;\n        this._rowStart = this._rowStart !== undefined ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = this._rowEnd !== undefined ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        if (this._rowStart === undefined || this._rowEnd === undefined || this._rowCount === undefined) {\n            return;\n        }\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._rowCount - 1);\n        this._renderCallback(this._rowStart, this._rowEnd);\n        this._rowStart = undefined;\n        this._rowEnd = undefined;\n        this._animationFrame = undefined;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceMappingURL=RenderDebouncer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/ui/RenderDebouncer.js\n// module id = 422\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._currentDevicePixelRatio = window.devicePixelRatio;\n        return _this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            if (!_this._listener) {\n                return;\n            }\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (!this._resolutionMediaMatchList || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia(\"screen and (resolution: \" + window.devicePixelRatio + \"dppx)\");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._resolutionMediaMatchList || !this._listener || !this._outerListener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._resolutionMediaMatchList = undefined;\n        this._listener = undefined;\n        this._outerListener = undefined;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceMappingURL=ScreenDprMonitor.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/ui/ScreenDprMonitor.js\n// module id = 423\n// module chunks = 2","<template>\n  <v-container fluid grid-list-xl>\n    <!-- this block is for demo.lxdmanager.com -->\n    <!--\n    <v-layout justify-center row>\n      <blockquote class=\"blockquote\">Console interaction not working in demo because of security reasons</blockquote>\n    </v-layout>\n    -->\n    <v-layout justify-center row>\n        <v-btn\n            :disabled=\"isRunning\"\n            fab\n            class=\"grey lighten-2 black--text\"\n            style=\"bottom: 1px;\"\n            :loading=\"loading\"\n            @click.native=\"OpenTerminal()\"\n          >\n          <div v-if=\"getButtonState\">\n            Close console\n          </div>\n          <div v-else>\n            Open console\n          </div>\n        </v-btn>\n    </v-layout>\n    <v-layout justify-center row>\n      <v-flex xl10 lg10 md10 sm10 xs12 offset-(xl1|lg1|md1)>\n        <div id=\"terminal\"></div>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n<script>\n  import _ from 'lodash';\n  import { Terminal } from 'xterm';\n  import * as fit from 'xterm/lib/addons/fit/fit';\n  import 'xterm/dist/xterm.css';\n  import storage from '../../libraries/utils/storage';\n\n  export default {\n    components: {},\n    data() {\n      return {\n        loading: false,\n        disableButton: true,\n        openedTerminal: false,\n        wsocked: null,\n        xTerm: null\n      };\n    },\n    computed: {\n      id() {\n        return Number(this.$route.params.id);\n      },\n      instance() {\n        return this.$store.getters.instanceDataId(this.id);\n      },\n      status() {\n        return this.instance.status;\n      },\n      isRunning() {\n        return this.instance.status !== 'RUNNING';\n      },\n      getButtonState() {\n        if (!this.disableButton && !this.openedTerminal) {\n          return false;\n        }\n        return true;\n      }\n    },\n    beforeUpdate() {\n      if (this.status === 'RUNNING') {\n        this.disableButton = false;\n      } else {\n        this.disableButton = true;\n      }\n    },\n    mounted() {\n      if (this.status === 'RUNNING') {\n        this.disableButton = false;\n      }\n    },\n    methods: {\n      /**\n       *\n       */\n\n      OpenTerminal() {\n        if (this.openedTerminal) {\n          this.wsocked.close();\n          this.xTerm.destroy();\n          this.openedTerminal = false;\n        } else {\n          this.$store.dispatch('openInstanceTerminal', this.id);\n          // console.log(this.$store.state);\n          // console.log(process.env.API_BASE_WS_URL);\n          this.openedTerminal = true;\n          this.loading = true;\n          setTimeout(() => {\n            const term = this.$store.state.instances.terminal;\n            this.WebSocketTest(term);\n            this.loading = false;\n          }, 2000);\n        }\n      },\n\n      WebSocketTest(term) {\n        // const operationId = term.operationId;\n        // const secret = term.secret;\n        const operationId = term.metadata.id;\n        const secret = term.metadata.metadata.fds[0];\n        // console.log(secret);\n        const wsUrl = storage.getItem('API_BASE_WS_URL');\n\n        // var width = 100\n        const height = Math.max(Math.round(window.innerHeight / 39.0), 15);\n\n        Terminal.applyAddon(fit);\n        const xterm = new Terminal({\n          useStyle: false,\n          screenKeys: false,\n          cursorBlink: true\n        });\n\n        if ('WebSocket' in window) {\n          // alert('WebSocket is supported by your Browser!');\n          console.log('WebSocket is supported by your Browser!');\n          // Let us open a web socket\n          // const wssurl2 = 'wss://127.0.0.1:8443/1.0/operations/7bd31bce-c7b5-4a34-a90c-328b2b67841e/websocket?secret=231c068d3a5278529a7e497c21d96389a4911c42e51152c520b3ff1d591008a0';\n          // console.log(`${wsUrl}/1.0/operations/${operationId}/websocket?secret=${secret}`);\n          // const wssurl = 'ws://127.0.0.1:8444';\n          const wssurl = `${wsUrl}/1.0/operations/${operationId}/websocket?secret=${secret}`;\n          // const wssurl = `${wsUrl}${termWs}`;\n          // console.log(wssurl);\n          const ws = new WebSocket(wssurl);\n          this.wsocked = ws;\n          this.xTerm = xterm;\n          console.log(wssurl);\n\n          ws.binaryType = 'Blob';\n          ws.onopen = () => {\n            // Web Socket is connected, send data using send()\n            // ws.send('Message to send');\n            console.log('Open xterm ...');\n            xterm.open(document.getElementById('terminal'));\n\n            xterm.resize(0, height);\n            xterm.fit();\n            xterm.focus();\n            //\n            window.addEventListener('resize', _.debounce(() => {\n              const heightx = Math.max(Math.round(window.innerHeight / 39.0), 15);\n              xterm.resize(0, heightx);\n              xterm.fit();\n            }, 300));\n            //\n\n            // comment this lines to protect sending data on demo.lxdmanager.com\n            xterm.on('data', (data) => {\n              // console.log('Send data');\n              // console.log(data);\n              ws.send(new Blob([data]));\n            });\n            //\n            ws.onmessage = (msg) => {\n              if (msg.data instanceof Blob) {\n                const reader = new FileReader();\n                reader.addEventListener('loadend', () => {\n                  xterm.write(reader.result);\n                });\n                // console.log(msg.data);\n                reader.readAsBinaryString(msg.data);\n              } else {\n                xterm.write(msg.data);\n                // console.log('no');\n              }\n            };\n            //\n            ws.onclose = () => {\n              xterm.destroy();\n              this.openedTerminal = false;\n              // window.close()\n            };\n          };\n\n          ws.onerror = () => {\n            xterm.writeln('An error occured, press enter to close window.');\n            // window.close()\n            xterm.destroy();\n            this.openedTerminal = false;\n          };\n        } else {\n          // The browser doesn't support WebSocket\n          console.log('WebSocket NOT supported by your Browser!');\n        }\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Console.vue?75d6d12a","<template>\n   <v-container fluid grid-list-xl>\n     <v-btn\n              absolute\n              dark\n              fab\n              top\n              right\n              small\n              color=\"blue\"\n              @click=\"refreshData\"\n            >\n              <v-icon>refresh</v-icon>\n            </v-btn>\n    <v-layout row>\n      <v-flex xl3 lg3 md3 sm6 xs12>\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('instances.config.general') }}</v-subheader>\n          <v-list-item two-line>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.name') }}</v-list-item-title>\n              <v-list-item-subtitle>{{ instance.name }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.created') }}</v-list-item-title>\n              <v-list-item-subtitle>{{ formatDate(instance.created_at) }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.status') }}</v-list-item-title>\n              <v-list-item-subtitle >{{ instance.status}}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-flex>\n      <v-flex xl3 lg3 md3 sm6 xs12>\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('instances.config.system') }}</v-subheader>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.os') }}</v-list-item-title>\n              <v-list-item-subtitle v-if=\"config.image_os\">{{ config.image_os }}</v-list-item-subtitle>\n              <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.os_release') }}</v-list-item-title>\n              <v-list-item-subtitle v-if=\"config.image_release\">{{ config.image_release }}</v-list-item-subtitle>\n              <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.os_version') }}</v-list-item-title>\n              <v-list-item-subtitle v-if=\"config.image_version\">{{ config.image_version }}</v-list-item-subtitle>\n              <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-flex>\n      <v-flex xl3 lg3 md3 sm6 xs12>\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('instances.config.limits') }}</v-subheader>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.cpu') }}</v-list-item-title>\n                <v-list-item-subtitle v-if=\"config.limits_cpu\">{{ config.limits_cpu }}</v-list-item-subtitle>\n                <v-list-item-subtitle v-else>No limit set</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.memory') }}</v-list-item-title>\n                <v-list-item-subtitle v-if=\"config.limits_memory\">{{ config.limits_memory }}</v-list-item-subtitle>\n                <v-list-item-subtitle v-else>No limit set</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item v-if=\"showDisk\">\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.disk') }}</v-list-item-title>\n                <v-list-item-subtitle v-if=\"config.limits_disk !== '0'\">{{ config.limits_disk }}</v-list-item-subtitle>\n                <v-list-item-subtitle v-else>No limit set</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-flex>\n      <v-flex xl3 lg3 md3 sm6 xs12>\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('instances.config.network') }}</v-subheader>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>IPv4</v-list-item-title>\n                <v-list-item-subtitle v-if=\"ips[0]\">{{ ips[0].address }}</v-list-item-subtitle>\n                <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>IPv6</v-list-item-title>\n              <v-list-item-subtitle v-if=\"ips[1]\">{{ ips[1].address }}</v-list-item-subtitle>\n              <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n          <v-list-item v-if=\"showPrice\">\n            <v-list-item-content>\n              <v-list-item-title>{{ $t('instances.config.price') }}</v-list-item-title>\n              <v-list-item-subtitle v-if=\"config.user_price\">{{ config.user_price }}</v-list-item-subtitle>\n              <v-list-item-subtitle v-else>-</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-flex>\n    </v-layout>\n    <v-layout row justify-center align-bottom>\n      <template v-for=\"button in availableButtons\">\n          <v-btn\n          :loading=\"loading\"\n          :disabled=\"button.disable\"\n          :color=\"button.color\"\n          class=\"white--text\"\n          @click.prevent=\"button.action(id)\"\n        >\n          <v-icon dark>{{ button.icon }} </v-icon>\n        {{ button.name }}\n        </v-btn>\n      </template>\n    </v-layout>\n   </v-container>\n</template>\n\n<script>\n  import { mapActions } from 'vuex';\n  import { RUNNING, STOPPED, FROZEN } from '../../libraries/utils/states';\n  // import Loader from '../../components/Loader';\n\n  export default {\n    name: 'tab-info',\n    props: ['id'],\n    data() {\n      return {\n        buttons: [\n          {\n            name: this.$t('instances.actions.start'),\n            icon: 'play_arrow',\n            action: this.startInstance,\n            showWhen: [STOPPED],\n            color: 'green',\n            disable: true\n          },\n          {\n            name: this.$t('instances.actions.unfreeze'),\n            icon: 'play_circle_outline',\n            action: this.unfreezeInstance,\n            showWhen: [FROZEN],\n            color: 'blue',\n            disable: true\n          },\n          {\n            name: this.$t('instances.actions.freeze'),\n            icon: 'pause_circle_outline',\n            action: this.freezeInstance,\n            showWhen: [RUNNING],\n            color: 'blue-grey',\n            disable: true\n          },\n          {\n            name: this.$t('instances.actions.stop'),\n            icon: 'stop',\n            action: this.stopInstance,\n            showWhen: [RUNNING, FROZEN],\n            color: 'red',\n            disable: true\n          },\n          {\n            name: this.$t('instances.actions.stopforce'),\n            icon: 'power_settings_new',\n            action: this.stopforceInstance,\n            showWhen: [RUNNING, FROZEN],\n            color: 'red',\n            disable: true\n          },\n          {\n            name: this.$t('instances.actions.restart'),\n            icon: 'replay',\n            action: this.restartInstance,\n            showWhen: [RUNNING, FROZEN],\n            color: 'orange',\n            disable: true\n          }\n        ]\n      };\n    },\n    computed: {\n      active: {\n        get() {\n          return this.$store.state.instances.dialogs.info !== null;\n          // return this.value;\n        },\n        set(value) {\n          if (!value) {\n            this.$store.dispatch('closeInstanceInfoDialog');\n          }\n          // this.$emit('input', value);\n        }\n      },\n      availableButtons() {\n        this.buttons.filter(button => this.disableButton(button));\n        return this.buttons;\n      },\n      id() {\n        // return Number(this.$route.params.id);\n        // console.log(this.$props);\n        return Number(this.$props.id);\n      },\n      instance() {\n        if (this.id) {\n          // console.log(this.$store.getters.instanceDataId(this.id));\n          console.log(this.id);\n          return this.$store.getters.instanceDataId(this.id);\n        }\n        return null;\n      },\n      config() {\n        // console.log(this.instance.config);\n        return this.instance.config ? this.instance.config : '';\n      },\n      ips() {\n        // console.log(this.instance);\n        return this.instance.ips ? this.instance.ips : '';\n      },\n      status() {\n        return this.instance.status;\n      },\n      loading() {\n        return this.$store.getters.instanceIsLoading(this.id);\n      },\n      showPrice() {\n        return this.$store.getters.appconfig.price.enabled === 'True';\n      },\n      showDisk() {\n        return this.$store.getters.appconfig.storage.enabled === 'True';\n      }\n    },\n    methods: {\n      ...mapActions([\n        'startInstance',\n        'stopInstance',\n        'freezeInstance',\n        'stopforceInstance',\n        'restartInstance',\n        'unfreezeInstance',\n        'fetchInstance'\n      ]),\n      disableButton(button) {\n        // console.log(this.buttons.indexOf(button));\n        const x = this.buttons.indexOf(button);\n        if (button.showWhen.includes(this.status)) {\n          // console.log(x);\n          // console.log(this.buttons[0]);\n          // console.log(this.buttons[x]);\n          this.buttons[x].disable = false;\n        } else {\n          this.buttons[x].disable = true;\n        }\n        return button;\n      },\n      refreshData() {\n        // this.$store.dispatch('fetchInstances');\n        // this.fetchInstances();\n        // console.log(this.id);\n        this.$store.dispatch('fetchInstance', this.id);\n        // console.log(this.$store.getters.instancesTableData);\n      },\n      formatDate(date) {\n        const d = new Date(date);\n        return d.toDateString();\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Info.vue?3ffae7c7","<template>\n  <v-container fluid>\n  <v-layout row>\n    <v-flex class=\"text-md-center mt-3 mb-3\">\n    <v-btn\n      color=\"secondary\"\n      :loading=\"loading\"\n      @click.stop=\"dialog_upgrade = true\"\n      :disabled=\"loading\"\n    >\n      {{ $t('instances.actions.upgrade') }}\n    </v-btn>\n\n    <v-btn\n      :loading=\"loading3\"\n      @click.stop=\"dialog_clone = true\"\n      :disabled=\"loading3\"\n      color=\"blue-grey\"\n      class=\"white--text\"\n    >\n      {{ $t('instances.actions.clone') }}\n      <v-icon right dark>cloud_upload</v-icon>\n    </v-btn>\n    <v-btn\n      :loading=\"loading3\"\n      @click.stop=\"dialog_destroy = true\"\n      :disabled=\"loading3\"\n      color=\"red\"\n      class=\"white--text\"\n    >\n      {{ $t('instances.actions.destroy') }}\n      <v-icon right dark>delete</v-icon>\n    </v-btn>\n  </v-flex>\n  </v-layout>\n  <v-layout row justify-center>\n    <v-dialog v-model=\"dialog_destroy\" max-width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline\">{{$t('instances.actions.destroy')}}</v-card-title>\n\n        <v-card-text>\n          {{$t('instances.order.destroy_instance.label')}}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"dialog_destroy = false\"\n          >\n            {{$t('actions.disagree')}}\n          </v-btn>\n\n          <v-btn\n            color=\"red darken-1\"\n            text\n            @click.native=\"dialog_destroy = false\"\n            @click=\"sendRequestDestroy\"\n          >\n            {{$t('actions.agree')}}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n  <v-layout row justify-center>\n    <v-dialog v-model=\"dialog_clone\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{$t('instances.actions.clone')}}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12>\n                <v-text-field :label=\"$t('instances.order.instance_name.label')\" disabled :value=instanceName></v-text-field>\n              </v-flex>\n              <v-flex xs12>\n                <v-text-field :label=\"$t('instances.order.instance_clone_name.label')\" v-model=\"instanceClone\"></v-text-field>\n              </v-flex>\n              <!---<v-flex xs12 sm6>\n                <v-select\n                  :items=\"['week', 'month', 'unlimited']\"\n                  v-model=\"cperiod\"\n                  label=\"Time period\"\n                  required\n                ></v-select>\n              </v-flex>-->\n            </v-layout>\n          </v-container>\n          <small>*indicates required field</small>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click.native=\"dialog_clone = false\">{{$t('actions.close')}}</v-btn>\n          <v-btn color=\"blue darken-1\" text @click.native=\"dialog_clone = false\" @click=\"sendRequestClone\">{{$t('actions.create')}}</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n  <v-layout row justify-center>\n    <v-dialog v-model=\"dialog_upgrade\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{$t('instances.actions.upgrade')}}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12>\n                <v-text-field :label=\"$t('instances.order.instance_name.label')\" disabled :value=instanceName></v-text-field>\n              </v-flex>\n              <v-flex xs10>\n                <v-slider min=\"1\" max=\"4\" step=\"1\" v-model=\"cpu\" label=\"CPUs\"></v-slider>\n              </v-flex>\n              <v-flex xs2>\n                <v-text-field v-model=\"cpu\" type=\"CPUs\" suffix=\"CPUs\"></v-text-field>\n              </v-flex>\n              <v-flex xs10>\n                <v-slider min=\"512\" max=\"8172\" step=\"512\" v-model=\"memory\" label=\"RAM\"></v-slider>\n              </v-flex>\n              <v-flex xs2>\n                <v-text-field v-model=\"memory\" type=\"MB\" suffix=\"MB\"></v-text-field>\n              </v-flex>\n              <v-flex xs10>\n                <v-slider v-if=\"diskEnabled\" min=\"10\" max=\"160\" step=\"10\" v-model=\"disk\" label=\"Disk\"></v-slider>\n              </v-flex>\n              <v-flex xs2>\n                <v-text-field v-if=\"diskEnabled\" v-model=\"disk\" type=\"Disk\" suffix=\"GB\"></v-text-field>\n              </v-flex>\n              <template v-if=\"showPrice\">\n                <v-flex xs3>\n                  <v-subheader>{{ $t('instances.order.payment_period.label') }}</v-subheader>\n                </v-flex>\n                <v-flex xs3>\n                  <v-select\n                    :items=periodes\n                    v-model=\"period\"\n                    label=\"Period\"\n                  ></v-select>\n                </v-flex>\n                <v-flex xs4>\n                  <v-subheader>{{ $t('instances.order.calculated_price.label') }}</v-subheader>\n                </v-flex>\n                <v-flex xs2>\n                  <v-text-field\n                    label=\"Price\"\n                    :value=\"price\"\n                    suffix=\"€\"\n                  ></v-text-field>\n                </v-flex>\n              </template>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn color=\"blue darken-1\" text @click=\"getInstanceConfig\">Reset</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click.native=\"dialog_upgrade = false\">{{$t('actions.close')}}</v-btn>\n          <v-btn color=\"blue darken-1\" text @click.native=\"dialog_upgrade = false\" @click=\"sendRequestUpgrade\">{{$t('actions.create')}}</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-layout>\n  </v-container>\n</template>\n\n<script>\n\n  export default {\n    name: 'tab-info',\n    data() {\n      return {\n        dialog_clone: false,\n        dialog_destroy: false,\n        dialog_upgrade: false,\n        period: 1,\n        name: '',\n        cpu: '',\n        memory: '',\n        disk: '',\n        instanceClone: '',\n        cperiod: '',\n        periodes: [\n          { text: '1 Month', value: 1 },\n          { text: '3 Months', value: 1 },\n          { text: '6 Months', value: 0.95 },\n          { text: '12 Months', value: 0.90 },\n          { text: '24 Months', value: 0.80 }\n        ]\n      };\n    },\n    computed: {\n      id() {\n        return Number(this.$route.params.id);\n      },\n      instance() {\n        return this.$store.getters.instanceDataId(this.id);\n      },\n      instanceName() {\n        return this.instance.name;\n      },\n      instanceNameClone() {\n        const name = this.instance.name;\n        return name.concat('-clone');\n      },\n      me() {\n        return this.$store.getters['auth/me'];\n      },\n      showPrice() {\n        return this.$store.getters.appconfig.price.enabled === 'True';\n      },\n      getPrice() {\n        return this.$store.getters.appconfig.price;\n      },\n      getStorage() {\n        return this.$store.getters.appconfig.storage;\n      },\n      diskEnabled() {\n        return this.$store.getters.appconfig.storage.enabled === 'True';\n      },\n      canDelete() {\n        return this.me.abilities.includes('instances_delete');\n      },\n      canClone() {\n        return this.me.abilities.includes('instances_create');\n      },\n      canUpdate() {\n        return this.me.abilities.includes('instances_update');\n      },\n      price() {\n        const cpu = this.getPrice.cpu * this.cpu; // 1\n        const memory = this.getPrice.memory * this.memory; // 0.048\n        const disk = this.getPrice.disk * this.disk; // 0.150\n        const period = this.period;\n        const cmemory = (cpu + memory + disk) * period;\n        return cmemory.toFixed(2);\n      }\n    },\n    methods: {\n      getInstanceConfig() {\n        const config = this.instance.config;\n        this.name = this.instanceName;\n        // console.log(config);\n        this.cpu = config.limits_cpu > 1 ? config.limits_cpu : 1;\n        this.memory = config.limits_memory_mb > 512 ? config.limits_memory_mb : 512;\n        this.disk = config.limits_disk_gb > 10 ? config.limits_disk_gb : 10;\n      },\n      sendRequestUpgrade() {\n        if (this.canUpdate) {\n          this.$store.dispatch('upgradeInstance', { id: this.id, name: this.instanceName, cpu: this.cpu, memory: this.memory, disk: this.disk });\n          this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.instance_upgraded')}`, color: '' });\n        } else {\n          const data = {\n            id: this.id,\n            os: this.os,\n            cpu: this.cpu,\n            memory: `${this.memory}MB`,\n            disk: `${this.disk}GB`,\n            period: this.period,\n            price: this.price\n          };\n          this.$store.dispatch('createRequests', { action: 'upgrade', message: `Upgrade instance ${this.name}`, status: 'waiting', meta_data: data });\n          this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.instance_created')}`, color: '' });\n          this.active = false;\n        }\n      },\n      sendRequestClone() {\n        const data = {\n          instanceName: this.instanceName,\n          instanceClone: this.instanceClone,\n          cpu: this.instance.config.limits_cpu,\n          memory: this.instance.config.limits_memory,\n          disk: this.instance.config.limits_disk ? `${this.instance.config.limits_disk}GB` : '0GB'\n        };\n        if (this.canClone) {\n          this.$store.dispatch('cloneInstance', data);\n          this.$store.dispatch('notify', { id: 0, message: 'Your instance was cloned', color: '' });\n        } else {\n          this.$store.dispatch('createRequests', { action: 'clone', message: `Clone instance ${this.name}`, status: 'waiting', meta_data: data });\n          this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.request_created')}`, color: '' });\n          this.active = false;\n        }\n      },\n      sendRequestDestroy() {\n        if (this.canDelete) {\n          if (this.instance.status === 'STOPPED') {\n            this.$store.dispatch('deleteInstance', this.id);\n            this.$store.dispatch('notify', {\n              id: 0,\n              message: `${this.$i18n.t('notifications.instance_deleted')}`,\n              color: ''\n            });\n          } else {\n            this.$store.dispatch('notify', {\n              id: 0,\n              message: `${this.$i18n.t('notifications.instance_is_running')}`,\n              color: 'red'\n            });\n          }\n        } else {\n          const data = {\n            id: this.id,\n            name: this.instanceName\n          };\n          this.$store.dispatch('createRequests', { action: 'delete', message: `Delete instance ${this.name}`, status: 'waiting', meta_data: data });\n          this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.request_created')}`, color: '' });\n          this.active = false;\n        }\n      }\n    },\n    mounted() {\n      this.getInstanceConfig();\n      this.instanceClone = this.instanceNameClone;\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Settings.vue?ea27ba02","<template>\n  <div>\n<v-container fluid grid-list-xl>\n  <v-btn\n              absolute\n              dark\n              fab\n              top\n              right\n              small\n              color=\"blue\"\n              @click=\"refreshData\"\n            >\n              <v-icon>refresh</v-icon>\n            </v-btn>\n    <v-layout row>\n      <v-flex md3 offset-md1>\n        <v-btn @click=\"createItem()\" color=\"success\">{{ $t('instances.snapshots.create') }}</v-btn>\n      </v-flex>\n      <v-flex md8 >\n        <v-text-field\n          name=\"snapshot-name\"\n          :label=\"$t('instances.snapshots.name')\"\n          id=\"snapshot\"\n          v-model=\"snapshot_name\"\n        ></v-text-field>\n      </v-flex>\n    </v-layout>\n  <v-layout row>\n\n    <v-flex md12 offset-md0>\n      <v-data-table\n        v-if=\"items\"\n        :headers=\"headers\"\n        :items=\"items\"\n        :search=\"search\">\n        <template v-slot:item.actions=\"{ item }\">\n          <v-btn small @click=\"restoreAction(item)\" color=\"info\">{{ $t('instances.actions.restore') }}</v-btn>\n          <v-btn small @click=\"deleteAction(item)\" color=\"error\">{{ $t('instances.actions.delete') }}</v-btn>\n        </template>\n        <template v-slot:item.created_at=\"{ item }\">\n          {{ formatDate(item.created_at) }}\n        </template>\n      </v-data-table>\n    </v-flex>\n    <v-dialog v-model=\"dialog_destroy\" max-width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline\">{{$t('instances.order.delete_snapshot.title')}}</v-card-title>\n\n        <v-card-text>\n          {{$t('instances.order.delete_snapshot.text')}}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"dialog_destroy = false\"\n          >\n            {{$t('actions.disagree')}}\n          </v-btn>\n\n          <v-btn\n            color=\"red darken-1\"\n            text\n            @click.native=\"dialog_destroy = false\"\n            @click=\"deleteItem(action_item)\"\n          >\n            {{$t('actions.agree')}}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"dialog_restore\" max-width=\"500\">\n      <v-card>\n        <v-card-title class=\"headline\">{{$t('instances.order.restore_snapshot.title')}}</v-card-title>\n\n        <v-card-text>\n          {{$t('instances.order.restore_snapshot.text')}}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"dialog_restore = false\"\n          >\n            {{$t('actions.disagree')}}\n          </v-btn>\n\n          <v-btn\n            color=\"red darken-1\"\n            text\n            @click.native=\"dialog_restore = false\"\n            @click=\"restoreItem(action_item)\"\n          >\n            {{$t('actions.agree')}}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n</v-layout>\n</v-container>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'snapshots',\n    data() {\n      return {\n        dialog_destroy: false,\n        action_item: '',\n        dialog_restore: false,\n        snapshot_name: '',\n        search: '',\n        headers: [\n          {\n            text: this.$t('instances.snapshots.name'),\n            align: 'left',\n            value: 'name'\n          },\n          {\n            text: this.$t('instances.snapshots.date'),\n            align: 'left',\n            value: 'created_at'\n          },\n          {\n            text: this.$t('actions.name'),\n            align: 'right',\n            value: 'actions'\n          }\n        ],\n        items: []\n      };\n    },\n    computed: {\n      id() {\n        return Number(this.$route.params.id);\n      },\n      instance() {\n        return this.$store.getters.instanceDataId(this.id);\n      }\n    },\n    watch: {\n      dialog(val) {\n        return val || this.close();\n      }\n    },\n    created() {\n      this.initialize();\n    },\n    methods: {\n      initialize() {\n        this.items = this.$store.getters.snapshotsTableData;\n        // console.log(this.items);\n      },\n\n      formatDate(date) {\n        const d = new Date(date);\n        return d.toDateString();\n      },\n      deleteAction(item) {\n        this.dialog_destroy = true;\n        this.action_item = item;\n      },\n      deleteItem(item) {\n        const index = this.items.indexOf(item);\n        this.items.splice(index, 1);\n        // console.log(item);\n        this.$store.dispatch('deleteSnapshot', { id: this.id, name: item.name });\n        this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.snapshot_deleted')}`, color: '' });\n      },\n\n      restoreAction(item) {\n        this.dialog_restore = true;\n        this.action_item = item;\n      },\n      restoreItem(item) {\n        // console.log('item restored');\n        // console.log(item);\n        this.$store.dispatch('restoreSnapshot', { id: this.id, name: item.name });\n        this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.snapshot_restored')}`, color: '' });\n      },\n\n      createItem() {\n        if (this.snapshot_name !== '') {\n          const obj = {\n            value: false,\n            name: this.snapshot_name,\n            created_at: new Date(),\n            action: 'Restore, Delete',\n            stateful: 'false'\n          };\n\n          // console.log(new Date());\n          this.items.push(obj);\n          // this.$store.dispatch('createSnapshot', { id: this.id, name: item.name });\n          this.$store.dispatch('createSnapshot', { id: this.id, data: obj });\n          this.$store.dispatch('notify', { id: 0, message: `${this.$i18n.t('notifications.snapshot_created')}`, color: '' });\n        }\n      },\n\n      close() {\n        this.dialog = false;\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem);\n          this.editedIndex = -1;\n        }, 300);\n      },\n\n      refreshData() {\n        this.$store.dispatch('fetchSnapshots', this.id);\n        setTimeout(() => {\n          this.initialize();\n        }, 1500);\n      }\n    },\n    mounted() {\n      this.$store.dispatch('fetchSnapshots', this.id);\n      setTimeout(() => {\n        this.initialize();\n      }, 1500);\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Snapshots.vue?93d7e122","<template>\n    <v-container grid-list-md>\n  <v-tabs icons-and-text fixed-tabs>\n    <v-tab href=\"#tab-1\">\n      {{ $t('instances.tabs.info') }}\n      <v-icon>info</v-icon>\n    </v-tab>\n    <v-tab href=\"#tab-2\">\n      {{ $t('instances.tabs.console') }}\n      <v-icon>code</v-icon>\n    </v-tab>\n    <v-tab href=\"#tab-3\">\n      {{ $t('instances.tabs.settings') }}\n      <v-icon>settings</v-icon>\n    </v-tab>\n    <v-tab v-if=\"showSnapshots\" href=\"#tab-4\">\n      {{ $t('instances.tabs.snapshots') }}\n      <v-icon>photo_camera</v-icon>\n    </v-tab>\n    <v-tab-item\n      v-for=\"i in tabsLength\"\n      :key=\"i\"\n      :value=\"'tab-' + i\"\n    >\n      <v-card v-if=\"i === 1\" flat>\n         <tab-info v-bind=\"$props\"></tab-info>\n      </v-card>\n      <v-card v-if=\"i === 2\" flat>\n        <tab-console v-bind=\"$props\"></tab-console>\n      </v-card>\n      <v-card v-if=\"i === 3\" flat>\n        <tab-settings v-bind=\"$props\"></tab-settings>\n      </v-card>\n      <v-card v-if=\"i === 4\" flat>\n        <tab-snapshots v-bind=\"$props\"></tab-snapshots>\n      </v-card>\n    </v-tab-item>\n  </v-tabs>\n    </v-container>\n</template>\n\n<script>\n  import TabInfo from './Info';\n  import TabConsole from './Console';\n  import TabSnapshots from './Snapshots';\n  import TabSettings from './Settings';\n\n  export default {\n    name: 'tabs',\n    props: ['id'],\n    data() {\n      return {\n      };\n    },\n    components: {\n      'tab-info': TabInfo,\n      'tab-console': TabConsole,\n      'tab-snapshots': TabSnapshots,\n      'tab-settings': TabSettings\n    },\n    computed: {\n      tabsLength() {\n        return this.showSnapshots ? 4 : 3;\n      },\n      showSnapshots() {\n        return this.$store.getters.appconfig.storage.enabled === 'True';\n      }\n    },\n    mounted() {\n      // this.$store.dispatch('fetchInstances');\n      // console.log(this.$store.getters.instancesTableData);\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Tabs.vue?119c08bb","<template>\n  <div>\n    <tabs v-bind=\"$props\"></tabs>\n  </div>\n</template>\n\n<script>\n  import Tabs from '../../components/Instance/Tabs';\n\n  export default {\n    name: 'instances',\n    components: {\n      tabs: Tabs\n    },\n    props: ['id'],\n    data() {\n      return {\n\n      };\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Instance.vue?2e4a462f","exports = module.exports = require(\"../../css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".xterm{font-feature-settings:\\\"liga\\\" 0;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:10}.xterm .xterm-helper-textarea{position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-10;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm{cursor:text}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:100;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}\", \"\", {\"version\":3,\"sources\":[\"/home/michal/Codes/vue-dashboard/node_modules/xterm/dist/xterm.css\"],\"names\":[],\"mappings\":\"AAqCA,OACI,+BAAgC,AAChC,kBAAmB,AACnB,iBAAkB,AAClB,qBAAsB,AACtB,wBAA0B,CAC7B,AAED,0BAEI,YAAc,CACjB,AAED,sBACI,kBAAmB,AACnB,MAAO,AAKP,UAAY,CACf,AAED,8BAKI,kBAAmB,AACnB,UAAW,AACX,aAAc,AACd,MAAO,AACP,QAAS,AACT,SAAU,AACV,YAAa,AAEb,mBAAoB,AACpB,gBAAiB,AACjB,WAAa,CAChB,AAED,yBAEI,gBAAiB,AACjB,WAAY,AACZ,aAAc,AACd,kBAAmB,AACnB,mBAAoB,AACpB,SAAW,CACd,AAED,gCACI,aAAe,CAClB,AAED,uBAEI,sBAAuB,AACvB,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,QAAS,AACT,OAAQ,AACR,MAAO,AACP,QAAU,CACb,AAED,qBACI,iBAAmB,CACtB,AAED,4BACI,kBAAmB,AACnB,OAAQ,AACR,KAAO,CACV,AAED,0BACI,iBAAmB,CACtB,AAED,4BACI,qBAAsB,AACtB,kBAAmB,AACnB,kBAAmB,AACnB,MAAO,AACP,aAAc,AACd,kBAAoB,CACvB,AAED,OACI,WAAa,CAChB,AAED,2BAEI,cAAgB,CACnB,AAED,4BACI,cAAgB,CACnB,AAED,2BAEI,gBAAkB,CACrB,AAED,kDAEI,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,SAAU,AACV,QAAS,AACT,YAAa,AACb,iBAAmB,CACtB,AAED,oBACI,kBAAmB,AACnB,aAAc,AACd,UAAW,AACX,WAAY,AACZ,eAAiB,CACpB,AAED,WACI,UAAa,CAChB,AAED,iBACI,yBAA2B,CAC9B\",\"file\":\"xterm.css\",\"sourcesContent\":[\"/**\\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\\n * https://github.com/chjj/term.js\\n * @license MIT\\n *\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\n * of this software and associated documentation files (the \\\"Software\\\"), to deal\\n * in the Software without restriction, including without limitation the rights\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n * copies of the Software, and to permit persons to whom the Software is\\n * furnished to do so, subject to the following conditions:\\n *\\n * The above copyright notice and this permission notice shall be included in\\n * all copies or substantial portions of the Software.\\n *\\n * THE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n * THE SOFTWARE.\\n *\\n * Originally forked from (with the author's permission):\\n *   Fabrice Bellard's javascript vt100 for jslinux:\\n *   http://bellard.org/jslinux/\\n *   Copyright (c) 2011 Fabrice Bellard\\n *   The original design remains. The terminal itself\\n *   has been extended to include xterm CSI codes, among\\n *   other features.\\n */\\n\\n/**\\n *  Default styles for xterm.js\\n */\\n\\n.xterm {\\n    font-feature-settings: \\\"liga\\\" 0;\\n    position: relative;\\n    user-select: none;\\n    -ms-user-select: none;\\n    -webkit-user-select: none;\\n}\\n\\n.xterm.focus,\\n.xterm:focus {\\n    outline: none;\\n}\\n\\n.xterm .xterm-helpers {\\n    position: absolute;\\n    top: 0;\\n    /**\\n     * The z-index of the helpers must be higher than the canvases in order for\\n     * IMEs to appear on top.\\n     */\\n    z-index: 10;\\n}\\n\\n.xterm .xterm-helper-textarea {\\n    /*\\n     * HACK: to fix IE's blinking cursor\\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\\n     */\\n    position: absolute;\\n    opacity: 0;\\n    left: -9999em;\\n    top: 0;\\n    width: 0;\\n    height: 0;\\n    z-index: -10;\\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\\n    white-space: nowrap;\\n    overflow: hidden;\\n    resize: none;\\n}\\n\\n.xterm .composition-view {\\n    /* TODO: Composition position got messed up somewhere */\\n    background: #000;\\n    color: #FFF;\\n    display: none;\\n    position: absolute;\\n    white-space: nowrap;\\n    z-index: 1;\\n}\\n\\n.xterm .composition-view.active {\\n    display: block;\\n}\\n\\n.xterm .xterm-viewport {\\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\\n    background-color: #000;\\n    overflow-y: scroll;\\n    cursor: default;\\n    position: absolute;\\n    right: 0;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n}\\n\\n.xterm .xterm-screen {\\n    position: relative;\\n}\\n\\n.xterm .xterm-screen canvas {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.xterm .xterm-scroll-area {\\n    visibility: hidden;\\n}\\n\\n.xterm-char-measure-element {\\n    display: inline-block;\\n    visibility: hidden;\\n    position: absolute;\\n    top: 0;\\n    left: -9999em;\\n    line-height: normal;\\n}\\n\\n.xterm {\\n    cursor: text;\\n}\\n\\n.xterm.enable-mouse-events {\\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\\n    cursor: default;\\n}\\n\\n.xterm.xterm-cursor-pointer {\\n    cursor: pointer;\\n}\\n\\n.xterm.column-select.focus {\\n    /* Column selection mode */\\n    cursor: crosshair;\\n}\\n\\n.xterm .xterm-accessibility,\\n.xterm .xterm-message {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: 100;\\n    color: transparent;\\n}\\n\\n.xterm .live-region {\\n    position: absolute;\\n    left: -9999px;\\n    width: 1px;\\n    height: 1px;\\n    overflow: hidden;\\n}\\n\\n.xterm-dim {\\n    opacity: 0.5;\\n}\\n\\n.xterm-underline {\\n    text-decoration: underline;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/xterm/dist/xterm.css\n// module id = 472\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../css-loader/index.js??ref--5-2!./xterm.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../vue-style-loader/lib/addStylesClient.js\")(\"5bb5dad9\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/dist/xterm.css\n// module id = 473\n// module chunks = 2","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lodash.js\n// module id = 475\n// module chunks = 2","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Console.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e9fffeb\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Console.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Instance/Console.vue\n// module id = 491\n// module chunks = 2","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Info.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06a1936c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Info.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Instance/Info.vue\n// module id = 492\n// module chunks = 2","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e1b9ad82\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Instance/Settings.vue\n// module id = 493\n// module chunks = 2","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Snapshots.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-774d3a7a\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Snapshots.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Instance/Snapshots.vue\n// module id = 494\n// module chunks = 2","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tabs.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-85dfc5cc\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tabs.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Instance/Tabs.vue\n// module id = 495\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"absolute\": \"\",\n      \"dark\": \"\",\n      \"fab\": \"\",\n      \"top\": \"\",\n      \"right\": \"\",\n      \"small\": \"\",\n      \"color\": \"blue\"\n    },\n    on: {\n      \"click\": _vm.refreshData\n    }\n  }, [_c('v-icon', [_vm._v(\"refresh\")])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.general')))]), _vm._v(\" \"), _c('v-list-item', {\n    attrs: {\n      \"two-line\": \"\"\n    }\n  }, [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.name')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.instance.name))])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.created')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.formatDate(_vm.instance.created_at)))])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.status')))]), _vm._v(\" \"), _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.instance.status))])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.system')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os')))]), _vm._v(\" \"), (_vm.config.image_os) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_os))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os_release')))]), _vm._v(\" \"), (_vm.config.image_release) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_release))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.os_version')))]), _vm._v(\" \"), (_vm.config.image_version) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.image_version))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.limits')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.cpu')))]), _vm._v(\" \"), (_vm.config.limits_cpu) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_cpu))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.memory')))]), _vm._v(\" \"), (_vm.config.limits_memory) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_memory))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1), _vm._v(\" \"), (_vm.showDisk) ? _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.disk')))]), _vm._v(\" \"), (_vm.config.limits_disk !== '0') ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.limits_disk))]) : _c('v-list-item-subtitle', [_vm._v(\"No limit set\")])], 1)], 1) : _vm._e()], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xl3\": \"\",\n      \"lg3\": \"\",\n      \"md3\": \"\",\n      \"sm6\": \"\",\n      \"xs12\": \"\"\n    }\n  }, [_c('v-list', {\n    attrs: {\n      \"two-line\": \"\",\n      \"subheader\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.config.network')))]), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(\"IPv4\")]), _vm._v(\" \"), (_vm.ips[0]) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.ips[0].address))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(\"IPv6\")]), _vm._v(\" \"), (_vm.ips[1]) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.ips[1].address))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1), _vm._v(\" \"), (_vm.showPrice) ? _c('v-list-item', [_c('v-list-item-content', [_c('v-list-item-title', [_vm._v(_vm._s(_vm.$t('instances.config.price')))]), _vm._v(\" \"), (_vm.config.user_price) ? _c('v-list-item-subtitle', [_vm._v(_vm._s(_vm.config.user_price))]) : _c('v-list-item-subtitle', [_vm._v(\"-\")])], 1)], 1) : _vm._e()], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\",\n      \"align-bottom\": \"\"\n    }\n  }, [_vm._l((_vm.availableButtons), function(button) {\n    return [_c('v-btn', {\n      staticClass: \"white--text\",\n      attrs: {\n        \"loading\": _vm.loading,\n        \"disabled\": button.disable,\n        \"color\": button.color\n      },\n      on: {\n        \"click\": function($event) {\n          $event.preventDefault();\n          return button.action(_vm.id)\n        }\n      }\n    }, [_c('v-icon', {\n      attrs: {\n        \"dark\": \"\"\n      }\n    }, [_vm._v(_vm._s(button.icon) + \" \")]), _vm._v(\"\\n     \" + _vm._s(button.name) + \"\\n     \")], 1)]\n  })], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-06a1936c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Instance/Info.vue\n// module id = 514\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('tabs', _vm._b({}, 'tabs', _vm.$props, false))], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bc6687c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/pages/Instance.vue\n// module id = 519\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"justify-center\": \"\",\n      \"row\": \"\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"grey lighten-2 black--text\",\n    staticStyle: {\n      \"bottom\": \"1px\"\n    },\n    attrs: {\n      \"disabled\": _vm.isRunning,\n      \"fab\": \"\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.OpenTerminal()\n      }\n    }\n  }, [(_vm.getButtonState) ? _c('div', [_vm._v(\"\\n          Close console\\n        \")]) : _c('div', [_vm._v(\"\\n          Open console\\n        \")])])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"justify-center\": \"\",\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xl10\": \"\",\n      \"lg10\": \"\",\n      \"md10\": \"\",\n      \"sm10\": \"\",\n      \"xs12\": \"\",\n      \"offset-(xl1|lg1|md1)\": \"\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"terminal\"\n    }\n  })])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3e9fffeb\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Instance/Console.vue\n// module id = 534\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('v-container', {\n    attrs: {\n      \"fluid\": \"\",\n      \"grid-list-xl\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"absolute\": \"\",\n      \"dark\": \"\",\n      \"fab\": \"\",\n      \"top\": \"\",\n      \"right\": \"\",\n      \"small\": \"\",\n      \"color\": \"blue\"\n    },\n    on: {\n      \"click\": _vm.refreshData\n    }\n  }, [_c('v-icon', [_vm._v(\"refresh\")])], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"md3\": \"\",\n      \"offset-md1\": \"\"\n    }\n  }, [_c('v-btn', {\n    attrs: {\n      \"color\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.createItem()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('instances.snapshots.create')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"md8\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"name\": \"snapshot-name\",\n      \"label\": _vm.$t('instances.snapshots.name'),\n      \"id\": \"snapshot\"\n    },\n    model: {\n      value: (_vm.snapshot_name),\n      callback: function($$v) {\n        _vm.snapshot_name = $$v\n      },\n      expression: \"snapshot_name\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"md12\": \"\",\n      \"offset-md0\": \"\"\n    }\n  }, [(_vm.items) ? _c('v-data-table', {\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm.items,\n      \"search\": _vm.search\n    },\n    scopedSlots: _vm._u([{\n      key: \"item.actions\",\n      fn: function(ref) {\n        var item = ref.item;\n\n        return [_c('v-btn', {\n          attrs: {\n            \"small\": \"\",\n            \"color\": \"info\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.restoreAction(item)\n            }\n          }\n        }, [_vm._v(_vm._s(_vm.$t('instances.actions.restore')))]), _vm._v(\" \"), _c('v-btn', {\n          attrs: {\n            \"small\": \"\",\n            \"color\": \"error\"\n          },\n          on: {\n            \"click\": function($event) {\n              return _vm.deleteAction(item)\n            }\n          }\n        }, [_vm._v(_vm._s(_vm.$t('instances.actions.delete')))])]\n      }\n    }, {\n      key: \"item.created_at\",\n      fn: function(ref) {\n        var item = ref.item;\n\n        return [_vm._v(\"\\n          \" + _vm._s(_vm.formatDate(item.created_at)) + \"\\n        \")]\n      }\n    }], null, false, 1392071794)\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_destroy),\n      callback: function($$v) {\n        _vm.dialog_destroy = $$v\n      },\n      expression: \"dialog_destroy\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.order.delete_snapshot.title')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n          \" + _vm._s(_vm.$t('instances.order.delete_snapshot.text')) + \"\\n        \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n          \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.deleteItem(_vm.action_item)\n      }\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.agree')) + \"\\n          \")])], 1)], 1)], 1), _vm._v(\" \"), _c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_restore),\n      callback: function($$v) {\n        _vm.dialog_restore = $$v\n      },\n      expression: \"dialog_restore\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.order.restore_snapshot.title')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n          \" + _vm._s(_vm.$t('instances.order.restore_snapshot.text')) + \"\\n        \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_restore = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n          \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        return _vm.restoreItem(_vm.action_item)\n      }\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_restore = false\n      }\n    }\n  }, [_vm._v(\"\\n            \" + _vm._s(_vm.$t('actions.agree')) + \"\\n          \")])], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-774d3a7a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Instance/Snapshots.vue\n// module id = 548\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-tabs', {\n    attrs: {\n      \"icons-and-text\": \"\",\n      \"fixed-tabs\": \"\"\n    }\n  }, [_c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-1\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.info')) + \"\\n    \"), _c('v-icon', [_vm._v(\"info\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-2\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.console')) + \"\\n    \"), _c('v-icon', [_vm._v(\"code\")])], 1), _vm._v(\" \"), _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-3\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.settings')) + \"\\n    \"), _c('v-icon', [_vm._v(\"settings\")])], 1), _vm._v(\" \"), (_vm.showSnapshots) ? _c('v-tab', {\n    attrs: {\n      \"href\": \"#tab-4\"\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.tabs.snapshots')) + \"\\n    \"), _c('v-icon', [_vm._v(\"photo_camera\")])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.tabsLength), function(i) {\n    return _c('v-tab-item', {\n      key: i,\n      attrs: {\n        \"value\": 'tab-' + i\n      }\n    }, [(i === 1) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-info', _vm._b({}, 'tab-info', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 2) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-console', _vm._b({}, 'tab-console', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 3) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-settings', _vm._b({}, 'tab-settings', _vm.$props, false))], 1) : _vm._e(), _vm._v(\" \"), (i === 4) ? _c('v-card', {\n      attrs: {\n        \"flat\": \"\"\n      }\n    }, [_c('tab-snapshots', _vm._b({}, 'tab-snapshots', _vm.$props, false))], 1) : _vm._e()], 1)\n  })], 2)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-85dfc5cc\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Instance/Tabs.vue\n// module id = 550\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-container', {\n    attrs: {\n      \"fluid\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"row\": \"\"\n    }\n  }, [_c('v-flex', {\n    staticClass: \"text-md-center mt-3 mb-3\"\n  }, [_c('v-btn', {\n    attrs: {\n      \"color\": \"secondary\",\n      \"loading\": _vm.loading,\n      \"disabled\": _vm.loading\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_upgrade = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.upgrade')) + \"\\n  \")]), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"white--text\",\n    attrs: {\n      \"loading\": _vm.loading3,\n      \"disabled\": _vm.loading3,\n      \"color\": \"blue-grey\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_clone = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.clone')) + \"\\n    \"), _c('v-icon', {\n    attrs: {\n      \"right\": \"\",\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"cloud_upload\")])], 1), _vm._v(\" \"), _c('v-btn', {\n    staticClass: \"white--text\",\n    attrs: {\n      \"loading\": _vm.loading3,\n      \"disabled\": _vm.loading3,\n      \"color\": \"red\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        _vm.dialog_destroy = true\n      }\n    }\n  }, [_vm._v(\"\\n    \" + _vm._s(_vm.$t('instances.actions.destroy')) + \"\\n    \"), _c('v-icon', {\n    attrs: {\n      \"right\": \"\",\n      \"dark\": \"\"\n    }\n  }, [_vm._v(\"delete\")])], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500\"\n    },\n    model: {\n      value: (_vm.dialog_destroy),\n      callback: function($$v) {\n        _vm.dialog_destroy = $$v\n      },\n      expression: \"dialog_destroy\"\n    }\n  }, [_c('v-card', [_c('v-card-title', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.destroy')))]), _vm._v(\" \"), _c('v-card-text', [_vm._v(\"\\n        \" + _vm._s(_vm.$t('instances.order.destroy_instance.label')) + \"\\n      \")]), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"green darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.$t('actions.disagree')) + \"\\n        \")]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"red darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestDestroy\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_destroy = false\n      }\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.$t('actions.agree')) + \"\\n        \")])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500px\"\n    },\n    model: {\n      value: (_vm.dialog_clone),\n      callback: function($$v) {\n        _vm.dialog_clone = $$v\n      },\n      expression: \"dialog_clone\"\n    }\n  }, [_c('v-card', [_c('v-card-title', [_c('span', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.clone')))])]), _vm._v(\" \"), _c('v-card-text', [_c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_name.label'),\n      \"disabled\": \"\",\n      \"value\": _vm.instanceName\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_clone_name.label')\n    },\n    model: {\n      value: (_vm.instanceClone),\n      callback: function($$v) {\n        _vm.instanceClone = $$v\n      },\n      expression: \"instanceClone\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('small', [_vm._v(\"*indicates required field\")])], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_clone = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.close')))]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestClone\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_clone = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.create')))])], 1)], 1)], 1)], 1), _vm._v(\" \"), _c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"justify-center\": \"\"\n    }\n  }, [_c('v-dialog', {\n    attrs: {\n      \"max-width\": \"500px\"\n    },\n    model: {\n      value: (_vm.dialog_upgrade),\n      callback: function($$v) {\n        _vm.dialog_upgrade = $$v\n      },\n      expression: \"dialog_upgrade\"\n    }\n  }, [_c('v-card', [_c('v-card-title', [_c('span', {\n    staticClass: \"headline\"\n  }, [_vm._v(_vm._s(_vm.$t('instances.actions.upgrade')))])]), _vm._v(\" \"), _c('v-card-text', [_c('v-container', {\n    attrs: {\n      \"grid-list-md\": \"\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": _vm.$t('instances.order.instance_name.label'),\n      \"disabled\": \"\",\n      \"value\": _vm.instanceName\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [_c('v-slider', {\n    attrs: {\n      \"min\": \"1\",\n      \"max\": \"4\",\n      \"step\": \"1\",\n      \"label\": \"CPUs\"\n    },\n    model: {\n      value: (_vm.cpu),\n      callback: function($$v) {\n        _vm.cpu = $$v\n      },\n      expression: \"cpu\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"type\": \"CPUs\",\n      \"suffix\": \"CPUs\"\n    },\n    model: {\n      value: (_vm.cpu),\n      callback: function($$v) {\n        _vm.cpu = $$v\n      },\n      expression: \"cpu\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [_c('v-slider', {\n    attrs: {\n      \"min\": \"512\",\n      \"max\": \"8172\",\n      \"step\": \"512\",\n      \"label\": \"RAM\"\n    },\n    model: {\n      value: (_vm.memory),\n      callback: function($$v) {\n        _vm.memory = $$v\n      },\n      expression: \"memory\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"type\": \"MB\",\n      \"suffix\": \"MB\"\n    },\n    model: {\n      value: (_vm.memory),\n      callback: function($$v) {\n        _vm.memory = $$v\n      },\n      expression: \"memory\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs10\": \"\"\n    }\n  }, [(_vm.diskEnabled) ? _c('v-slider', {\n    attrs: {\n      \"min\": \"10\",\n      \"max\": \"160\",\n      \"step\": \"10\",\n      \"label\": \"Disk\"\n    },\n    model: {\n      value: (_vm.disk),\n      callback: function($$v) {\n        _vm.disk = $$v\n      },\n      expression: \"disk\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [(_vm.diskEnabled) ? _c('v-text-field', {\n    attrs: {\n      \"type\": \"Disk\",\n      \"suffix\": \"GB\"\n    },\n    model: {\n      value: (_vm.disk),\n      callback: function($$v) {\n        _vm.disk = $$v\n      },\n      expression: \"disk\"\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), (_vm.showPrice) ? [_c('v-flex', {\n    attrs: {\n      \"xs3\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.order.payment_period.label')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs3\": \"\"\n    }\n  }, [_c('v-select', {\n    attrs: {\n      \"items\": _vm.periodes,\n      \"label\": \"Period\"\n    },\n    model: {\n      value: (_vm.period),\n      callback: function($$v) {\n        _vm.period = $$v\n      },\n      expression: \"period\"\n    }\n  })], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs4\": \"\"\n    }\n  }, [_c('v-subheader', [_vm._v(_vm._s(_vm.$t('instances.order.calculated_price.label')))])], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs2\": \"\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"label\": \"Price\",\n      \"value\": _vm.price,\n      \"suffix\": \"€\"\n    }\n  })], 1)] : _vm._e()], 2)], 1)], 1), _vm._v(\" \"), _c('v-card-actions', [_c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.getInstanceConfig\n    }\n  }, [_vm._v(\"Reset\")]), _vm._v(\" \"), _c('v-spacer'), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_upgrade = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.close')))]), _vm._v(\" \"), _c('v-btn', {\n    attrs: {\n      \"color\": \"blue darken-1\",\n      \"text\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendRequestUpgrade\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.dialog_upgrade = false\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.$t('actions.create')))])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-e1b9ad82\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Instance/Settings.vue\n// module id = 556\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = require(\"./Strings\");\nvar Platform_1 = require(\"./common/Platform\");\nvar RenderDebouncer_1 = require(\"./ui/RenderDebouncer\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Lifecycle_2 = require(\"./common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"./ui/ScreenDprMonitor\");\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._dimensions = _dimensions;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._charsToAnnounce = '';\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.onResize(function (e) { return _this._onResize(e.rows); }));\n        _this.register(_this._terminal.onRender(function (e) { return _this._refreshRows(e.start, e.end); }));\n        _this.register(_this._terminal.onScroll(function () { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.onLineFeed(function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.onKey(function (e) { return _this._onKey(e.key); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this.register(_this._screenDprMonitor);\n        _this._screenDprMonitor.setListener(function () { return _this._refreshRowsDimensions(); });\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._charsToAnnounce += char;\n                }\n            }\n            else {\n                this._charsToAnnounce += char;\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end, this._terminal.rows);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            if (element) {\n                element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n                element.setAttribute('aria-posinset', posInSet);\n                element.setAttribute('aria-setsize', setSize);\n            }\n        }\n        this._announceCharacters();\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype.setDimensions = function (dimensions) {\n        this._dimensions = dimensions;\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacters = function () {\n        if (this._charsToAnnounce.length === 0) {\n            return;\n        }\n        this._liveRegion.textContent += this._charsToAnnounce;\n        this._charsToAnnounce = '';\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceMappingURL=AccessibilityManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/AccessibilityManager.js\n// module id = 559\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = require(\"./Buffer\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferSet = (function () {\n    function BufferSet(_terminal) {\n        this._terminal = _terminal;\n        this._onBufferActivate = new EventEmitter2_1.EventEmitter2();\n        this._normal = new Buffer_1.Buffer(this._terminal, true);\n        this._normal.fillViewportRows();\n        this._alt = new Buffer_1.Buffer(this._terminal, false);\n        this._activeBuffer = this._normal;\n        this.setupTabStops();\n    }\n    Object.defineProperty(BufferSet.prototype, \"onBufferActivate\", {\n        get: function () { return this._onBufferActivate.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"alt\", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"active\", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this._onBufferActivate.fire({\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this._onBufferActivate.fire({\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}());\nexports.BufferSet = BufferSet;\n//# sourceMappingURL=BufferSet.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/BufferSet.js\n// module id = 560\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar CharMeasure = (function () {\n    function CharMeasure(document, parentElement) {\n        this._onCharSizeChanged = new EventEmitter2_1.EventEmitter2();\n        this._document = document;\n        this._parentElement = parentElement;\n        this._measureElement = this._document.createElement('span');\n        this._measureElement.classList.add('xterm-char-measure-element');\n        this._measureElement.textContent = 'W';\n        this._measureElement.setAttribute('aria-hidden', 'true');\n        this._parentElement.appendChild(this._measureElement);\n    }\n    Object.defineProperty(CharMeasure.prototype, \"onCharSizeChanged\", {\n        get: function () { return this._onCharSizeChanged.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        var adjustedHeight = Math.ceil(geometry.height);\n        if (this._width !== geometry.width || this._height !== adjustedHeight) {\n            this._width = geometry.width;\n            this._height = adjustedHeight;\n            this._onCharSizeChanged.fire();\n        }\n    };\n    return CharMeasure;\n}());\nexports.CharMeasure = CharMeasure;\n//# sourceMappingURL=CharMeasure.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/CharMeasure.js\n// module id = 561\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, term) {\n    var pos = term.screenElement.getBoundingClientRect();\n    var left = ev.clientX - pos.left - 10;\n    var top = ev.clientY - pos.top - 10;\n    term.textarea.style.position = 'absolute';\n    term.textarea.style.width = '20px';\n    term.textarea.style.height = '20px';\n    term.textarea.style.left = left + \"px\";\n    term.textarea.style.top = top + \"px\";\n    term.textarea.style.zIndex = '1000';\n    term.textarea.focus();\n    setTimeout(function () {\n        term.textarea.style.position = null;\n        term.textarea.style.width = null;\n        term.textarea.style.height = null;\n        term.textarea.style.left = null;\n        term.textarea.style.top = null;\n        term.textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, term, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, term);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    term.textarea.value = selectionManager.selectionText;\n    term.textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceMappingURL=Clipboard.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Clipboard.js\n// module id = 562\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropagation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropagation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            this._compositionView.style.fontFamily = this._terminal.options.fontFamily;\n            this._compositionView.style.fontSize = this._terminal.options.fontSize + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceMappingURL=CompositionHelper.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/CompositionHelper.js\n// module id = 563\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar NON_ASCII_PRINTABLE = 0xA0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code <= NON_ASCII_PRINTABLE; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x7f, 7, 0, 7);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    table.add(NON_ASCII_PRINTABLE, 8, 5, 8);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._escHandlers = null;\n        this._csiHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addCsiHandler = function (flag, callback) {\n        var index = flag.charCodeAt(0);\n        if (this._csiHandlers[index] === undefined) {\n            this._csiHandlers[index] = [];\n        }\n        var handlerList = this._csiHandlers[index];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.addOscHandler = function (ident, callback) {\n        if (this._oscHandlers[ident] === undefined) {\n            this._oscHandlers[ident] = [];\n        }\n        var handlerList = this._oscHandlers[ident];\n        handlerList.push(callback);\n        return {\n            dispose: function () {\n                var handlerIndex = handlerList.indexOf(callback);\n                if (handlerIndex !== -1) {\n                    handlerList.splice(handlerIndex, 1);\n                }\n            }\n        };\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = [callback];\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data, length) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        for (var i = 0; i < length; ++i) {\n            code = data[i];\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < length && data[i] > 0x1f && data[i] < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = table[currentState << 8 | (code < 0xa0 ? code : NON_ASCII_PRINTABLE)];\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    var handlers = this._csiHandlers[code];\n                    var j = handlers ? handlers.length - 1 : -1;\n                    for (; j >= 0; j--) {\n                        if (handlers[j](params, collect) !== false) {\n                            break;\n                        }\n                    }\n                    if (j < 0) {\n                        this._csiHandlerFb(collect, params, code);\n                    }\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    for (var j_1 = i + 1;; j_1++) {\n                        if (j_1 >= length\n                            || (code = data[j_1]) < 0x20\n                            || (code > 0x7f && code <= 0x9f)) {\n                            osc += TextDecoder_1.utf32ToString(data, i, j_1);\n                            i = j_1 - 1;\n                            break;\n                        }\n                    }\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            var handlers_1 = this._oscHandlers[identifier];\n                            var j_2 = handlers_1 ? handlers_1.length - 1 : -1;\n                            for (; j_2 >= 0; j_2--) {\n                                if (handlers_1[j_2](content) !== false) {\n                                    break;\n                                }\n                            }\n                            if (j_2 < 0) {\n                                this._oscHandlerFb(identifier, content);\n                            }\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceMappingURL=EscapeSequenceParser.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/EscapeSequenceParser.js\n// module id = 564\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar Charsets_1 = require(\"./core/data/Charsets\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EscapeSequenceParser_1 = require(\"./EscapeSequenceParser\");\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar TypedArrayUtils_1 = require(\"./common/TypedArrayUtils\");\nvar TextDecoder_1 = require(\"./core/input/TextDecoder\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n        this._data = new Uint32Array(0);\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = new Uint32Array(0);\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data = TypedArrayUtils_1.concat(this._data, data.subarray(start, end));\n    };\n    DECRQSS.prototype.unhook = function () {\n        var data = TextDecoder_1.utf32ToString(this._data);\n        this._data = new Uint32Array(0);\n        switch (data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this._parseBuffer = new Uint32Array(4096);\n        _this._stringDecoder = new TextDecoder_1.StringToUtf32();\n        _this._utf8Decoder = new TextDecoder_1.Utf8ToUtf32();\n        _this._workCell = new BufferLine_1.CellData();\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this.register(_this._parser);\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        return _this;\n    }\n    Object.defineProperty(InputHandler.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InputHandler.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._stringDecoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._onCursorMove.fire();\n        }\n    };\n    InputHandler.prototype.parseUtf8 = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._parseBuffer.length < data.length) {\n            this._parseBuffer = new Uint32Array(data.length);\n        }\n        this._parser.parse(this._parseBuffer, this._utf8Decoder.decode(data, this._parseBuffer));\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttrData;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var pos = start; pos < end; ++pos) {\n            code = data[pos];\n            chWidth = CharWidth_1.wcwidth(code);\n            if (code < 127 && charset) {\n                var ch = charset[String.fromCharCode(code)];\n                if (ch) {\n                    code = ch.charCodeAt(0);\n                }\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', TextDecoder_1.stringFromCodePoint(code));\n            }\n            if (!chWidth && buffer.x) {\n                if (!bufferRow.getWidth(buffer.x - 1)) {\n                    bufferRow.addCodepointToCell(buffer.x - 2, code);\n                }\n                else {\n                    bufferRow.addCodepointToCell(buffer.x - 1, code);\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, buffer.getNullCell(curAttr));\n                if (bufferRow.getWidth(cols - 1) === 2) {\n                    bufferRow.setCellFromCodePoint(cols - 1, BufferLine_1.NULL_CELL_CODE, BufferLine_1.NULL_CELL_WIDTH, curAttr.fg, curAttr.bg);\n                }\n            }\n            bufferRow.setCellFromCodePoint(buffer.x++, code, chWidth, curAttr.fg, curAttr.bg);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.setCellFromCodePoint(buffer.x++, 0, 0, curAttr.fg, curAttr.bg);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.addCsiHandler = function (flag, callback) {\n        return this._parser.addCsiHandler(flag, callback);\n    };\n    InputHandler.prototype.addOscHandler = function (ident, callback) {\n        return this._parser.addOscHandler(ident, callback);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._onLineFeed.fire();\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._onScroll.fire(0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttrData()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollTop, 0, buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), this._terminal.buffer.getNullCell(this._terminal.eraseAttrData()));\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.loadCell(buffer.x - 1, this._workCell);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), (this._workCell.content !== undefined) ? this._workCell : buffer.getNullCell(BufferLine_1.DEFAULT_ATTR_DATA));\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.add('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.disable();\n                    }\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttrData());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    if (this._terminal.element) {\n                        this._terminal.element.classList.remove('enable-mouse-events');\n                    }\n                    if (this._terminal.selectionManager) {\n                        this._terminal.selectionManager.enable();\n                    }\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttrData.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n            this._terminal.curAttrData.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            return;\n        }\n        var l = params.length;\n        var p;\n        var attr = this._terminal.curAttrData;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 30);\n            }\n            else if (p >= 40 && p <= 47) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 40);\n            }\n            else if (p >= 90 && p <= 97) {\n                attr.fg &= ~(50331648 | 255);\n                attr.fg |= 16777216 | (p - 90) | 8;\n            }\n            else if (p >= 100 && p <= 107) {\n                attr.bg &= ~(50331648 | 255);\n                attr.bg |= 16777216 | (p - 100) | 8;\n            }\n            else if (p === 0) {\n                attr.fg = BufferLine_1.DEFAULT_ATTR_DATA.fg;\n                attr.bg = BufferLine_1.DEFAULT_ATTR_DATA.bg;\n            }\n            else if (p === 1) {\n                attr.fg |= 134217728;\n            }\n            else if (p === 3) {\n                attr.bg |= 67108864;\n            }\n            else if (p === 4) {\n                attr.fg |= 268435456;\n            }\n            else if (p === 5) {\n                attr.fg |= 536870912;\n            }\n            else if (p === 7) {\n                attr.fg |= 67108864;\n            }\n            else if (p === 8) {\n                attr.fg |= 1073741824;\n            }\n            else if (p === 2) {\n                attr.bg |= 134217728;\n            }\n            else if (p === 22) {\n                attr.fg &= ~134217728;\n                attr.bg &= ~134217728;\n            }\n            else if (p === 23) {\n                attr.bg &= ~67108864;\n            }\n            else if (p === 24) {\n                attr.fg &= ~268435456;\n            }\n            else if (p === 25) {\n                attr.fg &= ~536870912;\n            }\n            else if (p === 27) {\n                attr.fg &= ~67108864;\n            }\n            else if (p === 28) {\n                attr.fg &= ~1073741824;\n            }\n            else if (p === 39) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n            }\n            else if (p === 49) {\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.fg |= 50331648;\n                    attr.fg &= ~16777215;\n                    attr.fg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.fg &= ~(50331648 | 255);\n                    attr.fg |= 33554432 | p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    attr.bg |= 50331648;\n                    attr.bg &= ~16777215;\n                    attr.bg |= BufferLine_1.AttributeData.fromColorRGB([params[i], params[i + 1], params[i + 2]]);\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    attr.bg &= ~(50331648 | 255);\n                    attr.bg |= 33554432 | p;\n                }\n            }\n            else if (p === 100) {\n                attr.fg &= ~(50331648 | 16777215);\n                attr.fg |= BufferLine_1.DEFAULT_ATTR_DATA.fg & (255 | 16777215);\n                attr.bg &= ~(50331648 | 16777215);\n                attr.bg |= BufferLine_1.DEFAULT_ATTR_DATA.bg & (255 | 16777215);\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._onData.fire(EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect) {\n            return;\n        }\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttrData.fg = this._terminal.curAttrData.fg;\n        this._terminal.buffer.savedCurAttrData.bg = this._terminal.curAttrData.bg;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttrData.fg = this._terminal.buffer.savedCurAttrData.fg;\n        this._terminal.curAttrData.bg = this._terminal.buffer.savedCurAttrData.bg;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2) {\n            this.selectDefaultCharset();\n            return;\n        }\n        if (collectAndFlag[0] === '/') {\n            return;\n        }\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n        return;\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceMappingURL=InputHandler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/InputHandler.js\n// module id = 565\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar CharWidth_1 = require(\"./CharWidth\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar Linkifier = (function () {\n    function Linkifier(_terminal) {\n        this._terminal = _terminal;\n        this._linkMatchers = [];\n        this._nextLinkMatcherId = 0;\n        this._onLinkHover = new EventEmitter2_1.EventEmitter2();\n        this._onLinkLeave = new EventEmitter2_1.EventEmitter2();\n        this._onLinkTooltip = new EventEmitter2_1.EventEmitter2();\n        this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n    }\n    Object.defineProperty(Linkifier.prototype, \"onLinkHover\", {\n        get: function () { return this._onLinkHover.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkLeave\", {\n        get: function () { return this._onLinkLeave.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Linkifier.prototype, \"onLinkTooltip\", {\n        get: function () { return this._onLinkTooltip.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            if (stringIndex < 0) {\n                return \"break\";\n            }\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            if (bufferIndex[0] < 0) {\n                return \"break\";\n            }\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var attr = line.getFg(bufferIndex[1]);\n            var fg;\n            if (attr) {\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function () {\n            _this._onLinkHover.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this._onLinkTooltip.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this._onLinkLeave.fire(_this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}());\nexports.Linkifier = Linkifier;\n//# sourceMappingURL=Linkifier.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Linkifier.js\n// module id = 566\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar Browser = require(\"./common/Platform\");\nvar SelectionModel_1 = require(\"./SelectionModel\");\nvar AltClickHandler_1 = require(\"./handlers/AltClickHandler\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function () {\n    function SelectionManager(_terminal, _charMeasure) {\n        this._terminal = _terminal;\n        this._charMeasure = _charMeasure;\n        this._enabled = true;\n        this._workCell = new BufferLine_1.CellData();\n        this._onLinuxMouseSelection = new EventEmitter2_1.EventEmitter2();\n        this._onRedrawRequest = new EventEmitter2_1.EventEmitter2();\n        this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        this._initListeners();\n        this.enable();\n        this._model = new SelectionModel_1.SelectionModel(_terminal);\n        this._activeSelectionMode = 0;\n    }\n    Object.defineProperty(SelectionManager.prototype, \"onLinuxMouseSelection\", {\n        get: function () { return this._onLinuxMouseSelection.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onRedrawRequest\", {\n        get: function () { return this._onRedrawRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.dispose = function () {\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._trimListener = this._terminal.buffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n        this._terminal.buffers.onBufferActivate(function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : undefined;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.refresh = function (isLinuxMouseSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isLinuxMouseSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this._onLinuxMouseSelection.fire(this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this._onRedrawRequest.fire({\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._onSelectionChange.fire();\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        if (line.hasWidth(this._model.selectionStart[0]) === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            if (this._buffer.lines.get(this._model.selectionEnd[1]).hasWidth(this._model.selectionEnd[0]) === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._onSelectionChange.fire();\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        var _this = this;\n        this.clearSelection();\n        if (this._trimListener) {\n            this._trimListener.dispose();\n        }\n        this._trimListener = e.activeBuffer.lines.onTrim(function (amount) { return _this._onTrim(amount); });\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var length_1 = bufferLine.loadCell(i, this._workCell).getChars().length;\n            if (this._workCell.getWidth() === 0) {\n                charIndex--;\n            }\n            else if (length_1 > 1 && coords[0] !== i) {\n                charIndex += length_1 - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.getWidth(startCol) === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.getWidth(endCol) === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            var length_2 = bufferLine.getString(endCol).length;\n            if (length_2 > 1) {\n                rightLongCharOffset += length_2 - 1;\n                endIndex += length_2 - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.loadCell(startCol - 1, this._workCell))) {\n                bufferLine.loadCell(startCol - 1, this._workCell);\n                var length_3 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (length_3 > 1) {\n                    leftLongCharOffset += length_3 - 1;\n                    startIndex -= length_3 - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.loadCell(endCol + 1, this._workCell))) {\n                bufferLine.loadCell(endCol + 1, this._workCell);\n                var length_4 = this._workCell.getChars().length;\n                if (this._workCell.getWidth() === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (length_4 > 1) {\n                    rightLongCharOffset += length_4 - 1;\n                    endIndex += length_4 - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.getCodePoint(0) !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.getCodePoint(this._terminal.cols - 1) !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.getCodePoint(0) !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (cell) {\n        if (cell.getWidth() === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(cell.getChars()) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}());\nexports.SelectionManager = SelectionManager;\n//# sourceMappingURL=SelectionManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/SelectionManager.js\n// module id = 567\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionStart\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, \"finalSelectionEnd\", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceMappingURL=SelectionModel.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/SelectionModel.js\n// module id = 568\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceMappingURL=SoundManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/SoundManager.js\n// module id = 569\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = require(\"./BufferSet\");\nvar Buffer_1 = require(\"./Buffer\");\nvar CompositionHelper_1 = require(\"./CompositionHelper\");\nvar EventEmitter_1 = require(\"./common/EventEmitter\");\nvar Viewport_1 = require(\"./Viewport\");\nvar Clipboard_1 = require(\"./Clipboard\");\nvar EscapeSequences_1 = require(\"./common/data/EscapeSequences\");\nvar InputHandler_1 = require(\"./InputHandler\");\nvar Renderer_1 = require(\"./renderer/Renderer\");\nvar Linkifier_1 = require(\"./Linkifier\");\nvar SelectionManager_1 = require(\"./SelectionManager\");\nvar CharMeasure_1 = require(\"./CharMeasure\");\nvar Browser = require(\"./common/Platform\");\nvar Lifecycle_1 = require(\"./ui/Lifecycle\");\nvar Strings = require(\"./Strings\");\nvar MouseHelper_1 = require(\"./MouseHelper\");\nvar SoundManager_1 = require(\"./SoundManager\");\nvar MouseZoneManager_1 = require(\"./MouseZoneManager\");\nvar AccessibilityManager_1 = require(\"./AccessibilityManager\");\nvar CharAtlasCache_1 = require(\"./renderer/atlas/CharAtlasCache\");\nvar DomRenderer_1 = require(\"./renderer/dom/DomRenderer\");\nvar Keyboard_1 = require(\"./core/input/Keyboard\");\nvar Clone_1 = require(\"./common/Clone\");\nvar EventEmitter2_1 = require(\"./common/EventEmitter2\");\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nvar WindowsMode_1 = require(\"./WindowsMode\");\nvar ColorManager_1 = require(\"./ui/ColorManager\");\nvar RenderCoordinator_1 = require(\"./renderer/RenderCoordinator\");\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_TIMEOUT_MS = 12;\nvar WRITE_BUFFER_LENGTH_THRESHOLD = 50;\nvar MINIMUM_COLS = 2;\nvar MINIMUM_ROWS = 1;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: undefined,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    windowsMode: false\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this._onCursorMove = new EventEmitter2_1.EventEmitter2();\n        _this._onData = new EventEmitter2_1.EventEmitter2();\n        _this._onKey = new EventEmitter2_1.EventEmitter2();\n        _this._onLineFeed = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onResize = new EventEmitter2_1.EventEmitter2();\n        _this._onScroll = new EventEmitter2_1.EventEmitter2();\n        _this._onSelectionChange = new EventEmitter2_1.EventEmitter2();\n        _this._onTitleChange = new EventEmitter2_1.EventEmitter2();\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        _this.onCursorMove(function () { return _this.emit('cursormove'); });\n        _this.onData(function (e) { return _this.emit('data', e); });\n        _this.onKey(function (e) { return _this.emit('key', e.key, e.domEvent); });\n        _this.onLineFeed(function () { return _this.emit('linefeed'); });\n        _this.onRender(function (e) { return _this.emit('refresh', e); });\n        _this.onResize(function (e) { return _this.emit('resize', e); });\n        _this.onSelectionChange(function () { return _this.emit('selection'); });\n        _this.onScroll(function (e) { return _this.emit('scroll', e); });\n        _this.onTitleChange(function (e) { return _this.emit('title', e); });\n        return _this;\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._onCursorMove.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._onData.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._onKey.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._onLineFeed.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._onResize.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._onScroll.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._onSelectionChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._onTitleChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._windowsMode) {\n            this._windowsMode.dispose();\n            this._windowsMode = undefined;\n        }\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = Math.max(this.options.cols, MINIMUM_COLS);\n        this.rows = Math.max(this.options.rows, MINIMUM_ROWS);\n        if (this.options.handler) {\n            this.onData(this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this._eraseAttrData = BufferLine_1.DEFAULT_ATTR_DATA.clone();\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this.writeBufferUtf8 = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this._inputHandler.onCursorMove(function () { return _this._onCursorMove.fire(); });\n        this._inputHandler.onLineFeed(function () { return _this._onLineFeed.fire(); });\n        this._inputHandler.onData(function (e) { return _this._onData.fire(e); });\n        this.register(this._inputHandler);\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n        if (this.options.windowsMode) {\n            this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttrData = function () {\n        this._eraseAttrData.bg &= ~(50331648 | 0xFFFFFF);\n        this._eraseAttrData.bg |= this.curAttrData.bg & ~0xFC000000;\n        return this._eraseAttrData;\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus({ preventScroll: true });\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                this._setTheme(value);\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.clear();\n                    this._renderCoordinator.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n                break;\n            case 'rendererType':\n                if (this._renderCoordinator) {\n                    this._renderCoordinator.setRenderer(this._createRenderer());\n                }\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager && this._renderCoordinator) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'windowsMode':\n                if (value) {\n                    if (!this._windowsMode) {\n                        this._windowsMode = WindowsMode_1.applyWindowsMode(this);\n                    }\n                }\n                else {\n                    if (this._windowsMode) {\n                        this._windowsMode.dispose();\n                        this._windowsMode = undefined;\n                    }\n                }\n                break;\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.onRender(function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.onRender(function (e) { return _this._queueLinkification(e.start, e.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.onScroll(function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._theme = this.options.theme;\n        this._colorManager = new ColorManager_1.ColorManager(document, this.options.allowTransparency);\n        this._colorManager.setTheme(this._theme);\n        var renderer = this._createRenderer();\n        this._renderCoordinator = new RenderCoordinator_1.RenderCoordinator(renderer, this.rows, this.screenElement);\n        this._renderCoordinator.onRender(function (e) { return _this._onRender.fire(e); });\n        this.onResize(function (e) { return _this._renderCoordinator.resize(e.cols, e.rows); });\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure, this._renderCoordinator.dimensions);\n        this.viewport.onThemeChange(this._colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.onCursorMove(function () { return _this._renderCoordinator.onCursorMove(); }));\n        this.register(this.onResize(function () { return _this._renderCoordinator.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this._renderCoordinator.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this._renderCoordinator.onFocus(); }));\n        this.register(this.charMeasure.onCharSizeChanged(function () { return _this._renderCoordinator.onCharSizeChanged(); }));\n        this.register(this._renderCoordinator.onDimensionsChange(function () { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(this.selectionManager.onSelectionChange(function () { return _this._onSelectionChange.fire(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.onRedrawRequest(function (e) { return _this._renderCoordinator.onSelectionChanged(e.start, e.end, e.columnSelectMode); }));\n        this.register(this.selectionManager.onLinuxMouseSelection(function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.onScroll(function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this._renderCoordinator);\n        this.element.classList.toggle('enable-mouse-events', this.mouseEvents);\n        if (this.mouseEvents) {\n            this.selectionManager.disable();\n        }\n        else {\n            this.selectionManager.enable();\n        }\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this, this._renderCoordinator.dimensions);\n            this._accessibilityManager.register(this._renderCoordinator.onDimensionsChange(function (e) { return _this._accessibilityManager.setDimensions(e); }));\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._createRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                return new Renderer_1.Renderer(this, this._colorManager.colors);\n                break;\n            case 'dom':\n                return new DomRenderer_1.DomRenderer(this, this._colorManager.colors);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        if (this._colorManager) {\n            this._colorManager.setTheme(theme);\n        }\n        if (this._renderCoordinator) {\n            this._renderCoordinator.setColors(this._colorManager.colors);\n        }\n        if (this.viewport) {\n            this.viewport.onThemeChange(this._colorManager.colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch > 2047) {\n                    data.push(2047);\n                    return;\n                }\n                data.push(ch);\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this._renderCoordinator) {\n            this._renderCoordinator.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        newLine = this._blankLine;\n        var eraseAttr = this.eraseAttrData();\n        if (!newLine || newLine.length !== this.cols || newLine.getFg(0) !== eraseAttr.fg || newLine.getBg(0) !== eraseAttr.bg) {\n            newLine = this.buffer.getBlankLine(eraseAttr, isWrapped);\n            this._blankLine = newLine;\n        }\n        newLine.isWrapped = isWrapped;\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (willBufferBeTrimmed) {\n                    this.buffer.lines.recycle().copyFrom(newLine);\n                }\n                else {\n                    this.buffer.lines.push(newLine.clone());\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, newLine.clone());\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, newLine.clone());\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this._onScroll.fire(this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBufferUtf8.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBufferUtf8.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBufferUtf8.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWriteUtf8();\n            });\n        }\n    };\n    Terminal.prototype._innerWriteUtf8 = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBufferUtf8 = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBufferUtf8.length > bufferOffset) {\n            var data = this.writeBufferUtf8[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBufferUtf8.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parseUtf8(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBufferUtf8.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBufferUtf8 = this.writeBufferUtf8.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWriteUtf8(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBufferUtf8 = [];\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function (bufferOffset) {\n        var _this = this;\n        if (bufferOffset === void 0) { bufferOffset = 0; }\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var startTime = Date.now();\n        while (this.writeBuffer.length > bufferOffset) {\n            var data = this.writeBuffer[bufferOffset];\n            bufferOffset++;\n            if (this._xoffSentToCatchUp && this.writeBuffer.length === bufferOffset) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n            if (Date.now() - startTime >= WRITE_TIMEOUT_MS) {\n                break;\n            }\n        }\n        if (this.writeBuffer.length > bufferOffset) {\n            if (bufferOffset > WRITE_BUFFER_LENGTH_THRESHOLD) {\n                this.writeBuffer = this.writeBuffer.slice(bufferOffset);\n                bufferOffset = 0;\n            }\n            setTimeout(function () { return _this._innerWrite(bufferOffset); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n            this.writeBuffer = [];\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._inputHandler.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._inputHandler.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this._renderCoordinator.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this._renderCoordinator.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this.selectionManager.setSelection(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        if (!this.selectionManager.hasSelection) {\n            return undefined;\n        }\n        return {\n            startColumn: this.selectionManager.selectionStart[0],\n            startRow: this.selectionManager.selectionStart[1],\n            endColumn: this.selectionManager.selectionEnd[0],\n            endRow: this.selectionManager.selectionEnd[1]\n        };\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this._onKey.fire({ key: result.key, domEvent: event });\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this._onKey.fire({ key: key, domEvent: ev });\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < MINIMUM_COLS)\n            x = MINIMUM_COLS;\n        if (y < MINIMUM_ROWS)\n            y = MINIMUM_ROWS;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this._onResize.fire({ cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(BufferLine_1.DEFAULT_ATTR_DATA));\n        }\n        this.refresh(0, this.rows - 1);\n        this._onScroll.fire(this.buffer.ydisp);\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this._onData.fire(data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this._onTitleChange.fire(title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttrData()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        var writeBuffer = this.writeBuffer;\n        var writeBufferUtf8 = this.writeBufferUtf8;\n        var writeInProgress = this._writeInProgress;\n        var xoffSentToCatchUp = this._xoffSentToCatchUp;\n        var userScrolling = this._userScrolling;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.writeBuffer = writeBuffer;\n        this.writeBufferUtf8 = writeBufferUtf8;\n        this._writeInProgress = writeInProgress;\n        this._xoffSentToCatchUp = xoffSentToCatchUp;\n        this._userScrolling = userScrolling;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\n//# sourceMappingURL=Terminal.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Terminal.js\n// module id = 570\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./common/Lifecycle\");\nvar Lifecycle_2 = require(\"./ui/Lifecycle\");\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure, _dimensions) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this._dimensions = _dimensions;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onDimensionsChance = function (dimensions) {\n        this._dimensions = dimensions;\n    };\n    Viewport.prototype.onThemeChange = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceMappingURL=Viewport.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/Viewport.js\n// module id = 571\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferLine_1 = require(\"./core/buffer/BufferLine\");\nfunction applyWindowsMode(terminal) {\n    return terminal.onLineFeed(function () {\n        var line = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y - 1);\n        var lastChar = line.get(terminal.cols - 1);\n        var nextLine = terminal.buffer.lines.get(terminal.buffer.ybase + terminal.buffer.y);\n        nextLine.isWrapped = (lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.NULL_CELL_CODE && lastChar[BufferLine_1.CHAR_DATA_CODE_INDEX] !== BufferLine_1.WHITESPACE_CELL_CODE);\n    });\n}\nexports.applyWindowsMode = applyWindowsMode;\n//# sourceMappingURL=WindowsMode.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/WindowsMode.js\n// module id = 572\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction proposeGeometry(term) {\n    if (!term.element.parentElement) {\n        return null;\n    }\n    var parentElementStyle = window.getComputedStyle(term.element.parentElement);\n    var parentElementHeight = parseInt(parentElementStyle.getPropertyValue('height'));\n    var parentElementWidth = Math.max(0, parseInt(parentElementStyle.getPropertyValue('width')));\n    var elementStyle = window.getComputedStyle(term.element);\n    var elementPadding = {\n        top: parseInt(elementStyle.getPropertyValue('padding-top')),\n        bottom: parseInt(elementStyle.getPropertyValue('padding-bottom')),\n        right: parseInt(elementStyle.getPropertyValue('padding-right')),\n        left: parseInt(elementStyle.getPropertyValue('padding-left'))\n    };\n    var elementPaddingVer = elementPadding.top + elementPadding.bottom;\n    var elementPaddingHor = elementPadding.right + elementPadding.left;\n    var availableHeight = parentElementHeight - elementPaddingVer;\n    var availableWidth = parentElementWidth - elementPaddingHor - term._core.viewport.scrollBarWidth;\n    var geometry = {\n        cols: Math.floor(availableWidth / term._core._renderCoordinator.dimensions.actualCellWidth),\n        rows: Math.floor(availableHeight / term._core._renderCoordinator.dimensions.actualCellHeight)\n    };\n    return geometry;\n}\nexports.proposeGeometry = proposeGeometry;\nfunction fit(term) {\n    var geometry = proposeGeometry(term);\n    if (geometry) {\n        if (term.rows !== geometry.rows || term.cols !== geometry.cols) {\n            term._core._renderCoordinator.clear();\n            term.resize(geometry.cols, geometry.rows);\n        }\n    }\n}\nexports.fit = fit;\nfunction apply(terminalConstructor) {\n    terminalConstructor.prototype.proposeGeometry = function () {\n        return proposeGeometry(this);\n    };\n    terminalConstructor.prototype.fit = function () {\n        fit(this);\n    };\n}\nexports.apply = apply;\n//# sourceMappingURL=fit.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/addons/fit/fit.js\n// module id = 573\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"./EventEmitter2\");\nvar CircularList = (function () {\n    function CircularList(_maxLength) {\n        this._maxLength = _maxLength;\n        this.onDeleteEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onInsertEmitter = new EventEmitter2_1.EventEmitter2();\n        this.onTrimEmitter = new EventEmitter2_1.EventEmitter2();\n        this._array = new Array(this._maxLength);\n        this._startIndex = 0;\n        this._length = 0;\n    }\n    Object.defineProperty(CircularList.prototype, \"onDelete\", {\n        get: function () { return this.onDeleteEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onInsert\", {\n        get: function () { return this.onInsertEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"onTrim\", {\n        get: function () { return this.onTrimEmitter.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.onTrimEmitter.fire(1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.onTrimEmitter.fire(1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        for (var i = this._length - 1; i >= start; i--) {\n            this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n        }\n        for (var i = 0; i < items.length; i++) {\n            this._array[this._getCyclicIndex(start + i)] = items[i];\n        }\n        if (this._length + items.length > this._maxLength) {\n            var countToTrim = (this._length + items.length) - this._maxLength;\n            this._startIndex += countToTrim;\n            this._length = this._maxLength;\n            this.onTrimEmitter.fire(countToTrim);\n        }\n        else {\n            this._length += items.length;\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.onTrimEmitter.fire(count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.onTrimEmitter.fire(1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}());\nexports.CircularList = CircularList;\n//# sourceMappingURL=CircularList.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/CircularList.js\n// module id = 574\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction clone(val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : clone(val[key], depth - 1);\n    }\n    return clonedObject;\n}\nexports.clone = clone;\n//# sourceMappingURL=Clone.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/Clone.js\n// module id = 575\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = require(\"./Lifecycle\");\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.emitMayRemoveListeners = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n            i -= length - obj.length;\n            length = obj.length;\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceMappingURL=EventEmitter.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/common/EventEmitter.js\n// module id = 576\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction reflowLargerGetLinesToRemove(lines, oldCols, newCols, bufferAbsoluteY, nullCell) {\n    var toRemove = [];\n    for (var y = 0; y < lines.length - 1; y++) {\n        var i = y;\n        var nextLine = lines.get(++i);\n        if (!nextLine.isWrapped) {\n            continue;\n        }\n        var wrappedLines = [lines.get(y)];\n        while (i < lines.length && nextLine.isWrapped) {\n            wrappedLines.push(nextLine);\n            nextLine = lines.get(++i);\n        }\n        if (bufferAbsoluteY >= y && bufferAbsoluteY < i) {\n            y += wrappedLines.length - 1;\n            continue;\n        }\n        var destLineIndex = 0;\n        var destCol = getWrappedLineTrimmedLength(wrappedLines, destLineIndex, oldCols);\n        var srcLineIndex = 1;\n        var srcCol = 0;\n        while (srcLineIndex < wrappedLines.length) {\n            var srcTrimmedTineLength = getWrappedLineTrimmedLength(wrappedLines, srcLineIndex, oldCols);\n            var srcRemainingCells = srcTrimmedTineLength - srcCol;\n            var destRemainingCells = newCols - destCol;\n            var cellsToCopy = Math.min(srcRemainingCells, destRemainingCells);\n            wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[srcLineIndex], srcCol, destCol, cellsToCopy, false);\n            destCol += cellsToCopy;\n            if (destCol === newCols) {\n                destLineIndex++;\n                destCol = 0;\n            }\n            srcCol += cellsToCopy;\n            if (srcCol === srcTrimmedTineLength) {\n                srcLineIndex++;\n                srcCol = 0;\n            }\n            if (destCol === 0 && destLineIndex !== 0) {\n                if (wrappedLines[destLineIndex - 1].getWidth(newCols - 1) === 2) {\n                    wrappedLines[destLineIndex].copyCellsFrom(wrappedLines[destLineIndex - 1], newCols - 1, destCol++, 1, false);\n                    wrappedLines[destLineIndex - 1].setCell(newCols - 1, nullCell);\n                }\n            }\n        }\n        wrappedLines[destLineIndex].replaceCells(destCol, newCols, nullCell);\n        var countToRemove = 0;\n        for (var i_1 = wrappedLines.length - 1; i_1 > 0; i_1--) {\n            if (i_1 > destLineIndex || wrappedLines[i_1].getTrimmedLength() === 0) {\n                countToRemove++;\n            }\n            else {\n                break;\n            }\n        }\n        if (countToRemove > 0) {\n            toRemove.push(y + wrappedLines.length - countToRemove);\n            toRemove.push(countToRemove);\n        }\n        y += wrappedLines.length - 1;\n    }\n    return toRemove;\n}\nexports.reflowLargerGetLinesToRemove = reflowLargerGetLinesToRemove;\nfunction reflowLargerCreateNewLayout(lines, toRemove) {\n    var layout = [];\n    var nextToRemoveIndex = 0;\n    var nextToRemoveStart = toRemove[nextToRemoveIndex];\n    var countRemovedSoFar = 0;\n    for (var i = 0; i < lines.length; i++) {\n        if (nextToRemoveStart === i) {\n            var countToRemove = toRemove[++nextToRemoveIndex];\n            lines.onDeleteEmitter.fire({\n                index: i - countRemovedSoFar,\n                amount: countToRemove\n            });\n            i += countToRemove - 1;\n            countRemovedSoFar += countToRemove;\n            nextToRemoveStart = toRemove[++nextToRemoveIndex];\n        }\n        else {\n            layout.push(i);\n        }\n    }\n    return {\n        layout: layout,\n        countRemoved: countRemovedSoFar\n    };\n}\nexports.reflowLargerCreateNewLayout = reflowLargerCreateNewLayout;\nfunction reflowLargerApplyNewLayout(lines, newLayout) {\n    var newLayoutLines = [];\n    for (var i = 0; i < newLayout.length; i++) {\n        newLayoutLines.push(lines.get(newLayout[i]));\n    }\n    for (var i = 0; i < newLayoutLines.length; i++) {\n        lines.set(i, newLayoutLines[i]);\n    }\n    lines.length = newLayout.length;\n}\nexports.reflowLargerApplyNewLayout = reflowLargerApplyNewLayout;\nfunction reflowSmallerGetNewLineLengths(wrappedLines, oldCols, newCols) {\n    var newLineLengths = [];\n    var cellsNeeded = wrappedLines.map(function (l, i) { return getWrappedLineTrimmedLength(wrappedLines, i, oldCols); }).reduce(function (p, c) { return p + c; });\n    var srcCol = 0;\n    var srcLine = 0;\n    var cellsAvailable = 0;\n    while (cellsAvailable < cellsNeeded) {\n        if (cellsNeeded - cellsAvailable < newCols) {\n            newLineLengths.push(cellsNeeded - cellsAvailable);\n            break;\n        }\n        srcCol += newCols;\n        var oldTrimmedLength = getWrappedLineTrimmedLength(wrappedLines, srcLine, oldCols);\n        if (srcCol > oldTrimmedLength) {\n            srcCol -= oldTrimmedLength;\n            srcLine++;\n        }\n        var endsWithWide = wrappedLines[srcLine].getWidth(srcCol - 1) === 2;\n        if (endsWithWide) {\n            srcCol--;\n        }\n        var lineLength = endsWithWide ? newCols - 1 : newCols;\n        newLineLengths.push(lineLength);\n        cellsAvailable += lineLength;\n    }\n    return newLineLengths;\n}\nexports.reflowSmallerGetNewLineLengths = reflowSmallerGetNewLineLengths;\nfunction getWrappedLineTrimmedLength(lines, i, cols) {\n    if (i === lines.length - 1) {\n        return lines[i].getTrimmedLength();\n    }\n    var endsInNull = !(lines[i].hasContent(cols - 1)) && lines[i].getWidth(cols - 1) === 1;\n    var followingLineStartsWithWide = lines[i + 1].getWidth(0) === 2;\n    if (endsInNull && followingLineStartsWithWide) {\n        return cols - 1;\n    }\n    return cols;\n}\nexports.getWrappedLineTrimmedLength = getWrappedLineTrimmedLength;\n//# sourceMappingURL=BufferReflow.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/buffer/BufferReflow.js\n// module id = 577\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter2_1 = require(\"../../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        _this._onDispose = new EventEmitter2_1.EventEmitter2();\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Marker.prototype, \"onDispose\", {\n        get: function () { return this._onDispose.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this._onDispose.fire();\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(Lifecycle_1.Disposable));\nexports.Marker = Marker;\n//# sourceMappingURL=Marker.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/buffer/Marker.js\n// module id = 578\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': '£'\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '£',\n    '@': '¾',\n    '[': 'ij',\n    '\\\\': '½',\n    ']': '|',\n    '{': '¨',\n    '|': 'f',\n    '}': '¼',\n    '~': '´'\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['R'] = {\n    '#': '£',\n    '@': 'à',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': '§',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': '¨'\n};\nexports.CHARSETS['Q'] = {\n    '@': 'à',\n    '[': 'â',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '`': 'ô',\n    '{': 'é',\n    '|': 'ù',\n    '}': 'è',\n    '~': 'û'\n};\nexports.CHARSETS['K'] = {\n    '@': '§',\n    '[': 'Ä',\n    '\\\\': 'Ö',\n    ']': 'Ü',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'ß'\n};\nexports.CHARSETS['Y'] = {\n    '#': '£',\n    '@': '§',\n    '[': '°',\n    '\\\\': 'ç',\n    ']': 'é',\n    '`': 'ù',\n    '{': 'à',\n    '|': 'ò',\n    '}': 'è',\n    '~': 'ì'\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': 'Ä',\n        '[': 'Æ',\n        '\\\\': 'Ø',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'ä',\n        '{': 'æ',\n        '|': 'ø',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['Z'] = {\n    '#': '£',\n    '@': '§',\n    '[': '¡',\n    '\\\\': 'Ñ',\n    ']': '¿',\n    '{': '°',\n    '|': 'ñ',\n    '}': 'ç'\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': 'É',\n        '[': 'Ä',\n        '\\\\': 'Ö',\n        ']': 'Å',\n        '^': 'Ü',\n        '`': 'é',\n        '{': 'ä',\n        '|': 'ö',\n        '}': 'å',\n        '~': 'ü'\n    };\nexports.CHARSETS['='] = {\n    '#': 'ù',\n    '@': 'à',\n    '[': 'é',\n    '\\\\': 'ç',\n    ']': 'ê',\n    '^': 'î',\n    '_': 'è',\n    '`': 'ô',\n    '{': 'ä',\n    '|': 'ö',\n    '}': 'ü',\n    '~': 'û'\n};\n//# sourceMappingURL=Charsets.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/data/Charsets.js\n// module id = 579\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../../common/data/EscapeSequences\");\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            else if (ev.key && !ev.ctrlKey && !ev.altKey && !ev.metaKey && ev.keyCode >= 48 && ev.key.length === 1) {\n                result.key = ev.key;\n            }\n            else if (ev.key && ev.ctrlKey) {\n                if (ev.key === '_') {\n                    result.key = EscapeSequences_1.C0.US;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceMappingURL=Keyboard.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/core/input/Keyboard.js\n// module id = 580\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = require(\"../common/data/EscapeSequences\");\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return '';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence(\"D\"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === \"C\").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === \"A\" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return \"C\";\n        }\n        return \"D\";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return \"A\";\n        }\n        return \"B\";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = '';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? 'O' : '[';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = '';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceMappingURL=AltClickHandler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/handlers/AltClickHandler.js\n// module id = 581\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AddonManager = (function () {\n    function AddonManager() {\n        this._addons = [];\n    }\n    AddonManager.prototype.dispose = function () {\n        for (var i = this._addons.length - 1; i >= 0; i--) {\n            this._addons[i].instance.dispose();\n        }\n    };\n    AddonManager.prototype.loadAddon = function (terminal, instance) {\n        var _this = this;\n        var loadedAddon = {\n            instance: instance,\n            dispose: instance.dispose,\n            isDisposed: false\n        };\n        this._addons.push(loadedAddon);\n        instance.dispose = function () { return _this._wrappedAddonDispose(loadedAddon); };\n        instance.activate(terminal);\n    };\n    AddonManager.prototype._wrappedAddonDispose = function (loadedAddon) {\n        if (loadedAddon.isDisposed) {\n            return;\n        }\n        var index = -1;\n        for (var i = 0; i < this._addons.length; i++) {\n            if (this._addons[i] === loadedAddon) {\n                index = i;\n                break;\n            }\n        }\n        if (index === -1) {\n            throw new Error('Could not dispose an addon that has not been loaded');\n        }\n        loadedAddon.isDisposed = true;\n        loadedAddon.dispose.apply(loadedAddon.instance);\n        this._addons.splice(index, 1);\n    };\n    return AddonManager;\n}());\nexports.AddonManager = AddonManager;\n//# sourceMappingURL=AddonManager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/public/AddonManager.js\n// module id = 582\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Terminal_1 = require(\"../Terminal\");\nvar Strings = require(\"../Strings\");\nvar AddonManager_1 = require(\"./AddonManager\");\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n        this._addonManager = new AddonManager_1.AddonManager();\n    }\n    Object.defineProperty(Terminal.prototype, \"onCursorMove\", {\n        get: function () { return this._core.onCursorMove; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onLineFeed\", {\n        get: function () { return this._core.onLineFeed; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onSelectionChange\", {\n        get: function () { return this._core.onSelectionChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onData\", {\n        get: function () { return this._core.onData; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onTitleChange\", {\n        get: function () { return this._core.onTitleChange; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onScroll\", {\n        get: function () { return this._core.onScroll; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onKey\", {\n        get: function () { return this._core.onKey; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onRender\", {\n        get: function () { return this._core.onRender; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"onResize\", {\n        get: function () { return this._core.onResize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"element\", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"textarea\", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"rows\", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"cols\", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () { return new BufferApiView(this._core.buffer); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.addCsiHandler = function (flag, callback) {\n        return this._core.addCsiHandler(flag, callback);\n    };\n    Terminal.prototype.addOscHandler = function (ident, callback) {\n        return this._core.addOscHandler(ident, callback);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.select = function (column, row, length) {\n        this._core.select(column, row, length);\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.getSelectionPosition = function () {\n        return this._core.getSelectionPosition();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._addonManager.dispose();\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.writeUtf8 = function (data) {\n        this._core.writeUtf8(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Terminal.prototype.loadAddon = function (addon) {\n        return this._addonManager.loadAddon(this, addon);\n    };\n    Object.defineProperty(Terminal, \"strings\", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\nvar BufferApiView = (function () {\n    function BufferApiView(_buffer) {\n        this._buffer = _buffer;\n    }\n    Object.defineProperty(BufferApiView.prototype, \"cursorY\", {\n        get: function () { return this._buffer.y; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"cursorX\", {\n        get: function () { return this._buffer.x; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"viewportY\", {\n        get: function () { return this._buffer.ydisp; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"baseY\", {\n        get: function () { return this._buffer.ybase; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferApiView.prototype, \"length\", {\n        get: function () { return this._buffer.lines.length; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferApiView.prototype.getLine = function (y) {\n        var line = this._buffer.lines.get(y);\n        if (!line) {\n            return undefined;\n        }\n        return new BufferLineApiView(line);\n    };\n    return BufferApiView;\n}());\nvar BufferLineApiView = (function () {\n    function BufferLineApiView(_line) {\n        this._line = _line;\n    }\n    Object.defineProperty(BufferLineApiView.prototype, \"isWrapped\", {\n        get: function () { return this._line.isWrapped; },\n        enumerable: true,\n        configurable: true\n    });\n    BufferLineApiView.prototype.getCell = function (x) {\n        if (x < 0 || x >= this._line.length) {\n            return undefined;\n        }\n        return new BufferCellApiView(this._line, x);\n    };\n    BufferLineApiView.prototype.translateToString = function (trimRight, startColumn, endColumn) {\n        return this._line.translateToString(trimRight, startColumn, endColumn);\n    };\n    return BufferLineApiView;\n}());\nvar BufferCellApiView = (function () {\n    function BufferCellApiView(_line, _x) {\n        this._line = _line;\n        this._x = _x;\n    }\n    Object.defineProperty(BufferCellApiView.prototype, \"char\", {\n        get: function () { return this._line.getString(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferCellApiView.prototype, \"width\", {\n        get: function () { return this._line.getWidth(this._x); },\n        enumerable: true,\n        configurable: true\n    });\n    return BufferCellApiView;\n}());\n//# sourceMappingURL=Terminal.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/public/Terminal.js\n// module id = 583\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._cell = new BufferLine_1.CellData();\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        terminal.buffer.lines.get(cursorY).loadCell(terminal.buffer.x, this._cell);\n        if (this._cell.content === undefined) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = this._cell.getWidth();\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === this._cell.getWidth()) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, this._cell);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = this._cell.getWidth();\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, cell.getWidth(), 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, cell, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, cell) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, cell.getWidth(), 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceMappingURL=CursorRenderLayer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/CursorRenderLayer.js\n// module id = 584\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceMappingURL=GridCache.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/GridCache.js\n// module id = 585\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar Types_1 = require(\"./atlas/Types\");\nvar CharAtlasUtils_1 = require(\"./atlas/CharAtlasUtils\");\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, 'link', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceMappingURL=LinkRenderLayer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/LinkRenderLayer.js\n// module id = 586\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RenderDebouncer_1 = require(\"../ui/RenderDebouncer\");\nvar EventEmitter2_1 = require(\"../common/EventEmitter2\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar ScreenDprMonitor_1 = require(\"../ui/ScreenDprMonitor\");\nvar Lifecycle_2 = require(\"../ui/Lifecycle\");\nvar RenderCoordinator = (function (_super) {\n    __extends(RenderCoordinator, _super);\n    function RenderCoordinator(_renderer, _rowCount, screenElement) {\n        var _this = _super.call(this) || this;\n        _this._renderer = _renderer;\n        _this._rowCount = _rowCount;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        _this._canvasWidth = 0;\n        _this._canvasHeight = 0;\n        _this._onDimensionsChange = new EventEmitter2_1.EventEmitter2();\n        _this._onRender = new EventEmitter2_1.EventEmitter2();\n        _this._onRefreshRequest = new EventEmitter2_1.EventEmitter2();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(function (start, end) { return _this._renderRows(start, end); });\n        _this.register(_this._renderDebouncer);\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this._renderer.onDevicePixelRatioChange(); });\n        _this.register(_this._screenDprMonitor);\n        _this.register(Lifecycle_2.addDisposableDomListener(window, 'resize', function () { return _this._renderer.onDevicePixelRatioChange(); }));\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this._onIntersectionChange(e[e.length - 1]); }, { threshold: 0 });\n            observer_1.observe(screenElement);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Object.defineProperty(RenderCoordinator.prototype, \"onDimensionsChange\", {\n        get: function () { return this._onDimensionsChange.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRender\", {\n        get: function () { return this._onRender.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"onRefreshRequest\", {\n        get: function () { return this._onRefreshRequest.event; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RenderCoordinator.prototype, \"dimensions\", {\n        get: function () { return this._renderer.dimensions; },\n        enumerable: true,\n        configurable: true\n    });\n    RenderCoordinator.prototype._onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this.refreshRows(0, this._rowCount - 1);\n            this._needsFullRefresh = false;\n        }\n    };\n    RenderCoordinator.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end, this._rowCount);\n    };\n    RenderCoordinator.prototype._renderRows = function (start, end) {\n        this._renderer.renderRows(start, end);\n        this._onRender.fire({ start: start, end: end });\n    };\n    RenderCoordinator.prototype.resize = function (cols, rows) {\n        this._rowCount = rows;\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype.changeOptions = function () {\n        this._renderer.onOptionsChanged();\n        this._fireOnCanvasResize();\n    };\n    RenderCoordinator.prototype._fireOnCanvasResize = function () {\n        if (this._renderer.dimensions.canvasWidth === this._canvasWidth && this._renderer.dimensions.canvasHeight === this._canvasHeight) {\n            return;\n        }\n        this._onDimensionsChange.fire(this._renderer.dimensions);\n    };\n    RenderCoordinator.prototype.setRenderer = function (renderer) {\n        this._renderer.dispose();\n        this._renderer = renderer;\n    };\n    RenderCoordinator.prototype._fullRefresh = function () {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this.refreshRows(0, this._rowCount);\n        }\n    };\n    RenderCoordinator.prototype.setColors = function (colors) {\n        this._renderer.setColors(colors);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onDevicePixelRatioChange = function () {\n        this._renderer.onDevicePixelRatioChange();\n    };\n    RenderCoordinator.prototype.onResize = function (cols, rows) {\n        this._renderer.onResize(cols, rows);\n        this._fullRefresh();\n    };\n    RenderCoordinator.prototype.onCharSizeChanged = function () {\n        this._renderer.onCharSizeChanged();\n    };\n    RenderCoordinator.prototype.onBlur = function () {\n        this._renderer.onBlur();\n    };\n    RenderCoordinator.prototype.onFocus = function () {\n        this._renderer.onFocus();\n    };\n    RenderCoordinator.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        this._renderer.onSelectionChanged(start, end, columnSelectMode);\n    };\n    RenderCoordinator.prototype.onCursorMove = function () {\n        this._renderer.onCursorMove();\n    };\n    RenderCoordinator.prototype.onOptionsChanged = function () {\n        this._renderer.onOptionsChanged();\n    };\n    RenderCoordinator.prototype.clear = function () {\n        this._renderer.clear();\n    };\n    RenderCoordinator.prototype.registerCharacterJoiner = function (handler) {\n        return this._renderer.registerCharacterJoiner(handler);\n    };\n    RenderCoordinator.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._renderer.deregisterCharacterJoiner(joinerId);\n    };\n    return RenderCoordinator;\n}(Lifecycle_1.Disposable));\nexports.RenderCoordinator = RenderCoordinator;\n//# sourceMappingURL=RenderCoordinator.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/RenderCoordinator.js\n// module id = 587\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = require(\"./TextRenderLayer\");\nvar SelectionRenderLayer_1 = require(\"./SelectionRenderLayer\");\nvar CursorRenderLayer_1 = require(\"./CursorRenderLayer\");\nvar LinkRenderLayer_1 = require(\"./LinkRenderLayer\");\nvar CharacterJoinerRegistry_1 = require(\"../renderer/CharacterJoinerRegistry\");\nvar Lifecycle_1 = require(\"../common/Lifecycle\");\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this._colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this._colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this._colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this._colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onDevicePixelRatioChange = function () {\n        if (this._devicePixelRatio !== window.devicePixelRatio) {\n            this._devicePixelRatio = window.devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setColors = function (colors) {\n        var _this = this;\n        this._colors = colors;\n        this._renderLayers.forEach(function (l) {\n            l.setColors(_this._terminal, _this._colors);\n            l.reset(_this._terminal);\n        });\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        this._renderLayers.forEach(function (l) { return operation(l); });\n    };\n    Renderer.prototype.renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(Lifecycle_1.Disposable));\nexports.Renderer = Renderer;\n//# sourceMappingURL=Renderer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/Renderer.js\n// module id = 588\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            this._clearState();\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceMappingURL=SelectionRenderLayer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/SelectionRenderLayer.js\n// module id = 589\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridCache_1 = require(\"./GridCache\");\nvar BaseRenderLayer_1 = require(\"./BaseRenderLayer\");\nvar BufferLine_1 = require(\"../core/buffer/BufferLine\");\nvar CharacterJoinerRegistry_1 = require(\"./CharacterJoinerRegistry\");\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._workCell = new BufferLine_1.CellData();\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                line.loadCell(x, this._workCell);\n                var cell = this._workCell;\n                var isJoined = false;\n                var lastCharX = x;\n                if (cell.getWidth() === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    cell = new CharacterJoinerRegistry_1.JoinedCellData(this._workCell, line.translateToString(true, range[0], range[1]), range[1] - range[0]);\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(cell)) {\n                    if (lastCharX < line.length - 1 && line.getCodePoint(lastCharX + 1) === BufferLine_1.NULL_CELL_CODE) {\n                        cell.content &= ~12582912;\n                        cell.content |= 2 << 22;\n                    }\n                }\n                callback(cell, x, y);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (cell, x, y) {\n            var nextFillStyle = null;\n            if (cell.isInverse()) {\n                if (cell.isFgDefault()) {\n                    nextFillStyle = _this._colors.foreground.css;\n                }\n                else if (cell.isFgRGB()) {\n                    nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                }\n                else {\n                    nextFillStyle = _this._colors.ansi[cell.getFgColor()].css;\n                }\n            }\n            else if (cell.isBgRGB()) {\n                nextFillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n            }\n            else if (cell.isBgPalette()) {\n                nextFillStyle = _this._colors.ansi[cell.getBgColor()].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (cell, x, y) {\n            if (cell.isInvisible()) {\n                return;\n            }\n            _this.drawChars(terminal, cell, x, y);\n            if (cell.isUnderline()) {\n                _this._ctx.save();\n                if (cell.isInverse()) {\n                    if (cell.isBgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.background.css;\n                    }\n                    else if (cell.isBgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getBgColor()).join(',') + \")\";\n                    }\n                    else {\n                        _this._ctx.fillStyle = _this._colors.ansi[cell.getBgColor()].css;\n                    }\n                }\n                else {\n                    if (cell.isFgDefault()) {\n                        _this._ctx.fillStyle = _this._colors.foreground.css;\n                    }\n                    else if (cell.isFgRGB()) {\n                        _this._ctx.fillStyle = \"rgb(\" + BufferLine_1.AttributeData.toColorRGB(cell.getFgColor()).join(',') + \")\";\n                    }\n                    else {\n                        var fg = cell.getFgColor();\n                        if (terminal.options.drawBoldTextInBrightColors && cell.isBold() && fg < 8) {\n                            fg += 8;\n                        }\n                        _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                    }\n                }\n                _this.fillBottomLineAtCells(x, y, cell.getWidth());\n                _this._ctx.restore();\n            }\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (cell) {\n        if (cell.getWidth() !== 1) {\n            return false;\n        }\n        if (cell.getCode() < 256) {\n            return false;\n        }\n        var chars = cell.getChars();\n        if (this._characterOverlapCache.hasOwnProperty(chars)) {\n            return this._characterOverlapCache[chars];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(chars).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[chars] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceMappingURL=TextRenderLayer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/TextRenderLayer.js\n// module id = 590\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar ColorManager_1 = require(\"../../ui/ColorManager\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar LRUMap_1 = require(\"./LRUMap\");\nvar Platform_1 = require(\"../../common/Platform\");\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'middle';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, this._config.scaledCharHeight / 2);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceMappingURL=DynamicCharAtlas.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/DynamicCharAtlas.js\n// module id = 591\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceMappingURL=LRUMap.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/LRUMap.js\n// module id = 592\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceMappingURL=NoneCharAtlas.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/NoneCharAtlas.js\n// module id = 593\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"./Types\");\nvar CharAtlasGenerator_1 = require(\"./CharAtlasGenerator\");\nvar BaseCharAtlas_1 = require(\"./BaseCharAtlas\");\nvar CharAtlasUtils_1 = require(\"./CharAtlasUtils\");\nvar Types_2 = require(\"../../common/Types\");\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_2.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_2.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_2.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceMappingURL=StaticCharAtlas.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/atlas/StaticCharAtlas.js\n// module id = 594\n// module chunks = 2","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DomRendererRowFactory_1 = require(\"./DomRendererRowFactory\");\nvar Types_1 = require(\"../atlas/Types\");\nvar Lifecycle_1 = require(\"../../common/Lifecycle\");\nvar TERMINAL_CLASS_PREFIX = 'xterm-dom-renderer-owner-';\nvar ROW_CONTAINER_CLASS = 'xterm-rows';\nvar FG_CLASS_PREFIX = 'xterm-fg-';\nvar BG_CLASS_PREFIX = 'xterm-bg-';\nvar FOCUS_CLASS = 'xterm-focus';\nvar SELECTION_CLASS = 'xterm-selection';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, _colors) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._colors = _colors;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = 'normal';\n        _this._rowContainer.setAttribute('aria-hidden', 'true');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement('div');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute('aria-hidden', 'true');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._injectCss();\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(_terminal.options, document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.onLinkHover(function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.onLinkLeave(function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = this._terminal.charMeasure.width * window.devicePixelRatio;\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + \"px\";\n            element.style.height = _this.dimensions.actualCellHeight + \"px\";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + \"px\";\n            element.style.overflow = 'hidden';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" span {\" +\n            \" display: inline-block;\" +\n            \" height: 100%;\" +\n            \" vertical-align: top;\" +\n            (\" width: \" + this.dimensions.actualCellWidth + \"px\") +\n            \"}\";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n    };\n    DomRenderer.prototype.setColors = function (colors) {\n        this._colors = colors;\n        this._injectCss();\n    };\n    DomRenderer.prototype._injectCss = function () {\n        var _this = this;\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement('style');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \" {\" +\n            (\" color: \" + this._colors.foreground.css + \";\") +\n            (\" background-color: \" + this._colors.background.css + \";\") +\n            (\" font-family: \" + this._terminal.options.fontFamily + \";\") +\n            (\" font-size: \" + this._terminal.options.fontSize + \"px;\") +\n            \"}\";\n        styles +=\n            this._terminalSelector + \" span:not(.\" + DomRendererRowFactory_1.BOLD_CLASS + \") {\" +\n                (\" font-weight: \" + this._terminal.options.fontWeight + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.BOLD_CLASS + \" {\") +\n                (\" font-weight: \" + this._terminal.options.fontWeightBold + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" span.\" + DomRendererRowFactory_1.ITALIC_CLASS + \" {\") +\n                \" font-style: italic;\" +\n                \"}\";\n        styles +=\n            \"@keyframes blink {\" +\n                \" 0% { opacity: 1.0; }\" +\n                \" 50% { opacity: 0.0; }\" +\n                \" 100% { opacity: 1.0; }\" +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \":not(.\" + FOCUS_CLASS + \") .\" + DomRendererRowFactory_1.CURSOR_CLASS + \" {\" +\n                (\" outline: 1px solid \" + this._colors.cursor.css + \";\") +\n                \" outline-offset: -1px;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_BLINK_CLASS + \" {\") +\n                \" animation: blink 1s step-end infinite;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + \" {\") +\n                (\" background-color: \" + this._colors.cursor.css + \";\") +\n                (\" color: \" + this._colors.cursorAccent.css + \";\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + \" {\") +\n                (\" box-shadow: 1px 0 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\" +\n                (this._terminalSelector + \" .\" + ROW_CONTAINER_CLASS + \".\" + FOCUS_CLASS + \" .\" + DomRendererRowFactory_1.CURSOR_CLASS + \".\" + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + \" {\") +\n                (\" box-shadow: 0 -1px 0 \" + this._colors.cursor.css + \" inset;\") +\n                \"}\";\n        styles +=\n            this._terminalSelector + \" .\" + SELECTION_CLASS + \" {\" +\n                \" position: absolute;\" +\n                \" top: 0;\" +\n                \" left: 0;\" +\n                \" z-index: 1;\" +\n                \" pointer-events: none;\" +\n                \"}\" +\n                (this._terminalSelector + \" .\" + SELECTION_CLASS + \" div {\") +\n                \" position: absolute;\" +\n                (\" background-color: \" + this._colors.selection.css + \";\") +\n                \"}\";\n        this._colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + \" .\" + FG_CLASS_PREFIX + i + \" { color: \" + c.css + \"; }\" +\n                    (_this._terminalSelector + \" .\" + BG_CLASS_PREFIX + i + \" { background-color: \" + c.css + \"; }\");\n        });\n        styles +=\n            this._terminalSelector + \" .\" + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { color: \" + this._colors.background.css + \"; }\" +\n                (this._terminalSelector + \" .\" + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + \" { background-color: \" + this._colors.foreground.css + \"; }\");\n        this._themeStyleElement.innerHTML = styles;\n    };\n    DomRenderer.prototype.onDevicePixelRatioChange = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement('div');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement('div');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + \"px\";\n        element.style.top = row * this.dimensions.actualCellHeight + \"px\";\n        element.style.left = colStart * this.dimensions.actualCellWidth + \"px\";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + \"px\";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this._injectCss();\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = ''; });\n    };\n    DomRenderer.prototype.renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        var cursorBlink = this._terminal.options.cursorBlink;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = '';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, cursorBlink, this.dimensions.actualCellWidth, terminal.cols));\n        }\n    };\n    Object.defineProperty(DomRenderer.prototype, \"_terminalSelector\", {\n        get: function () {\n            return \".\" + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            if (span) {\n                span.style.textDecoration = enabled ? 'underline' : 'none';\n            }\n            if (++x >= cols) {\n                x = 0;\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(Lifecycle_1.Disposable));\nexports.DomRenderer = DomRenderer;\n//# sourceMappingURL=DomRenderer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/dom/DomRenderer.js\n// module id = 595\n// module chunks = 2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = require(\"../atlas/Types\");\nvar BufferLine_1 = require(\"../../core/buffer/BufferLine\");\nexports.BOLD_CLASS = 'xterm-bold';\nexports.DIM_CLASS = 'xterm-dim';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.UNDERLINE_CLASS = 'xterm-underline';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_BLINK_CLASS = 'xterm-cursor-blink';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_terminalOptions, _document) {\n        this._terminalOptions = _terminalOptions;\n        this._document = _document;\n        this._workCell = new BufferLine_1.CellData();\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cursorBlink, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            if (lineData.loadCell(x, this._workCell).getCode() !== BufferLine_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            lineData.loadCell(x, this._workCell);\n            var width = this._workCell.getWidth();\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                if (cursorBlink) {\n                    charElement.classList.add(exports.CURSOR_BLINK_CLASS);\n                }\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (this._workCell.isBold() && this._terminalOptions.enableBold) {\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (this._workCell.isItalic()) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            if (this._workCell.isDim()) {\n                charElement.classList.add(exports.DIM_CLASS);\n            }\n            if (this._workCell.isUnderline()) {\n                charElement.classList.add(exports.UNDERLINE_CLASS);\n            }\n            charElement.textContent = this._workCell.getChars() || BufferLine_1.WHITESPACE_CELL_CHAR;\n            var swapColor = this._workCell.isInverse();\n            if (this._workCell.isFgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? 'background-' : '') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getFgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isFgPalette()) {\n                var fg = this._workCell.getFgColor();\n                if (this._workCell.isBold() && fg < 8 && !swapColor &&\n                    this._terminalOptions.enableBold && this._terminalOptions.drawBoldTextInBrightColors) {\n                    fg += 8;\n                }\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'b' : 'f') + \"g-\" + fg);\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-bg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            if (this._workCell.isBgRGB()) {\n                var style = charElement.getAttribute('style') || '';\n                style += (swapColor ? '' : 'background-') + \"color:rgb(\" + (BufferLine_1.AttributeData.toColorRGB(this._workCell.getBgColor())).join(',') + \");\";\n                charElement.setAttribute('style', style);\n            }\n            else if (this._workCell.isBgPalette()) {\n                charElement.classList.add(\"xterm-\" + (swapColor ? 'f' : 'b') + \"g-\" + this._workCell.getBgColor());\n            }\n            else if (swapColor) {\n                charElement.classList.add(\"xterm-fg-\" + Types_1.INVERTED_DEFAULT_COLOR);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceMappingURL=DomRendererRowFactory.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xterm/lib/renderer/dom/DomRendererRowFactory.js\n// module id = 596\n// module chunks = 2"],"sourceRoot":""}